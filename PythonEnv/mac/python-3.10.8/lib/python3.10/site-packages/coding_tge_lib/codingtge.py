from enum import Enum
from coding_runtime import runtime
from typing import Union


class CodingAnimEnum(Enum):
    Normal = "Normal",
    # 原地踏步
    PlaySurPlace = "PlaySurPlace",
    # 翻跟头
    PlayTumble = "PlayTumble",
    # 讨红包
    PlayRedEnvelope = "PlayRedEnvelope",
    # 疑问
    PlayDoubt = "PlayDoubt",
    # 点头
    PlayNod = "PlayNod",
    # 趴下
    PlayDown = "PlayDown",
    # 坐下
    PlaySit = "PlaySit",
    # 打滚
    PlayRoll = "PlayRoll",
    # 握手
    PlayHandShake = "PlayHandShake",
    # 跳舞
    PlayDance = "PlayDance",
    # 恐惧
    PlayFear = "PlayFear",
    # 高兴
    PlayHappy = "PlayHappy",
    # 刹车
    PlayBrake = "PlayBrake",
    # 追尾巴
    PlayChaseTail = "PlayChaseTail",


foot = 'Foot'
wheel = 'Wheel'


class MaxRobot:
    def action(self, actionName: CodingAnimEnum):
        """ 设置Max机器人神态

        actionName -- step|somersault|redenvelope|query|nod|getdown|sitdown|wallow|shakehands|dance|fear|happy|brake|chase
        """
        runtime.sendRequest('PlayAnimation', [actionName.name])
        pass

    def state(self, stateName: str):
        """ 切换Mx机器人足式/轮式形态

        stateName -- foot:足式形态  wheel:轮式形态
        """
        runtime.sendRequest('SetMotionMode', [stateName])
        pass

    def speed(self, stateName: str, speed: float):
        """ 设置Max机器人速度

        speed -- -10~10
        """
        if (stateName == foot):
            print(runtime)
            runtime.sendRequest('SetRateInFoot', [speed])
        elif (stateName == wheel):
            runtime.sendRequest('SetRateInWheel', [speed])
        pass


class Coding:
    def __init__(self):
        # self.timer = timer()
        pass

    def wait(self, time: float):
        """ 等待

        time -- 等待时间，单位秒
        """
        runtime.sendRequest('Wait', [time])


max = MaxRobot()
coding = Coding()
