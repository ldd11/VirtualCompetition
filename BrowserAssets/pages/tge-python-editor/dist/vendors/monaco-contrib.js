"use strict";(self.webpackChunkmy_webpack_project=self.webpackChunkmy_webpack_project||[]).push([[825],{55973:(e,t,n)=>{n.r(t),n.d(t,{SelectionAnchorSet:()=>C});var r=n(61041),o=n(93649),i=n(11407),a=n(18679),s=n(85963),u=n(25112),c=n(18063),l=n(73589);function f(){f=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:k(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d={};function h(){}function p(){}function v(){}var g={};u(g,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(E([])));m&&m!==t&&n.call(m,i)&&(g=m);var b=v.prototype=h.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==_(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===_(i)?i:String(i)),r)}var o,i}function b(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}var w=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":_(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},S=function(e,t){return function(n,r){t(n,r,e)}},k=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},C=new l.uy("selectionAnchorSet",!1),x=function(){function e(t,n){var r=this;y(this,e),this.editor=t,this.selectionAnchorSetContextKey=C.bindTo(n),this.modelChangeListener=t.onDidChangeModel((function(){return r.selectionAnchorSetContextKey.reset()}))}return b(e,[{key:"setSelectionAnchor",value:function(){var e=this;if(this.editor.hasModel()){var t=this.editor.getPosition();this.editor.changeDecorations((function(n){e.decorationId&&n.removeDecoration(e.decorationId),e.decorationId=n.addDecoration(s.Y.fromPositions(t,t),{description:"selection-anchor",stickiness:1,hoverMessage:(new o.W5).appendText((0,c.NC)("selectionAnchor","Selection Anchor")),className:"selection-anchor"})})),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,r.Z9)((0,c.NC)("anchorSet","Anchor set at {0}:{1}",t.lineNumber,t.column))}}},{key:"goToSelectionAnchor",value:function(){if(this.editor.hasModel()&&this.decorationId){var e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}},{key:"selectFromAnchorToCursor",value:function(){if(this.editor.hasModel()&&this.decorationId){var e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){var t=this.editor.getPosition();this.editor.setSelection(s.Y.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}},{key:"cancelSelectionAnchor",value:function(){var e=this;if(this.decorationId){var t=this.decorationId;this.editor.changeDecorations((function(n){n.removeDecoration(t),e.decorationId=void 0})),this.selectionAnchorSetContextKey.set(!1)}}},{key:"dispose",value:function(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();x.ID="editor.contrib.selectionAnchorController",x=w([S(1,l.i6)],x);var L=function(e){d(n,e);var t=p(n);function n(){return y(this,n),t.call(this,{id:"editor.action.setSelectionAnchor",label:(0,c.NC)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:u.u.editorTextFocus,primary:(0,i.gx)(2089,2080),weight:100}})}return b(n,[{key:"run",value:function(e,t){var n;return k(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(n=x.get(t))||void 0===n||n.setSelectionAnchor();case 1:case"end":return e.stop()}}),e)})))}}]),n}(a.R6),O=function(e){d(n,e);var t=p(n);function n(){return y(this,n),t.call(this,{id:"editor.action.goToSelectionAnchor",label:(0,c.NC)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:C})}return b(n,[{key:"run",value:function(e,t){var n;return k(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(n=x.get(t))||void 0===n||n.goToSelectionAnchor();case 1:case"end":return e.stop()}}),e)})))}}]),n}(a.R6),E=function(e){d(n,e);var t=p(n);function n(){return y(this,n),t.call(this,{id:"editor.action.selectFromAnchorToCursor",label:(0,c.NC)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:C,kbOpts:{kbExpr:u.u.editorTextFocus,primary:(0,i.gx)(2089,2089),weight:100}})}return b(n,[{key:"run",value:function(e,t){var n;return k(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(n=x.get(t))||void 0===n||n.selectFromAnchorToCursor();case 1:case"end":return e.stop()}}),e)})))}}]),n}(a.R6),P=function(e){d(n,e);var t=p(n);function n(){return y(this,n),t.call(this,{id:"editor.action.cancelSelectionAnchor",label:(0,c.NC)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:C,kbOpts:{kbExpr:u.u.editorTextFocus,primary:9,weight:100}})}return b(n,[{key:"run",value:function(e,t){var n;return k(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(n=x.get(t))||void 0===n||n.cancelSelectionAnchor();case 1:case"end":return e.stop()}}),e)})))}}]),n}(a.R6);(0,a._K)(x.ID,x),(0,a.Qr)(L),(0,a.Qr)(O),(0,a.Qr)(E),(0,a.Qr)(P)},17332:(e,t,n)=>{n.r(t),n.d(t,{BracketMatchingController:()=>T});var r=n(95295),o=n(38709),i=n(18679),a=n(51638),s=n(48466),u=n(85963),c=n(25112),l=n(65498),f=n(3817),d=n(78957),h=n(18063),p=n(13171),v=n(41367),g=n(38656);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===y(i)?i:String(i)),r)}var o,i}function k(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var P=(0,v.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},h.NC("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets.")),N=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.call(this,{id:"editor.action.jumpToBracket",label:h.NC("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:c.u.editorTextFocus,primary:3160,weight:100}})}return k(n,[{key:"run",value:function(e,t){var n;null===(n=T.get(t))||void 0===n||n.jumpToBracket()}}]),n}(i.R6),I=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.call(this,{id:"editor.action.selectToBracket",label:h.NC("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}return k(n,[{key:"run",value:function(e,t,n){var r,o=!0;n&&!1===n.selectBrackets&&(o=!1),null===(r=T.get(t))||void 0===r||r.selectToBracket(o)}}]),n}(i.R6),R=k((function e(t,n,r){w(this,e),this.position=t,this.brackets=n,this.options=r})),T=function(e){C(n,e);var t=L(n);function n(e){var o;return w(this,n),(o=t.call(this))._editor=e,o._lastBracketsData=[],o._lastVersionId=0,o._decorations=o._editor.createDecorationsCollection(),o._updateBracketsSoon=o._register(new r.pY((function(){return o._updateBrackets()}),50)),o._matchBrackets=o._editor.getOption(66),o._updateBracketsSoon.schedule(),o._register(e.onDidChangeCursorPosition((function(e){"never"!==o._matchBrackets&&o._updateBracketsSoon.schedule()}))),o._register(e.onDidChangeModelContent((function(e){o._updateBracketsSoon.schedule()}))),o._register(e.onDidChangeModel((function(e){o._lastBracketsData=[],o._updateBracketsSoon.schedule()}))),o._register(e.onDidChangeModelLanguageConfiguration((function(e){o._lastBracketsData=[],o._updateBracketsSoon.schedule()}))),o._register(e.onDidChangeConfiguration((function(e){e.hasChanged(66)&&(o._matchBrackets=o._editor.getOption(66),o._decorations.clear(),o._lastBracketsData=[],o._lastVersionId=0,o._updateBracketsSoon.schedule())}))),o._register(e.onDidBlurEditorWidget((function(){o._updateBracketsSoon.schedule()}))),o._register(e.onDidFocusEditorWidget((function(){o._updateBracketsSoon.schedule()}))),o}return k(n,[{key:"jumpToBracket",value:function(){if(this._editor.hasModel()){var e=this._editor.getModel(),t=this._editor.getSelections().map((function(t){var n=t.getStartPosition(),r=e.bracketPairs.matchBracket(n),o=null;if(r)r[0].containsPosition(n)&&!r[1].containsPosition(n)?o=r[1].getStartPosition():r[1].containsPosition(n)&&(o=r[0].getStartPosition());else{var i=e.bracketPairs.findEnclosingBrackets(n);if(i)o=i[1].getStartPosition();else{var a=e.bracketPairs.findNextBracket(n);a&&a.range&&(o=a.range.getStartPosition())}}return o?new u.Y(o.lineNumber,o.column,o.lineNumber,o.column):new u.Y(n.lineNumber,n.column,n.lineNumber,n.column)}));this._editor.setSelections(t),this._editor.revealRange(t[0])}}},{key:"selectToBracket",value:function(e){if(this._editor.hasModel()){var t=this._editor.getModel(),n=[];this._editor.getSelections().forEach((function(r){var o=r.getStartPosition(),i=t.bracketPairs.matchBracket(o);if(!i&&!(i=t.bracketPairs.findEnclosingBrackets(o))){var a=t.bracketPairs.findNextBracket(o);a&&a.range&&(i=t.bracketPairs.matchBracket(a.range.getStartPosition()))}var c=null,l=null;if(i){i.sort(s.e.compareRangesUsingStarts);var f=m(i,2),d=f[0],h=f[1];if(c=e?d.getStartPosition():d.getEndPosition(),l=e?h.getEndPosition():h.getStartPosition(),h.containsPosition(o)){var p=c;c=l,l=p}}c&&l&&n.push(new u.Y(c.lineNumber,c.column,l.lineNumber,l.column))})),n.length>0&&(this._editor.setSelections(n),this._editor.revealRange(n[0]))}}},{key:"_updateBrackets",value:function(){if("never"!==this._matchBrackets){this._recomputeBrackets();var e,t=[],n=0,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this._lastBracketsData);try{for(r.s();!(e=r.n()).done;){var o=e.value,i=o.brackets;i&&(t[n++]={range:i[0],options:o.options},t[n++]={range:i[1],options:o.options})}}catch(e){r.e(e)}finally{r.f()}this._decorations.set(t)}}},{key:"_recomputeBrackets",value:function(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return this._lastBracketsData=[],void(this._lastVersionId=0);var e=this._editor.getSelections();if(e.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);var t=this._editor.getModel(),r=t.getVersionId(),o=[];this._lastVersionId===r&&(o=this._lastBracketsData);for(var i=[],s=0,u=0,c=e.length;u<c;u++){var l=e[u];l.isEmpty()&&(i[s++]=l.getStartPosition())}i.length>1&&i.sort(a.L.compare);for(var f=[],d=0,h=0,p=o.length,v=0,g=i.length;v<g;v++){for(var y=i[v];h<p&&o[h].position.isBefore(y);)h++;if(h<p&&o[h].position.equals(y))f[d++]=o[h];else{var m=t.bracketPairs.matchBracket(y,20),b=n._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;m||"always"!==this._matchBrackets||(m=t.bracketPairs.findEnclosingBrackets(y,20),b=n._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),f[d++]=new R(y,m,b)}}this._lastBracketsData=f,this._lastVersionId=r}}],[{key:"get",value:function(e){return e.getContribution(n.ID)}}]),n}(o.JT);T.ID="editor.contrib.bracketMatchingController",T._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=f.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,g.EN)(P),position:l.sh.Center}}),T._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=f.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,i._K)(T.ID,T),(0,i.Qr)(I),(0,i.Qr)(N),(0,g.Ic)((function(e,t){var n=e.getColor(d.TC);n&&t.addRule(".monaco-editor .bracket-match { background-color: ".concat(n,"; }"));var r=e.getColor(d.Dl);r&&t.addRule(".monaco-editor .bracket-match { border: 1px solid ".concat(r,"; }"))})),p.BH.appendMenuItem(p.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:h.NC({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},12231:(e,t,n)=>{n.r(t);var r=n(18679),o=n(25112),i=n(48466),a=n(85963);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===s(i)?i:String(i)),r)}var o,i}var c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selection=t,this._isMovingLeft=n}var t,n,r;return t=e,(n=[{key:"getEditOperations",value:function(e,t){if(this._selection.startLineNumber===this._selection.endLineNumber&&!this._selection.isEmpty()){var n=this._selection.startLineNumber,r=this._selection.startColumn,o=this._selection.endColumn;if((!this._isMovingLeft||1!==r)&&(this._isMovingLeft||o!==e.getLineMaxColumn(n)))if(this._isMovingLeft){var a=new i.e(n,r-1,n,r),s=e.getValueInRange(a);t.addEditOperation(a,null),t.addEditOperation(new i.e(n,o,n,o),s)}else{var u=new i.e(n,o,n,o+1),c=e.getValueInRange(u);t.addEditOperation(u,null),t.addEditOperation(new i.e(n,r,n,r),c)}}}},{key:"computeCursorState",value:function(e,t){return this._isMovingLeft?new a.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new a.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),l=n(18063);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===f(i)?i:String(i)),r)}var o,i}function g(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var S=function(e){y(n,e);var t=b(n);function n(e,r){var o;return p(this,n),(o=t.call(this,r)).left=e,o}return g(n,[{key:"run",value:function(e,t){if(t.hasModel()){var n,r=[],o=d(t.getSelections());try{for(o.s();!(n=o.n()).done;){var i=n.value;r.push(new c(i,this.left))}}catch(e){o.e(e)}finally{o.f()}t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}}]),n}(r.R6),k=function(e){y(n,e);var t=b(n);function n(){return p(this,n),t.call(this,!0,{id:"editor.action.moveCarretLeftAction",label:l.NC("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:o.u.writable})}return g(n)}(S),C=function(e){y(n,e);var t=b(n);function n(){return p(this,n),t.call(this,!1,{id:"editor.action.moveCarretRightAction",label:l.NC("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:o.u.writable})}return g(n)}(S);(0,r.Qr)(k),(0,r.Qr)(C)},23061:(e,t,n)=>{n.r(t);var r=n(18679),o=n(25099),i=n(48876),a=n(48466),s=n(25112),u=n(18063);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===c(i)?i:String(i)),r)}var o,i}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(f,e);var t,n,r,c=p(f);function f(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),c.call(this,{id:"editor.action.transposeLetters",label:u.NC("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:s.u.writable,kbOpts:{kbExpr:s.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}return t=f,(n=[{key:"run",value:function(e,t){if(t.hasModel()){var n,r=t.getModel(),s=[],u=l(t.getSelections());try{for(u.s();!(n=u.n()).done;){var c=n.value;if(c.isEmpty()){var f=c.startLineNumber,d=c.startColumn,h=r.getLineMaxColumn(f);if(1!==f||1!==d&&(2!==d||2!==h)){var p=d===h?c.getPosition():i.o.rightPosition(r,c.getPosition().lineNumber,c.getPosition().column),v=i.o.leftPosition(r,p),g=i.o.leftPosition(r,v),y=r.getValueInRange(a.e.fromPositions(g,v)),m=r.getValueInRange(a.e.fromPositions(v,p)),b=a.e.fromPositions(g,p);s.push(new o.T4(b,m+y))}}}}catch(e){u.e(e)}finally{u.f()}s.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop())}}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.R6);(0,r.Qr)(y)},16355:(e,t,n)=>{n.r(t),n.d(t,{CopyAction:()=>L,CutAction:()=>x,PasteAction:()=>O});var r=n(38817),o=n(71386),i=n(61145),a=n(18679),s=n(37845),u=n(25112),c=n(18063),l=n(13171),f=n(79126);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(){h=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:k(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function p(){}function v(){}function g(){}var y={};u(y,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(E([])));b&&b!==t&&n.call(b,i)&&(y=b);var _=g.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==d(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=g,r(_,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),u(_,s,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===d(i)?i:String(i)),r)}var o,i}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var b=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},_="9_cutcopypaste",w=o.tY||document.queryCommandSupported("cut"),S=o.tY||document.queryCommandSupported("copy"),k=void 0!==navigator.clipboard&&!r.isFirefox||document.queryCommandSupported("paste");function C(e){return e.register(),e}var x=w?C(new a.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:o.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:l.eH.MenubarEditMenu,group:"2_ccp",title:c.NC({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:l.eH.EditorContext,group:_,title:c.NC("actions.clipboard.cutLabel","Cut"),when:u.u.writable,order:1},{menuId:l.eH.CommandPalette,group:"",title:c.NC("actions.clipboard.cutLabel","Cut"),order:1},{menuId:l.eH.SimpleEditorContext,group:_,title:c.NC("actions.clipboard.cutLabel","Cut"),when:u.u.writable,order:1}]})):void 0,L=S?C(new a.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:o.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:l.eH.MenubarEditMenu,group:"2_ccp",title:c.NC({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:l.eH.EditorContext,group:_,title:c.NC("actions.clipboard.copyLabel","Copy"),order:2},{menuId:l.eH.CommandPalette,group:"",title:c.NC("actions.clipboard.copyLabel","Copy"),order:1},{menuId:l.eH.SimpleEditorContext,group:_,title:c.NC("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;l.BH.appendMenuItem(l.eH.MenubarEditMenu,{submenu:l.eH.MenubarCopy,title:{value:c.NC("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),l.BH.appendMenuItem(l.eH.EditorContext,{submenu:l.eH.EditorContextCopy,title:{value:c.NC("copy as","Copy As"),original:"Copy As"},group:_,order:3}),l.BH.appendMenuItem(l.eH.EditorContext,{submenu:l.eH.EditorContextShare,title:{value:c.NC("share","Share"),original:"Share"},group:"11_share",order:-1});var O=k?C(new a.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:o.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:l.eH.MenubarEditMenu,group:"2_ccp",title:c.NC({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:l.eH.EditorContext,group:_,title:c.NC("actions.clipboard.pasteLabel","Paste"),when:u.u.writable,order:4},{menuId:l.eH.CommandPalette,group:"",title:c.NC("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:l.eH.SimpleEditorContext,group:_,title:c.NC("actions.clipboard.pasteLabel","Paste"),when:u.u.writable,order:4}]})):void 0,E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(a,e);var t,n,r,o=g(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.call(this,{id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:c.NC("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:u.u.textInputFocus,primary:0,weight:100}})}return t=a,(n=[{key:"run",value:function(e,t){t.hasModel()&&(!t.getOption(33)&&t.getSelection().isEmpty()||(i.RA.forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),i.RA.forceCopyWithSyntaxHighlighting=!1))}}])&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(a.R6);function P(e,t){e&&(e.addImplementation(1e4,"code-editor",(function(e,n){var r=e.get(s.$).getFocusedCodeEditor();if(r&&r.hasTextFocus()){var o=r.getOption(33),i=r.getSelection();return i&&i.isEmpty()&&!o||document.execCommand(t),!0}return!1})),e.addImplementation(0,"generic-dom",(function(e,n){return document.execCommand(t),!0})))}P(x,"cut"),P(L,"copy"),O&&(O.addImplementation(1e4,"code-editor",(function(e,t){var n=e.get(s.$),r=e.get(f.p),a=n.getFocusedCodeEditor();return!(!a||!a.hasTextFocus())&&(!(!document.execCommand("paste")&&o.$L)||b(void 0,void 0,void 0,h().mark((function e(){var t,n,o,s,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.readText();case 2:""!==(t=e.sent)&&(n=i.Nl.INSTANCE.get(t),o=!1,s=null,u=null,n&&(o=a.getOption(33)&&!!n.isFromEmptySelection,s=void 0!==n.multicursorText?n.multicursorText:null,u=n.mode),a.trigger("keyboard","paste",{text:t,pasteOnNewLine:o,multicursorText:s,mode:u}));case 4:case"end":return e.stop()}}),e)}))))})),O.addImplementation(0,"generic-dom",(function(e,t){return document.execCommand("paste"),!0}))),S&&(0,a.Qr)(E)},85217:(e,t,n)=>{n.d(t,{Bb:()=>I,MN:()=>T,RB:()=>N,TM:()=>A,aI:()=>W,bA:()=>D,sh:()=>R,uH:()=>j});var r=n(86193),o=n(2307),i=n(95835),a=n(38709),s=n(83916),u=n(59347),c=n(48466),l=n(85963),f=n(76758),d=n(69349),h=n(26104),p=n(20699),v=n(31213);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function m(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function x(){x=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(E([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=p.prototype=d.prototype=Object.create(v);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==g(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),u(b,s,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===g(i)?i:String(i)),r)}var o,i}function E(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var P=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},N="editor.action.codeAction",I="editor.action.refactor",R="editor.action.refactor.preview",T="editor.action.sourceAction",j="editor.action.organizeImports",A="editor.action.fixAll",D=function(){function e(t,n){L(this,e),this.action=t,this.provider=n}return E(e,[{key:"resolve",value:function(e){var t;return P(this,void 0,void 0,x().mark((function n(){var r;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(null===(t=this.provider)||void 0===t?void 0:t.resolveCodeAction)||this.action.edit){n.next=11;break}return n.prev=1,n.next=4,this.provider.resolveCodeAction(this.action,e);case 4:r=n.sent,n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),(0,i.Cp)(n.t0);case 10:r&&(this.action.edit=r.edit);case 11:return n.abrupt("return",this);case 12:case"end":return n.stop()}}),n,this,[[1,7]])})))}}]),e}(),M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(n,e);var t=S(n);function n(e,r,o){var i;return L(this,n),(i=t.call(this)).documentation=r,i._register(o),i.allActions=m(e).sort(n.codeActionsComparator),i.validActions=i.allActions.filter((function(e){return!e.action.disabled})),i}return E(n,[{key:"hasAutoFix",get:function(){return this.validActions.some((function(e){var t=e.action;return!!t.kind&&p.yN.QuickFix.contains(new p.yN(t.kind))&&!!t.isPreferred}))}}],[{key:"codeActionsComparator",value:function(e,t){var n=e.action,o=t.action;return n.isPreferred&&!o.isPreferred?-1:!n.isPreferred&&o.isPreferred?1:(0,r.Of)(n.diagnostics)?(0,r.Of)(o.diagnostics)?n.diagnostics[0].message.localeCompare(o.diagnostics[0].message):-1:(0,r.Of)(o.diagnostics)?1:0}}]),n}(a.JT),F={actions:[],documentation:void 0};function W(e,t,n,o,s,c){var l,f=this,d=o.filter||{},h={only:null===(l=d.include)||void 0===l?void 0:l.value,trigger:o.type},v=new u.YQ(t,c),g=function(e,t,n){return e.all(t).filter((function(e){return!e.providedCodeActionKinds||e.providedCodeActionKinds.some((function(e){return(0,p.EU)(n,new p.yN(e))}))}))}(e,t,d),y=new a.SL,m=g.map((function(e){return P(f,void 0,void 0,x().mark((function r(){var o,a,u;return x().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s.report(e),r.next=4,e.provideCodeActions(t,n,h,v.token);case 4:if((o=r.sent)&&y.add(o),!v.token.isCancellationRequested){r.next=8;break}return r.abrupt("return",F);case 8:return a=((null==o?void 0:o.actions)||[]).filter((function(e){return e&&(0,p.Yl)(d,e)})),u=H(e,a,d.include),r.abrupt("return",{actions:a.map((function(t){return new D(t,e)})),documentation:u});case 13:if(r.prev=13,r.t0=r.catch(0),!(0,i.n2)(r.t0)){r.next=17;break}throw r.t0;case 17:return(0,i.Cp)(r.t0),r.abrupt("return",F);case 19:case"end":return r.stop()}}),r,null,[[0,13]])})))})),b=e.onDidChange((function(){var n=e.all(t);(0,r.fS)(n,g)||v.cancel()}));return Promise.all(m).then((function(e){var t=e.map((function(e){return e.actions})).flat(),n=(0,r.kX)(e.map((function(e){return e.documentation})));return new M(t,n,y)})).finally((function(){b.dispose(),v.dispose()}))}function H(e,t,n){if(e.documentation){var r=e.documentation.map((function(e){return{kind:new p.yN(e.kind),command:e.command}}));if(n){var o,i,a=y(r);try{for(a.s();!(i=a.n()).done;){var s=i.value;s.kind.contains(n)&&(o?o.kind.contains(s.kind)&&(o=s):o=s)}}catch(e){a.e(e)}finally{a.f()}if(o)return null==o?void 0:o.command}var u,c=y(t);try{for(c.s();!(u=c.n()).done;){var l=u.value;if(l.kind){var f,d=y(r);try{for(d.s();!(f=d.n()).done;){var h=f.value;if(h.kind.contains(new p.yN(l.kind)))return h.command}}catch(e){d.e(e)}finally{d.f()}}}}catch(e){c.e(e)}finally{c.f()}}}d.P0.registerCommand("_executeCodeActionProvider",(function(e,t,n,r,a){return P(this,void 0,void 0,x().mark((function u(){var d,g,y,m,b,_,w,S,k;return x().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(t instanceof s.o){u.next=2;break}throw(0,i.b1)();case 2:if(d=e.get(v.p),g=d.codeActionProvider,y=e.get(f.q).getModel(t)){u.next=6;break}throw(0,i.b1)();case 6:if(m=l.Y.isISelection(n)?l.Y.liftSelection(n):c.e.isIRange(n)?y.validateRange(n):void 0){u.next=9;break}throw(0,i.b1)();case 9:return b="string"==typeof r?new p.yN(r):void 0,u.next=12,W(g,y,m,{type:1,triggerAction:p.aQ.Default,filter:{includeSourceActions:!0,include:b}},h.Ex.None,o.T.None);case 12:for(_=u.sent,w=[],S=Math.min(_.validActions.length,"number"==typeof a?a:0),k=0;k<S;k++)w.push(_.validActions[k].resolve(o.T.None));return u.prev=16,u.next=19,Promise.all(w);case 19:return u.abrupt("return",_.validActions.map((function(e){return e.action})));case 20:return u.prev=20,setTimeout((function(){return _.dispose()}),100),u.finish(20);case 23:case"end":return u.stop()}}),u,null,[[16,,20,23]])})))}))},62880:(e,t,n)=>{n.d(t,{S5:()=>Ut,dW:()=>Ft,Hv:()=>Vt,o$:()=>Gt,E7:()=>Mt,pY:()=>Tt,Eb:()=>Wt,UG:()=>Ht,VQ:()=>Bt});var r=n(2307),o=n(48303),i=n(38709),a=n(46969),s=n(18679),u=n(94717),c=n(25112),l=n(31213),f=n(85217),d=n(95835),h=n(44454),p=n(63304),v=n(32007),g=n(12920),y=n(89704),m=n(51638),b=n(20699),_=n(18063),w=n(4537),S=n(73589),k=n(93513),C=n(9263),x=n(48552),L=n(38656);function O(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(){E=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==G(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=N(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},P.apply(this,arguments)}function N(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==G(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===G(i)?i:String(i)),r)}var o,i}function A(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}function F(e,t){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},F(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B(e);if(t){var o=B(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H(this,n)}}function H(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}var V=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":G(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},U=function(e,t){return function(n,r){t(n,r,e)}},z=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},K={Visible:new S.uy("CodeActionMenuVisible",!1,(0,_.NC)("CodeActionMenuVisible","Whether the code action list widget is visible"))},q=function(e){M(n,e);var t=W(n);function n(e,r){var o;return D(this,n),(o=t.call(this,e.command?e.command.id:e.title,e.title.replace(/\r\n|\r|\n/g," "),void 0,!e.disabled,r)).action=e,o}return A(n)}(y.aU);var Y=function(){function e(t,n){D(this,e),this.acceptKeybindings=t,this.keybindingService=n}return A(e,[{key:"templateId",get:function(){return"codeActionWidget"}},{key:"renderTemplate",value:function(e){var t=Object.create(null);return t.disposables=[],t.root=e,t.text=document.createElement("span"),e.append(t.text),t}},{key:"renderElement",value:function(e,t,n){var r,o,i,a,s,u=this,c=n,l=e.title,f=e.isEnabled,d=e.isSeparator,h=e.isDocumentation;if(c.text.textContent=l,f?c.root.classList.remove("option-disabled"):(c.root.classList.add("option-disabled"),c.root.style.backgroundColor="transparent !important"),d&&(c.root.classList.add("separator"),c.root.style.height="10px"),!h){i=I(u.acceptKeybindings,2),a=i[0],s=i[1],c.root.title=(0,_.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Refactor, Shift+F2 to Preview"']},"{0} to Refactor, {1} to Preview",null===(r=u.keybindingService.lookupKeybinding(a))||void 0===r?void 0:r.getLabel(),null===(o=u.keybindingService.lookupKeybinding(s))||void 0===o?void 0:o.getLabel())}}},{key:"disposeTemplate",value:function(e){e.disposables=(0,i.B9)(e.disposables)}}]),e}();Y=V([U(1,C.d)],Y);var Q=function(e){M(n,e);var t=W(n);function n(e,r,o,a,s,u,c,l,f,d){var h;return D(this,n),(h=t.call(this))._editor=e,h._delegate=r,h._contextMenuService=o,h._languageFeaturesService=s,h._telemetryService=u,h._configurationService=l,h._contextViewService=f,h._contextKeyService=d,h._showingActions=h._register(new i.XK),h.codeActionList=h._register(new i.XK),h.options=[],h._visible=!1,h.viewItems=[],h.hasSeperator=!1,h._keybindingResolver=new Z({getKeybindings:function(){return a.getKeybindings()}}),h._ctxMenuWidgetVisible=K.Visible.bindTo(h._contextKeyService),h.listRenderer=new Y(["onEnterSelectCodeAction","onEnterSelectCodeActionWithPreview"],a),h}return A(n,[{key:"isVisible",get:function(){return this._visible}},{key:"isCodeActionWidgetEnabled",value:function(e){return this._configurationService.getValue("editor.experimental.useCustomCodeActionMenu",{resource:e.uri})}},{key:"_onListSelection",value:function(e){var t=this;e.elements.length&&e.elements.forEach((function(e){e.isEnabled&&(e.action.run(),t.hideCodeActionWidget())}))}},{key:"_onListHover",value:function(e){var t,n,r,o;e.element?(null===(n=e.element)||void 0===n?void 0:n.isEnabled)?(null===(r=this.codeActionList.value)||void 0===r||r.setFocus([e.element.index]),this.focusedEnabledItem=this.viewItems.indexOf(e.element),this.currSelectedItem=e.element.index):(this.currSelectedItem=void 0,null===(o=this.codeActionList.value)||void 0===o||o.setFocus([e.element.index])):(this.currSelectedItem=void 0,null===(t=this.codeActionList.value)||void 0===t||t.setFocus([]))}},{key:"renderCodeActionMenuList",value:function(e,t){var r,o=this,a=new i.SL,s=document.createElement("div"),u=document.createElement("div");this.block=e.appendChild(u),this.block.classList.add("context-view-block"),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",a.add(v.addDisposableListener(this.block,v.EventType.MOUSE_DOWN,(function(e){return e.stopPropagation()}))),s.id="codeActionMenuWidget",s.classList.add("codeActionMenuWidget"),e.appendChild(s),this.codeActionList.value=new g.aV("codeActionWidget",s,{getHeight:function(e){return e.isSeparator?10:26},getTemplateId:function(e){return"codeActionWidget"}},[this.listRenderer],{keyboardSupport:!1}),a.add(this.codeActionList.value.onMouseOver((function(e){return o._onListHover(e)}))),a.add(this.codeActionList.value.onDidChangeFocus((function(e){var t;return null===(t=o.codeActionList.value)||void 0===t?void 0:t.domFocus()}))),a.add(this.codeActionList.value.onDidChangeSelection((function(e){return o._onListSelection(e)}))),a.add(this._editor.onDidLayoutChange((function(e){return o.hideCodeActionWidget()}))),t.forEach((function(e,r){var i="separator"===e.class,a=!1;e instanceof q&&(a=e.action.kind===n.documentationID),i&&(o.hasSeperator=!0);var s={title:e.label,detail:e.tooltip,action:t[r],isEnabled:e.enabled,isSeparator:i,index:r,isDocumentation:a};e.enabled&&o.viewItems.push(s),o.options.push(s)})),this.codeActionList.value.splice(0,this.codeActionList.value.length,this.options);var c=this.hasSeperator?26*(t.length-1)+10:26*t.length;s.style.height=String(c)+"px",this.codeActionList.value.layout(c);var l=[];this.options.forEach((function(e,t){var n,r;if(o.codeActionList.value){var i=null===(r=document.getElementById(null===(n=o.codeActionList.value)||void 0===n?void 0:n.getElementID(t)))||void 0===r?void 0:r.getElementsByTagName("span")[0].offsetWidth;l.push(Number(i))}}));var f=Math.max.apply(Math,l);s.style.width=f+52+"px",null===(r=this.codeActionList.value)||void 0===r||r.layout(c,f),this.viewItems.length<1||this.viewItems.every((function(e){return e.isDocumentation}))?this.currSelectedItem=void 0:(this.focusedEnabledItem=0,this.currSelectedItem=this.viewItems[0].index,this.codeActionList.value.setFocus([this.currSelectedItem])),this.codeActionList.value.domFocus();var d=v.trackFocus(e),h=d.onDidBlur((function(){o.hideCodeActionWidget()}));return a.add(h),a.add(d),this._ctxMenuWidgetVisible.set(!0),a}},{key:"focusPrevious",value:function(){var e;if(void 0===this.focusedEnabledItem)this.focusedEnabledItem=this.viewItems[0].index;else if(this.viewItems.length<1)return!1;var t,n=this.focusedEnabledItem;do{this.focusedEnabledItem=this.focusedEnabledItem-1,this.focusedEnabledItem<0&&(this.focusedEnabledItem=this.viewItems.length-1),t=this.viewItems[this.focusedEnabledItem],null===(e=this.codeActionList.value)||void 0===e||e.setFocus([t.index]),this.currSelectedItem=t.index}while(this.focusedEnabledItem!==n&&(!t.isEnabled||t.action.id===y.Z0.ID));return!0}},{key:"focusNext",value:function(){var e;if(void 0===this.focusedEnabledItem)this.focusedEnabledItem=this.viewItems.length-1;else if(this.viewItems.length<1)return!1;var t,n=this.focusedEnabledItem;do{this.focusedEnabledItem=(this.focusedEnabledItem+1)%this.viewItems.length,t=this.viewItems[this.focusedEnabledItem],null===(e=this.codeActionList.value)||void 0===e||e.setFocus([t.index]),this.currSelectedItem=t.index}while(this.focusedEnabledItem!==n&&(!t.isEnabled||t.action.id===y.Z0.ID));return!0}},{key:"navigateListWithKeysUp",value:function(){this.focusPrevious()}},{key:"navigateListWithKeysDown",value:function(){this.focusNext()}},{key:"onEnterSet",value:function(){var e;"number"==typeof this.currSelectedItem&&(null===(e=this.codeActionList.value)||void 0===e||e.setSelection([this.currSelectedItem]))}},{key:"dispose",value:function(){P(B(n.prototype),"dispose",this).call(this)}},{key:"hideCodeActionWidget",value:function(){this._ctxMenuWidgetVisible.reset(),this.options=[],this.viewItems=[],this.focusedEnabledItem=0,this.currSelectedItem=void 0,this.hasSeperator=!1,this._contextViewService.hideContextView({source:this})}},{key:"codeActionTelemetry",value:function(e,t,n){this._telemetryService.publicLog2("codeAction.applyCodeAction",{codeActionFrom:e,validCodeActions:n.validActions.length,cancelled:t})}},{key:"show",value:function(e,t,n,r){return z(this,void 0,void 0,E().mark((function o(){var i,a,s,u,c,l,f=this;return E().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(i=this._editor.getModel()){o.next=3;break}return o.abrupt("return");case 3:if((a=r.includeDisabledActions?t.allActions:t.validActions).length){o.next=7;break}return this._visible=!1,o.abrupt("return");case 7:if(this._editor.getDomNode()){o.next=10;break}throw this._visible=!1,(0,d.F0)();case 10:this._visible=!0,this._showingActions.value=t,s=this.getMenuActions(e,a,t.documentation),u=m.L.isIPosition(n)?this._toCoords(n):n||{x:0,y:0},c=this._keybindingResolver.getResolver(),l=this._editor.getOption(117),this.isCodeActionWidgetEnabled(i)?this._contextViewService.showContextView({getAnchor:function(){return u},render:function(e){return f.renderCodeActionMenuList(e,s)},onHide:function(n){var o=r.fromLightbulb?b.aQ.Lightbulb:e.triggerAction;f.codeActionTelemetry(o,n,t),f._visible=!1,f._editor.focus()}},this._editor.getDomNode(),!1):this._contextMenuService.showContextMenu({domForShadowRoot:l?this._editor.getDomNode():void 0,getAnchor:function(){return u},getActions:function(){return s},onHide:function(n){var o=r.fromLightbulb?b.aQ.Lightbulb:e.triggerAction;f.codeActionTelemetry(o,n,t),f._visible=!1,f._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:function(e){return e instanceof q?c(e.action):void 0}});case 17:case"end":return o.stop()}}),o,this)})))}},{key:"getMenuActions",value:function(e,t,r){var o,i,a=this,s=function(t){return new q(t.action,(function(){return a._delegate.onSelectCodeAction(t,e)}))},u=t.map(s),c=O(r),l=this._editor.getModel();if(l&&u.length){var d,h=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=R(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this._languageFeaturesService.codeActionProvider.all(l));try{for(h.s();!(d=h.n()).done;){var p=d.value;p._getAdditionalMenuItems&&c.push.apply(c,O(p._getAdditionalMenuItems({trigger:e.type,only:null===(i=null===(o=e.filter)||void 0===o?void 0:o.include)||void 0===i?void 0:i.value},t.map((function(e){return e.action})))))}}catch(e){h.e(e)}finally{h.f()}}return c.length&&u.push.apply(u,[new y.Z0].concat(O(c.map((function(e){return s(new f.bA({title:e.title,command:e,kind:n.documentationID},void 0))}))))),u}},{key:"_toCoords",value:function(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();var t=this._editor.getScrolledVisiblePosition(e),n=v.getDomNodePagePosition(this._editor.getDomNode());return{x:n.left+t.left,y:n.top+t.top+t.height}}}]),n}(i.JT);Q.documentationID="_documentation",Q=V([U(2,k.i),U(3,C.d),U(4,l.p),U(5,x.b),U(6,L.XE),U(7,w.Ui),U(8,k.u),U(9,S.i6)],Q);var Z=function(){function e(t){D(this,e),this._keybindingProvider=t}return A(e,[{key:"getResolver",value:function(){var t=this,n=new o.o((function(){return t._keybindingProvider.getKeybindings().filter((function(t){return e.codeActionCommands.indexOf(t.command)>=0})).filter((function(e){return e.resolvedKeybinding})).map((function(e){var t=e.commandArgs;return e.command===f.uH?t={kind:b.yN.SourceOrganizeImports.value}:e.command===f.TM&&(t={kind:b.yN.SourceFixAll.value}),Object.assign({resolvedKeybinding:e.resolvedKeybinding},b.wZ.fromUser(t,{kind:b.yN.None,apply:"never"}))}))}));return function(e){if(e.kind){var r=t.bestKeybindingForCodeAction(e,n.getValue());return null==r?void 0:r.resolvedKeybinding}}}},{key:"bestKeybindingForCodeAction",value:function(e,t){if(e.kind){var n=new b.yN(e.kind);return t.filter((function(e){return e.kind.contains(n)})).filter((function(t){return!t.preferred||e.isPreferred})).reduceRight((function(e,t){return e?e.kind.contains(t.kind)?t:e:t}),void 0)}}}]),e}();Z.codeActionCommands=[f.Bb,f.RB,f.MN,f.uH,f.TM];var $=n(8630),J=n(74553),X=n(82459),ee=n(12013),te=n(41367);function ne(e){return function(e){if(Array.isArray(e))return re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oe(){return oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=ie(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},oe.apply(this,arguments)}function ie(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=le(e)););return e}function ae(e,t){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ae(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=le(e);if(t){var o=le(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ue(this,n)}}function ue(e,t){if(t&&("object"===pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ce(e)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},le(e)}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==pe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===pe(i)?i:String(i)),r)}var o,i}function de(e,t,n){return t&&fe(e.prototype,t),n&&fe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}var ve,ge=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":pe(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ye=function(e,t){return function(n,r){t(n,r,e)}};!function(e){e.Hidden={type:0};var t=de((function e(t,n,r,o){he(this,e),this.actions=t,this.trigger=n,this.editorPosition=r,this.widgetPosition=o,this.type=1}));e.Showing=t}(ve||(ve={}));var me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ae(e,t)}(n,e);var t=se(n);function n(e,r,o,i){var a;return he(this,n),(a=t.call(this))._editor=e,a._quickFixActionId=r,a._preferredFixActionId=o,a._keybindingService=i,a._onClick=a._register(new X.Q5),a.onClick=a._onClick.event,a._state=ve.Hidden,a._domNode=document.createElement("div"),a._domNode.className=J.lA.lightBulb.classNames,a._editor.addContentWidget(ce(a)),a._register(a._editor.onDidChangeModelContent((function(e){var t=a._editor.getModel();(1!==a.state.type||!t||a.state.editorPosition.lineNumber>=t.getLineCount())&&a.hide()}))),$.o.ignoreTarget(a._domNode),a._register(v.addStandardDisposableGenericMouseDownListener(a._domNode,(function(e){if(1===a.state.type){a._editor.focus(),e.preventDefault();var t=v.getDomNodePagePosition(a._domNode),n=t.top,r=t.height,o=a._editor.getOption(61),i=Math.floor(o/3);null!==a.state.widgetPosition.position&&a.state.widgetPosition.position.lineNumber<a.state.editorPosition.lineNumber&&(i+=o),a._onClick.fire({x:e.posx,y:n+r+i,actions:a.state.actions,trigger:a.state.trigger})}}))),a._register(v.addDisposableListener(a._domNode,"mouseenter",(function(e){1==(1&e.buttons)&&a.hide()}))),a._register(a._editor.onDidChangeConfiguration((function(e){e.hasChanged(59)&&!a._editor.getOption(59).enabled&&a.hide()}))),a._updateLightBulbTitleAndIcon(),a._register(a._keybindingService.onDidUpdateKeybindings(a._updateLightBulbTitleAndIcon,ce(a))),a}return de(n,[{key:"dispose",value:function(){oe(le(n.prototype),"dispose",this).call(this),this._editor.removeContentWidget(this)}},{key:"getId",value:function(){return"LightBulbWidget"}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return 1===this._state.type?this._state.widgetPosition:null}},{key:"update",value:function(e,t,r){var o=this;if(e.validActions.length<=0)return this.hide();var i=this._editor.getOptions();if(!i.get(59).enabled)return this.hide();var a=this._editor.getModel();if(!a)return this.hide();var s=a.validatePosition(r),u=s.lineNumber,c=s.column,l=a.getOptions().tabSize,f=i.get(46),d=a.getLineContent(u),h=(0,ee.q)(d,l),p=function(e){return e>2&&o._editor.getTopForLineNumber(e)===o._editor.getTopForLineNumber(e-1)},v=u;if(!(f.spaceWidth*h>22))if(u>1&&!p(u-1))v-=1;else if(p(u+1)){if(c*f.spaceWidth<22)return this.hide()}else v+=1;this.state=new ve.Showing(e,t,r,{position:{lineNumber:v,column:1},preference:n._posPref}),this._editor.layoutContentWidget(this)}},{key:"hide",value:function(){this.state=ve.Hidden,this._editor.layoutContentWidget(this)}},{key:"state",get:function(){return this._state},set:function(e){this._state=e,this._updateLightBulbTitleAndIcon()}},{key:"_updateLightBulbTitleAndIcon",value:function(){var e,t;if(1===this.state.type&&this.state.actions.hasAutoFix){var n,r;(n=this._domNode.classList).remove.apply(n,ne(J.lA.lightBulb.classNamesArray)),(r=this._domNode.classList).add.apply(r,ne(J.lA.lightbulbAutofix.classNamesArray));var o=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(o)return void(this.title=_.NC("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",o.getLabel()))}(e=this._domNode.classList).remove.apply(e,ne(J.lA.lightbulbAutofix.classNamesArray)),(t=this._domNode.classList).add.apply(t,ne(J.lA.lightBulb.classNamesArray));var i=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=i?_.NC("codeActionWithKb","Show Code Actions ({0})",i.getLabel()):_.NC("codeAction","Show Code Actions")}},{key:"title",set:function(e){this._domNode.title=e}}]),n}(i.JT);function be(){be=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==Ee(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Ee(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Ee(i)?i:String(i)),r)}var o,i}function we(){return we="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Se(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},we.apply(this,arguments)}function Se(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Oe(e)););return e}function ke(e,t){return ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ke(e,t)}function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oe(e);if(t){var o=Oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xe(this,n)}}function xe(e,t){if(t&&("object"===Ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Le(e)}function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oe(e)}function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}me._posPref=[0],me=ge([ye(3,C.d)],me),(0,L.Ic)((function(e,t){var n,r=null===(n=e.getColor(te.cvW))||void 0===n?void 0:n.transparent(.7),o=e.getColor(te.Fu1);o&&t.addRule("\n\t\t.monaco-editor .contentWidgets ".concat(J.lA.lightBulb.cssSelector," {\n\t\t\tcolor: ").concat(o,";\n\t\t\tbackground-color: ").concat(r,";\n\t\t}"));var i=e.getColor(te.sKV);i&&t.addRule("\n\t\t.monaco-editor .contentWidgets ".concat(J.lA.lightbulbAutofix.cssSelector," {\n\t\t\tcolor: ").concat(i,";\n\t\t\tbackground-color: ").concat(r,";\n\t\t}"))}));var Pe,Ne=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Ee(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ie=function(e,t){return function(n,r){t(n,r,e)}},Re=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Te=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},je=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ke(e,t)}(s,e);var t,n,r,a=Ce(s);function s(e,t,n,r,u){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(c=a.call(this))._editor=e,c.delegate=r,c._activeCodeActions=c._register(new i.XK),c.previewOn=!1,Pe.set(Le(c),!1),c._codeActionWidget=new o.o((function(){return c._register(u.createInstance(Q,c._editor,{onSelectCodeAction:function(e,t){return Re(Le(c),void 0,void 0,be().mark((function n(){return be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.previewOn?this.delegate.applyCodeAction(e,!0,Boolean(this.previewOn)):this.delegate.applyCodeAction(e,!0,Boolean(t.preview)),this.previewOn=!1;case 2:case"end":return n.stop()}}),n,this)})))}}))})),c._lightBulbWidget=new o.o((function(){var e=c._register(u.createInstance(me,c._editor,t,n));return c._register(e.onClick((function(e){return c.showCodeActionList(e.trigger,e.actions,e,{includeDisabledActions:!1,fromLightbulb:!0})}))),e})),c}return t=s,n=[{key:"dispose",value:function(){Te(this,Pe,!0,"f"),we(Oe(s.prototype),"dispose",this).call(this)}},{key:"hideCodeActionWidget",value:function(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().hideCodeActionWidget()}},{key:"onEnter",value:function(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().onEnterSet()}},{key:"onPreviewEnter",value:function(){this.previewOn=!0,this.onEnter()}},{key:"navigateList",value:function(e){this._codeActionWidget.hasValue()&&(e?this._codeActionWidget.getValue().navigateListWithKeysUp():this._codeActionWidget.getValue().navigateListWithKeysDown())}},{key:"update",value:function(e){var t,n,r,o,i;return Re(this,void 0,void 0,be().mark((function a(){var s,u,c,l;return be().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(1===e.type){a.next=3;break}return null===(t=this._lightBulbWidget.rawValue)||void 0===t||t.hide(),a.abrupt("return");case 3:return a.prev=3,a.next=6,e.actions;case 6:s=a.sent,a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(3),(0,d.dL)(a.t0),a.abrupt("return");case 13:if(!je(this,Pe,"f")){a.next=15;break}return a.abrupt("return");case 15:if(this._lightBulbWidget.getValue().update(s,e.trigger,e.position),1!==e.trigger.type){a.next=45;break}if(!(null===(n=e.trigger.filter)||void 0===n?void 0:n.include)){a.next=34;break}if(!(u=this.tryGetValidActionToApply(e.trigger,s))){a.next=28;break}return a.prev=20,this._lightBulbWidget.getValue().hide(),a.next=24,this.delegate.applyCodeAction(u,!1,!1);case 24:return a.prev=24,s.dispose(),a.finish(24);case 27:return a.abrupt("return");case 28:if(!e.trigger.context){a.next=34;break}if(!(c=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,s))||!c.action.disabled){a.next=34;break}return null===(r=h.O.get(this._editor))||void 0===r||r.showMessage(c.action.disabled,e.trigger.context.position),s.dispose(),a.abrupt("return");case 34:if(l=!!(null===(o=e.trigger.filter)||void 0===o?void 0:o.include),!e.trigger.context){a.next=41;break}if(s.allActions.length&&(l||s.validActions.length)){a.next=41;break}return null===(i=h.O.get(this._editor))||void 0===i||i.showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=s,s.dispose(),a.abrupt("return");case 41:this._activeCodeActions.value=s,this._codeActionWidget.getValue().show(e.trigger,s,e.position,{includeDisabledActions:l,fromLightbulb:!1}),a.next=46;break;case 45:this._codeActionWidget.getValue().isVisible?s.dispose():this._activeCodeActions.value=s;case 46:case"end":return a.stop()}}),a,this,[[3,9],[20,,24,27]])})))}},{key:"getInvalidActionThatWouldHaveBeenApplied",value:function(e,t){if(t.allActions.length)return"first"===e.autoApply&&0===t.validActions.length||"ifSingle"===e.autoApply&&1===t.allActions.length?t.allActions.find((function(e){return e.action.disabled})):void 0}},{key:"tryGetValidActionToApply",value:function(e,t){if(t.validActions.length)return"first"===e.autoApply&&t.validActions.length>0||"ifSingle"===e.autoApply&&1===t.validActions.length?t.validActions[0]:void 0}},{key:"showCodeActionList",value:function(e,t,n,r){return Re(this,void 0,void 0,be().mark((function o(){return be().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:this._codeActionWidget.getValue().show(e,t,n,r);case 1:case"end":return o.stop()}}),o,this)})))}}],n&&_e(t.prototype,n),r&&_e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.JT);Pe=new WeakMap,Ae=Ne([Ie(4,p.TG)],Ae);var De=n(69349),Me=n(96185),Fe=n(26104),We=n(32931),He=n(95295),Be=n(81993),Ge=n(48466);function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function Ue(e){return function(e){if(Array.isArray(e))return Qe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(){return ze="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ke(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},ze.apply(this,arguments)}function Ke(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ot(e)););return e}function qe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ye(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ye(e,t){if(e){if("string"==typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qe(e,t):void 0}}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Ve(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Ve(i)?i:String(i)),r)}var o,i}function Je(e,t,n){return t&&$e(e.prototype,t),n&&$e(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&et(e,t)}function et(e,t){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},et(e,t)}function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ot(e);if(t){var o=ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nt(this,n)}}function nt(e,t){if(t&&("object"===Ve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rt(e)}function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ot(e)}var it,at,st=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},ut=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},ct=new S.uy("supportedCodeAction",""),lt=function(e){Xe(n,e);var t=tt(n);function n(e,r,o){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:250;return Ze(this,n),(i=t.call(this))._editor=e,i._markerService=r,i._signalChange=o,i._delay=a,i._autoTriggerTimer=i._register(new He._F),i._register(i._markerService.onMarkerChanged((function(e){return i._onMarkerChanges(e)}))),i._register(i._editor.onDidChangeCursorPosition((function(){return i._onCursorChange()}))),i}return Je(n,[{key:"trigger",value:function(e){var t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)}},{key:"_onMarkerChanges",value:function(e){var t=this,n=this._editor.getModel();n&&e.some((function(e){return(0,Be.Xy)(e,n.uri)}))&&this._autoTriggerTimer.cancelAndSet((function(){t.trigger({type:2,triggerAction:b.aQ.Default})}),this._delay)}},{key:"_onCursorChange",value:function(){var e=this;this._autoTriggerTimer.cancelAndSet((function(){e.trigger({type:2,triggerAction:b.aQ.Default})}),this._delay)}},{key:"_getRangeOfMarker",value:function(e){var t=this._editor.getModel();if(t){var n,r=qe(this._markerService.read({resource:t.uri}));try{for(r.s();!(n=r.n()).done;){var o=n.value,i=t.validateRange(o);if(Ge.e.intersectRanges(i,e))return Ge.e.lift(i)}}catch(e){r.e(e)}finally{r.f()}}}},{key:"_getRangeOfSelectionUnlessWhitespaceEnclosed",value:function(e){if(this._editor.hasModel()){var t=this._editor.getModel(),n=this._editor.getSelection();if(n.isEmpty()&&2===e.type){var r=n.getPosition(),o=r.lineNumber,i=r.column,a=t.getLineContent(o);if(0===a.length)return;if(1===i){if(/\s/.test(a[0]))return}else if(i===t.getLineMaxColumn(o)){if(/\s/.test(a[a.length-1]))return}else if(/\s/.test(a[i-2])&&/\s/.test(a[i-1]))return}return n}}},{key:"_createEventAndSignalChange",value:function(e,t){var n=this._editor.getModel();if(t&&n){var r=this._getRangeOfMarker(t),o=r?r.getStartPosition():t.getStartPosition(),i={trigger:e,selection:t,position:o};return this._signalChange(i),i}this._signalChange(void 0)}}]),n}(i.JT);!function(e){e.Empty={type:0};var t=function(){function e(t,n,r,o){Ze(this,e),this.trigger=t,this.rangeOrSelection=n,this.position=r,this._cancellablePromise=o,this.type=1,this.actions=o.catch((function(e){if((0,d.n2)(e))return ft;throw e}))}return Je(e,[{key:"cancel",value:function(){this._cancellablePromise.cancel()}}]),e}();e.Triggered=t}(at||(at={}));var ft={allActions:[],validActions:[],dispose:function(){},documentation:[],hasAutoFix:!1},dt=function(e){Xe(n,e);var t=tt(n);function n(e,r,o,a,s){var u;return Ze(this,n),(u=t.call(this))._editor=e,u._registry=r,u._markerService=o,u._progressService=s,u._codeActionOracle=u._register(new i.XK),u._state=at.Empty,u._onDidChangeState=u._register(new X.Q5),u.onDidChangeState=u._onDidChangeState.event,it.set(rt(u),!1),u._supportedCodeActions=ct.bindTo(a),u._register(u._editor.onDidChangeModel((function(){return u._update()}))),u._register(u._editor.onDidChangeModelLanguage((function(){return u._update()}))),u._register(u._registry.onDidChange((function(){return u._update()}))),u._update(),u}return Je(n,[{key:"dispose",value:function(){st(this,it,"f")||(ut(this,it,!0,"f"),ze(ot(n.prototype),"dispose",this).call(this),this.setState(at.Empty,!0))}},{key:"_update",value:function(){var e=this;if(!st(this,it,"f")){this._codeActionOracle.value=void 0,this.setState(at.Empty);var t=this._editor.getModel();if(t&&this._registry.has(t)&&!this._editor.getOption(83)){var n,r=[],o=qe(this._registry.all(t));try{for(o.s();!(n=o.n()).done;){var i=n.value;Array.isArray(i.providedCodeActionKinds)&&r.push.apply(r,Ue(i.providedCodeActionKinds))}}catch(e){o.e(e)}finally{o.f()}this._supportedCodeActions.set(r.join(" ")),this._codeActionOracle.value=new lt(this._editor,this._markerService,(function(n){var r;if(n){var o=(0,He.PG)((function(r){return(0,f.aI)(e._registry,t,n.selection,n.trigger,Fe.Ex.None,r)}));1===n.trigger.type&&(null===(r=e._progressService)||void 0===r||r.showWhile(o,250)),e.setState(new at.Triggered(n.trigger,n.selection,n.position,o))}else e.setState(at.Empty)}),void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:b.aQ.Default})}else this._supportedCodeActions.reset()}}},{key:"trigger",value:function(e){var t;null===(t=this._codeActionOracle.value)||void 0===t||t.trigger(e)}},{key:"setState",value:function(e,t){e!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=e,t||st(this,it,"f")||this._onDidChangeState.fire(e))}}]),n}(i.JT);function ht(e){return function(e){if(Array.isArray(e))return pt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vt(){vt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==xt(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==xt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===xt(i)?i:String(i)),r)}var o,i}function mt(e,t,n){return t&&yt(e.prototype,t),n&&yt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_t(e,t)}function _t(e,t){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_t(e,t)}function wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ct(e);if(t){var o=Ct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return St(this,n)}}function St(e,t){if(t&&("object"===xt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kt(e)}function kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ct(e){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ct(e)}function xt(e){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xt(e)}it=new WeakMap;var Lt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":xt(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ot=function(e,t){return function(n,r){t(n,r,e)}},Et=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};function Pt(e){return S.Ao.regex(ct.keys()[0],new RegExp("(\\s|^)"+(0,a.ec)(e.value)+"\\b"))}function Nt(e,t,n,r){var o=b.wZ.fromUser(t,{kind:b.yN.Refactor,apply:"never"});return Dt(e,"string"==typeof(null==t?void 0:t.kind)?o.preferred?_.NC("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",t.kind):_.NC("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",t.kind):o.preferred?_.NC("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):_.NC("editor.action.refactor.noneMessage","No refactorings available"),{include:b.yN.Refactor.contains(o.kind)?o.kind:b.yN.None,onlyIncludePreferredActions:o.preferred},o.apply,n,r)}var It,Rt={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:_.NC("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:_.NC("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[_.NC("args.schema.apply.first","Always apply the first returned code action."),_.NC("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),_.NC("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:_.NC("args.schema.preferred","Controls if only preferred code actions should be returned.")}}},Tt=function(e){bt(n,e);var t=wt(n);function n(e,r,i,a,s,u){var c;return gt(this,n),(c=t.call(this))._instantiationService=s,c._editor=e,c._model=c._register(new dt(c._editor,u.codeActionProvider,r,i,a)),c._register(c._model.onDidChangeState((function(e){return c.update(e)}))),c._ui=new o.o((function(){return c._register(new Ae(e,Mt.Id,Ut.Id,{applyCodeAction:function(e,t,n){return Et(kt(c),void 0,void 0,vt().mark((function r(){return vt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this._applyCodeAction(e,n);case 3:return r.prev=3,t&&this._trigger({type:2,triggerAction:b.aQ.QuickFix,filter:{}}),r.finish(3);case 6:case"end":return r.stop()}}),r,this,[[0,,3,6]])})))}},c._instantiationService))})),c}return mt(n,[{key:"update",value:function(e){this._ui.getValue().update(e)}},{key:"hideCodeActionMenu",value:function(){this._ui.hasValue()&&this._ui.getValue().hideCodeActionWidget()}},{key:"navigateCodeActionList",value:function(e){this._ui.hasValue()&&this._ui.getValue().navigateList(e)}},{key:"selectedOption",value:function(){this._ui.hasValue()&&this._ui.getValue().onEnter()}},{key:"selectedOptionWithPreview",value:function(){this._ui.hasValue()&&this._ui.getValue().onPreviewEnter()}},{key:"showCodeActions",value:function(e,t,n){return this._ui.getValue().showCodeActionList(e,t,n,{includeDisabledActions:!1,fromLightbulb:!1})}},{key:"manualTriggerAtCurrentPosition",value:function(e,t,n,r,o){var i;if(this._editor.hasModel()){null===(i=h.O.get(this._editor))||void 0===i||i.closeMessage();var a=this._editor.getPosition();this._trigger({type:1,triggerAction:t,filter:n,autoApply:r,context:{notAvailableMessage:e,position:a},preview:o})}}},{key:"_trigger",value:function(e){return this._model.trigger(e)}},{key:"_applyCodeAction",value:function(e,t){return this._instantiationService.invokeFunction(jt,e,It.FromCodeActions,{preview:t,editor:this._editor})}}],[{key:"get",value:function(e){return e.getContribution(n.ID)}}]),n}(i.JT);function jt(e,t,n,o){return Et(this,void 0,void 0,vt().mark((function i(){var a,s,c,l,f;return vt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=e.get(u.vu),s=e.get(De.Hy),c=e.get(x.b),l=e.get(We.lT),c.publicLog2("codeAction.applyCodeAction",{codeActionTitle:t.action.title,codeActionKind:t.action.kind,codeActionIsPreferred:!!t.action.isPreferred,reason:n}),i.next=7,t.resolve(r.T.None);case 7:if(!t.action.edit){i.next=10;break}return i.next=10,a.apply(u.fo.convert(t.action.edit),{editor:null==o?void 0:o.editor,label:t.action.title,quotableLabel:t.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:!0,showPreview:null==o?void 0:o.preview});case 10:if(!t.action.command){i.next=20;break}return i.prev=11,i.next=14,s.executeCommand.apply(s,[t.action.command.id].concat(ht(t.action.command.arguments||[])));case 14:i.next=20;break;case 16:i.prev=16,i.t0=i.catch(11),f=At(i.t0),l.error("string"==typeof f?f:_.NC("applyCodeActionFailed","An unknown error occurred while applying the code action"));case 20:case"end":return i.stop()}}),i,null,[[11,16]])})))}function At(e){return"string"==typeof e?e:e instanceof Error&&"string"==typeof e.message?e.message:void 0}function Dt(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:b.aQ.Default;if(e.hasModel()){var a=Tt.get(e);null==a||a.manualTriggerAtCurrentPosition(t,i,n,r,o)}}Tt.ID="editor.contrib.quickFixController",Tt=Lt([Ot(1,Me.lT),Ot(2,S.i6),Ot(3,Fe.ek),Ot(4,p.TG),Ot(5,l.p)],Tt),function(e){e.OnSave="onSave",e.FromProblemsView="fromProblemsView",e.FromCodeActions="fromCodeActions"}(It||(It={}));var Mt=function(e){bt(n,e);var t=wt(n);function n(){return gt(this,n),t.call(this,{id:n.Id,label:_.NC("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:S.Ao.and(c.u.writable,c.u.hasCodeActionsProvider),kbOpts:{kbExpr:c.u.editorTextFocus,primary:2132,weight:100}})}return mt(n,[{key:"run",value:function(e,t){return Dt(t,_.NC("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,!1,b.aQ.QuickFix)}}]),n}(s.R6);Mt.Id="editor.action.quickFix";var Ft=function(e){bt(n,e);var t=wt(n);function n(){return gt(this,n),t.call(this,{id:f.RB,precondition:S.Ao.and(c.u.writable,c.u.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:Rt}]}})}return mt(n,[{key:"runEditorCommand",value:function(e,t,n){var r=b.wZ.fromUser(n,{kind:b.yN.Empty,apply:"ifSingle"});return Dt(t,"string"==typeof(null==n?void 0:n.kind)?r.preferred?_.NC("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",n.kind):_.NC("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",n.kind):r.preferred?_.NC("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):_.NC("editor.action.codeAction.noneMessage","No code actions available"),{include:r.kind,includeSourceActions:!0,onlyIncludePreferredActions:r.preferred},r.apply)}}]),n}(s._l),Wt=function(e){bt(n,e);var t=wt(n);function n(){return gt(this,n),t.call(this,{id:f.Bb,label:_.NC("refactor.label","Refactor..."),alias:"Refactor...",precondition:S.Ao.and(c.u.writable,c.u.hasCodeActionsProvider),kbOpts:{kbExpr:c.u.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:S.Ao.and(c.u.writable,Pt(b.yN.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:Rt}]}})}return mt(n,[{key:"run",value:function(e,t,n){return Nt(t,n,!1,b.aQ.Refactor)}}]),n}(s.R6),Ht=function(e){bt(n,e);var t=wt(n);function n(){return gt(this,n),t.call(this,{id:f.sh,label:_.NC("refactor.preview.label","Refactor with Preview..."),alias:"Refactor Preview...",precondition:S.Ao.and(c.u.writable,c.u.hasCodeActionsProvider),description:{description:"Refactor Preview...",args:[{name:"args",schema:Rt}]}})}return mt(n,[{key:"run",value:function(e,t,n){return Nt(t,n,!0,b.aQ.RefactorPreview)}}]),n}(s.R6),Bt=function(e){bt(n,e);var t=wt(n);function n(){return gt(this,n),t.call(this,{id:f.MN,label:_.NC("source.label","Source Action..."),alias:"Source Action...",precondition:S.Ao.and(c.u.writable,c.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:S.Ao.and(c.u.writable,Pt(b.yN.Source))},description:{description:"Source Action...",args:[{name:"args",schema:Rt}]}})}return mt(n,[{key:"run",value:function(e,t,n){var r=b.wZ.fromUser(n,{kind:b.yN.Source,apply:"never"});return Dt(t,"string"==typeof(null==n?void 0:n.kind)?r.preferred?_.NC("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",n.kind):_.NC("editor.action.source.noneMessage.kind","No source actions for '{0}' available",n.kind):r.preferred?_.NC("editor.action.source.noneMessage.preferred","No preferred source actions available"):_.NC("editor.action.source.noneMessage","No source actions available"),{include:b.yN.Source.contains(r.kind)?r.kind:b.yN.None,includeSourceActions:!0,onlyIncludePreferredActions:r.preferred},r.apply,void 0,b.aQ.SourceAction)}}]),n}(s.R6),Gt=function(e){bt(n,e);var t=wt(n);function n(){return gt(this,n),t.call(this,{id:f.uH,label:_.NC("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:S.Ao.and(c.u.writable,Pt(b.yN.SourceOrganizeImports)),kbOpts:{kbExpr:c.u.editorTextFocus,primary:1581,weight:100}})}return mt(n,[{key:"run",value:function(e,t){return Dt(t,_.NC("editor.action.organize.noneMessage","No organize imports action available"),{include:b.yN.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",void 0,b.aQ.OrganizeImports)}}]),n}(s.R6),Vt=function(e){bt(n,e);var t=wt(n);function n(){return gt(this,n),t.call(this,{id:f.TM,label:_.NC("fixAll.label","Fix All"),alias:"Fix All",precondition:S.Ao.and(c.u.writable,Pt(b.yN.SourceFixAll))})}return mt(n,[{key:"run",value:function(e,t){return Dt(t,_.NC("fixAll.noneMessage","No fix all action available"),{include:b.yN.SourceFixAll,includeSourceActions:!0},"ifSingle",void 0,b.aQ.FixAll)}}]),n}(s.R6),Ut=function(e){bt(n,e);var t=wt(n);function n(){return gt(this,n),t.call(this,{id:n.Id,label:_.NC("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:S.Ao.and(c.u.writable,Pt(b.yN.QuickFix)),kbOpts:{kbExpr:c.u.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}return mt(n,[{key:"run",value:function(e,t){return Dt(t,_.NC("editor.action.autoFix.noneMessage","No auto fixes available"),{include:b.yN.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",void 0,b.aQ.AutoFix)}}]),n}(s.R6);Ut.Id="editor.action.autoFix";var zt=s._l.bindToContribution(Tt.get),Kt=190;(0,s.fK)(new zt({id:"hideCodeActionMenuWidget",precondition:K.Visible,handler:function(e){e.hideCodeActionMenu()},kbOpts:{weight:Kt,primary:9,secondary:[1033]}})),(0,s.fK)(new zt({id:"focusPreviousCodeAction",precondition:K.Visible,handler:function(e){e.navigateCodeActionList(!0)},kbOpts:{weight:100190,primary:16,secondary:[2064]}})),(0,s.fK)(new zt({id:"focusNextCodeAction",precondition:K.Visible,handler:function(e){e.navigateCodeActionList(!1)},kbOpts:{weight:100190,primary:18,secondary:[2066]}})),(0,s.fK)(new zt({id:"onEnterSelectCodeAction",precondition:K.Visible,handler:function(e){e.selectedOption()},kbOpts:{weight:100190,primary:3,secondary:[1026]}})),(0,s.fK)(new zt({id:"onEnterSelectCodeActionWithPreview",precondition:K.Visible,handler:function(e){e.selectedOptionWithPreview()},kbOpts:{weight:100190,primary:2051}}))},97696:(e,t,n)=>{n.r(t);var r=n(18679),o=n(62880),i=n(17271),a=n(18063),s=n(17612);n(68024).B.as(s.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},i.wk),{properties:{"editor.experimental.useCustomCodeActionMenu":{type:"boolean",tags:["experimental"],scope:5,description:a.NC("codeActionWidget","Enabling this adjusts how the code action menu is rendered."),default:!1}}})),(0,r._K)(o.pY.ID,o.pY),(0,r.Qr)(o.E7),(0,r.Qr)(o.Eb),(0,r.Qr)(o.UG),(0,r.Qr)(o.VQ),(0,r.Qr)(o.o$),(0,r.Qr)(o.S5),(0,r.Qr)(o.Hv),(0,r.fK)(new o.dW)},20699:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===r(a)?a:String(a)),o)}var i,a}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{EU:()=>c,Yl:()=>l,aQ:()=>s,wZ:()=>d,yN:()=>u});var s,u=function(){function e(t){o(this,e),this.value=t}return a(e,[{key:"equals",value:function(e){return this.value===e.value}},{key:"contains",value:function(t){return this.equals(t)||""===this.value||t.value.startsWith(this.value+e.sep)}},{key:"intersects",value:function(e){return this.contains(e)||e.contains(this)}},{key:"append",value:function(t){return new e(this.value+e.sep+t)}}]),e}();function c(e,t){return!(e.include&&!e.include.intersects(t))&&((!e.excludes||!e.excludes.some((function(n){return f(t,n,e.include)})))&&!(!e.includeSourceActions&&u.Source.contains(t)))}function l(e,t){var n=t.kind?new u(t.kind):void 0;return!!(!e.include||n&&e.include.contains(n))&&(!(e.excludes&&n&&e.excludes.some((function(t){return f(n,t,e.include)})))&&(!(!e.includeSourceActions&&n&&u.Source.contains(n))&&!(e.onlyIncludePreferredActions&&!t.isPreferred)))}function f(e,t,n){return!!t.contains(e)&&(!n||!t.contains(n))}u.sep=".",u.None=new u("@@none@@"),u.Empty=new u(""),u.QuickFix=new u("quickfix"),u.Refactor=new u("refactor"),u.Source=new u("source"),u.SourceOrganizeImports=u.Source.append("organizeImports"),u.SourceFixAll=u.Source.append("fixAll"),function(e){e.Refactor="refactor",e.RefactorPreview="refactor preview",e.Lightbulb="lightbulb",e.Default="other (default)",e.SourceAction="source action",e.QuickFix="quick fix action",e.FixAll="fix all",e.OrganizeImports="organize imports",e.AutoFix="auto fix",e.QuickFixHover="quick fix hover window",e.OnSave="save participants",e.ProblemsView="problems view"}(s||(s={}));var d=function(){function e(t,n,r){o(this,e),this.kind=t,this.apply=n,this.preferred=r}return a(e,null,[{key:"fromUser",value:function(t,n){return t&&"object"===r(t)?new e(e.getKindFromUser(t,n.kind),e.getApplyFromUser(t,n.apply),e.getPreferredUser(t)):new e(n.kind,n.apply,!1)}},{key:"getApplyFromUser",value:function(e,t){switch("string"==typeof e.apply?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}},{key:"getKindFromUser",value:function(e,t){return"string"==typeof e.kind?new u(e.kind):t}},{key:"getPreferredUser",value:function(e){return"boolean"==typeof e.preferred&&e.preferred}}]),e}()},66582:(e,t,n)=>{n.r(t),n.d(t,{CodeLensContribution:()=>Ce});var r=n(32007),o=n(95295),i=n(95835),a=n(42800),s=n(38709),u=n(86778),c=n(18679),l=n(97277),f=n(25112),d=n(2307),h=n(8401),p=n(83916),v=n(76758),g=n(69349),y=n(31213);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(){b=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:k(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(E([])));y&&y!==t&&n.call(y,i)&&(v=y);var _=p.prototype=d.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==m(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,r(_,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),u(_,s,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===m(i)?i:String(i)),r)}var o,i}var k=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},C=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lenses=[],this._disposables=new s.SL}var t,n,r;return t=e,(n=[{key:"dispose",value:function(){this._disposables.dispose()}},{key:"isDisposed",get:function(){return this._disposables.isDisposed}},{key:"add",value:function(e,t){this._disposables.add(e);var n,r=_(e.lenses);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.lenses.push({symbol:o,provider:t})}}catch(e){r.e(e)}finally{r.f()}}}])&&S(t.prototype,n),r&&S(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function x(e,t,n){return k(this,void 0,void 0,b().mark((function r(){var o,a,s,u,c=this;return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.ordered(t),a=new Map,s=new C,u=o.map((function(e,r){return k(c,void 0,void 0,b().mark((function o(){var u;return b().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a.set(e,r),o.prev=1,o.next=4,Promise.resolve(e.provideCodeLenses(t,n));case 4:(u=o.sent)&&s.add(u,e),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(1),(0,i.Cp)(o.t0);case 11:case"end":return o.stop()}}),o,null,[[1,8]])})))})),r.next=6,Promise.all(u);case 6:return s.lenses=s.lenses.sort((function(e,t){return e.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:e.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:a.get(e.provider)<a.get(t.provider)?-1:a.get(e.provider)>a.get(t.provider)?1:e.symbol.range.startColumn<t.symbol.range.startColumn?-1:e.symbol.range.startColumn>t.symbol.range.startColumn?1:0})),r.abrupt("return",s);case 8:case"end":return r.stop()}}),r)})))}g.P0.registerCommand("_executeCodeLensProvider",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n[0],a=n[1];(0,h.p_)(p.o.isUri(o)),(0,h.p_)("number"==typeof a||!a);var u=e.get(y.p),c=u.codeLensProvider,l=e.get(v.q).getModel(o);if(!l)throw(0,i.b1)();var f=[],g=new s.SL;return x(c,l,d.T.None).then((function(e){g.add(e);var t,n=[],r=_(e.lenses);try{var o=function(){var e=t.value;null==a||Boolean(e.symbol.command)?f.push(e.symbol):a-- >0&&e.provider.resolveCodeLens&&n.push(Promise.resolve(e.provider.resolveCodeLens(l,e.symbol,d.T.None)).then((function(t){return f.push(t||e.symbol)})))};for(r.s();!(t=r.n()).done;)o()}catch(e){r.e(e)}finally{r.f()}return Promise.all(n)})).then((function(){return f})).finally((function(){setTimeout((function(){return g.dispose()}),100)}))}));var L=n(92733),O=n(85006),E=n(48466),P=n(47123),N=n(63304),I=n(41146);function R(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=A(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function A(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==H(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===H(i)?i:String(i)),r)}var o,i}function F(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}var B=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":H(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},G=function(e,t){return function(n,r){t(n,r,e)}},V=(0,N.yh)("ICodeLensCache"),U=F((function e(t,n){W(this,e),this.lineCount=t,this.data=n})),z=function(){function e(t){var n=this;W(this,e),this._fakeProvider=new(function(){function e(){W(this,e)}return F(e,[{key:"provideCodeLenses",value:function(){throw new Error("not supported")}}]),e}()),this._cache=new O.z6(20,.75);(0,o.To)((function(){return t.remove("codelens/cache",1)}));var r="codelens/cache2",i=t.get(r,1,"{}");this._deserialize(i),(0,L.I)(t.onWillSaveState)((function(e){e.reason===I.fk.SHUTDOWN&&t.store(r,n._serialize(),1,1)}))}return F(e,[{key:"put",value:function(e,t){var n=t.lenses.map((function(e){var t;return{range:e.symbol.range,command:e.symbol.command&&{id:"",title:null===(t=e.symbol.command)||void 0===t?void 0:t.title}}})),r=new C;r.add({lenses:n,dispose:function(){}},this._fakeProvider);var o=new U(e.getLineCount(),r);this._cache.set(e.uri.toString(),o)}},{key:"get",value:function(e){var t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}},{key:"delete",value:function(e){this._cache.delete(e.uri.toString())}},{key:"_serialize",value:function(){var e,t=Object.create(null),n=j(this._cache);try{for(n.s();!(e=n.n()).done;){var r,o=T(e.value,2),i=o[0],a=o[1],s=new Set,u=j(a.data.lenses);try{for(u.s();!(r=u.n()).done;){var c=r.value;s.add(c.symbol.range.startLineNumber)}}catch(e){u.e(e)}finally{u.f()}t[i]={lineCount:a.lineCount,lines:R(s.values())}}}catch(e){n.e(e)}finally{n.f()}return JSON.stringify(t)}},{key:"_deserialize",value:function(e){try{var t=JSON.parse(e);for(var n in t){var r,o=t[n],i=[],a=j(o.lines);try{for(a.s();!(r=a.n()).done;){var s=r.value;i.push({range:new E.e(s,1,s,11)})}}catch(e){a.e(e)}finally{a.f()}var u=new C;u.add({lenses:i,dispose:function(){}},this._fakeProvider),this._cache.set(n,new U(o.lineCount,u))}}catch(e){}}}]),e}();z=B([G(0,I.Uy)],z),(0,P.z)(V,z);var K=n(45601),q=n(3817);function Y(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Z(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Z(i)?i:String(i)),r)}var o,i}function X(e,t,n){return t&&J(e.prototype,t),n&&J(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ee=function(){function e(t,n,r){$(this,e),this.afterColumn=1073741824,this.afterLineNumber=t,this.heightInPx=n,this._onHeight=r,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}return X(e,[{key:"onComputedHeight",value:function(e){void 0===this._lastHeight?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}},{key:"isVisible",value:function(){return 0!==this._lastHeight&&this.domNode.hasAttribute("monaco-visible-view-zone")}}]),e}(),te=function(){function e(t,n,r){$(this,e),this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=t,this._id="codelens.widget-".concat(e._idPool++),this.updatePosition(r),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration ".concat(n)}return X(e,[{key:"withCommands",value:function(e,t){this._commands.clear();for(var n=[],o=!1,i=0;i<e.length;i++){var a=e[i];if(a&&(o=!0,a.command)){var s=(0,K.T)(a.command.title.trim());a.command.id?(n.push(r.$.apply(r,["a",{id:String(i),title:a.command.tooltip,role:"button"}].concat(Y(s)))),this._commands.set(String(i),a.command)):n.push(r.$.apply(r,["span",{title:a.command.tooltip}].concat(Y(s)))),i+1<e.length&&n.push(r.$("span",void 0," | "))}}o?(r.reset.apply(r,[this._domNode].concat(n)),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):r.reset(this._domNode,r.$("span",void 0,"no commands"))}},{key:"getCommand",value:function(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}},{key:"getId",value:function(){return this._id}},{key:"getDomNode",value:function(){return this._domNode}},{key:"updatePosition",value:function(e){var t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}},{key:"getPosition",value:function(){return this._widgetPosition||null}}]),e}();te._idPool=0;var ne=function(){function e(){$(this,e),this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}return X(e,[{key:"addDecoration",value:function(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}},{key:"removeDecoration",value:function(e){this._removeDecorations.push(e)}},{key:"commit",value:function(e){for(var t=e.deltaDecorations(this._removeDecorations,this._addDecorations),n=0,r=t.length;n<r;n++)this._addDecorationsCallbacks[n](t[n])}}]),e}(),re=function(){function e(t,n,r,o,i,a,s){var u,c=this;$(this,e),this._isDisposed=!1,this._editor=n,this._className=r,this._data=t,this._decorationIds=[];var l=[];this._data.forEach((function(e,t){e.symbol.command&&l.push(e.symbol),o.addDecoration({range:e.symbol.range,options:q.qx.EMPTY},(function(e){return c._decorationIds[t]=e})),u=u?E.e.plusRange(u,e.symbol.range):E.e.lift(e.symbol.range)})),this._viewZone=new ee(u.startLineNumber-1,a,s),this._viewZoneId=i.addZone(this._viewZone),l.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(l,!1))}return X(e,[{key:"_createContentWidgetIfNecessary",value:function(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new te(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}},{key:"dispose",value:function(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],null==t||t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}},{key:"isDisposed",value:function(){return this._isDisposed}},{key:"isValid",value:function(){var e=this;return this._decorationIds.some((function(t,n){var r=e._editor.getModel().getDecorationRange(t),o=e._data[n].symbol;return!(!r||E.e.isEmpty(o.range)!==r.isEmpty())}))}},{key:"updateCodeLensSymbols",value:function(e,t){var n=this;this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((function(e,r){t.addDecoration({range:e.symbol.range,options:q.qx.EMPTY},(function(e){return n._decorationIds[r]=e}))}))}},{key:"updateHeight",value:function(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}},{key:"computeIfNecessary",value:function(e){if(!this._viewZone.isVisible())return null;for(var t=0;t<this._decorationIds.length;t++){var n=e.getDecorationRange(this._decorationIds[t]);n&&(this._data[t].symbol.range=n)}return this._data}},{key:"updateCommands",value:function(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(var t=0;t<this._data.length;t++){var n=e[t];if(n){var r=this._data[t].symbol;r.command=n.command||r.command}}}},{key:"getCommand",value:function(e){var t;return null===(t=this._contentWidget)||void 0===t?void 0:t.getCommand(e)}},{key:"getLineNumber",value:function(){var e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}},{key:"update",value:function(e){if(this.isValid()){var t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}]),e}(),oe=n(18063),ie=n(32931),ae=n(39425),se=n(75758);function ue(){ue=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==_e(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function ce(e,t){return ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ce(e,t)}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=de(e);if(t){var o=de(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fe(this,n)}}function fe(e,t){if(t&&("object"===_e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function de(e){return de=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},de(e)}function he(e){return function(e){if(Array.isArray(e))return ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ve(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ve(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function ve(e,t){if(e){if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ge(e,t):void 0}}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==_e(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===_e(i)?i:String(i)),r)}var o,i}function be(e,t,n){return t&&me(e.prototype,t),n&&me(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}var we=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":_e(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Se=function(e,t){return function(n,r){t(n,r,e)}},ke=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Ce=function(){function e(t,n,i,u,c,l){var f=this;ye(this,e),this._editor=t,this._languageFeaturesService=n,this._commandService=u,this._notificationService=c,this._codeLensCache=l,this._disposables=new s.SL,this._localToDispose=new s.SL,this._lenses=[],this._oldCodeLensModels=new s.SL,this._provideCodeLensDebounce=i.for(n.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=i.for(n.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new o.pY((function(){return f._resolveCodeLensesInViewport()}),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel((function(){return f._onModelChange()}))),this._disposables.add(this._editor.onDidChangeModelLanguage((function(){return f._onModelChange()}))),this._disposables.add(this._editor.onDidChangeConfiguration((function(e){(e.hasChanged(46)||e.hasChanged(16)||e.hasChanged(15))&&f._updateLensStyle(),e.hasChanged(14)&&f._onModelChange()}))),this._disposables.add(n.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,a.vp)(this._editor.getId()).toString(16),this._styleElement=r.createStyleSheet(r.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}return be(e,[{key:"dispose",value:function(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null===(e=this._currentCodeLensModel)||void 0===e||e.dispose(),this._styleElement.remove()}},{key:"_getLayoutInfo",value:function(){var e=Math.max(1.3,this._editor.getOption(61)/this._editor.getOption(48)),t=this._editor.getOption(16);return(!t||t<5)&&(t=.9*this._editor.getOption(48)|0),{fontSize:t,codeLensHeight:t*e|0}}},{key:"_updateLensStyle",value:function(){var e=this,t=this._getLayoutInfo(),n=t.codeLensHeight,r=t.fontSize,o=this._editor.getOption(15),i=this._editor.getOption(46),a="--codelens-font-family".concat(this._styleClassName),s="--codelens-font-features".concat(this._styleClassName),u="\n\t\t.monaco-editor .codelens-decoration.".concat(this._styleClassName," { line-height: ").concat(n,"px; font-size: ").concat(r,"px; padding-right: ").concat(Math.round(.5*r),"px; font-feature-settings: var(").concat(s,") }\n\t\t.monaco-editor .codelens-decoration.").concat(this._styleClassName," span.codicon { line-height: ").concat(n,"px; font-size: ").concat(r,"px; }\n\t\t");o&&(u+=".monaco-editor .codelens-decoration.".concat(this._styleClassName," { font-family: var(").concat(a,"), ").concat(l.hL.fontFamily,"}")),this._styleElement.textContent=u,this._editor.getContainerDomNode().style.setProperty(a,null!=o?o:"inherit"),this._editor.getContainerDomNode().style.setProperty(s,i.fontFeatureSettings),this._editor.changeViewZones((function(t){var r,o=pe(e._lenses);try{for(o.s();!(r=o.n()).done;){r.value.updateHeight(n,t)}}catch(e){o.e(e)}finally{o.f()}}))}},{key:"_localDispose",value:function(){var e,t,n;null===(e=this._getCodeLensModelPromise)||void 0===e||e.cancel(),this._getCodeLensModelPromise=void 0,null===(t=this._resolveCodeLensesPromise)||void 0===t||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null===(n=this._currentCodeLensModel)||void 0===n||n.dispose()}},{key:"_onModelChange",value:function(){var e=this;this._localDispose();var t=this._editor.getModel();if(t&&this._editor.getOption(14)){var n=this._codeLensCache.get(t);if(n&&this._renderCodeLensSymbols(n),this._languageFeaturesService.codeLensProvider.has(t)){var r,a=pe(this._languageFeaturesService.codeLensProvider.all(t));try{for(a.s();!(r=a.n()).done;){var c=r.value;if("function"==typeof c.onDidChange){var l=c.onDidChange((function(){return f.schedule()}));this._localToDispose.add(l)}}}catch(e){a.e(e)}finally{a.f()}var f=new o.pY((function(){var n,r=Date.now();null===(n=e._getCodeLensModelPromise)||void 0===n||n.cancel(),e._getCodeLensModelPromise=(0,o.PG)((function(n){return x(e._languageFeaturesService.codeLensProvider,t,n)})),e._getCodeLensModelPromise.then((function(n){e._currentCodeLensModel&&e._oldCodeLensModels.add(e._currentCodeLensModel),e._currentCodeLensModel=n,e._codeLensCache.put(t,n);var o=e._provideCodeLensDebounce.update(t,Date.now()-r);f.delay=o,e._renderCodeLensSymbols(n),e._resolveCodeLensesInViewportSoon()}),i.dL)}),this._provideCodeLensDebounce.get(t));this._localToDispose.add(f),this._localToDispose.add((0,s.OF)((function(){return e._resolveCodeLensesScheduler.cancel()}))),this._localToDispose.add(this._editor.onDidChangeModelContent((function(){e._editor.changeDecorations((function(t){e._editor.changeViewZones((function(n){var r=[],o=-1;e._lenses.forEach((function(e){e.isValid()&&o!==e.getLineNumber()?(e.update(n),o=e.getLineNumber()):r.push(e)}));var i=new ne;r.forEach((function(t){t.dispose(i,n),e._lenses.splice(e._lenses.indexOf(t),1)})),i.commit(t)}))})),f.schedule()}))),this._localToDispose.add(this._editor.onDidFocusEditorWidget((function(){f.schedule()}))),this._localToDispose.add(this._editor.onDidScrollChange((function(t){t.scrollTopChanged&&e._lenses.length>0&&e._resolveCodeLensesInViewportSoon()}))),this._localToDispose.add(this._editor.onDidLayoutChange((function(){e._resolveCodeLensesInViewportSoon()}))),this._localToDispose.add((0,s.OF)((function(){if(e._editor.getModel()){var t=u.Z.capture(e._editor);e._editor.changeDecorations((function(t){e._editor.changeViewZones((function(n){e._disposeAllLenses(t,n)}))})),t.restore(e._editor)}else e._disposeAllLenses(void 0,void 0)}))),this._localToDispose.add(this._editor.onMouseDown((function(t){if(9===t.target.type){var n=t.target.element;if("SPAN"===(null==n?void 0:n.tagName)&&(n=n.parentElement),"A"===(null==n?void 0:n.tagName)){var r,o=pe(e._lenses);try{for(o.s();!(r=o.n()).done;){var i=r.value.getCommand(n);if(i){var a;(a=e._commandService).executeCommand.apply(a,[i.id].concat(he(i.arguments||[]))).catch((function(t){return e._notificationService.error(t)}));break}}}catch(e){o.e(e)}finally{o.f()}}}}))),f.schedule()}else n&&this._localToDispose.add((0,o.Vg)((function(){var r=e._codeLensCache.get(t);n===r&&(e._codeLensCache.delete(t),e._onModelChange())}),3e4))}}},{key:"_disposeAllLenses",value:function(e,t){var n,r=new ne,o=pe(this._lenses);try{for(o.s();!(n=o.n()).done;){n.value.dispose(r,t)}}catch(e){o.e(e)}finally{o.f()}e&&r.commit(e),this._lenses.length=0}},{key:"_renderCodeLensSymbols",value:function(e){var t=this;if(this._editor.hasModel()){var n,r,o=this._editor.getModel().getLineCount(),i=[],a=pe(e.lenses);try{for(a.s();!(r=a.n()).done;){var s=r.value,c=s.symbol.range.startLineNumber;c<1||c>o||(n&&n[n.length-1].symbol.range.startLineNumber===c?n.push(s):(n=[s],i.push(n)))}}catch(e){a.e(e)}finally{a.f()}var l=u.Z.capture(this._editor),f=this._getLayoutInfo();this._editor.changeDecorations((function(e){t._editor.changeViewZones((function(n){for(var r=new ne,o=0,a=0;a<i.length&&o<t._lenses.length;){var s=i[a][0].symbol.range.startLineNumber,u=t._lenses[o].getLineNumber();u<s?(t._lenses[o].dispose(r,n),t._lenses.splice(o,1)):u===s?(t._lenses[o].updateCodeLensSymbols(i[a],r),a++,o++):(t._lenses.splice(o,0,new re(i[a],t._editor,t._styleClassName,r,n,f.codeLensHeight,(function(){return t._resolveCodeLensesInViewportSoon()}))),o++,a++)}for(;o<t._lenses.length;)t._lenses[o].dispose(r,n),t._lenses.splice(o,1);for(;a<i.length;)t._lenses.push(new re(i[a],t._editor,t._styleClassName,r,n,f.codeLensHeight,(function(){return t._resolveCodeLensesInViewportSoon()}))),a++;r.commit(e)}))})),l.restore(this._editor)}}},{key:"_resolveCodeLensesInViewportSoon",value:function(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}},{key:"_resolveCodeLensesInViewport",value:function(){var e,t=this;null===(e=this._resolveCodeLensesPromise)||void 0===e||e.cancel(),this._resolveCodeLensesPromise=void 0;var n=this._editor.getModel();if(n){var r=[],a=[];if(this._lenses.forEach((function(e){var t=e.computeIfNecessary(n);t&&(r.push(t),a.push(e))})),0!==r.length){var s=Date.now(),u=(0,o.PG)((function(e){var t=r.map((function(t,r){var o=new Array(t.length),s=t.map((function(t,r){return t.symbol.command||"function"!=typeof t.provider.resolveCodeLens?(o[r]=t.symbol,Promise.resolve(void 0)):Promise.resolve(t.provider.resolveCodeLens(n,t.symbol,e)).then((function(e){o[r]=e}),i.Cp)}));return Promise.all(s).then((function(){e.isCancellationRequested||a[r].isDisposed()||a[r].updateCommands(o)}))}));return Promise.all(t)}));this._resolveCodeLensesPromise=u,this._resolveCodeLensesPromise.then((function(){var e=t._resolveCodeLensesDebounce.update(n,Date.now()-s);t._resolveCodeLensesScheduler.delay=e,t._currentCodeLensModel&&t._codeLensCache.put(n,t._currentCodeLensModel),t._oldCodeLensModels.clear(),u===t._resolveCodeLensesPromise&&(t._resolveCodeLensesPromise=void 0)}),(function(e){(0,i.dL)(e),u===t._resolveCodeLensesPromise&&(t._resolveCodeLensesPromise=void 0)}))}}}},{key:"getModel",value:function(){return this._currentCodeLensModel}}]),e}();Ce.ID="css.editor.codeLens",Ce=we([Se(1,y.p),Se(2,se.A),Se(3,g.Hy),Se(4,ie.lT),Se(5,V)],Ce),(0,c._K)(Ce.ID,Ce),(0,c.Qr)(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ce(e,t)}(n,e);var t=le(n);function n(){return ye(this,n),t.call(this,{id:"codelens.showLensesInCurrentLine",precondition:f.u.hasCodeLensProvider,label:(0,oe.NC)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}return be(n,[{key:"run",value:function(e,t){return ke(this,void 0,void 0,ue().mark((function n(){var r,o,i,a,s,u,c,l,f,d,h;return ue().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.hasModel()){n.next=2;break}return n.abrupt("return");case 2:if(r=e.get(ae.eJ),o=e.get(g.Hy),i=e.get(ie.lT),a=t.getSelection().positionLineNumber,s=t.getContribution(Ce.ID)){n.next=9;break}return n.abrupt("return");case 9:if(u=s.getModel()){n.next=12;break}return n.abrupt("return");case 12:c=[],l=pe(u.lenses);try{for(l.s();!(f=l.n()).done;)(d=f.value).symbol.command&&d.symbol.range.startLineNumber===a&&c.push({label:d.symbol.command.title,command:d.symbol.command})}catch(e){l.e(e)}finally{l.f()}if(0!==c.length){n.next=17;break}return n.abrupt("return");case 17:return n.next=19,r.pick(c,{canPickMany:!1});case 19:if(h=n.sent){n.next=22;break}return n.abrupt("return");case 22:if(!u.isDisposed){n.next=26;break}return n.next=25,o.executeCommand(this.id);case 25:return n.abrupt("return",n.sent);case 26:return n.prev=26,n.next=29,o.executeCommand.apply(o,[h.command.id].concat(he(h.command.arguments||[])));case 29:n.next=34;break;case 31:n.prev=31,n.t0=n.catch(26),i.error(n.t0);case 34:case"end":return n.stop()}}),n,this,[[26,31]])})))}}]),n}(c.R6))},26272:(e,t,n)=>{n.r(t),n.d(t,{ColorContribution:()=>He});var r=n(38709),o=n(18679),i=n(48466),a=n(95295),s=n(60160),u=n(95835),c=n(16769),l=n(46969),f=n(20378),d=n(3817),h=n(75758),p=n(31213),v=n(2307),g=n(83916),y=n(76758),m=n(69349);function b(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=S(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function S(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t,n){var r=[],o=e.ordered(t).reverse().map((function(e){return Promise.resolve(e.provideDocumentColors(t,n)).then((function(t){if(Array.isArray(t)){var n,o=w(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;r.push({colorInfo:i,provider:e})}}catch(e){o.e(e)}finally{o.f()}}}))}));return Promise.all(o).then((function(){return r}))}function x(e,t,n,r){return Promise.resolve(n.provideColorPresentations(e,t,r))}m.P0.registerCommand("_executeDocumentColorProvider",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n[0];if(!(o instanceof g.o))throw(0,u.b1)();var i=e.get(p.p),a=i.colorProvider,s=e.get(y.q).getModel(o);if(!s)throw(0,u.b1)();var c=[],l=a.ordered(s).reverse(),f=l.map((function(e){return Promise.resolve(e.provideDocumentColors(s,v.T.None)).then((function(e){if(Array.isArray(e)){var t,n=w(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;c.push({range:r.range,color:[r.color.red,r.color.green,r.color.blue,r.color.alpha]})}}catch(e){n.e(e)}finally{n.f()}}}))}));return Promise.all(f).then((function(){return c}))})),m.P0.registerCommand("_executeColorPresentationProvider",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n[0],a=n[1],s=a.uri,c=a.range;if(!(s instanceof g.o&&Array.isArray(o)&&4===o.length&&i.e.isIRange(c)))throw(0,u.b1)();var l=_(o,4),f=l[0],d=l[1],h=l[2],m=l[3],w=e.get(p.p),S=w.colorProvider,k=e.get(y.q).getModel(s);if(!k)throw(0,u.b1)();var C={range:c,color:{red:f,green:d,blue:h,alpha:m}},x=[],L=S.ordered(k).reverse(),O=L.map((function(e){return Promise.resolve(e.provideColorPresentations(k,C,v.T.None)).then((function(e){Array.isArray(e)&&x.push.apply(x,b(e))}))}));return Promise.all(O).then((function(){return x}))}));var L=n(4537);function O(){O=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==A(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return E()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===A(i)?i:String(i)),r)}var o,i}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=N(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},P.apply(this,arguments)}function N(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}var D=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":A(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},M=function(e,t){return function(n,r){t(n,r,e)}},F=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},W=Object.create({}),H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(p,e);var t,n,o,h=R(p);function p(e,t,n,o){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(i=h.call(this))._editor=e,i._configurationService=t,i._languageFeaturesService=n,i._localToDispose=i._register(new r.SL),i._decorationsIds=[],i._colorDatas=new Map,i._colorDecoratorIds=i._editor.createDecorationsCollection(),i._ruleFactory=new f.t7(i._editor),i._colorDecorationClassRefs=i._register(new r.SL),i._debounceInformation=o.for(n.colorProvider,"Document Colors",{min:p.RECOMPUTE_TIME}),i._register(e.onDidChangeModel((function(){i._isEnabled=i.isEnabled(),i.onModelChanged()}))),i._register(e.onDidChangeModelLanguage((function(){return i.onModelChanged()}))),i._register(n.colorProvider.onDidChange((function(){return i.onModelChanged()}))),i._register(e.onDidChangeConfiguration((function(){var e=i._isEnabled;i._isEnabled=i.isEnabled(),e!==i._isEnabled&&(i._isEnabled?i.onModelChanged():i.removeAllDecorations())}))),i._timeoutTimer=null,i._computePromise=null,i._isEnabled=i.isEnabled(),i.onModelChanged(),i}return t=p,o=[{key:"get",value:function(e){return e.getContribution(this.ID)}}],(n=[{key:"isEnabled",value:function(){var e=this._editor.getModel();if(!e)return!1;var t=e.getLanguageId(),n=this._configurationService.getValue(t);if(n&&"object"===A(n)){var r=n.colorDecorators;if(r&&void 0!==r.enable&&!r.enable)return r.enable}return this._editor.getOption(17)}},{key:"dispose",value:function(){this.stop(),this.removeAllDecorations(),P(j(p.prototype),"dispose",this).call(this)}},{key:"onModelChanged",value:function(){var e=this;if(this.stop(),this._isEnabled){var t=this._editor.getModel();t&&this._languageFeaturesService.colorProvider.has(t)&&(this._localToDispose.add(this._editor.onDidChangeModelContent((function(){e._timeoutTimer||(e._timeoutTimer=new a._F,e._timeoutTimer.cancelAndSet((function(){e._timeoutTimer=null,e.beginCompute()}),e._debounceInformation.get(t)))}))),this.beginCompute())}}},{key:"beginCompute",value:function(){var e=this;this._computePromise=(0,a.PG)((function(t){return F(e,void 0,void 0,O().mark((function e(){var n,r,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._editor.getModel()){e.next=3;break}return e.abrupt("return",Promise.resolve([]));case 3:return r=new c.G(!1),e.next=6,C(this._languageFeaturesService.colorProvider,n,t);case 6:return o=e.sent,this._debounceInformation.update(n,r.elapsed()),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e,this)})))})),this._computePromise.then((function(t){e.updateDecorations(t),e.updateColorDecorators(t),e._computePromise=null}),u.dL)}},{key:"stop",value:function(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}},{key:"updateDecorations",value:function(e){var t=this,n=e.map((function(e){return{range:{startLineNumber:e.colorInfo.range.startLineNumber,startColumn:e.colorInfo.range.startColumn,endLineNumber:e.colorInfo.range.endLineNumber,endColumn:e.colorInfo.range.endColumn},options:d.qx.EMPTY}}));this._editor.changeDecorations((function(r){t._decorationsIds=r.deltaDecorations(t._decorationsIds,n),t._colorDatas=new Map,t._decorationsIds.forEach((function(n,r){return t._colorDatas.set(n,e[r])}))}))}},{key:"updateColorDecorators",value:function(e){this._colorDecorationClassRefs.clear();for(var t=[],n=0;n<e.length&&t.length<500;n++){var r=e[n].colorInfo.color,o=r.red,i=r.green,a=r.blue,u=r.alpha,c=new s.VS(Math.round(255*o),Math.round(255*i),Math.round(255*a),u),f="rgba(".concat(c.r,", ").concat(c.g,", ").concat(c.b,", ").concat(c.a,")"),d=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:f}));t.push({range:{startLineNumber:e[n].colorInfo.range.startLineNumber,startColumn:e[n].colorInfo.range.startColumn,endLineNumber:e[n].colorInfo.range.endLineNumber,endColumn:e[n].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:l.B4,inlineClassName:"".concat(d.className," colorpicker-color-decoration"),inlineClassNameAffectsLetterSpacing:!0,attachedData:W}}})}this._colorDecoratorIds.set(t)}},{key:"removeAllDecorations",value:function(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}},{key:"getColorData",value:function(e){var t=this,n=this._editor.getModel();if(!n)return null;var r=n.getDecorationsInRange(i.e.fromPositions(e,e)).filter((function(e){return t._colorDatas.has(e.id)}));return 0===r.length?null:this._colorDatas.get(r[0].id)}},{key:"isColorDecoration",value:function(e){return this._colorDecoratorIds.has(e)}}])&&E(t.prototype,n),o&&E(t,o),Object.defineProperty(t,"prototype",{writable:!1}),p}(r.JT);H.ID="editor.contrib.colorDetector",H.RECOMPUTE_TIME=1e3,H=D([M(1,L.Ui),M(2,p.p),M(3,h.A)],H),(0,o._K)(H.ID,H);var B=n(82459);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==G(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===G(i)?i:String(i)),r)}var o,i}var U=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.presentationIndex=r,this._onColorFlushed=new B.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new B.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new B.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=t,this._color=t,this._colorPresentations=n}var t,n,r;return t=e,(n=[{key:"color",get:function(){return this._color},set:function(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}},{key:"presentation",get:function(){return this.colorPresentations[this.presentationIndex]}},{key:"colorPresentations",get:function(){return this._colorPresentations},set:function(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}},{key:"selectNextColorPresentation",value:function(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}},{key:"guessColorPresentation",value:function(e,t){for(var n=0;n<this.colorPresentations.length;n++)if(t.toLowerCase()===this.colorPresentations[n].label){this.presentationIndex=n,this._onDidChangePresentation.fire(this.presentation);break}}},{key:"flushColor",value:function(){this._onColorFlushed.fire(this._color)}}])&&V(t.prototype,n),r&&V(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),z=n(38817),K=n(32007),q=n(35649),Y=n(69802),Q=n(18063),Z=n(41367),$=n(38656);function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==J(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===J(i)?i:String(i)),r)}var o,i}function te(e,t,n){return t&&ee(e.prototype,t),n&&ee(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ne(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&re(e,t)}function re(e,t){return re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},re(e,t)}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=se(e);if(t){var o=se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ie(this,n)}}function ie(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ae(e)}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},se(e)}var ue=K.$,ce=function(e){ne(n,e);var t=oe(n);function n(e,r,o){var i;X(this,n),(i=t.call(this)).model=r,i.domNode=ue(".colorpicker-header"),K.append(e,i.domNode),i.pickedColorNode=K.append(i.domNode,ue(".picked-color"));var a=(0,Q.NC)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");i.pickedColorNode.setAttribute("title",a);var u=K.append(i.domNode,ue(".original-color"));return u.style.backgroundColor=s.Il.Format.CSS.format(i.model.originalColor)||"",i.backgroundColor=o.getColorTheme().getColor(Z.yJx)||s.Il.white,i._register((0,$.Ic)((function(e,t){i.backgroundColor=e.getColor(Z.yJx)||s.Il.white}))),i._register(K.addDisposableListener(i.pickedColorNode,K.EventType.CLICK,(function(){return i.model.selectNextColorPresentation()}))),i._register(K.addDisposableListener(u,K.EventType.CLICK,(function(){i.model.color=i.model.originalColor,i.model.flushColor()}))),i._register(r.onDidChangeColor(i.onDidChangeColor,ae(i))),i._register(r.onDidChangePresentation(i.onDidChangePresentation,ae(i))),i.pickedColorNode.style.backgroundColor=s.Il.Format.CSS.format(r.color)||"",i.pickedColorNode.classList.toggle("light",r.color.rgba.a<.5?i.backgroundColor.isLighter():r.color.isLighter()),i.onDidChangeColor(i.model.color),i}return te(n,[{key:"onDidChangeColor",value:function(e){this.pickedColorNode.style.backgroundColor=s.Il.Format.CSS.format(e)||"",this.pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}},{key:"onDidChangePresentation",value:function(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(ue(".codicon.codicon-color-mode"))}}]),n}(r.JT),le=function(e){ne(n,e);var t=oe(n);function n(e,r,o){var i;return X(this,n),(i=t.call(this)).model=r,i.pixelRatio=o,i.domNode=ue(".colorpicker-body"),K.append(e,i.domNode),i.saturationBox=new fe(i.domNode,i.model,i.pixelRatio),i._register(i.saturationBox),i._register(i.saturationBox.onDidChange(i.onDidSaturationValueChange,ae(i))),i._register(i.saturationBox.onColorFlushed(i.flushColor,ae(i))),i.opacityStrip=new he(i.domNode,i.model),i._register(i.opacityStrip),i._register(i.opacityStrip.onDidChange(i.onDidOpacityChange,ae(i))),i._register(i.opacityStrip.onColorFlushed(i.flushColor,ae(i))),i.hueStrip=new pe(i.domNode,i.model),i._register(i.hueStrip),i._register(i.hueStrip.onDidChange(i.onDidHueChange,ae(i))),i._register(i.hueStrip.onColorFlushed(i.flushColor,ae(i))),i}return te(n,[{key:"flushColor",value:function(){this.model.flushColor()}},{key:"onDidSaturationValueChange",value:function(e){var t=e.s,n=e.v,r=this.model.color.hsva;this.model.color=new s.Il(new s.tx(r.h,t,n,r.a))}},{key:"onDidOpacityChange",value:function(e){var t=this.model.color.hsva;this.model.color=new s.Il(new s.tx(t.h,t.s,t.v,e))}},{key:"onDidHueChange",value:function(e){var t=this.model.color.hsva,n=360*(1-e);this.model.color=new s.Il(new s.tx(360===n?0:n,t.s,t.v,t.a))}},{key:"layout",value:function(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}]),n}(r.JT),fe=function(e){ne(n,e);var t=oe(n);function n(e,r,o){var i;return X(this,n),(i=t.call(this)).model=r,i.pixelRatio=o,i._onDidChange=new B.Q5,i.onDidChange=i._onDidChange.event,i._onColorFlushed=new B.Q5,i.onColorFlushed=i._onColorFlushed.event,i.domNode=ue(".saturation-wrap"),K.append(e,i.domNode),i.canvas=document.createElement("canvas"),i.canvas.className="saturation-box",K.append(i.domNode,i.canvas),i.selection=ue(".saturation-selection"),K.append(i.domNode,i.selection),i.layout(),i._register(K.addDisposableListener(i.domNode,K.EventType.POINTER_DOWN,(function(e){return i.onPointerDown(e)}))),i._register(i.model.onDidChangeColor(i.onDidChangeColor,ae(i))),i.monitor=null,i}return te(n,[{key:"onPointerDown",value:function(e){var t=this;if(e.target&&e.target instanceof Element){this.monitor=this._register(new q.C);var n=K.getDomNodePagePosition(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.pointerId,e.buttons,(function(e){return t.onDidChangePosition(e.pageX-n.left,e.pageY-n.top)}),(function(){return null}));var r=K.addDisposableListener(document,K.EventType.POINTER_UP,(function(){t._onColorFlushed.fire(),r.dispose(),t.monitor&&(t.monitor.stopMonitoring(!0),t.monitor=null)}),!0)}}},{key:"onDidChangePosition",value:function(e,t){var n=Math.max(0,Math.min(1,e/this.width)),r=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(n,r),this._onDidChange.fire({s:n,v:r})}},{key:"layout",value:function(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();var e=this.model.color.hsva;this.paintSelection(e.s,e.v)}},{key:"paint",value:function(){var e=this.model.color.hsva,t=new s.Il(new s.tx(e.h,1,1,1)),n=this.canvas.getContext("2d"),r=n.createLinearGradient(0,0,this.canvas.width,0);r.addColorStop(0,"rgba(255, 255, 255, 1)"),r.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),r.addColorStop(1,"rgba(255, 255, 255, 0)");var o=n.createLinearGradient(0,0,0,this.canvas.height);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(1,"rgba(0, 0, 0, 1)"),n.rect(0,0,this.canvas.width,this.canvas.height),n.fillStyle=s.Il.Format.CSS.format(t),n.fill(),n.fillStyle=r,n.fill(),n.fillStyle=o,n.fill()}},{key:"paintSelection",value:function(e,t){this.selection.style.left="".concat(e*this.width,"px"),this.selection.style.top="".concat(this.height-t*this.height,"px")}},{key:"onDidChangeColor",value:function(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}]),n}(r.JT),de=function(e){ne(n,e);var t=oe(n);function n(e,r){var o;return X(this,n),(o=t.call(this)).model=r,o._onDidChange=new B.Q5,o.onDidChange=o._onDidChange.event,o._onColorFlushed=new B.Q5,o.onColorFlushed=o._onColorFlushed.event,o.domNode=K.append(e,ue(".strip")),o.overlay=K.append(o.domNode,ue(".overlay")),o.slider=K.append(o.domNode,ue(".slider")),o.slider.style.top="0px",o._register(K.addDisposableListener(o.domNode,K.EventType.POINTER_DOWN,(function(e){return o.onPointerDown(e)}))),o.layout(),o}return te(n,[{key:"layout",value:function(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;var e=this.getValue(this.model.color);this.updateSliderPosition(e)}},{key:"onPointerDown",value:function(e){var t=this;if(e.target&&e.target instanceof Element){var n=this._register(new q.C),r=K.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),n.startMonitoring(e.target,e.pointerId,e.buttons,(function(e){return t.onDidChangeTop(e.pageY-r.top)}),(function(){return null}));var o=K.addDisposableListener(document,K.EventType.POINTER_UP,(function(){t._onColorFlushed.fire(),o.dispose(),n.stopMonitoring(!0),t.domNode.classList.remove("grabbing")}),!0)}}},{key:"onDidChangeTop",value:function(e){var t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}},{key:"updateSliderPosition",value:function(e){this.slider.style.top="".concat((1-e)*this.height,"px")}}]),n}(r.JT),he=function(e){ne(n,e);var t=oe(n);function n(e,r){var o;return X(this,n),(o=t.call(this,e,r)).domNode.classList.add("opacity-strip"),o._register(r.onDidChangeColor(o.onDidChangeColor,ae(o))),o.onDidChangeColor(o.model.color),o}return te(n,[{key:"onDidChangeColor",value:function(e){var t=e.rgba,n=t.r,r=t.g,o=t.b,i=new s.Il(new s.VS(n,r,o,1)),a=new s.Il(new s.VS(n,r,o,0));this.overlay.style.background="linear-gradient(to bottom, ".concat(i," 0%, ").concat(a," 100%)")}},{key:"getValue",value:function(e){return e.hsva.a}}]),n}(de),pe=function(e){ne(n,e);var t=oe(n);function n(e,r){var o;return X(this,n),(o=t.call(this,e,r)).domNode.classList.add("hue-strip"),o}return te(n,[{key:"getValue",value:function(e){return 1-e.hsva.h/360}}]),n}(de),ve=function(e){ne(n,e);var t=oe(n);function n(e,r,o,i){var a;X(this,n),(a=t.call(this)).model=r,a.pixelRatio=o,a._register(z.PixelRatio.onDidChange((function(){return a.layout()})));var s=ue(".colorpicker-widget");e.appendChild(s);var u=new ce(s,a.model,i);return a.body=new le(s,a.model,a.pixelRatio),a._register(u),a._register(a.body),a}return te(n,[{key:"layout",value:function(){this.body.layout()}}]),n}(Y.$);function ge(e){return function(e){if(Array.isArray(e))return _e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||be(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(){ye=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==Ce(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function me(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=be(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function be(e,t){if(e){if("string"==typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(e,t):void 0}}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Ce(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Ce(i)?i:String(i)),r)}var o,i}function ke(e,t,n){return t&&Se(e.prototype,t),n&&Se(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}var xe=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Ce(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Le=function(e,t){return function(n,r){t(n,r,e)}},Oe=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Ee=function(){function e(t,n,r,o){we(this,e),this.owner=t,this.range=n,this.model=r,this.provider=o,this.forceShowAtRange=!0}return ke(e,[{key:"isValidForHoverAnchor",value:function(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),e}(),Pe=function(){function e(t,n){we(this,e),this._editor=t,this._themeService=n,this.hoverOrdinal=1}return ke(e,[{key:"computeSync",value:function(e,t){return[]}},{key:"computeAsync",value:function(e,t,n){return a.Aq.fromPromise(this._computeAsync(e,t,n))}},{key:"_computeAsync",value:function(e,t,n){return Oe(this,void 0,void 0,ye().mark((function e(){var n,r,o,i,a,s;return ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._editor.hasModel()){e.next=2;break}return e.abrupt("return",[]);case 2:if(n=H.get(this._editor)){e.next=5;break}return e.abrupt("return",[]);case 5:r=me(t),e.prev=6,r.s();case 8:if((o=r.n()).done){e.next=20;break}if(i=o.value,n.isColorDecoration(i)){e.next=12;break}return e.abrupt("continue",18);case 12:if(!(a=n.getColorData(i.range.getStartPosition()))){e.next=18;break}return e.next=16,this._createColorHover(this._editor.getModel(),a.colorInfo,a.provider);case 16:return s=e.sent,e.abrupt("return",[s]);case 18:e.next=8;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(6),r.e(e.t0);case 25:return e.prev=25,r.f(),e.finish(25);case 28:return e.abrupt("return",[]);case 29:case"end":return e.stop()}}),e,this,[[6,22,25,28]])})))}},{key:"_createColorHover",value:function(e,t,n){return Oe(this,void 0,void 0,ye().mark((function r(){var o,a,u,c,l,f,d,h,p,g;return ye().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.getValueInRange(t.range),a=t.color,u=a.red,c=a.green,l=a.blue,f=a.alpha,d=new s.VS(Math.round(255*u),Math.round(255*c),Math.round(255*l),f),h=new s.Il(d),r.next=6,x(e,t,n,v.T.None);case 6:return p=r.sent,(g=new U(h,[],0)).colorPresentations=p||[],g.guessColorPresentation(h,o),r.abrupt("return",new Ee(this,i.e.lift(t.range),g,n));case 11:case"end":return r.stop()}}),r,this)})))}},{key:"renderHoverParts",value:function(e,t){var n=this;if(0===t.length||!this._editor.hasModel())return r.JT.None;var o=new r.SL,a=t[0],s=this._editor.getModel(),u=a.model,c=o.add(new ve(e.fragment,u,this._editor.getOption(131),this._themeService));e.setColorPicker(c);var l=new i.e(a.range.startLineNumber,a.range.startColumn,a.range.endLineNumber,a.range.endColumn),f=function(){var t,r;if(u.presentation.textEdit){t=[u.presentation.textEdit],r=new i.e(u.presentation.textEdit.range.startLineNumber,u.presentation.textEdit.range.startColumn,u.presentation.textEdit.range.endLineNumber,u.presentation.textEdit.range.endColumn);var o=n._editor.getModel()._setTrackedRange(null,r,3);n._editor.pushUndoStop(),n._editor.executeEdits("colorpicker",t),r=n._editor.getModel()._getTrackedRange(o)||r}else t=[{range:l,text:u.presentation.label,forceMoveMarkers:!1}],r=l.setEndPosition(l.endLineNumber,l.startColumn+u.presentation.label.length),n._editor.pushUndoStop(),n._editor.executeEdits("colorpicker",t);u.presentation.additionalTextEdits&&(t=ge(u.presentation.additionalTextEdits),n._editor.executeEdits("colorpicker",t),e.hide()),n._editor.pushUndoStop(),l=r},d=function(e){return x(s,{range:l,color:{red:e.rgba.r/255,green:e.rgba.g/255,blue:e.rgba.b/255,alpha:e.rgba.a}},a.provider,v.T.None).then((function(e){u.colorPresentations=e||[]}))};return o.add(u.onColorFlushed((function(e){d(e).then(f)}))),o.add(u.onDidChangeColor(d)),o}}]),e}();Pe=xe([Le(1,$.XE)],Pe);var Ne=n(6431),Ie=n(52115);function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Re(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Re(i)?i:String(i)),r)}var o,i}function je(){return je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ae(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},je.apply(this,arguments)}function Ae(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=We(e)););return e}function De(e,t){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},De(e,t)}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=We(e);if(t){var o=We(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fe(this,n)}}function Fe(e,t){if(t&&("object"===Re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function We(e){return We=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},We(e)}var He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}(a,e);var t,n,r,o=Me(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this))._editor=e,t._register(e.onMouseDown((function(e){return t.onMouseDown(e)}))),t}return t=a,(n=[{key:"dispose",value:function(){je(We(a.prototype),"dispose",this).call(this)}},{key:"onMouseDown",value:function(e){var t=e.target;if(6===t.type&&t.detail.injectedText&&t.detail.injectedText.options.attachedData===W&&t.range){var n=this._editor.getContribution(Ne.ModesHoverController.ID);if(n&&!n.isColorPickerVisible()){var r=new i.e(t.range.startLineNumber,t.range.startColumn+1,t.range.endLineNumber,t.range.endColumn+1);n.showContentHover(r,1,!1)}}}}])&&Te(t.prototype,n),r&&Te(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.JT);He.ID="editor.contrib.colorContribution",(0,o._K)(He.ID,He),Ie.Ae.register(Pe)},16226:(e,t,n)=>{n.r(t);var r=n(11407),o=n(18679),i=n(48466),a=n(25112),s=n(77846),u=n(23942),c=n(51638),l=n(85963);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===f(i)?i:String(i)),r)}var o,i}var v=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.languageConfigurationService=r,this._selection=t,this._insertSpace=n,this._usedEndToken=null}var t,n,r;return t=e,r=[{key:"_haystackHasNeedleAtOffset",value:function(e,t,n){if(n<0)return!1;var r=t.length;if(n+r>e.length)return!1;for(var o=0;o<r;o++){var i=e.charCodeAt(n+o),a=t.charCodeAt(o);if(i!==a&&!(i>=65&&i<=90&&i+32===a||a>=65&&a<=90&&a+32===i))return!1}return!0}},{key:"_createRemoveBlockCommentOperations",value:function(e,t,n){var r=[];return i.e.isEmpty(e)?r.push(u.h.delete(new i.e(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+n.length))):(r.push(u.h.delete(new i.e(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),r.push(u.h.delete(new i.e(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+n.length)))),r}},{key:"_createAddBlockCommentOperations",value:function(e,t,n,r){var o=[];return i.e.isEmpty(e)?o.push(u.h.replace(new i.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+n)):(o.push(u.h.insert(new c.L(e.startLineNumber,e.startColumn),t+(r?" ":""))),o.push(u.h.insert(new c.L(e.endLineNumber,e.endColumn),(r?" ":"")+n))),o}}],(n=[{key:"_createOperationsForBlockComment",value:function(t,n,r,o,a,s){var u,c=t.startLineNumber,l=t.startColumn,f=t.endLineNumber,h=t.endColumn,p=a.getLineContent(c),v=a.getLineContent(f),g=p.lastIndexOf(n,l-1+n.length),y=v.indexOf(r,h-1-r.length);if(-1!==g&&-1!==y)if(c===f)p.substring(g+n.length,y).indexOf(r)>=0&&(g=-1,y=-1);else{var m=p.substring(g+n.length),b=v.substring(0,y);(m.indexOf(r)>=0||b.indexOf(r)>=0)&&(g=-1,y=-1)}-1!==g&&-1!==y?(o&&g+n.length<p.length&&32===p.charCodeAt(g+n.length)&&(n+=" "),o&&y>0&&32===v.charCodeAt(y-1)&&(r=" "+r,y-=1),u=e._createRemoveBlockCommentOperations(new i.e(c,g+n.length+1,f,y+1),n,r)):(u=e._createAddBlockCommentOperations(t,n,r,this._insertSpace),this._usedEndToken=1===u.length?r:null);var _,w=d(u);try{for(w.s();!(_=w.n()).done;){var S=_.value;s.addTrackedEditOperation(S.range,S.text)}}catch(e){w.e(e)}finally{w.f()}}},{key:"getEditOperations",value:function(e,t){var n=this._selection.startLineNumber,r=this._selection.startColumn;e.tokenization.tokenizeIfCheap(n);var o=e.getLanguageIdAtPosition(n,r),i=this.languageConfigurationService.getLanguageConfiguration(o).comments;i&&i.blockCommentStartToken&&i.blockCommentEndToken&&this._createOperationsForBlockComment(this._selection,i.blockCommentStartToken,i.blockCommentEndToken,this._insertSpace,e,t)}},{key:"computeCursorState",value:function(e,t){var n=t.getInverseEditOperations();if(2===n.length){var r=n[0],o=n[1];return new l.Y(r.range.endLineNumber,r.range.endColumn,o.range.startLineNumber,o.range.startColumn)}var i=n[0].range,a=this._usedEndToken?-this._usedEndToken.length-1:0;return new l.Y(i.endLineNumber,i.endColumn+a,i.endLineNumber,i.endColumn+a)}}])&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),g=n(46969);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===y(i)?i:String(i)),r)}var o,i}var w=function(){function e(t,n,r,o,i,a,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.languageConfigurationService=t,this._selection=n,this._tabSize=r,this._type=o,this._insertSpace=i,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=a,this._ignoreFirstLine=s||!1}var t,n,r;return t=e,r=[{key:"_gatherPreflightCommentStrings",value:function(e,t,n,r){e.tokenization.tokenizeIfCheap(t);var o=e.getLanguageIdAtPosition(t,1),i=r.getLanguageConfiguration(o).comments,a=i?i.lineCommentToken:null;if(!a)return null;for(var s=[],u=0,c=n-t+1;u<c;u++)s[u]={ignore:!1,commentStr:a,commentStrOffset:0,commentStrLength:a.length};return s}},{key:"_analyzeLines",value:function(e,t,n,r,o,i,a,s){var u,c=!0;u=0===e||1!==e;for(var l=0,f=r.length;l<f;l++){var d=r[l],h=o+l;if(h===o&&a)d.ignore=!0;else{var p=n.getLineContent(h),y=g.LC(p);if(-1!==y){if(c=!1,d.ignore=!1,d.commentStrOffset=y,u&&!v._haystackHasNeedleAtOffset(p,d.commentStr,y)&&(0===e?u=!1:1===e||(d.ignore=!0)),u&&t){var m=y+d.commentStrLength;m<p.length&&32===p.charCodeAt(m)&&(d.commentStrLength+=1)}}else d.ignore=i,d.commentStrOffset=p.length}}if(0===e&&c){u=!1;for(var b=0,_=r.length;b<_;b++)r[b].ignore=!1}return{supported:!0,shouldRemoveComments:u,lines:r}}},{key:"_gatherPreflightData",value:function(t,n,r,o,i,a,s,u){var c=e._gatherPreflightCommentStrings(r,o,i,u);return null===c?{supported:!1}:e._analyzeLines(t,n,r,c,o,a,s,u)}},{key:"_createRemoveLineCommentsOperations",value:function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var a=e[r];a.ignore||n.push(u.h.delete(new i.e(t+r,a.commentStrOffset+1,t+r,a.commentStrOffset+a.commentStrLength+1)))}return n}},{key:"nextVisibleColumn",value:function(e,t,n,r){return n?e+(t-e%t):e+r}},{key:"_normalizeInsertionPoint",value:function(t,n,r,o){for(var i,a,s=1073741824,u=0,c=n.length;u<c;u++)if(!n[u].ignore){for(var l=t.getLineContent(r+u),f=0,d=0,h=n[u].commentStrOffset;f<s&&d<h;d++)f=e.nextVisibleColumn(f,o,9===l.charCodeAt(d),1);f<s&&(s=f)}s=Math.floor(s/o)*o;for(var p=0,v=n.length;p<v;p++)if(!n[p].ignore){var g=t.getLineContent(r+p),y=0;for(i=0,a=n[p].commentStrOffset;y<s&&i<a;i++)y=e.nextVisibleColumn(y,o,9===g.charCodeAt(i),1);n[p].commentStrOffset=y>s?i-1:i}}}],(n=[{key:"_executeLineComments",value:function(t,n,r,o){var a;r.shouldRemoveComments?a=e._createRemoveLineCommentsOperations(r.lines,o.startLineNumber):(e._normalizeInsertionPoint(t,r.lines,o.startLineNumber,this._tabSize),a=this._createAddLineCommentsOperations(r.lines,o.startLineNumber));for(var s=new c.L(o.positionLineNumber,o.positionColumn),u=0,l=a.length;u<l;u++)n.addEditOperation(a[u].range,a[u].text),i.e.isEmpty(a[u].range)&&i.e.getStartPosition(a[u].range).equals(s)&&t.getLineContent(s.lineNumber).length+1===s.column&&(this._deltaColumn=(a[u].text||"").length);this._selectionId=n.trackSelection(o)}},{key:"_attemptRemoveBlockComment",value:function(e,t,n,r){var o=t.startLineNumber,a=t.endLineNumber,s=r.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),u=e.getLineContent(o).lastIndexOf(n,s-1),c=e.getLineContent(a).indexOf(r,t.endColumn-1-n.length);return-1!==u&&-1===c&&(c=e.getLineContent(o).indexOf(r,u+n.length),a=o),-1===u&&-1!==c&&(u=e.getLineContent(a).lastIndexOf(n,c),o=a),!t.isEmpty()||-1!==u&&-1!==c||-1!==(u=e.getLineContent(o).indexOf(n))&&(c=e.getLineContent(o).indexOf(r,u+n.length)),-1!==u&&32===e.getLineContent(o).charCodeAt(u+n.length)&&(n+=" "),-1!==c&&32===e.getLineContent(a).charCodeAt(c-1)&&(r=" "+r,c-=1),-1!==u&&-1!==c?v._createRemoveBlockCommentOperations(new i.e(o,u+n.length+1,a,c+1),n,r):null}},{key:"_executeBlockComment",value:function(e,t,n){e.tokenization.tokenizeIfCheap(n.startLineNumber);var r=e.getLanguageIdAtPosition(n.startLineNumber,1),o=this.languageConfigurationService.getLanguageConfiguration(r).comments;if(o&&o.blockCommentStartToken&&o.blockCommentEndToken){var a=o.blockCommentStartToken,s=o.blockCommentEndToken,u=this._attemptRemoveBlockComment(e,n,a,s);if(!u){if(n.isEmpty()){var c=e.getLineContent(n.startLineNumber),l=g.LC(c);-1===l&&(l=c.length),u=v._createAddBlockCommentOperations(new i.e(n.startLineNumber,l+1,n.startLineNumber,c.length+1),a,s,this._insertSpace)}else u=v._createAddBlockCommentOperations(new i.e(n.startLineNumber,e.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),a,s,this._insertSpace);1===u.length&&(this._deltaColumn=a.length+1)}this._selectionId=t.trackSelection(n);var f,d=m(u);try{for(d.s();!(f=d.n()).done;){var h=f.value;t.addEditOperation(h.range,h.text)}}catch(e){d.e(e)}finally{d.f()}}}},{key:"getEditOperations",value:function(t,n){var r=this._selection;if(this._moveEndPositionDown=!1,r.startLineNumber===r.endLineNumber&&this._ignoreFirstLine)return n.addEditOperation(new i.e(r.startLineNumber,t.getLineMaxColumn(r.startLineNumber),r.startLineNumber+1,1),r.startLineNumber===t.getLineCount()?"":"\n"),void(this._selectionId=n.trackSelection(r));r.startLineNumber<r.endLineNumber&&1===r.endColumn&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,t.getLineMaxColumn(r.endLineNumber-1)));var o=e._gatherPreflightData(this._type,this._insertSpace,t,r.startLineNumber,r.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return o.supported?this._executeLineComments(t,n,o,r):this._executeBlockComment(t,n,r)}},{key:"computeCursorState",value:function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new l.Y(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)}},{key:"_createAddLineCommentsOperations",value:function(e,t){for(var n=[],r=this._insertSpace?" ":"",o=0,i=e.length;o<i;o++){var a=e[o];a.ignore||n.push(u.h.insert(new c.L(t+o,a.commentStrOffset+1),a.commentStr+r))}return n}}])&&_(t.prototype,n),r&&_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),S=n(18063),k=n(13171);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===C(i)?i:String(i)),r)}var o,i}function P(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var A=function(e){N(n,e);var t=R(n);function n(e,r){var o;return O(this,n),(o=t.call(this,r))._type=e,o}return P(n,[{key:"run",value:function(e,t){var n=e.get(s.c_);if(t.hasModel()){var r=[],o=t.getModel().getOptions(),a=t.getOption(19),u=t.getSelections().map((function(e,t){return{selection:e,index:t,ignoreFirstLine:!1}}));u.sort((function(e,t){return i.e.compareRangesUsingStarts(e.selection,t.selection)}));for(var c=u[0],l=1;l<u.length;l++){var f=u[l];c.selection.endLineNumber===f.selection.startLineNumber&&(c.index<f.index?f.ignoreFirstLine=!0:(c.ignoreFirstLine=!0,c=f))}var d,h=x(u);try{for(h.s();!(d=h.n()).done;){var p=d.value;r.push(new w(n,p.selection,o.tabSize,this._type,a.insertSpace,a.ignoreEmptyLines,p.ignoreFirstLine))}}catch(e){h.e(e)}finally{h.f()}t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}}]),n}(o.R6),D=function(e){N(n,e);var t=R(n);function n(){return O(this,n),t.call(this,0,{id:"editor.action.commentLine",label:S.NC("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:a.u.writable,kbOpts:{kbExpr:a.u.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:k.eH.MenubarEditMenu,group:"5_insert",title:S.NC({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}return P(n)}(A),M=function(e){N(n,e);var t=R(n);function n(){return O(this,n),t.call(this,1,{id:"editor.action.addCommentLine",label:S.NC("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:a.u.writable,kbOpts:{kbExpr:a.u.editorTextFocus,primary:(0,r.gx)(2089,2081),weight:100}})}return P(n)}(A),F=function(e){N(n,e);var t=R(n);function n(){return O(this,n),t.call(this,2,{id:"editor.action.removeCommentLine",label:S.NC("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:a.u.writable,kbOpts:{kbExpr:a.u.editorTextFocus,primary:(0,r.gx)(2089,2099),weight:100}})}return P(n)}(A),W=function(e){N(n,e);var t=R(n);function n(){return O(this,n),t.call(this,{id:"editor.action.blockComment",label:S.NC("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:a.u.writable,kbOpts:{kbExpr:a.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:k.eH.MenubarEditMenu,group:"5_insert",title:S.NC({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}return P(n,[{key:"run",value:function(e,t){var n=e.get(s.c_);if(t.hasModel()){var r,o=t.getOption(19),i=[],a=x(t.getSelections());try{for(a.s();!(r=a.n()).done;){var u=r.value;i.push(new v(u,o.insertSpace,n))}}catch(e){a.e(e)}finally{a.f()}t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}}]),n}(o.R6);(0,o.Qr)(D),(0,o.Qr)(M),(0,o.Qr)(F),(0,o.Qr)(W)},99341:(e,t,n)=>{n.r(t),n.d(t,{ContextMenuController:()=>N});var r=n(32007),o=n(16219),i=n(89704),a=n(38709),s=n(71386),u=n(18679),c=n(25112),l=n(18063),f=n(13171),d=n(73589),h=n(93513),p=n(9263),v=n(4537);function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=S(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function S(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===O(i)?i:String(i)),r)}var o,i}function L(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}var E=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":O(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},P=function(e,t){return function(n,r){t(n,r,e)}},N=function(){function e(t,n,o,i,s,u,c){var l=this;C(this,e),this._contextMenuService=n,this._contextViewService=o,this._contextKeyService=i,this._keybindingService=s,this._menuService=u,this._configurationService=c,this._toDispose=new a.SL,this._contextMenuIsBeingShownCount=0,this._editor=t,this._toDispose.add(this._editor.onContextMenu((function(e){return l._onContextMenu(e)}))),this._toDispose.add(this._editor.onMouseWheel((function(e){if(l._contextMenuIsBeingShownCount>0){var t=l._contextViewService.getContextViewElement(),n=e.srcElement;n.shadowRoot&&r.getShadowRoot(t)===n.shadowRoot||l._contextViewService.hideContextView()}}))),this._toDispose.add(this._editor.onKeyDown((function(e){l._editor.getOption(20)&&58===e.keyCode&&(e.preventDefault(),e.stopPropagation(),l.showContextMenu())})))}return L(e,[{key:"_onContextMenu",value:function(e){if(this._editor.hasModel()){if(!this._editor.getOption(20))return this._editor.focus(),void(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position));if(12!==e.target.type&&(6!==e.target.type||!e.target.detail.injectedText)){if(e.event.preventDefault(),e.event.stopPropagation(),11===e.target.type)return this._showScrollbarContextMenu({x:e.event.posx-1,width:2,y:e.event.posy-1,height:2});if(6===e.target.type||7===e.target.type||1===e.target.type){if(this._editor.focus(),e.target.position){var t,n=!1,r=w(this._editor.getSelections());try{for(r.s();!(t=r.n()).done;){if(t.value.containsPosition(e.target.position)){n=!0;break}}}catch(e){r.e(e)}finally{r.f()}n||this._editor.setPosition(e.target.position)}var o=null;1!==e.target.type&&(o={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(o)}}}}},{key:"showContextMenu",value:function(e){if(this._editor.getOption(20)&&this._editor.hasModel()){var t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?f.eH.SimpleEditorContext:f.eH.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}}},{key:"_getMenuActions",value:function(e,t){var n=[],r=this._menuService.createMenu(t,this._contextKeyService),o=r.getActions({arg:e.uri});r.dispose();var a,s=w(o);try{for(s.s();!(a=s.n()).done;){var u,c=_(a.value,2)[1],l=0,d=w(c);try{for(d.s();!(u=d.n()).done;){var h=u.value;if(h instanceof f.NZ){var p=this._getMenuActions(e,h.item.submenu);p.length>0&&(n.push(new i.wY(h.id,h.label,p)),l++)}else n.push(h),l++}}catch(e){d.e(e)}finally{d.f()}l&&n.push(new i.Z0)}}catch(e){s.e(e)}finally{s.f()}return n.length&&n.pop(),n}},{key:"_doShowContextMenu",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this._editor.hasModel()){var i=this._editor.getOption(55);if(this._editor.updateOptions({hover:{enabled:!1}}),!n){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();var a=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),u=r.getDomNodePagePosition(this._editor.getDomNode()),c=u.left+a.left,l=u.top+a.top+a.height;n={x:c,y:l}}var f=this._editor.getOption(117)&&!s.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:f?this._editor.getDomNode():void 0,getAnchor:function(){return n},getActions:function(){return e},getActionViewItem:function(e){var n=t._keybindingFor(e);if(n)return new o.g(e,e,{label:!0,keybinding:n.getLabel(),isMenu:!0});var r=e;return"function"==typeof r.getActionViewItem?r.getActionViewItem():new o.g(e,e,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:function(e){return t._keybindingFor(e)},onHide:function(e){t._contextMenuIsBeingShownCount--,t._editor.focus(),t._editor.updateOptions({hover:i})}})}}},{key:"_showScrollbarContextMenu",value:function(e){var t=this;if(this._editor.hasModel()){var n=this._editor.getOption(67),r=0,o=function(e){return{id:"menu-action-".concat(++r),label:e.label,tooltip:"",class:void 0,enabled:void 0===e.enabled||e.enabled,checked:e.checked,run:e.run,dispose:function(){return null}}},a=function(e,n,a,s,u){if(!n)return o({label:e,enabled:n,run:function(){}});var c,l=function(e){return function(){t._configurationService.updateValue(a,e)}},f=[],d=w(u);try{for(d.s();!(c=d.n()).done;){var h=c.value;f.push(o({label:h.label,checked:s===h.value,run:l(h.value)}))}}catch(e){d.e(e)}finally{d.f()}return function(e,t){return new i.wY("menu-action-".concat(++r),e,t,void 0)}(e,f)},u=[];u.push(o({label:l.NC("context.minimap.minimap","Minimap"),checked:n.enabled,run:function(){t._configurationService.updateValue("editor.minimap.enabled",!n.enabled)}})),u.push(new i.Z0),u.push(o({label:l.NC("context.minimap.renderCharacters","Render Characters"),enabled:n.enabled,checked:n.renderCharacters,run:function(){t._configurationService.updateValue("editor.minimap.renderCharacters",!n.renderCharacters)}})),u.push(a(l.NC("context.minimap.size","Vertical size"),n.enabled,"editor.minimap.size",n.size,[{label:l.NC("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:l.NC("context.minimap.size.fill","Fill"),value:"fill"},{label:l.NC("context.minimap.size.fit","Fit"),value:"fit"}])),u.push(a(l.NC("context.minimap.slider","Slider"),n.enabled,"editor.minimap.showSlider",n.showSlider,[{label:l.NC("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:l.NC("context.minimap.slider.always","Always"),value:"always"}]));var c=this._editor.getOption(117)&&!s.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:c?this._editor.getDomNode():void 0,getAnchor:function(){return e},getActions:function(){return u},onHide:function(e){t._contextMenuIsBeingShownCount--,t._editor.focus()}})}}},{key:"_keybindingFor",value:function(e){return this._keybindingService.lookupKeybinding(e.id)}},{key:"dispose",value:function(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();N.ID="editor.contrib.contextmenu",N=E([P(1,h.i),P(2,h.u),P(3,d.i6),P(4,p.d),P(5,f.co),P(6,v.Ui)],N);var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(n,e);var t=y(n);function n(){return C(this,n),t.call(this,{id:"editor.action.showContextMenu",label:l.NC("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:c.u.textInputFocus,primary:1092,weight:100}})}return L(n,[{key:"run",value:function(e,t){var n;null===(n=N.get(t))||void 0===n||n.showContextMenu()}}]),n}(u.R6);(0,u._K)(N.ID,N),(0,u.Qr)(I)},74200:(e,t,n)=>{n.r(t);var r=n(18679),o=n(17271),i=n(16131),a=n(32007),s=n(95295),u=n(66420),c=n(38709),l=n(95380),f=n(76064),d=n(16013),h=n(94717),p=n(48466),v=n(31213),g=n(59347),y=n(2507),m=n(51412),b=n(79126),_=n(4537);function w(){w=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new L(o||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(O([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==I(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return E()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function S(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=C(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function k(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==I(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===I(i)?i:String(i)),r)}var o,i}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}var R=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":I(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},T=function(e,t){return function(n,r){t(n,r,e)}},j=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},A="application/vnd.code.copyMetadata",D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(c,e);var t,n,r,o=E(c);function c(e,t,n,r,i){var s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(s=o.call(this))._bulkEditService=t,s._clipboardService=n,s._configurationService=r,s._languageFeaturesService=i,s._editor=e;var u=e.getContainerDomNode();return s._register((0,a.addDisposableListener)(u,"copy",(function(e){return s.handleCopy(e)}))),s._register((0,a.addDisposableListener)(u,"cut",(function(e){return s.handleCopy(e)}))),s._register((0,a.addDisposableListener)(u,"paste",(function(e){return s.handlePaste(e)}),!0)),s}return t=c,(n=[{key:"arePasteActionsEnabled",value:function(e){return this._configurationService.getValue("editor.experimental.pasteActions.enabled",{resource:e.uri})}},{key:"handleCopy",value:function(e){var t,n=this;if(e.clipboardData&&this._editor.hasTextFocus()){var r=this._editor.getModel(),o=this._editor.getSelections();if(r&&(null==o?void 0:o.length)&&this.arePasteActionsEnabled(r)){var i=k(o),a=o[0],u=a.isEmpty();if(u){if(!this._editor.getOption(33))return;i[0]=new p.e(a.startLineNumber,0,a.startLineNumber,r.getLineLength(a.startLineNumber))}var c=this._languageFeaturesService.documentPasteEditProvider.ordered(r).filter((function(e){return!!e.prepareDocumentPaste}));if(c.length){var l=(0,d.Bo)(e.clipboardData),h=(0,f.R)();this.setCopyMetadata(e.clipboardData,{id:h,wasFromEmptySelection:u});var v=(0,s.PG)((function(e){return j(n,void 0,void 0,w().mark((function t(){var n,o,a,s;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(c.map((function(t){return t.prepareDocumentPaste(r,i,l,e)})));case 2:n=t.sent,o=S(n);try{for(o.s();!(a=o.n()).done;)null==(s=a.value)||s.forEach((function(e,t){l.replace(t,e)}))}catch(e){o.e(e)}finally{o.f()}return t.abrupt("return",l);case 6:case"end":return t.stop()}}),t)})))}));null===(t=this._currentClipboardItem)||void 0===t||t.dataTransferPromise.cancel(),this._currentClipboardItem={handle:h,dataTransferPromise:v}}else this.setCopyMetadata(e.clipboardData,{wasFromEmptySelection:u})}}}},{key:"setCopyMetadata",value:function(e,t){e.setData(A,JSON.stringify(t))}},{key:"handlePaste",value:function(e){var t,n,r;return j(this,void 0,void 0,w().mark((function o(){var a,s,c,f,p,v,b,_,C,x,L,O,E,P,N;return w().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.clipboardData&&this._editor.hasTextFocus()){o.next=2;break}return o.abrupt("return");case 2:if((null==(a=this._editor.getSelections())?void 0:a.length)&&this._editor.hasModel()){o.next=5;break}return o.abrupt("return");case 5:if(s=this._editor.getModel(),this.arePasteActionsEnabled(s)){o.next=8;break}return o.abrupt("return");case 8:if((f=null===(t=e.clipboardData)||void 0===t?void 0:t.getData(A))&&"string"==typeof f&&(c=JSON.parse(f)),(p=this._languageFeaturesService.documentPasteEditProvider.ordered(s)).length){o.next=13;break}return o.abrupt("return");case 13:if(e.preventDefault(),e.stopImmediatePropagation(),v=s.getVersionId(),b=new g.Dl(this._editor,3),o.prev=17,_=(0,d.Bo)(e.clipboardData),!(null==c?void 0:c.id)||(null===(n=this._currentClipboardItem)||void 0===n?void 0:n.handle)!==c.id){o.next=24;break}return o.next=22,this._currentClipboardItem.dataTransferPromise;case 22:o.sent.forEach((function(e,t){_.replace(t,e)}));case 24:if(_.has(l.v.uriList)){o.next=29;break}return o.next=27,this._clipboardService.readResources();case 27:(C=o.sent).length&&_.append(l.v.uriList,(0,u.ZO)(d.Z0.create(C)));case 29:_.delete(A),x=S(p),o.prev=31,x.s();case 33:if((L=x.n()).done){o.next=50;break}if((O=L.value).pasteMimeTypes.some((function(e){return e.toLowerCase()===i.g.FILES.toLowerCase()?k(_.values()).some((function(e){return e.asFile()})):_.has(e)}))){o.next=37;break}return o.abrupt("continue",48);case 37:return o.next=39,O.provideDocumentPasteEdits(s,a,_,b.token);case 39:if(E=o.sent,v===s.getVersionId()){o.next=42;break}return o.abrupt("return");case 42:if(!E){o.next=48;break}if((0,y.performSnippetEdit)(this._editor,"string"==typeof E.insertText?m.Yj.escape(E.insertText):E.insertText.snippet,a),!E.additionalEdit){o.next=47;break}return o.next=47,this._bulkEditService.apply(h.fo.convert(E.additionalEdit),{editor:this._editor});case 47:return o.abrupt("return");case 48:o.next=33;break;case 50:o.next=55;break;case 52:o.prev=52,o.t0=o.catch(31),x.e(o.t0);case 55:return o.prev=55,x.f(),o.finish(55);case 58:if(P=null!==(r=_.get(l.v.text))&&void 0!==r?r:_.get("text")){o.next=61;break}return o.abrupt("return");case 61:return o.next=63,P.asString();case 63:if(N=o.sent,v===s.getVersionId()){o.next=66;break}return o.abrupt("return");case 66:this._editor.trigger("keyboard","paste",{text:N,pasteOnNewLine:null==c?void 0:c.wasFromEmptySelection,multicursorText:null});case 67:return o.prev=67,b.dispose(),o.finish(67);case 70:case"end":return o.stop()}}),o,this,[[17,,67,70],[31,52,55,58]])})))}}])&&L(t.prototype,n),r&&L(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(c.JT);D.ID="editor.contrib.copyPasteActionController",D=R([T(1,h.vu),T(2,b.p),T(3,_.Ui),T(4,v.p)],D);var M=n(18063),F=n(17612),W=n(68024);(0,r._K)(D.ID,D),W.B.as(F.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},o.wk),{properties:{"editor.experimental.pasteActions.enabled":{type:"boolean",scope:5,description:M.NC("pasteActions","Enable/disable running edits from extensions on paste."),default:!1}}}))},62982:(e,t,n)=>{n.r(t),n.d(t,{CursorRedo:()=>_,CursorUndo:()=>b,CursorUndoRedoController:()=>m});var r=n(38709),o=n(18679),i=n(25112),a=n(18063);function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===d(i)?i:String(i)),r)}var o,i}function v(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var g=function(){function e(t){h(this,e),this.selections=t}return v(e,[{key:"equals",value:function(e){var t=this.selections.length;if(t!==e.selections.length)return!1;for(var n=0;n<t;n++)if(!this.selections[n].equalsSelection(e.selections[n]))return!1;return!0}}]),e}(),y=v((function e(t,n,r){h(this,e),this.cursorState=t,this.scrollTop=n,this.scrollLeft=r})),m=function(e){s(n,e);var t=c(n);function n(e){var r;return h(this,n),(r=t.call(this))._editor=e,r._isCursorUndoRedo=!1,r._undoStack=[],r._redoStack=[],r._register(e.onDidChangeModel((function(e){r._undoStack=[],r._redoStack=[]}))),r._register(e.onDidChangeModelContent((function(e){r._undoStack=[],r._redoStack=[]}))),r._register(e.onDidChangeCursorSelection((function(t){if(!r._isCursorUndoRedo&&t.oldSelections&&t.oldModelVersionId===t.modelVersionId){var n=new g(t.oldSelections);r._undoStack.length>0&&r._undoStack[r._undoStack.length-1].cursorState.equals(n)||(r._undoStack.push(new y(n,e.getScrollTop(),e.getScrollLeft())),r._redoStack=[],r._undoStack.length>50&&r._undoStack.shift())}}))),r}return v(n,[{key:"cursorUndo",value:function(){this._editor.hasModel()&&0!==this._undoStack.length&&(this._redoStack.push(new y(new g(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}},{key:"cursorRedo",value:function(){this._editor.hasModel()&&0!==this._redoStack.length&&(this._undoStack.push(new y(new g(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}},{key:"_applyState",value:function(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}],[{key:"get",value:function(e){return e.getContribution(n.ID)}}]),n}(r.JT);m.ID="editor.contrib.cursorUndoRedoController";var b=function(e){s(n,e);var t=c(n);function n(){return h(this,n),t.call(this,{id:"cursorUndo",label:a.NC("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:i.u.textInputFocus,primary:2099,weight:100}})}return v(n,[{key:"run",value:function(e,t,n){var r;null===(r=m.get(t))||void 0===r||r.cursorUndo()}}]),n}(o.R6),_=function(e){s(n,e);var t=c(n);function n(){return h(this,n),t.call(this,{id:"cursorRedo",label:a.NC("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}return v(n,[{key:"run",value:function(e,t,n){var r;null===(r=m.get(t))||void 0===r||r.cursorRedo()}}]),n}(o.R6);(0,o._K)(m.ID,m),(0,o.Qr)(b),(0,o.Qr)(_)},7131:(e,t,n)=>{n.r(t),n.d(t,{DragAndDropController:()=>S});var r=n(38709),o=n(71386),i=n(18679),a=n(51638),s=n(48466),u=n(85963),c=n(3817);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===l(i)?i:String(i)),r)}var o,i}var d=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selection=t,this.targetPosition=n,this.copy=r,this.targetSelection=null}var t,n,r;return t=e,(n=[{key:"getEditOperations",value:function(e,t){var n=e.getValueInRange(this.selection);this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new s.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),n),!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?this.targetSelection=new u.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?this.targetSelection=new u.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?this.targetSelection=new u.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new u.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber,this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new u.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.targetSelection=this.selection}},{key:"computeCursorState",value:function(e,t){return this.targetSelection}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===h(i)?i:String(i)),r)}var o,i}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=g(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},v.apply(this,arguments)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function w(e){return o.dz?e.altKey:e.ctrlKey}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(i,e);var t,n,r,o=m(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this))._editor=e,t._dndDecorationIds=t._editor.createDecorationsCollection(),t._register(t._editor.onMouseDown((function(e){return t._onEditorMouseDown(e)}))),t._register(t._editor.onMouseUp((function(e){return t._onEditorMouseUp(e)}))),t._register(t._editor.onMouseDrag((function(e){return t._onEditorMouseDrag(e)}))),t._register(t._editor.onMouseDrop((function(e){return t._onEditorMouseDrop(e)}))),t._register(t._editor.onMouseDropCanceled((function(){return t._onEditorMouseDropCanceled()}))),t._register(t._editor.onKeyDown((function(e){return t.onEditorKeyDown(e)}))),t._register(t._editor.onKeyUp((function(e){return t.onEditorKeyUp(e)}))),t._register(t._editor.onDidBlurEditorWidget((function(){return t.onEditorBlur()}))),t._register(t._editor.onDidBlurEditorText((function(){return t.onEditorBlur()}))),t._mouseDown=!1,t._modifierPressed=!1,t._dragSelection=null,t}return t=i,(n=[{key:"onEditorBlur",value:function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}},{key:"onEditorKeyDown",value:function(e){this._editor.getOption(31)&&!this._editor.getOption(18)&&(w(e)&&(this._modifierPressed=!0),this._mouseDown&&w(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}},{key:"onEditorKeyUp",value:function(e){this._editor.getOption(31)&&!this._editor.getOption(18)&&(w(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===i.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}},{key:"_onEditorMouseDown",value:function(e){this._mouseDown=!0}},{key:"_onEditorMouseUp",value:function(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}},{key:"_onEditorMouseDrag",value:function(e){var t=e.target;if(null===this._dragSelection){var n=(this._editor.getSelections()||[]).filter((function(e){return t.position&&e.containsPosition(t.position)}));if(1!==n.length)return;this._dragSelection=n[0]}w(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}},{key:"_onEditorMouseDropCanceled",value:function(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}},{key:"_onEditorMouseDrop",value:function(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){var t=new a.L(e.target.position.lineNumber,e.target.position.column);if(null===this._dragSelection){var n=null;if(e.event.shiftKey){var r=this._editor.getSelection();if(r){var o=r.selectionStartLineNumber,s=r.selectionStartColumn;n=[new u.Y(o,s,t.lineNumber,t.column)]}}else n=(this._editor.getSelections()||[]).map((function(e){return e.containsPosition(t)?new u.Y(t.lineNumber,t.column,t.lineNumber,t.column):e}));this._editor.setSelections(n||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(w(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(i.ID,new d(this._dragSelection,t,w(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}},{key:"showAt",value:function(e){this._dndDecorationIds.set([{range:new s.e(e.lineNumber,e.column,e.lineNumber,e.column),options:i._DECORATION_OPTIONS}]),this._editor.revealPosition(e,1)}},{key:"_removeDecoration",value:function(){this._dndDecorationIds.clear()}},{key:"_hitContent",value:function(e){return 6===e.type||7===e.type}},{key:"_hitMargin",value:function(e){return 2===e.type||3===e.type||4===e.type}},{key:"dispose",value:function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,v(_(i.prototype),"dispose",this).call(this)}}])&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.JT);S.ID="editor.contrib.dragAndDrop",S.TRIGGER_KEY_VALUE=o.dz?6:5,S._DECORATION_OPTIONS=c.qx.register({description:"dnd-target",className:"dnd-target"}),(0,i._K)(S.ID,S)},12185:(e,t,n)=>{n.r(t);var r=n(2307),o=n(8401),i=n(83916),a=n(5491),s=n(13135),u=n(69349);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(){l=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function f(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:k(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function g(){}var y={};u(y,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(E([])));b&&b!==t&&n.call(b,i)&&(y=b);var _=g.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function o(r,i,a,s){var u=d(e[r],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==c(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=g,r(_,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(f(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),u(_,s,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}var f=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};u.P0.registerCommand("_executeDocumentSymbolProvider",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),u=1;u<t;u++)n[u-1]=arguments[u];return f(this,void 0,void 0,l().mark((function t(){var u,c,f,d;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=n[0],(0,o.p_)(i.o.isUri(u)),c=e.get(s.Je),f=e.get(a.S),t.next=6,f.createModelReference(u);case 6:return d=t.sent,t.prev=7,t.next=10,c.getOrCreate(d.object.textEditorModel,r.T.None);case 10:return t.abrupt("return",t.sent.getTopLevelSymbols());case 11:return t.prev=11,d.dispose(),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[7,,11,14]])})))}))},13135:(e,t,n)=>{n.d(t,{C3:()=>M,Je:()=>F,sT:()=>A});var r=n(86193),o=n(2307),i=n(95835),a=n(42654),s=n(85006),u=n(51638),c=n(48466),l=n(75758),f=n(63304),d=n(47123),h=n(76758),p=n(38709),v=n(31213);function g(){g=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new L(o||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(O([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=p.prototype=d.prototype=Object.create(v);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==N(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return E()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),u(b,s,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function y(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==N(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===N(i)?i:String(i)),r)}var o,i}function P(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}var I=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":N(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},R=function(e,t){return function(n,r){t(n,r,e)}},T=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},j=function(){function e(){O(this,e)}return P(e,[{key:"remove",value:function(){var e;null===(e=this.parent)||void 0===e||e.children.delete(this.id)}}],[{key:"findId",value:function(e,t){var n;"string"==typeof e?n="".concat(t.id,"/").concat(e):(n="".concat(t.id,"/").concat(e.name),void 0!==t.children.get(n)&&(n="".concat(t.id,"/").concat(e.name,"_").concat(e.range.startLineNumber,"_").concat(e.range.startColumn)));for(var r=n,o=0;void 0!==t.children.get(r);o++)r="".concat(n,"_").concat(o);return r}},{key:"empty",value:function(e){return 0===e.children.size}}]),e}(),A=function(e){S(n,e);var t=C(n);function n(e,r,o){var i;return O(this,n),(i=t.call(this)).id=e,i.parent=r,i.symbol=o,i.children=new Map,i}return P(n)}(j),D=function(e){S(n,e);var t=C(n);function n(e,r,o,i){var a;return O(this,n),(a=t.call(this)).id=e,a.parent=r,a.label=o,a.order=i,a.children=new Map,a}return P(n)}(j),M=function(e){S(n,e);var t=C(n);function n(e){var r;return O(this,n),(r=t.call(this)).uri=e,r.id="root",r.parent=void 0,r._groups=new Map,r.children=new Map,r.id="root",r.parent=void 0,r}return P(n,[{key:"_compact",value:function(){var e,t=0,n=b(this._groups);try{for(n.s();!(e=n.n()).done;){var r=m(e.value,2),o=r[0];0===r[1].children.size?this._groups.delete(o):t+=1}}catch(e){n.e(e)}finally{n.f()}if(1!==t)this.children=this._groups;else{var i,s=b(a.$.first(this._groups.values()).children);try{for(s.s();!(i=s.n()).done;){var u=m(i.value,2)[1];u.parent=this,this.children.set(u.id,u)}}catch(e){s.e(e)}finally{s.f()}}return this}},{key:"getTopLevelSymbols",value:function(){var e,t=[],n=b(this.children.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;r instanceof A?t.push(r.symbol):t.push.apply(t,y(a.$.map(r.children.values(),(function(e){return e.symbol}))))}}catch(e){n.e(e)}finally{n.f()}return t.sort((function(e,t){return c.e.compareRangesUsingStarts(e.range,t.range)}))}},{key:"asListOfDocumentSymbols",value:function(){var e=this.getTopLevelSymbols(),t=[];return n._flattenDocumentSymbols(t,e,""),t.sort((function(e,t){return u.L.compare(c.e.getStartPosition(e.range),c.e.getStartPosition(t.range))||u.L.compare(c.e.getEndPosition(t.range),c.e.getEndPosition(e.range))}))}}],[{key:"create",value:function(e,t,a){var s=new o.A(a),u=new n(t.uri),c=e.ordered(t),l=c.map((function(e,r){var o,a=j.findId("provider_".concat(r),u),c=new D(a,u,null!==(o=e.displayName)&&void 0!==o?o:"Unknown Outline Provider",r);return Promise.resolve(e.provideDocumentSymbols(t,s.token)).then((function(e){var t,r=b(e||[]);try{for(r.s();!(t=r.n()).done;){var o=t.value;n._makeOutlineElement(o,c)}}catch(e){r.e(e)}finally{r.f()}return c}),(function(e){return(0,i.Cp)(e),c})).then((function(e){j.empty(e)?e.remove():u._groups.set(a,e)}))})),f=e.onDidChange((function(){var n=e.ordered(t);(0,r.fS)(n,c)||s.cancel()}));return Promise.all(l).then((function(){return s.token.isCancellationRequested&&!a.isCancellationRequested?n.create(e,t,a):u._compact()})).finally((function(){f.dispose()}))}},{key:"_makeOutlineElement",value:function(e,t){var r=j.findId(e,t),o=new A(r,t,e);if(e.children){var i,a=b(e.children);try{for(a.s();!(i=a.n()).done;){var s=i.value;n._makeOutlineElement(s,o)}}catch(e){a.e(e)}finally{a.f()}}t.children.set(o.id,o)}},{key:"_flattenDocumentSymbols",value:function(e,t,r){var o,i=b(t);try{for(i.s();!(o=i.n()).done;){var a=o.value;e.push({kind:a.kind,tags:a.tags,name:a.name,detail:a.detail,containerName:a.containerName||r,range:a.range,selectionRange:a.selectionRange,children:void 0}),a.children&&n._flattenDocumentSymbols(e,a.children,a.name)}}catch(e){i.e(e)}finally{i.f()}}}]),n}(j),F=(0,f.yh)("IOutlineModelService"),W=function(){function e(t,n,r){var o=this;O(this,e),this._languageFeaturesService=t,this._disposables=new p.SL,this._cache=new s.z6(10,.7),this._debounceInformation=n.for(t.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(r.onModelRemoved((function(e){o._cache.delete(e.id)})))}return P(e,[{key:"dispose",value:function(){this._disposables.dispose()}},{key:"getOrCreate",value:function(e,t){return T(this,void 0,void 0,g().mark((function n(){var i,a,s,u,c,l,f=this;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=this._languageFeaturesService.documentSymbolProvider,a=i.ordered(e),(s=this._cache.get(e.id))&&s.versionId===e.getVersionId()&&(0,r.fS)(s.provider,a)||(u=new o.A,s={versionId:e.getVersionId(),provider:a,promiseCnt:0,source:u,promise:M.create(i,e,u.token),model:void 0},this._cache.set(e.id,s),c=Date.now(),s.promise.then((function(t){s.model=t,f._debounceInformation.update(e,Date.now()-c)})).catch((function(t){f._cache.delete(e.id)}))),!s.model){n.next=6;break}return n.abrupt("return",s.model);case 6:return s.promiseCnt+=1,l=t.onCancellationRequested((function(){0==--s.promiseCnt&&(s.source.cancel(),f._cache.delete(e.id))})),n.prev=8,n.next=11,s.promise;case 11:return n.abrupt("return",n.sent);case 12:return n.prev=12,l.dispose(),n.finish(12);case 15:case"end":return n.stop()}}),n,this,[[8,,12,15]])})))}}]),e}();W=I([R(0,v.p),R(1,l.A),R(2,h.q)],W),(0,d.z)(F,W,!0)},99192:(e,t,n)=>{n.r(t),n.d(t,{DropIntoEditorController:()=>A});var r=n(95295),o=n(66420),i=n(38709),a=n(95380),s=n(81993),u=n(83916),c=n(16013),l=n(18679),f=n(94717),d=n(48466),h=n(85963),p=n(31213),v=n(59347),g=n(2507),y=n(51412),m=n(18063),b=n(26104),_=n(44056);function w(){w=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new L(o||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(O([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==I(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return E()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function S(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==I(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===I(i)?i:String(i)),r)}var o,i}function L(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}var R=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":I(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},T=function(e,t){return function(n,r){t(n,r,e)}},j=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(n,e);var t=E(n);function n(e,r,o,i,a){var s;return C(this,n),(s=t.call(this))._bulkEditService=r,s._languageFeaturesService=o,s._progressService=i,s._register(e.onDropIntoEditor((function(t){return s.onDropIntoEditor(e,t.position,t.event)}))),s._languageFeaturesService.documentOnDropEditProvider.register("*",new D(a)),s}return L(n,[{key:"onDropIntoEditor",value:function(e,t,n){return j(this,void 0,void 0,w().mark((function o(){var i,a,s,u,c,l,p,b=this;return w().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(n.dataTransfer&&e.hasModel()){o.next=2;break}return o.abrupt("return");case 2:return i=e.getModel(),a=i.getVersionId(),o.next=6,this.extractDataTransferData(n);case 6:if(0!==(s=o.sent).size){o.next=9;break}return o.abrupt("return");case 9:if(e.getModel().getVersionId()===a){o.next=11;break}return o.abrupt("return");case 11:return u=new v.Dl(e,1),o.prev=12,c=this._languageFeaturesService.documentOnDropEditProvider.ordered(i),o.next=16,this._progressService.withProgress({location:15,delay:750,title:(0,m.NC)("dropProgressTitle","Running drop handlers..."),cancellable:!0},(function(){return(0,r.eP)(j(b,void 0,void 0,w().mark((function e(){var n,r,o,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=S(c),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=14;break}return o=r.value,e.next=7,o.provideDocumentOnDropEdits(i,t,s,u.token);case 7:if(a=e.sent,!u.token.isCancellationRequested){e.next=10;break}return e.abrupt("return",void 0);case 10:if(!a){e.next=12;break}return e.abrupt("return",a);case 12:e.next=3;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:return e.abrupt("return",void 0);case 23:case"end":return e.stop()}}),e,null,[[1,16,19,22]])}))),u.token)}),(function(){u.cancel()}));case 16:if(l=o.sent,!u.token.isCancellationRequested&&e.getModel().getVersionId()===a){o.next=19;break}return o.abrupt("return");case 19:if(!l){o.next=26;break}if(p=new d.e(t.lineNumber,t.column,t.lineNumber,t.column),(0,g.performSnippetEdit)(e,"string"==typeof l.insertText?y.Yj.escape(l.insertText):l.insertText.snippet,[h.Y.fromRange(p,0)]),!l.additionalEdit){o.next=25;break}return o.next=25,this._bulkEditService.apply(f.fo.convert(l.additionalEdit),{editor:e});case 25:return o.abrupt("return");case 26:return o.prev=26,u.dispose(),o.finish(26);case 29:case"end":return o.stop()}}),o,this,[[12,,26,29]])})))}},{key:"extractDataTransferData",value:function(e){return j(this,void 0,void 0,w().mark((function t(){var n;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.dataTransfer){t.next=2;break}return t.abrupt("return",new o.Hl);case 2:return n=(0,c.Bo)(e.dataTransfer),(0,c.dR)(n,e),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))}}]),n}(i.JT);A.ID="editor.contrib.dropIntoEditorController",A=R([T(1,f.vu),T(2,p.p),T(3,b.R9),T(4,_.ec)],A);var D=function(){function e(t){C(this,e),this._workspaceContextService=t}return L(e,[{key:"provideDocumentOnDropEdits",value:function(e,t,n,r){var o;return j(this,void 0,void 0,w().mark((function e(){var t,r,i,s,u;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.get(a.v.uriList))){e.next=8;break}return e.next=4,t.asString();case 4:if(r=e.sent,!(i=this.getUriListInsertText(r))){e.next=8;break}return e.abrupt("return",{insertText:i});case 8:if(!(s=null!==(o=n.get("text"))&&void 0!==o?o:n.get(a.v.text))){e.next=14;break}return e.next=12,s.asString();case 12:return u=e.sent,e.abrupt("return",{insertText:u});case 14:return e.abrupt("return",void 0);case 15:case"end":return e.stop()}}),e,this)})))}},{key:"getUriListInsertText",value:function(e){var t,n=this,r=[],o=S(c.Z0.parse(e));try{for(o.s();!(t=o.n()).done;){var i=t.value;try{r.push(u.o.parse(i))}catch(e){}}}catch(e){o.e(e)}finally{o.f()}if(r.length)return r.map((function(e){var t=n._workspaceContextService.getWorkspaceFolder(e);if(t){var r=(0,s.lX)(t.uri,e);if(r)return r}return e.fsPath})).join(" ")}}]),e}();D=R([T(0,_.ec)],D),(0,l._K)(A.ID,A)},59347:(e,t,n)=>{n.d(t,{yy:()=>W,Dl:()=>H,YQ:()=>B});var r=n(46969),o=n(48466),i=n(2307),a=n(38709),s=n(18679),u=n(73589),c=n(92142),l=n(63304),f=n(47123),d=n(18063);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=v(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},p.apply(this,arguments)}function v(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===h(i)?i:String(i)),r)}var o,i}function C(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var x=(0,l.yh)("IEditorCancelService"),L=new u.uy("cancellableOperation",!1,(0,d.NC)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,f.z)(x,function(){function e(){S(this,e),this._tokens=new WeakMap}return C(e,[{key:"add",value:function(e,t){var n,r=this._tokens.get(e);return r||(r=e.invokeWithinContext((function(e){return{key:L.bindTo(e.get(u.i6)),tokens:new c.S}})),this._tokens.set(e,r)),r.key.set(!0),n=r.tokens.push(t),function(){n&&(n(),r.key.set(!r.tokens.isEmpty()),n=void 0)}}},{key:"cancel",value:function(e){var t=this._tokens.get(e);if(t){var n=t.tokens.pop();n&&(n.cancel(),t.key.set(!t.tokens.isEmpty()))}}}]),e}(),!0);var O=function(e){g(n,e);var t=m(n);function n(e,r){var o;return S(this,n),(o=t.call(this,r)).editor=e,o._unregister=e.invokeWithinContext((function(t){return t.get(x).add(e,_(o))})),o}return C(n,[{key:"dispose",value:function(){this._unregister(),p(w(n.prototype),"dispose",this).call(this)}}]),n}(i.A);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=N(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},P.apply(this,arguments)}function N(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===E(i)?i:String(i)),r)}var o,i}function F(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(0,s.fK)(new(function(e){g(n,e);var t=m(n);function n(){return S(this,n),t.call(this,{id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:L})}return C(n,[{key:"runEditorCommand",value:function(e,t){e.get(x).cancel(t)}}]),n}(s._l)));var W=function(){function e(t,n){if(D(this,e),this.flags=n,0!=(1&this.flags)){var o=t.getModel();this.modelVersionId=o?r.WU("{0}#{1}",o.uri.toString(),o.getVersionId()):null}else this.modelVersionId=null;0!=(4&this.flags)?this.position=t.getPosition():this.position=null,0!=(2&this.flags)?this.selection=t.getSelection():this.selection=null,0!=(8&this.flags)?(this.scrollLeft=t.getScrollLeft(),this.scrollTop=t.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}return F(e,[{key:"_equals",value:function(t){if(!(t instanceof e))return!1;var n=t;return this.modelVersionId===n.modelVersionId&&(this.scrollLeft===n.scrollLeft&&this.scrollTop===n.scrollTop&&(!(!this.position&&n.position||this.position&&!n.position||this.position&&n.position&&!this.position.equals(n.position))&&!(!this.selection&&n.selection||this.selection&&!n.selection||this.selection&&n.selection&&!this.selection.equalsRange(n.selection))))}},{key:"validate",value:function(t){return this._equals(new e(t,this.flags))}}]),e}(),H=function(e){I(n,e);var t=T(n);function n(e,r,i,s){var u;return D(this,n),(u=t.call(this,e,s))._listener=new a.SL,4&r&&u._listener.add(e.onDidChangeCursorPosition((function(e){i&&o.e.containsPosition(i,e.position)||u.cancel()}))),2&r&&u._listener.add(e.onDidChangeCursorSelection((function(e){i&&o.e.containsRange(i,e.selection)||u.cancel()}))),8&r&&u._listener.add(e.onDidScrollChange((function(e){return u.cancel()}))),1&r&&(u._listener.add(e.onDidChangeModel((function(e){return u.cancel()}))),u._listener.add(e.onDidChangeModelContent((function(e){return u.cancel()})))),u}return F(n,[{key:"dispose",value:function(){this._listener.dispose(),P(A(n.prototype),"dispose",this).call(this)}}]),n}(O),B=function(e){I(n,e);var t=T(n);function n(e,r){var o;return D(this,n),(o=t.call(this,r))._listener=e.onDidChangeContent((function(){return o.cancel()})),o}return F(n,[{key:"dispose",value:function(){this._listener.dispose(),P(A(n.prototype),"dispose",this).call(this)}}]),n}(i.A)},85573:(e,t,n)=>{n.r(t),n.d(t,{CommonFindController:()=>an,FindController:()=>sn,MatchFindAction:()=>dn,NextMatchFindAction:()=>hn,NextSelectionMatchFindAction:()=>gn,PreviousMatchFindAction:()=>pn,PreviousSelectionMatchFindAction:()=>yn,SelectionMatchFindAction:()=>vn,StartFindAction:()=>un,StartFindReplaceAction:()=>mn,StartFindWithArgsAction:()=>ln,StartFindWithSelectionAction:()=>fn,getSelectionSearchString:()=>on});var r=n(95295),o=n(38709),i=n(46969),a=n(18679),s=n(25112),u=n(86193),c=n(25099),l=n(51638),f=n(48466),d=n(85963),h=n(11989),p=n(65498),v=n(3817),g=n(41367),y=n(38656);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===m(i)?i:String(i)),r)}var o,i}var k=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._editor=t,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}var t,n,r;return t=e,(n=[{key:"dispose",value:function(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}},{key:"reset",value:function(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}},{key:"getCount",value:function(){return this._decorations.length}},{key:"getFindScope",value:function(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}},{key:"getFindScopes",value:function(){var e=this;if(this._findScopeDecorationIds.length){var t=this._findScopeDecorationIds.map((function(t){return e._editor.getModel().getDecorationRange(t)})).filter((function(e){return!!e}));if(t.length)return t}return null}},{key:"getStartPosition",value:function(){return this._startPosition}},{key:"setStartPosition",value:function(e){this._startPosition=e,this.setCurrentFindMatch(null)}},{key:"_getDecorationIndex",value:function(e){var t=this._decorations.indexOf(e);return t>=0?t+1:1}},{key:"getCurrentMatchesPosition",value:function(t){var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this._editor.getModel().getDecorationsInRange(t));try{for(r.s();!(n=r.n()).done;){var o=n.value,i=o.options;if(i===e._FIND_MATCH_DECORATION||i===e._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(o.id)}}catch(e){r.e(e)}finally{r.f()}return 0}},{key:"setCurrentFindMatch",value:function(t){var n=this,r=null,o=0;if(t)for(var i=0,a=this._decorations.length;i<a;i++){var s=this._editor.getModel().getDecorationRange(this._decorations[i]);if(t.equalsRange(s)){r=this._decorations[i],o=i+1;break}}return null===this._highlightedDecorationId&&null===r||this._editor.changeDecorations((function(t){if(null!==n._highlightedDecorationId&&(t.changeDecorationOptions(n._highlightedDecorationId,e._FIND_MATCH_DECORATION),n._highlightedDecorationId=null),null!==r&&(n._highlightedDecorationId=r,t.changeDecorationOptions(n._highlightedDecorationId,e._CURRENT_FIND_MATCH_DECORATION)),null!==n._rangeHighlightDecorationId&&(t.removeDecoration(n._rangeHighlightDecorationId),n._rangeHighlightDecorationId=null),null!==r){var o=n._editor.getModel().getDecorationRange(r);if(o.startLineNumber!==o.endLineNumber&&1===o.endColumn){var i=o.endLineNumber-1,a=n._editor.getModel().getLineMaxColumn(i);o=new f.e(o.startLineNumber,o.startColumn,i,a)}n._rangeHighlightDecorationId=t.addDecoration(o,e._RANGE_HIGHLIGHT_DECORATION)}})),o}},{key:"set",value:function(t,n){var r=this;this._editor.changeDecorations((function(o){var i=e._FIND_MATCH_DECORATION,a=[];if(t.length>1e3){i=e._FIND_MATCH_NO_OVERVIEW_DECORATION;for(var s=r._editor.getModel().getLineCount(),u=r._editor.getLayoutInfo().height/s,c=Math.max(2,Math.ceil(3/u)),l=t[0].range.startLineNumber,d=t[0].range.endLineNumber,h=1,p=t.length;h<p;h++){var v=t[h].range;d+c>=v.startLineNumber?v.endLineNumber>d&&(d=v.endLineNumber):(a.push({range:new f.e(l,1,d,1),options:e._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),l=v.startLineNumber,d=v.endLineNumber)}a.push({range:new f.e(l,1,d,1),options:e._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}for(var g=new Array(t.length),y=0,m=t.length;y<m;y++)g[y]={range:t[y].range,options:i};r._decorations=o.deltaDecorations(r._decorations,g),r._overviewRulerApproximateDecorations=o.deltaDecorations(r._overviewRulerApproximateDecorations,a),r._rangeHighlightDecorationId&&(o.removeDecoration(r._rangeHighlightDecorationId),r._rangeHighlightDecorationId=null),r._findScopeDecorationIds.length&&(r._findScopeDecorationIds.forEach((function(e){return o.removeDecoration(e)})),r._findScopeDecorationIds=[]),(null==n?void 0:n.length)&&(r._findScopeDecorationIds=n.map((function(t){return o.addDecoration(t,e._FIND_SCOPE_DECORATION)})))}))}},{key:"matchBeforePosition",value:function(e){if(0===this._decorations.length)return null;for(var t=this._decorations.length-1;t>=0;t--){var n=this._decorations[t],r=this._editor.getModel().getDecorationRange(n);if(r&&!(r.endLineNumber>e.lineNumber)){if(r.endLineNumber<e.lineNumber)return r;if(!(r.endColumn>e.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}},{key:"matchAfterPosition",value:function(e){if(0===this._decorations.length)return null;for(var t=0,n=this._decorations.length;t<n;t++){var r=this._decorations[t],o=this._editor.getModel().getDecorationRange(r);if(o&&!(o.startLineNumber<e.lineNumber)){if(o.startLineNumber>e.lineNumber)return o;if(!(o.startColumn<e.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[0])}},{key:"_allDecorations",value:function(){var e,t=[];return t=(t=t.concat(this._decorations)).concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&(e=t).push.apply(e,b(this._findScopeDecorationIds)),this._rangeHighlightDecorationId&&t.push(this._rangeHighlightDecorationId),t}}])&&S(t.prototype,n),r&&S(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===C(i)?i:String(i)),r)}var o,i}k._CURRENT_FIND_MATCH_DECORATION=v.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,y.EN)(g.Fm_),position:p.sh.Center},minimap:{color:(0,y.EN)(g.SUY),position:p.F5.Inline}}),k._FIND_MATCH_DECORATION=v.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,y.EN)(g.Fm_),position:p.sh.Center},minimap:{color:(0,y.EN)(g.SUY),position:p.F5.Inline}}),k._FIND_MATCH_NO_OVERVIEW_DECORATION=v.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),k._FIND_MATCH_ONLY_OVERVIEW_DECORATION=v.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,y.EN)(g.Fm_),position:p.sh.Center}}),k._RANGE_HIGHLIGHT_DECORATION=v.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),k._FIND_SCOPE_DECORATION=v.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});var L=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._editorSelection=t,this._ranges=n,this._replaceStrings=r,this._trackedEditorSelectionId=null}var t,n,r;return t=e,(n=[{key:"getEditOperations",value:function(e,t){if(this._ranges.length>0){for(var n=[],r=0;r<this._ranges.length;r++)n.push({range:this._ranges[r],text:this._replaceStrings[r]});n.sort((function(e,t){return f.e.compareRangesUsingStarts(e.range,t.range)}));for(var o=[],i=n[0],a=1;a<n.length;a++)i.range.endLineNumber===n[a].range.startLineNumber&&i.range.endColumn===n[a].range.startColumn?(i.range=i.range.plusRange(n[a].range),i.text=i.text+n[a].text):(o.push(i),i=n[a]);o.push(i);for(var s=0,u=o;s<u.length;s++){var c=u[s];t.addEditOperation(c.range,c.text)}}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}])&&x(t.prototype,n),r&&x(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),O=n(56133);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===E(i)?i:String(i)),r)}var o,i}function N(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var R=N((function e(t){I(this,e),this.staticValue=t,this.kind=0})),T=N((function e(t){I(this,e),this.pieces=t,this.kind=1})),j=function(){function e(t){I(this,e),t&&0!==t.length?1===t.length&&null!==t[0].staticValue?this._state=new R(t[0].staticValue):this._state=new T(t):this._state=new R("")}return N(e,[{key:"hasReplacementPatterns",get:function(){return 1===this._state.kind}},{key:"buildReplaceString",value:function(t,n){if(0===this._state.kind)return n?(0,O.o)(t,this._state.staticValue):this._state.staticValue;for(var r="",o=0,i=this._state.pieces.length;o<i;o++){var a=this._state.pieces[o];if(null===a.staticValue){var s=e._substitute(a.matchIndex,t);if(null!==a.caseOps&&a.caseOps.length>0){for(var u=[],c=a.caseOps.length,l=0,f=0,d=s.length;f<d;f++){if(l>=c){u.push(s.slice(f));break}switch(a.caseOps[l]){case"U":u.push(s[f].toUpperCase());break;case"u":u.push(s[f].toUpperCase()),l++;break;case"L":u.push(s[f].toLowerCase());break;case"l":u.push(s[f].toLowerCase()),l++;break;default:u.push(s[f])}}s=u.join("")}r+=s}else r+=a.staticValue}return r}}],[{key:"fromStaticValue",value:function(t){return new e([A.staticValue(t)])}},{key:"_substitute",value:function(e,t){if(null===t)return"";if(0===e)return t[0];for(var n="";e>0;){if(e<t.length)return(t[e]||"")+n;n=String(e%10)+n,e=Math.floor(e/10)}return"$"+n}}]),e}(),A=function(){function e(t,n,r){I(this,e),this.staticValue=t,this.matchIndex=n,r&&0!==r.length?this.caseOps=r.slice(0):this.caseOps=null}return N(e,null,[{key:"staticValue",value:function(t){return new e(t,-1,null)}},{key:"caseOps",value:function(t,n){return new e(null,t,n)}}]),e}(),D=function(){function e(t){I(this,e),this._source=t,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}return N(e,[{key:"emitUnchanged",value:function(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}},{key:"emitStatic",value:function(e,t){this._emitStatic(e),this._lastCharIndex=t}},{key:"_emitStatic",value:function(e){0!==e.length&&(this._currentStaticPiece+=e)}},{key:"emitMatchIndex",value:function(e,t,n){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=A.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=A.caseOps(e,n),this._lastCharIndex=t}},{key:"finalize",value:function(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=A.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new j(this._result)}}]),e}();var M=n(73589);function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==F(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===F(i)?i:String(i)),r)}var o,i}var H=new M.uy("findWidgetVisible",!1),B=(H.toNegated(),new M.uy("findInputFocussed",!1)),G=new M.uy("replaceInputFocussed",!1),V={primary:545,mac:{primary:2593}},U={primary:565,mac:{primary:2613}},z={primary:560,mac:{primary:2608}},K={primary:554,mac:{primary:2602}},q={primary:558,mac:{primary:2606}},Y="actions.find",Q="actions.findWithSelection",Z="editor.actions.findWithArgs",$="editor.action.nextMatchFindAction",J="editor.action.previousMatchFindAction",X="editor.action.nextSelectionMatchFindAction",ee="editor.action.previousSelectionMatchFindAction",te="editor.action.startFindReplaceAction",ne="closeFindWidget",re="toggleFindCaseSensitive",oe="toggleFindWholeWord",ie="toggleFindRegex",ae="toggleFindInSelection",se="togglePreserveCase",ue="editor.action.replaceOne",ce="editor.action.replaceAll",le="editor.action.selectAllMatches",fe=19999,de=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._toDispose=new o.SL,this._editor=t,this._state=n,this._isDisposed=!1,this._startSearchingTimer=new r._F,this._decorations=new k(t),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new r.pY((function(){return i.research(!1)}),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition((function(e){3!==e.reason&&5!==e.reason&&6!==e.reason||i._decorations.setStartPosition(i._editor.getPosition())}))),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent((function(e){i._ignoreModelContentChanged||(e.isFlush&&i._decorations.reset(),i._decorations.setStartPosition(i._editor.getPosition()),i._updateDecorationsScheduler.schedule())}))),this._toDispose.add(this._state.onFindReplaceStateChange((function(e){return i._onStateChanged(e)}))),this.research(!1,this._state.searchScope)}var t,n,i;return t=e,n=[{key:"dispose",value:function(){this._isDisposed=!0,(0,o.B9)(this._startSearchingTimer),this._toDispose.dispose()}},{key:"_onStateChanged",value:function(e){var t=this;this._isDisposed||this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet((function(){e.searchScope?t.research(e.moveCursor,t._state.searchScope):t.research(e.moveCursor)}),240)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))}},{key:"research",value:function(e,t){var n=this,r=null;void 0!==t?null!==t&&(r=Array.isArray(t)?t:[t]):r=this._decorations.getFindScopes(),null!==r&&(r=r.map((function(e){if(e.startLineNumber!==e.endLineNumber){var t=e.endLineNumber;return 1===e.endColumn&&(t-=1),new f.e(e.startLineNumber,1,t,n._editor.getModel().getLineMaxColumn(t))}return e})));var o=this._findMatches(r,!1,fe);this._decorations.set(o,r);var i=this._editor.getSelection(),a=this._decorations.getCurrentMatchesPosition(i);if(0===a&&o.length>0){var s=(0,u.lG)(o.map((function(e){return e.range})),(function(e){return f.e.compareRangesUsingStarts(e,i)>=0}));a=s>0?s-1+1:a}this._state.changeMatchInfo(a,this._decorations.getCount(),void 0),e&&this._editor.getOption(37).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}},{key:"_hasMatches",value:function(){return this._state.matchesCount>0}},{key:"_cannotFind",value:function(){if(!this._hasMatches()){var e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}},{key:"_setCurrentFindMatch",value:function(e){var t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}},{key:"_prevSearchPosition",value:function(e){var t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),n=e.lineNumber,r=e.column,o=this._editor.getModel();return t||1===r?(1===n?n=o.getLineCount():n--,r=o.getLineMaxColumn(n)):r--,new l.L(n,r)}},{key:"_moveToPrevMatch",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._state.canNavigateBack()){if(this._decorations.getCount()<fe){var r=this._decorations.matchBeforePosition(t);return r&&r.isEmpty()&&r.getStartPosition().equals(t)&&(t=this._prevSearchPosition(t),r=this._decorations.matchBeforePosition(t)),void(r&&this._setCurrentFindMatch(r))}if(!this._cannotFind()){var o=this._decorations.getFindScope(),i=e._getSearchRange(this._editor.getModel(),o);i.getEndPosition().isBefore(t)&&(t=i.getEndPosition()),t.isBefore(i.getStartPosition())&&(t=i.getEndPosition());var a=t,s=a.lineNumber,u=a.column,c=this._editor.getModel(),f=new l.L(s,u),d=c.findPreviousMatch(this._state.searchString,f,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1);if(d&&d.range.isEmpty()&&d.range.getStartPosition().equals(f)&&(f=this._prevSearchPosition(f),d=c.findPreviousMatch(this._state.searchString,f,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1)),d)return n||i.containsRange(d.range)?void this._setCurrentFindMatch(d.range):this._moveToPrevMatch(d.range.getStartPosition(),!0)}}else{var h=this._decorations.matchAfterPosition(t);h&&this._setCurrentFindMatch(h)}}},{key:"moveToPrevMatch",value:function(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}},{key:"_nextSearchPosition",value:function(e){var t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),n=e.lineNumber,r=e.column,o=this._editor.getModel();return t||r===o.getLineMaxColumn(n)?(n===o.getLineCount()?n=1:n++,r=1):r++,new l.L(n,r)}},{key:"_moveToNextMatch",value:function(e){if(this._state.canNavigateForward()){if(this._decorations.getCount()<fe){var t=this._decorations.matchAfterPosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),void(t&&this._setCurrentFindMatch(t))}var n=this._getNextMatch(e,!1,!0);n&&this._setCurrentFindMatch(n.range)}else{var r=this._decorations.matchBeforePosition(e);r&&this._setCurrentFindMatch(r)}}},{key:"_getNextMatch",value:function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._cannotFind())return null;var i=this._decorations.getFindScope(),a=e._getSearchRange(this._editor.getModel(),i);a.getEndPosition().isBefore(t)&&(t=a.getStartPosition()),t.isBefore(a.getStartPosition())&&(t=a.getStartPosition());var s=t,u=s.lineNumber,c=s.column,f=this._editor.getModel(),d=new l.L(u,c),h=f.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,n);return r&&h&&h.range.isEmpty()&&h.range.getStartPosition().equals(d)&&(d=this._nextSearchPosition(d),h=f.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,n)),h?o||a.containsRange(h.range)?h:this._getNextMatch(h.range.getEndPosition(),n,r,!0):null}},{key:"moveToNextMatch",value:function(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}},{key:"_getReplacePattern",value:function(){return this._state.isRegex?function(e){if(!e||0===e.length)return new j(null);for(var t=[],n=new D(e),r=0,o=e.length;r<o;r++){var i=e.charCodeAt(r);if(92!==i){if(36===i){if(++r>=o)break;var a=e.charCodeAt(r);if(36===a){n.emitUnchanged(r-1),n.emitStatic("$",r+1);continue}if(48===a||38===a){n.emitUnchanged(r-1),n.emitMatchIndex(0,r+1,t),t.length=0;continue}if(49<=a&&a<=57){var s=a-48;if(r+1<o){var u=e.charCodeAt(r+1);if(48<=u&&u<=57){r++,s=10*s+(u-48),n.emitUnchanged(r-2),n.emitMatchIndex(s,r+1,t),t.length=0;continue}}n.emitUnchanged(r-1),n.emitMatchIndex(s,r+1,t),t.length=0;continue}}}else{if(++r>=o)break;var c=e.charCodeAt(r);switch(c){case 92:n.emitUnchanged(r-1),n.emitStatic("\\",r+1);break;case 110:n.emitUnchanged(r-1),n.emitStatic("\n",r+1);break;case 116:n.emitUnchanged(r-1),n.emitStatic("\t",r+1);break;case 117:case 85:case 108:case 76:n.emitUnchanged(r-1),n.emitStatic("",r+1),t.push(String.fromCharCode(c))}}}return n.finalize()}(this._state.replaceString):j.fromStaticValue(this._state.replaceString)}},{key:"replace",value:function(){if(this._hasMatches()){var e=this._getReplacePattern(),t=this._editor.getSelection(),n=this._getNextMatch(t.getStartPosition(),!0,!1);if(n)if(t.equalsRange(n.range)){var r=e.buildReplaceString(n.matches,this._state.preserveCase),o=new c.T4(t,r);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new l.L(t.startLineNumber,t.startColumn+r.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(n.range)}}},{key:"_findMatches",value:function(t,n,r){var o=this,i=(t||[null]).map((function(t){return e._getSearchRange(o._editor.getModel(),t)}));return this._editor.getModel().findMatches(this._state.searchString,i,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,n,r)}},{key:"replaceAll",value:function(){if(this._hasMatches()){var e=this._decorations.getFindScopes();null===e&&this._state.matchesCount>=fe?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}}},{key:"_largeReplaceAll",value:function(){var e=new h.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null).parseSearchRequest();if(e){var t=e.regex;if(!t.multiline){var n="mu";t.ignoreCase&&(n+="i"),t.global&&(n+="g"),t=new RegExp(t.source,n)}var r,o=this._editor.getModel(),i=o.getValue(1),a=o.getFullModelRange(),s=this._getReplacePattern(),u=this._state.preserveCase;r=s.hasReplacementPatterns||u?i.replace(t,(function(){return s.buildReplaceString(arguments,u)})):i.replace(t,s.buildReplaceString(null,u));var l=new c.hP(a,r,this._editor.getSelection());this._executeEditorCommand("replaceAll",l)}}},{key:"_regularReplaceAll",value:function(e){for(var t=this._getReplacePattern(),n=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),r=[],o=0,i=n.length;o<i;o++)r[o]=t.buildReplaceString(n[o].matches,this._state.preserveCase);var a=new L(this._editor.getSelection(),n.map((function(e){return e.range})),r);this._executeEditorCommand("replaceAll",a)}},{key:"selectAllMatches",value:function(){if(this._hasMatches()){for(var e=this._decorations.getFindScopes(),t=this._findMatches(e,!1,1073741824).map((function(e){return new d.Y(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)})),n=this._editor.getSelection(),r=0,o=t.length;r<o;r++)if(t[r].equalsRange(n)){t=[n].concat(t.slice(0,r)).concat(t.slice(r+1));break}this._editor.setSelections(t)}}},{key:"_executeEditorCommand",value:function(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}],i=[{key:"_getSearchRange",value:function(e,t){return t||e.getFullModelRange()}}],n&&W(t.prototype,n),i&&W(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),he=n(32007),pe=n(25896),ve=n(69802);function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==ge(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===ge(i)?i:String(i)),r)}var o,i}function me(){return me="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=be(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},me.apply(this,arguments)}function be(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ce(e)););return e}function _e(e,t){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_e(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ce(e);if(t){var o=Ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Se(this,n)}}function Se(e,t){if(t&&("object"===ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ke(e)}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e){return Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ce(e)}var xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_e(e,t)}(a,e);var t,n,o,i=we(a);function a(e,t,n,o){var s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(s=i.call(this))._hideSoon=s._register(new r.pY((function(){return s._hide()}),2e3)),s._isVisible=!1,s._editor=e,s._state=t,s._keybindingService=n,s._domNode=document.createElement("div"),s._domNode.className="findOptionsWidget",s._domNode.style.display="none",s._domNode.style.top="10px",s._domNode.setAttribute("role","presentation"),s._domNode.setAttribute("aria-hidden","true");var u=o.getColorTheme().getColor(g.PRb),c=o.getColorTheme().getColor(g.Pvw),l=o.getColorTheme().getColor(g.XEs);return s.caseSensitive=s._register(new pe.rk({appendTitle:s._keybindingLabelFor(re),isChecked:s._state.matchCase,inputActiveOptionBorder:u,inputActiveOptionForeground:c,inputActiveOptionBackground:l})),s._domNode.appendChild(s.caseSensitive.domNode),s._register(s.caseSensitive.onChange((function(){s._state.change({matchCase:s.caseSensitive.checked},!1)}))),s.wholeWords=s._register(new pe.Qx({appendTitle:s._keybindingLabelFor(oe),isChecked:s._state.wholeWord,inputActiveOptionBorder:u,inputActiveOptionForeground:c,inputActiveOptionBackground:l})),s._domNode.appendChild(s.wholeWords.domNode),s._register(s.wholeWords.onChange((function(){s._state.change({wholeWord:s.wholeWords.checked},!1)}))),s.regex=s._register(new pe.eH({appendTitle:s._keybindingLabelFor(ie),isChecked:s._state.isRegex,inputActiveOptionBorder:u,inputActiveOptionForeground:c,inputActiveOptionBackground:l})),s._domNode.appendChild(s.regex.domNode),s._register(s.regex.onChange((function(){s._state.change({isRegex:s.regex.checked},!1)}))),s._editor.addOverlayWidget(ke(s)),s._register(s._state.onFindReplaceStateChange((function(e){var t=!1;e.isRegex&&(s.regex.checked=s._state.isRegex,t=!0),e.wholeWord&&(s.wholeWords.checked=s._state.wholeWord,t=!0),e.matchCase&&(s.caseSensitive.checked=s._state.matchCase,t=!0),!s._state.isRevealed&&t&&s._revealTemporarily()}))),s._register(he.addDisposableListener(s._domNode,he.EventType.MOUSE_LEAVE,(function(e){return s._onMouseLeave()}))),s._register(he.addDisposableListener(s._domNode,"mouseover",(function(e){return s._onMouseOver()}))),s._applyTheme(o.getColorTheme()),s._register(o.onDidColorThemeChange(s._applyTheme.bind(ke(s)))),s}return t=a,(n=[{key:"_keybindingLabelFor",value:function(e){var t=this._keybindingService.lookupKeybinding(e);return t?" (".concat(t.getLabel(),")"):""}},{key:"dispose",value:function(){this._editor.removeOverlayWidget(this),me(Ce(a.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return a.ID}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return{preference:0}}},{key:"highlightFindOptions",value:function(){this._revealTemporarily()}},{key:"_revealTemporarily",value:function(){this._show(),this._hideSoon.schedule()}},{key:"_onMouseLeave",value:function(){this._hideSoon.schedule()}},{key:"_onMouseOver",value:function(){this._hideSoon.cancel()}},{key:"_show",value:function(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}},{key:"_hide",value:function(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}},{key:"_applyTheme",value:function(e){var t={inputActiveOptionBorder:e.getColor(g.PRb),inputActiveOptionForeground:e.getColor(g.Pvw),inputActiveOptionBackground:e.getColor(g.XEs)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)}}])&&ye(t.prototype,n),o&&ye(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(ve.$);xe.ID="editor.contrib.findOptionsWidget",(0,y.Ic)((function(e,t){var n=e.getColor(g.D0T);n&&t.addRule(".monaco-editor .findOptionsWidget { background-color: ".concat(n,"; }"));var r=e.getColor(g.Hfx);r&&t.addRule(".monaco-editor .findOptionsWidget { color: ".concat(r,"; }"));var o=e.getColor(g.rh);o&&t.addRule(".monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ".concat(o,"; }"));var i=e.getColor(g.lRK);i&&t.addRule(".monaco-editor .findOptionsWidget { border: 2px solid ".concat(i,"; }"))}));var Le=n(82459);function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Oe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Oe(i)?i:String(i)),r)}var o,i}function Pe(e,t){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pe(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Re(e);if(t){var o=Re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ie(this,n)}}function Ie(e,t){if(t&&("object"===Oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Re(e){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Re(e)}function Te(e,t){return 1===e||2!==e&&t}var je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pe(e,t)}(i,e);var t,n,r,o=Ne(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this))._onFindReplaceStateChange=e._register(new Le.Q5),e.onFindReplaceStateChange=e._onFindReplaceStateChange.event,e._searchString="",e._replaceString="",e._isRevealed=!1,e._isReplaceRevealed=!1,e._isRegex=!1,e._isRegexOverride=0,e._wholeWord=!1,e._wholeWordOverride=0,e._matchCase=!1,e._matchCaseOverride=0,e._preserveCase=!1,e._preserveCaseOverride=0,e._searchScope=null,e._matchesPosition=0,e._matchesCount=0,e._currentMatch=null,e._loop=!0,e._isSearching=!1,e._filters=null,e}return t=i,n=[{key:"searchString",get:function(){return this._searchString}},{key:"replaceString",get:function(){return this._replaceString}},{key:"isRevealed",get:function(){return this._isRevealed}},{key:"isReplaceRevealed",get:function(){return this._isReplaceRevealed}},{key:"isRegex",get:function(){return Te(this._isRegexOverride,this._isRegex)}},{key:"wholeWord",get:function(){return Te(this._wholeWordOverride,this._wholeWord)}},{key:"matchCase",get:function(){return Te(this._matchCaseOverride,this._matchCase)}},{key:"preserveCase",get:function(){return Te(this._preserveCaseOverride,this._preserveCase)}},{key:"actualIsRegex",get:function(){return this._isRegex}},{key:"actualWholeWord",get:function(){return this._wholeWord}},{key:"actualMatchCase",get:function(){return this._matchCase}},{key:"actualPreserveCase",get:function(){return this._preserveCase}},{key:"searchScope",get:function(){return this._searchScope}},{key:"matchesPosition",get:function(){return this._matchesPosition}},{key:"matchesCount",get:function(){return this._matchesCount}},{key:"currentMatch",get:function(){return this._currentMatch}},{key:"changeMatchInfo",value:function(e,t,n){var r={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},o=!1;0===t&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,r.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,r.matchesCount=!0,o=!0),void 0!==n&&(f.e.equalsRange(this._currentMatch,n)||(this._currentMatch=n,r.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(r)}},{key:"change",value:function(e,t){var n,r=this,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i={moveCursor:t,updateHistory:o,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},a=!1,s=this.isRegex,u=this.wholeWord,c=this.matchCase,l=this.preserveCase;void 0!==e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,i.searchString=!0,a=!0),void 0!==e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,i.replaceString=!0,a=!0),void 0!==e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,i.isRevealed=!0,a=!0),void 0!==e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,i.isReplaceRevealed=!0,a=!0),void 0!==e.isRegex&&(this._isRegex=e.isRegex),void 0!==e.wholeWord&&(this._wholeWord=e.wholeWord),void 0!==e.matchCase&&(this._matchCase=e.matchCase),void 0!==e.preserveCase&&(this._preserveCase=e.preserveCase),void 0!==e.searchScope&&((null===(n=e.searchScope)||void 0===n?void 0:n.every((function(e){var t;return null===(t=r._searchScope)||void 0===t?void 0:t.some((function(t){return!f.e.equalsRange(t,e)}))})))||(this._searchScope=e.searchScope,i.searchScope=!0,a=!0)),void 0!==e.loop&&this._loop!==e.loop&&(this._loop=e.loop,i.loop=!0,a=!0),void 0!==e.isSearching&&this._isSearching!==e.isSearching&&(this._isSearching=e.isSearching,i.isSearching=!0,a=!0),void 0!==e.filters&&(this._filters?this._filters.update(e.filters):this._filters=e.filters,i.filters=!0,a=!0),this._isRegexOverride=void 0!==e.isRegexOverride?e.isRegexOverride:0,this._wholeWordOverride=void 0!==e.wholeWordOverride?e.wholeWordOverride:0,this._matchCaseOverride=void 0!==e.matchCaseOverride?e.matchCaseOverride:0,this._preserveCaseOverride=void 0!==e.preserveCaseOverride?e.preserveCaseOverride:0,s!==this.isRegex&&(a=!0,i.isRegex=!0),u!==this.wholeWord&&(a=!0,i.wholeWord=!0),c!==this.matchCase&&(a=!0,i.matchCase=!0),l!==this.preserveCase&&(a=!0,i.preserveCase=!0),a&&this._onFindReplaceStateChange.fire(i)}},{key:"canNavigateBack",value:function(){return this.canNavigateInLoop()||1!==this.matchesPosition}},{key:"canNavigateForward",value:function(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}},{key:"canNavigateInLoop",value:function(){return this._loop||this.matchesCount>=fe}}],n&&Ee(t.prototype,n),r&&Ee(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.JT),Ae=n(61041),De=n(61012),Me=n(15003),Fe=n(74553),We=n(95835),He=n(71386),Be=n(18063),Ge=n(87994),Ve=n(86207),Ue=n(44674),ze=n(78554);function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}function qe(e){return function(e){if(Array.isArray(e))return Ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qe(){Qe=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==Ke(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Ze(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$e(e,t)}function $e(e,t){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$e(e,t)}function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tt(e);if(t){var o=tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xe(this,n)}}function Xe(e,t){if(t&&("object"===Ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return et(e)}function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(e){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tt(e)}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Ke(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Ke(i)?i:String(i)),r)}var o,i}function rt(e,t,n){return t&&nt(e.prototype,t),n&&nt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var it=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},at=(0,Ue.q5)("find-selection",Fe.lA.selection,Be.NC("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),st=(0,Ue.q5)("find-collapsed",Fe.lA.chevronRight,Be.NC("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),ut=(0,Ue.q5)("find-expanded",Fe.lA.chevronDown,Be.NC("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),ct=(0,Ue.q5)("find-replace",Fe.lA.replace,Be.NC("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),lt=(0,Ue.q5)("find-replace-all",Fe.lA.replaceAll,Be.NC("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),ft=(0,Ue.q5)("find-previous-match",Fe.lA.arrowUp,Be.NC("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),dt=(0,Ue.q5)("find-next-match",Fe.lA.arrowDown,Be.NC("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),ht=Be.NC("label.find","Find"),pt=Be.NC("placeholder.find","Find"),vt=Be.NC("label.previousMatchButton","Previous Match"),gt=Be.NC("label.nextMatchButton","Next Match"),yt=Be.NC("label.toggleSelectionFind","Find in Selection"),mt=Be.NC("label.closeButton","Close"),bt=Be.NC("label.replace","Replace"),_t=Be.NC("placeholder.replace","Replace"),wt=Be.NC("label.replaceButton","Replace"),St=Be.NC("label.replaceAllButton","Replace All"),kt=Be.NC("label.toggleReplaceButton","Toggle Replace"),Ct=Be.NC("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",fe),xt=Be.NC("label.matchesLocation","{0} of {1}"),Lt=Be.NC("label.noResults","No results"),Ot=419,Et=69,Pt="ctrlEnterReplaceAll.windows.donotask",Nt=He.dz?256:2048,It=rt((function e(t){ot(this,e),this.afterLineNumber=t,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}));function Rt(e,t,n){var r=!!t.match(/\n/);n&&r&&n.selectionStart>0&&e.stopPropagation()}function Tt(e,t,n){var r=!!t.match(/\n/);n&&r&&n.selectionEnd<n.value.length&&e.stopPropagation()}var jt=function(e){Ze(n,e);var t=Je(n);function n(e,i,a,s,u,c,l,f,d){var h;return ot(this,n),(h=t.call(this))._cachedHeight=null,h._revealTimeouts=[],h._codeEditor=e,h._controller=i,h._state=a,h._contextViewProvider=s,h._keybindingService=u,h._contextKeyService=c,h._storageService=f,h._notificationService=d,h._ctrlEnterReplaceAllWarningPrompted=!!f.getBoolean(Pt,0),h._isVisible=!1,h._isReplaceVisible=!1,h._ignoreChangeEvent=!1,h._updateHistoryDelayer=new r.vp(500),h._register((0,o.OF)((function(){return h._updateHistoryDelayer.cancel()}))),h._register(h._state.onFindReplaceStateChange((function(e){return h._onStateChanged(e)}))),h._buildDomNode(),h._updateButtons(),h._tryUpdateWidgetWidth(),h._findInput.inputBox.layout(),h._register(h._codeEditor.onDidChangeConfiguration((function(e){if(e.hasChanged(83)&&(h._codeEditor.getOption(83)&&h._state.change({isReplaceRevealed:!1},!1),h._updateButtons()),e.hasChanged(133)&&h._tryUpdateWidgetWidth(),e.hasChanged(2)&&h.updateAccessibilitySupport(),e.hasChanged(37)){var t=h._codeEditor.getOption(37).addExtraSpaceOnTop;t&&!h._viewZone&&(h._viewZone=new It(0),h._showViewZone()),!t&&h._viewZone&&h._removeViewZone()}}))),h.updateAccessibilitySupport(),h._register(h._codeEditor.onDidChangeCursorSelection((function(){h._isVisible&&h._updateToggleSelectionFindButton()}))),h._register(h._codeEditor.onDidFocusEditorWidget((function(){return it(et(h),void 0,void 0,Qe().mark((function e(){var t;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isVisible){e.next=5;break}return e.next=3,this._controller.getGlobalBufferTerm();case 3:(t=e.sent)&&t!==this._state.searchString&&(this._state.change({searchString:t},!1),this._findInput.select());case 5:case"end":return e.stop()}}),e,this)})))}))),h._findInputFocused=B.bindTo(c),h._findFocusTracker=h._register(he.trackFocus(h._findInput.inputBox.inputElement)),h._register(h._findFocusTracker.onDidFocus((function(){h._findInputFocused.set(!0),h._updateSearchScope()}))),h._register(h._findFocusTracker.onDidBlur((function(){h._findInputFocused.set(!1)}))),h._replaceInputFocused=G.bindTo(c),h._replaceFocusTracker=h._register(he.trackFocus(h._replaceInput.inputBox.inputElement)),h._register(h._replaceFocusTracker.onDidFocus((function(){h._replaceInputFocused.set(!0),h._updateSearchScope()}))),h._register(h._replaceFocusTracker.onDidBlur((function(){h._replaceInputFocused.set(!1)}))),h._codeEditor.addOverlayWidget(et(h)),h._codeEditor.getOption(37).addExtraSpaceOnTop&&(h._viewZone=new It(0)),h._applyTheme(l.getColorTheme()),h._register(l.onDidColorThemeChange(h._applyTheme.bind(et(h)))),h._register(h._codeEditor.onDidChangeModel((function(){h._isVisible&&(h._viewZoneId=void 0)}))),h._register(h._codeEditor.onDidScrollChange((function(e){e.scrollTopChanged?h._layoutViewZone():setTimeout((function(){h._layoutViewZone()}),0)}))),h}return rt(n,[{key:"getId",value:function(){return n.ID}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return this._isVisible?{preference:0}:null}},{key:"_onStateChanged",value:function(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getOption(83)||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInput.width=he.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){var t=this._state.searchString.length>0&&0===this._state.matchesCount;this._domNode.classList.toggle("no-results",t),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}},{key:"_delayedUpdateHistory",value:function(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,We.dL)}},{key:"_updateHistory",value:function(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}},{key:"_updateMatchesCount",value:function(){var e;if(this._matchesCount.style.minWidth=Et+"px",this._state.matchesCount>=fe?this._matchesCount.title=Ct:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){var t=String(this._state.matchesCount);this._state.matchesCount>=fe&&(t+="+");var n=String(this._state.matchesPosition);"0"===n&&(n="?"),e=i.WU(xt,n,t)}else e=Lt;this._matchesCount.appendChild(document.createTextNode(e)),(0,Ae.Z9)(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),Et=Math.max(Et,this._matchesCount.clientWidth)}},{key:"_getAriaLabel",value:function(e,t,n){if(e===Lt)return""===n?Be.NC("ariaSearchNoResultEmpty","{0} found",e):Be.NC("ariaSearchNoResult","{0} found for '{1}'",e,n);if(t){var r=Be.NC("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,n,t.startLineNumber+":"+t.startColumn),o=this._codeEditor.getModel();if(o&&t.startLineNumber<=o.getLineCount()&&t.startLineNumber>=1){var i=o.getLineContent(t.startLineNumber);return"".concat(i,", ").concat(r)}return r}return Be.NC("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,n)}},{key:"_updateToggleSelectionFindButton",value:function(){var e=this._codeEditor.getSelection(),t=!!e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn),n=this._toggleSelectionFind.checked;this._isVisible&&(n||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}},{key:"_updateButtons",value:function(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);var e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var n=!this._codeEditor.getOption(83);this._toggleReplaceBtn.setEnabled(this._isVisible&&n)}},{key:"_reveal",value:function(){var e=this;if(this._revealTimeouts.forEach((function(e){clearTimeout(e)})),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;var t=this._codeEditor.getSelection();switch(this._codeEditor.getOption(37).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":var n=!!t&&t.startLineNumber!==t.endLineNumber;this._toggleSelectionFind.checked=n}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout((function(){e._domNode.classList.add("visible"),e._domNode.setAttribute("aria-hidden","false")}),0)),this._revealTimeouts.push(setTimeout((function(){e._findInput.validate()}),200)),this._codeEditor.layoutOverlayWidget(this);var r=!0;if(this._codeEditor.getOption(37).seedSearchStringFromSelection&&t){var o=this._codeEditor.getDomNode();if(o){var i=he.getDomNodePagePosition(o),a=this._codeEditor.getScrolledVisiblePosition(t.getStartPosition()),s=i.left+(a?a.left:0),u=a?a.top:0;if(this._viewZone&&u<this._viewZone.heightInPx){t.endLineNumber>t.startLineNumber&&(r=!1);var c=he.getTopLeftOffset(this._domNode).left;s>c&&(r=!1);var l=this._codeEditor.getScrolledVisiblePosition(t.getEndPosition());i.left+(l?l.left:0)>c&&(r=!1)}}}this._showViewZone(r)}}},{key:"_hide",value:function(e){this._revealTimeouts.forEach((function(e){clearTimeout(e)})),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}},{key:"_layoutViewZone",value:function(e){var t=this;if(this._codeEditor.getOption(37).addExtraSpaceOnTop){if(this._isVisible){var n=this._viewZone;void 0===this._viewZoneId&&n&&this._codeEditor.changeViewZones((function(r){n.heightInPx=t._getHeight(),t._viewZoneId=r.addZone(n),t._codeEditor.setScrollTop(e||t._codeEditor.getScrollTop()+n.heightInPx)}))}}else this._removeViewZone()}},{key:"_showViewZone",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this._isVisible){var n=this._codeEditor.getOption(37).addExtraSpaceOnTop;if(n){void 0===this._viewZone&&(this._viewZone=new It(0));var r=this._viewZone;this._codeEditor.changeViewZones((function(n){if(void 0!==e._viewZoneId){var o=e._getHeight();if(o===r.heightInPx)return;var i=o-r.heightInPx;return r.heightInPx=o,n.layoutZone(e._viewZoneId),void(t&&e._codeEditor.setScrollTop(e._codeEditor.getScrollTop()+i))}var a=e._getHeight();(a-=e._codeEditor.getOption(77).top)<=0||(r.heightInPx=a,e._viewZoneId=n.addZone(r),t&&e._codeEditor.setScrollTop(e._codeEditor.getScrollTop()+a))}))}}}},{key:"_removeViewZone",value:function(){var e=this;this._codeEditor.changeViewZones((function(t){void 0!==e._viewZoneId&&(t.removeZone(e._viewZoneId),e._viewZoneId=void 0,e._viewZone&&(e._codeEditor.setScrollTop(e._codeEditor.getScrollTop()-e._viewZone.heightInPx),e._viewZone=void 0))}))}},{key:"_applyTheme",value:function(e){var t={inputActiveOptionBorder:e.getColor(g.PRb),inputActiveOptionBackground:e.getColor(g.XEs),inputActiveOptionForeground:e.getColor(g.Pvw),inputBackground:e.getColor(g.sEe),inputForeground:e.getColor(g.zJb),inputBorder:e.getColor(g.dt_),inputValidationInfoBackground:e.getColor(g._lC),inputValidationInfoForeground:e.getColor(g.YI3),inputValidationInfoBorder:e.getColor(g.EPQ),inputValidationWarningBackground:e.getColor(g.RV_),inputValidationWarningForeground:e.getColor(g.SUG),inputValidationWarningBorder:e.getColor(g.C3g),inputValidationErrorBackground:e.getColor(g.paE),inputValidationErrorForeground:e.getColor(g._t9),inputValidationErrorBorder:e.getColor(g.OZR)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)}},{key:"_tryUpdateWidgetWidth",value:function(){if(this._isVisible&&he.isInDOM(this._domNode)){var e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0)this._domNode.classList.add("hiddenEditor");else{this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");var t=e.width,n=e.minimap.minimapWidth,r=!1,o=!1,i=!1;if(this._resized)if(he.getTotalWidth(this._domNode)>Ot)return this._domNode.style.maxWidth="".concat(t-28-n-15,"px"),void(this._replaceInput.width=he.getTotalWidth(this._findInput.domNode));if(447+n>=t&&(o=!0),447+n-Et>=t&&(i=!0),447+n-Et>=t+50&&(r=!0),this._domNode.classList.toggle("collapsed-find-widget",r),this._domNode.classList.toggle("narrow-find-widget",i),this._domNode.classList.toggle("reduced-find-widget",o),i||r||(this._domNode.style.maxWidth="".concat(t-28-n-15,"px")),this._resized){this._findInput.inputBox.layout();var a=this._findInput.inputBox.element.clientWidth;a>0&&(this._replaceInput.width=a)}else this._isReplaceVisible&&(this._replaceInput.width=he.getTotalWidth(this._findInput.domNode))}}}},{key:"_getHeight",value:function(){var e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4}},{key:"_tryUpdateHeight",value:function(){var e=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==e)&&(this._cachedHeight=e,this._domNode.style.height="".concat(e,"px"),!0)}},{key:"focusFindInput",value:function(){this._findInput.select(),this._findInput.focus()}},{key:"focusReplaceInput",value:function(){this._replaceInput.select(),this._replaceInput.focus()}},{key:"highlightFindOptions",value:function(){this._findInput.highlightFindOptions()}},{key:"_updateSearchScope",value:function(){var e=this;if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){var t=this._codeEditor.getSelections();t.map((function(t){1===t.endColumn&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,e._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1)));var n=e._state.currentMatch;return t.startLineNumber===t.endLineNumber||f.e.equalsRange(t,n)?null:t})).filter((function(e){return!!e})),t.length&&this._state.change({searchScope:t},!0)}}},{key:"_onFindInputMouseDown",value:function(e){e.middleButton&&e.stopPropagation()}},{key:"_onFindInputKeyDown",value:function(e){return e.equals(3|Nt)?(this._keybindingService.dispatchEvent(e,e.target)||this._findInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?Rt(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):e.equals(18)?Tt(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}},{key:"_onReplaceInputKeyDown",value:function(e){return e.equals(3|Nt)?(this._keybindingService.dispatchEvent(e,e.target)||(He.ED&&He.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(Be.NC("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Pt,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n")),void e.preventDefault()):e.equals(2)?(this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(1026)?(this._findInput.focus(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?Rt(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):e.equals(18)?Tt(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}},{key:"getVerticalSashLeft",value:function(e){return 0}},{key:"_keybindingLabelFor",value:function(e){var t=this._keybindingService.lookupKeybinding(e);return t?" (".concat(t.getLabel(),")"):""}},{key:"_buildDomNode",value:function(){var e=this;this._findInput=this._register(new Ge.Yb(null,this._contextViewProvider,{width:221,label:ht,placeholder:pt,appendCaseSensitiveLabel:this._keybindingLabelFor(re),appendWholeWordsLabel:this._keybindingLabelFor(oe),appendRegexLabel:this._keybindingLabelFor(ie),validation:function(t){if(0===t.length||!e._findInput.getRegex())return null;try{return new RegExp(t,"gu"),null}catch(e){return{content:e.message}}},flexibleHeight:true,flexibleWidth:true,flexibleMaxHeight:118,showHistoryHint:function(){return(0,Ve.u)(e._keybindingService)}},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown((function(t){return e._onFindInputKeyDown(t)}))),this._register(this._findInput.inputBox.onDidChange((function(){e._ignoreChangeEvent||e._state.change({searchString:e._findInput.getValue()},!0)}))),this._register(this._findInput.onDidOptionChange((function(){e._state.change({isRegex:e._findInput.getRegex(),wholeWord:e._findInput.getWholeWords(),matchCase:e._findInput.getCaseSensitive()},!0)}))),this._register(this._findInput.onCaseSensitiveKeyDown((function(t){t.equals(1026)&&e._isReplaceVisible&&(e._replaceInput.focus(),t.preventDefault())}))),this._register(this._findInput.onRegexKeyDown((function(t){t.equals(2)&&e._isReplaceVisible&&(e._replaceInput.focusOnPreserve(),t.preventDefault())}))),this._register(this._findInput.inputBox.onDidHeightChange((function(t){e._tryUpdateHeight()&&e._showViewZone()}))),He.IJ&&this._register(this._findInput.onMouseDown((function(t){return e._onFindInputMouseDown(t)}))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new At({label:vt+this._keybindingLabelFor(J),icon:ft,onTrigger:function(){e._codeEditor.getAction(J).run().then(void 0,We.dL)}})),this._nextBtn=this._register(new At({label:gt+this._keybindingLabelFor($),icon:dt,onTrigger:function(){e._codeEditor.getAction($).run().then(void 0,We.dL)}}));var t=document.createElement("div");t.className="find-part",t.appendChild(this._findInput.domNode);var n=document.createElement("div");n.className="find-actions",t.appendChild(n),n.appendChild(this._matchesCount),n.appendChild(this._prevBtn.domNode),n.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new De.Z({icon:at,title:yt+this._keybindingLabelFor(ae),isChecked:!1})),this._register(this._toggleSelectionFind.onChange((function(){if(e._toggleSelectionFind.checked){if(e._codeEditor.hasModel()){var t=e._codeEditor.getSelections();t.map((function(t){return 1===t.endColumn&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,e._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()?null:t})).filter((function(e){return!!e})),t.length&&e._state.change({searchScope:t},!0)}}else e._state.change({searchScope:null},!0)}))),n.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new At({label:mt+this._keybindingLabelFor(ne),icon:Ue.s_,onTrigger:function(){e._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:function(t){t.equals(2)&&e._isReplaceVisible&&(e._replaceBtn.isEnabled()?e._replaceBtn.focus():e._codeEditor.focus(),t.preventDefault())}})),n.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new Ge.Nq(null,void 0,{label:bt,placeholder:_t,appendPreserveCaseLabel:this._keybindingLabelFor(se),history:[],flexibleHeight:true,flexibleWidth:true,flexibleMaxHeight:118,showHistoryHint:function(){return(0,Ve.u)(e._keybindingService)}},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown((function(t){return e._onReplaceInputKeyDown(t)}))),this._register(this._replaceInput.inputBox.onDidChange((function(){e._state.change({replaceString:e._replaceInput.inputBox.value},!1)}))),this._register(this._replaceInput.inputBox.onDidHeightChange((function(t){e._isReplaceVisible&&e._tryUpdateHeight()&&e._showViewZone()}))),this._register(this._replaceInput.onDidOptionChange((function(){e._state.change({preserveCase:e._replaceInput.getPreserveCase()},!0)}))),this._register(this._replaceInput.onPreserveCaseKeyDown((function(t){t.equals(2)&&(e._prevBtn.isEnabled()?e._prevBtn.focus():e._nextBtn.isEnabled()?e._nextBtn.focus():e._toggleSelectionFind.enabled?e._toggleSelectionFind.focus():e._closeBtn.isEnabled()&&e._closeBtn.focus(),t.preventDefault())}))),this._replaceBtn=this._register(new At({label:wt+this._keybindingLabelFor(ue),icon:ct,onTrigger:function(){e._controller.replace()},onKeyDown:function(t){t.equals(1026)&&(e._closeBtn.focus(),t.preventDefault())}})),this._replaceAllBtn=this._register(new At({label:St+this._keybindingLabelFor(ce),icon:lt,onTrigger:function(){e._controller.replaceAll()}}));var r=document.createElement("div");r.className="replace-part",r.appendChild(this._replaceInput.domNode);var o=document.createElement("div");o.className="replace-actions",r.appendChild(o),o.appendChild(this._replaceBtn.domNode),o.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new At({label:kt,className:"codicon toggle left",onTrigger:function(){e._state.change({isReplaceRevealed:!e._isReplaceVisible},!1),e._isReplaceVisible&&(e._replaceInput.width=he.getTotalWidth(e._findInput.domNode),e._replaceInput.inputBox.layout()),e._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="".concat(Ot,"px"),this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(t),this._domNode.appendChild(r),this._resizeSash=new Me.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;var i=Ot;this._register(this._resizeSash.onDidStart((function(){i=he.getTotalWidth(e._domNode)}))),this._register(this._resizeSash.onDidChange((function(t){e._resized=!0;var n=i+t.startX-t.currentX;n<Ot||(n>(parseFloat(he.getComputedStyle(e._domNode).maxWidth)||0)||(e._domNode.style.width="".concat(n,"px"),e._isReplaceVisible&&(e._replaceInput.width=he.getTotalWidth(e._findInput.domNode)),e._findInput.inputBox.layout(),e._tryUpdateHeight()))}))),this._register(this._resizeSash.onDidReset((function(){var t=he.getTotalWidth(e._domNode);if(!(t<Ot)){var n=Ot;if(!e._resized||t===Ot){var r=e._codeEditor.getLayoutInfo();n=r.width-28-r.minimap.minimapWidth-15,e._resized=!0}e._domNode.style.width="".concat(n,"px"),e._isReplaceVisible&&(e._replaceInput.width=he.getTotalWidth(e._findInput.domNode)),e._findInput.inputBox.layout()}})))}},{key:"updateAccessibilitySupport",value:function(){var e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==e)}}]),n}(ve.$);jt.ID="editor.contrib.findWidget";var At=function(e){Ze(n,e);var t=Je(n);function n(e){var r;ot(this,n),(r=t.call(this))._opts=e;var o="button";return r._opts.className&&(o=o+" "+r._opts.className),r._opts.icon&&(o=o+" "+y.kS.asClassName(r._opts.icon)),r._domNode=document.createElement("div"),r._domNode.title=r._opts.label,r._domNode.tabIndex=0,r._domNode.className=o,r._domNode.setAttribute("role","button"),r._domNode.setAttribute("aria-label",r._opts.label),r.onclick(r._domNode,(function(e){r._opts.onTrigger(),e.preventDefault()})),r.onkeydown(r._domNode,(function(e){var t,n;if(e.equals(10)||e.equals(3))return r._opts.onTrigger(),void e.preventDefault();null===(n=(t=r._opts).onKeyDown)||void 0===n||n.call(t,e)})),r}return rt(n,[{key:"domNode",get:function(){return this._domNode}},{key:"isEnabled",value:function(){return this._domNode.tabIndex>=0}},{key:"focus",value:function(){this._domNode.focus()}},{key:"setEnabled",value:function(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}},{key:"setExpanded",value:function(e){var t,n,r,o;(this._domNode.setAttribute("aria-expanded",String(!!e)),e)?((t=this._domNode.classList).remove.apply(t,qe(y.kS.asClassNameArray(st))),(n=this._domNode.classList).add.apply(n,qe(y.kS.asClassNameArray(ut)))):((r=this._domNode.classList).remove.apply(r,qe(y.kS.asClassNameArray(ut))),(o=this._domNode.classList).add.apply(o,qe(y.kS.asClassNameArray(st))))}}]),n}(ve.$);(0,y.Ic)((function(e,t){var n=function(e,n){n&&t.addRule(".monaco-editor ".concat(e," { background-color: ").concat(n,"; }"))};n(".findMatch",e.getColor(g.MUv)),n(".currentFindMatch",e.getColor(g.nyM)),n(".findScope",e.getColor(g.jUe)),n(".find-widget",e.getColor(g.D0T));var r=e.getColor(g.rh);r&&t.addRule(".monaco-editor .find-widget { box-shadow: 0 0 8px 2px ".concat(r,"; }"));var o=e.getColor(g.EiJ);o&&t.addRule(".monaco-editor .findMatch { border: 1px ".concat((0,ze.c3)(e.type)?"dotted":"solid"," ").concat(o,"; box-sizing: border-box; }"));var i=e.getColor(g.pnM);i&&t.addRule(".monaco-editor .currentFindMatch { border: 2px solid ".concat(i,"; padding: 1px; box-sizing: border-box; }"));var a=e.getColor(g.gkn);a&&t.addRule(".monaco-editor .findScope { border: 1px ".concat((0,ze.c3)(e.type)?"dashed":"solid"," ").concat(a,"; }"));var s=e.getColor(g.lRK);s&&t.addRule(".monaco-editor .find-widget { border: 1px solid ".concat(s,"; }"));var u=e.getColor(g.Hfx);u&&t.addRule(".monaco-editor .find-widget { color: ".concat(u,"; }"));var c=e.getColor(g.Ido);c&&t.addRule(".monaco-editor .find-widget.no-results .matchesCount { color: ".concat(c,"; }"));var l=e.getColor(g.Ng6);if(l)t.addRule(".monaco-editor .find-widget .monaco-sash { background-color: ".concat(l,"; }"));else{var f=e.getColor(g.D1_);f&&t.addRule(".monaco-editor .find-widget .monaco-sash { background-color: ".concat(f,"; }"))}var d=e.getColor(g.lUq);d&&t.addRule("\n\t\t.monaco-editor .find-widget .button:not(.disabled):hover,\n\t\t.monaco-editor .find-widget .codicon-find-selection:hover {\n\t\t\tbackground-color: ".concat(d," !important;\n\t\t}\n\t"));var h=e.getColor(g.R80);h&&t.addRule(".monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ".concat(h,"; }"))}));var Dt=n(13171),Mt=n(79126),Ft=n(93513),Wt=n(9263),Ht=n(32931),Bt=n(41146);function Gt(){Gt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==Xt(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Xt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Xt(i)?i:String(i)),r)}var o,i}function zt(e,t,n){return t&&Ut(e.prototype,t),n&&Ut(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kt(){return Kt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=qt(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Kt.apply(this,arguments)}function qt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jt(e)););return e}function Yt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qt(e,t)}function Qt(e,t){return Qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qt(e,t)}function Zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jt(e);if(t){var o=Jt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $t(this,n)}}function $t(e,t){if(t&&("object"===Xt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Jt(e){return Jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jt(e)}function Xt(e){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt(e)}var en=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Xt(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},tn=function(e,t){return function(n,r){t(n,r,e)}},nn=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},rn=524288;function on(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"single",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e.hasModel())return null;var r=e.getSelection();if("single"===t&&r.startLineNumber===r.endLineNumber||"multiple"===t)if(r.isEmpty()){var o=e.getConfiguredWordAtPosition(r.getStartPosition());if(o&&!1===n)return o.word}else if(e.getModel().getValueLengthInRange(r)<rn)return e.getModel().getValueInRange(r);return null}var an=function(e){Yt(n,e);var t=Zt(n);function n(e,o,i,a){var s;return Vt(this,n),(s=t.call(this))._editor=e,s._findWidgetVisible=H.bindTo(o),s._contextKeyService=o,s._storageService=i,s._clipboardService=a,s._updateHistoryDelayer=new r.vp(500),s._state=s._register(new je),s.loadQueryState(),s._register(s._state.onFindReplaceStateChange((function(e){return s._onStateChanged(e)}))),s._model=null,s._register(s._editor.onDidChangeModel((function(){var e=s._editor.getModel()&&s._state.isRevealed;s.disposeModel(),s._state.change({searchScope:null,matchCase:s._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:s._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:s._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:s._storageService.getBoolean("editor.preserveCase",1,!1)},!1),e&&s._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:s._editor.getOption(37).loop})}))),s}return zt(n,[{key:"editor",get:function(){return this._editor}},{key:"dispose",value:function(){this.disposeModel(),Kt(Jt(n.prototype),"dispose",this).call(this)}},{key:"disposeModel",value:function(){this._model&&(this._model.dispose(),this._model=null)}},{key:"_onStateChanged",value:function(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}},{key:"saveQueryState",value:function(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}},{key:"loadQueryState",value:function(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}},{key:"isFindInputFocused",value:function(){return!!B.getValue(this._contextKeyService)}},{key:"getState",value:function(){return this._state}},{key:"closeFindWidget",value:function(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}},{key:"toggleCaseSensitive",value:function(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}},{key:"toggleWholeWords",value:function(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}},{key:"toggleRegex",value:function(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}},{key:"togglePreserveCase",value:function(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}},{key:"toggleSearchScope",value:function(){var e=this;if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){var t=this._editor.getSelections();t.map((function(t){return 1===t.endColumn&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,e._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()?null:t})).filter((function(e){return!!e})),t.length&&this._state.change({searchScope:t},!0)}}},{key:"setSearchString",value:function(e){this._state.isRegex&&(e=i.ec(e)),this._state.change({searchString:e},!1)}},{key:"highlightFindOptions",value:function(){}},{key:"_start",value:function(e,t){return nn(this,void 0,void 0,Gt().mark((function n(){var r,o,a,s,u;return Gt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.disposeModel(),this._editor.hasModel()){n.next=3;break}return n.abrupt("return");case 3:if(r=Object.assign(Object.assign({},t),{isRevealed:!0}),"single"===e.seedSearchStringFromSelection?(o=on(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection))&&(this._state.isRegex?r.searchString=i.ec(o):r.searchString=o):"multiple"!==e.seedSearchStringFromSelection||e.updateSearchScope||(a=on(this._editor,e.seedSearchStringFromSelection))&&(r.searchString=a),r.searchString||!e.seedSearchStringFromGlobalClipboard){n.next=12;break}return n.next=8,this.getGlobalBufferTerm();case 8:if(s=n.sent,this._editor.hasModel()){n.next=11;break}return n.abrupt("return");case 11:s&&(r.searchString=s);case 12:e.forceRevealReplace||r.isReplaceRevealed?r.isReplaceRevealed=!0:this._findWidgetVisible.get()||(r.isReplaceRevealed=!1),e.updateSearchScope&&(u=this._editor.getSelections()).some((function(e){return!e.isEmpty()}))&&(r.searchScope=u),r.loop=e.loop,this._state.change(r,!1),this._model||(this._model=new de(this._editor,this._state));case 17:case"end":return n.stop()}}),n,this)})))}},{key:"start",value:function(e,t){return this._start(e,t)}},{key:"moveToNextMatch",value:function(){return!!this._model&&(this._model.moveToNextMatch(),!0)}},{key:"moveToPrevMatch",value:function(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}},{key:"replace",value:function(){return!!this._model&&(this._model.replace(),!0)}},{key:"replaceAll",value:function(){return!!this._model&&(this._model.replaceAll(),!0)}},{key:"selectAllMatches",value:function(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}},{key:"getGlobalBufferTerm",value:function(){return nn(this,void 0,void 0,Gt().mark((function e(){return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._editor.getOption(37).globalFindClipboard||!this._editor.hasModel()||this._editor.getModel().isTooLargeForSyncing()){e.next=2;break}return e.abrupt("return",this._clipboardService.readFindText());case 2:return e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})))}},{key:"setGlobalBufferTerm",value:function(e){this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}}],[{key:"get",value:function(e){return e.getContribution(n.ID)}}]),n}(o.JT);an.ID="editor.contrib.findController";var sn=function(e){Yt(n,e);var t=Zt(n);function n(e,r,o,i,a,s,u,c){var l;return Vt(this,n),(l=t.call(this,e,o,u,c))._contextViewService=r,l._keybindingService=i,l._themeService=a,l._notificationService=s,l._widget=null,l._findOptionsWidget=null,l}return zt(n,[{key:"_start",value:function(e,t){var r=this,o=Object.create(null,{_start:{get:function(){return Kt(Jt(n.prototype),"_start",r)}}});return nn(this,void 0,void 0,Gt().mark((function n(){var r,i,a;return Gt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this._widget||this._createFindWidget(),r=this._editor.getSelection(),i=!1,n.t0=this._editor.getOption(37).autoFindInSelection,n.next="always"===n.t0?6:"never"===n.t0?8:"multiline"===n.t0?10:13;break;case 6:return i=!0,n.abrupt("break",14);case 8:return i=!1,n.abrupt("break",14);case 10:return a=!!r&&r.startLineNumber!==r.endLineNumber,i=a,n.abrupt("break",14);case 13:return n.abrupt("break",14);case 14:return e.updateSearchScope=e.updateSearchScope||i,n.next=17,o._start.call(this,e,t);case 17:this._widget&&(2===e.shouldFocus?this._widget.focusReplaceInput():1===e.shouldFocus&&this._widget.focusFindInput());case 18:case"end":return n.stop()}}),n,this)})))}},{key:"highlightFindOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}},{key:"_createFindWidget",value:function(){this._widget=this._register(new jt(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new xe(this._editor,this._state,this._keybindingService,this._themeService))}}]),n}(an=en([tn(1,M.i6),tn(2,Bt.Uy),tn(3,Mt.p)],an));sn=en([tn(1,Ft.u),tn(2,M.i6),tn(3,Wt.d),tn(4,y.XE),tn(5,Ht.lT),tn(6,Bt.Uy),tn(7,Mt.p)],sn);var un=(0,a.rn)(new a.jY({id:Y,label:Be.NC("startFindAction","Find"),alias:"Find",precondition:M.Ao.or(s.u.focus,M.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:Dt.eH.MenubarEditMenu,group:"3_find",title:Be.NC({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));un.addImplementation(0,(function(e,t,n){var r=an.get(t);return!!r&&r.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:t.getOption(37).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(37).loop})}));var cn={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:Be.NC("actions.find.isRegexOverride",'Overrides "Use Regular Expression" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:Be.NC("actions.find.wholeWordOverride",'Overrides "Match Whole Word" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:Be.NC("actions.find.matchCaseOverride",'Overrides "Math Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:Be.NC("actions.find.preserveCaseOverride",'Overrides "Preserve Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},findInSelection:{type:"boolean"}}}}]},ln=function(e){Yt(n,e);var t=Zt(n);function n(){return Vt(this,n),t.call(this,{id:Z,label:Be.NC("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:cn})}return zt(n,[{key:"run",value:function(e,t,n){return nn(this,void 0,void 0,Gt().mark((function e(){var r,o;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=an.get(t))){e.next=6;break}return o=n?{searchString:n.searchString,replaceString:n.replaceString,isReplaceRevealed:void 0!==n.replaceString,isRegex:n.isRegex,wholeWord:n.matchWholeWord,matchCase:n.isCaseSensitive,preserveCase:n.preserveCase}:{},e.next=5,r.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===r.getState().searchString.length&&"never"!==t.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(null==n?void 0:n.findInSelection)||!1,loop:t.getOption(37).loop},o);case 5:r.setGlobalBufferTerm(r.getState().searchString);case 6:case"end":return e.stop()}}),e)})))}}]),n}(a.R6),fn=function(e){Yt(n,e);var t=Zt(n);function n(){return Vt(this,n),t.call(this,{id:Q,label:Be.NC("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}return zt(n,[{key:"run",value:function(e,t){return nn(this,void 0,void 0,Gt().mark((function e(){var n;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=an.get(t))){e.next=5;break}return e.next=4,n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(37).loop});case 4:n.setGlobalBufferTerm(n.getState().searchString);case 5:case"end":return e.stop()}}),e)})))}}]),n}(a.R6),dn=function(e){Yt(n,e);var t=Zt(n);function n(){return Vt(this,n),t.apply(this,arguments)}return zt(n,[{key:"run",value:function(e,t){return nn(this,void 0,void 0,Gt().mark((function e(){var n;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=an.get(t))||this._run(n)){e.next=5;break}return e.next=4,n.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===n.getState().searchString.length&&"never"!==t.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(37).loop});case 4:this._run(n);case 5:case"end":return e.stop()}}),e,this)})))}}]),n}(a.R6),hn=function(e){Yt(n,e);var t=Zt(n);function n(){return Vt(this,n),t.call(this,{id:$,label:Be.NC("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:s.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:M.Ao.and(s.u.focus,B),primary:3,weight:100}]})}return zt(n,[{key:"_run",value:function(e){return!!e.moveToNextMatch()&&(e.editor.pushUndoStop(),!0)}}]),n}(dn),pn=function(e){Yt(n,e);var t=Zt(n);function n(){return Vt(this,n),t.call(this,{id:J,label:Be.NC("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:s.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:M.Ao.and(s.u.focus,B),primary:1027,weight:100}]})}return zt(n,[{key:"_run",value:function(e){return e.moveToPrevMatch()}}]),n}(dn),vn=function(e){Yt(n,e);var t=Zt(n);function n(){return Vt(this,n),t.apply(this,arguments)}return zt(n,[{key:"run",value:function(e,t){return nn(this,void 0,void 0,Gt().mark((function e(){var n,r,o;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=an.get(t)){e.next=3;break}return e.abrupt("return");case 3:if(r="selection"===t.getOption(37).seedSearchStringFromSelection,o=null,"never"!==t.getOption(37).seedSearchStringFromSelection&&(o=on(t,"single",r)),o&&n.setSearchString(o),this._run(n)){e.next=11;break}return e.next=10,n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:r,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(37).loop});case 10:this._run(n);case 11:case"end":return e.stop()}}),e,this)})))}}]),n}(a.R6),gn=function(e){Yt(n,e);var t=Zt(n);function n(){return Vt(this,n),t.call(this,{id:X,label:Be.NC("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:s.u.focus,primary:2109,weight:100}})}return zt(n,[{key:"_run",value:function(e){return e.moveToNextMatch()}}]),n}(vn),yn=function(e){Yt(n,e);var t=Zt(n);function n(){return Vt(this,n),t.call(this,{id:ee,label:Be.NC("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:s.u.focus,primary:3133,weight:100}})}return zt(n,[{key:"_run",value:function(e){return e.moveToPrevMatch()}}]),n}(vn),mn=(0,a.rn)(new a.jY({id:te,label:Be.NC("startReplace","Replace"),alias:"Replace",precondition:M.Ao.or(s.u.focus,M.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:Dt.eH.MenubarEditMenu,group:"3_find",title:Be.NC({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));mn.addImplementation(0,(function(e,t,n){if(!t.hasModel()||t.getOption(83))return!1;var r=an.get(t);if(!r)return!1;var o=t.getSelection(),i=r.isFindInputFocused(),a=!o.isEmpty()&&o.startLineNumber===o.endLineNumber&&"never"!==t.getOption(37).seedSearchStringFromSelection&&!i,s=i||a?2:1;return r.start({forceRevealReplace:!0,seedSearchStringFromSelection:a?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==t.getOption(37).seedSearchStringFromSelection,shouldFocus:s,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(37).loop})})),(0,a._K)(an.ID,sn),(0,a.Qr)(ln),(0,a.Qr)(fn),(0,a.Qr)(hn),(0,a.Qr)(pn),(0,a.Qr)(gn),(0,a.Qr)(yn);var bn=a._l.bindToContribution(an.get);(0,a.fK)(new bn({id:ne,precondition:H,handler:function(e){return e.closeFindWidget()},kbOpts:{weight:105,kbExpr:M.Ao.and(s.u.focus,M.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,a.fK)(new bn({id:re,precondition:void 0,handler:function(e){return e.toggleCaseSensitive()},kbOpts:{weight:105,kbExpr:s.u.focus,primary:V.primary,mac:V.mac,win:V.win,linux:V.linux}})),(0,a.fK)(new bn({id:oe,precondition:void 0,handler:function(e){return e.toggleWholeWords()},kbOpts:{weight:105,kbExpr:s.u.focus,primary:U.primary,mac:U.mac,win:U.win,linux:U.linux}})),(0,a.fK)(new bn({id:ie,precondition:void 0,handler:function(e){return e.toggleRegex()},kbOpts:{weight:105,kbExpr:s.u.focus,primary:z.primary,mac:z.mac,win:z.win,linux:z.linux}})),(0,a.fK)(new bn({id:ae,precondition:void 0,handler:function(e){return e.toggleSearchScope()},kbOpts:{weight:105,kbExpr:s.u.focus,primary:K.primary,mac:K.mac,win:K.win,linux:K.linux}})),(0,a.fK)(new bn({id:se,precondition:void 0,handler:function(e){return e.togglePreserveCase()},kbOpts:{weight:105,kbExpr:s.u.focus,primary:q.primary,mac:q.mac,win:q.win,linux:q.linux}})),(0,a.fK)(new bn({id:ue,precondition:H,handler:function(e){return e.replace()},kbOpts:{weight:105,kbExpr:s.u.focus,primary:3094}})),(0,a.fK)(new bn({id:ue,precondition:H,handler:function(e){return e.replace()},kbOpts:{weight:105,kbExpr:M.Ao.and(s.u.focus,G),primary:3}})),(0,a.fK)(new bn({id:ce,precondition:H,handler:function(e){return e.replaceAll()},kbOpts:{weight:105,kbExpr:s.u.focus,primary:2563}})),(0,a.fK)(new bn({id:ce,precondition:H,handler:function(e){return e.replaceAll()},kbOpts:{weight:105,kbExpr:M.Ao.and(s.u.focus,G),primary:void 0,mac:{primary:2051}}})),(0,a.fK)(new bn({id:le,precondition:H,handler:function(e){return e.selectAllMatches()},kbOpts:{weight:105,kbExpr:s.u.focus,primary:515}}))},73801:(e,t,n)=>{n.r(t),n.d(t,{FoldingController:()=>Ve,editorFoldForeground:()=>dt,foldBackgroundBackground:()=>ft});var r=n(95295),o=n(95835),i=n(11407),a=n(38709),s=n(46969),u=n(8401),c=n(86778),l=n(18679),f=n(25112),d=n(87116),h=n(77846),p=n(82459);function v(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function b(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}var w=16777215,S=4278190080,k=function(){function e(t){y(this,e);var n=Math.ceil(t/32);this._states=new Uint32Array(n)}return b(e,[{key:"get",value:function(e){var t=e/32|0,n=e%32;return 0!=(this._states[t]&1<<n)}},{key:"set",value:function(e,t){var n=e/32|0,r=e%32,o=this._states[n];this._states[n]=t?o|1<<r:o&~(1<<r)}}]),e}(),C=function(){function e(t,n,r){var o;if(y(this,e),this.sourceAbbr=(v(o={},0," "),v(o,1,"u"),v(o,2,"r"),o),t.length!==n.length||t.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=t,this._endIndexes=n,this._collapseStates=new k(t.length),this._userDefinedStates=new k(t.length),this._recoveredStates=new k(t.length),this._types=r,this._parentsComputed=!1}return b(e,[{key:"ensureParentIndices",value:function(){var e=this;if(!this._parentsComputed){this._parentsComputed=!0;for(var t=[],n=function(n,r){var o=t[t.length-1];return e.getStartLineNumber(o)<=n&&e.getEndLineNumber(o)>=r},r=0,o=this._startIndexes.length;r<o;r++){var i=this._startIndexes[r],a=this._endIndexes[r];if(i>w||a>w)throw new Error("startLineNumber or endLineNumber must not exceed "+w);for(;t.length>0&&!n(i,a);)t.pop();var s=t.length>0?t[t.length-1]:-1;t.push(r),this._startIndexes[r]=i+((255&s)<<24),this._endIndexes[r]=a+((65280&s)<<16)}}}},{key:"length",get:function(){return this._startIndexes.length}},{key:"getStartLineNumber",value:function(e){return this._startIndexes[e]&w}},{key:"getEndLineNumber",value:function(e){return this._endIndexes[e]&w}},{key:"getType",value:function(e){return this._types?this._types[e]:void 0}},{key:"hasTypes",value:function(){return!!this._types}},{key:"isCollapsed",value:function(e){return this._collapseStates.get(e)}},{key:"setCollapsed",value:function(e,t){this._collapseStates.set(e,t)}},{key:"isUserDefined",value:function(e){return this._userDefinedStates.get(e)}},{key:"setUserDefined",value:function(e,t){return this._userDefinedStates.set(e,t)}},{key:"isRecovered",value:function(e){return this._recoveredStates.get(e)}},{key:"setRecovered",value:function(e,t){return this._recoveredStates.set(e,t)}},{key:"getSource",value:function(e){return this.isUserDefined(e)?1:this.isRecovered(e)?2:0}},{key:"setSource",value:function(e,t){1===t?(this.setUserDefined(e,!0),this.setRecovered(e,!1)):2===t?(this.setUserDefined(e,!1),this.setRecovered(e,!0)):(this.setUserDefined(e,!1),this.setRecovered(e,!1))}},{key:"setCollapsedAllOfType",value:function(e,t){var n=!1;if(this._types)for(var r=0;r<this._types.length;r++)this._types[r]===e&&(this.setCollapsed(r,t),n=!0);return n}},{key:"toRegion",value:function(e){return new x(this,e)}},{key:"getParentIndex",value:function(e){this.ensureParentIndices();var t=((this._startIndexes[e]&S)>>>24)+((this._endIndexes[e]&S)>>>16);return 65535===t?-1:t}},{key:"contains",value:function(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}},{key:"findIndex",value:function(e){var t=0,n=this._startIndexes.length;if(0===n)return-1;for(;t<n;){var r=Math.floor((t+n)/2);e<this.getStartLineNumber(r)?n=r:t=r+1}return t-1}},{key:"findRange",value:function(e){var t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);-1!==t;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}},{key:"toString",value:function(){for(var e=[],t=0;t<this.length;t++)e[t]="[".concat(this.sourceAbbr[this.getSource(t)]).concat(this.isCollapsed(t)?"+":"-","] ").concat(this.getStartLineNumber(t),"/").concat(this.getEndLineNumber(t));return e.join(", ")}},{key:"toFoldRange",value:function(e){return{startLineNumber:this._startIndexes[e]&w,endLineNumber:this._endIndexes[e]&w,type:this._types?this._types[e]:void 0,isCollapsed:this.isCollapsed(e),source:this.getSource(e)}}}],[{key:"fromFoldRanges",value:function(t){for(var n=t.length,r=new Uint32Array(n),o=new Uint32Array(n),i=[],a=!1,s=0;s<n;s++){var u=t[s];r[s]=u.startLineNumber,o[s]=u.endLineNumber,i.push(u.type),u.type&&(a=!0)}a||(i=void 0);for(var c=new e(r,o,i),l=0;l<n;l++)t[l].isCollapsed&&c.setCollapsed(l,!0),c.setSource(l,t[l].source);return c}},{key:"sanitizeAndMerge",value:function(e,t,n){n=null!=n?n:Number.MAX_VALUE;for(var r,o=function(e,t){return Array.isArray(e)?function(n){return n<t?e[n]:void 0}:function(n){return n<t?e.toFoldRange(n):void 0}},i=o(e,e.length),a=o(t,t.length),s=0,u=0,c=i(0),l=a(0),f=[],d=0,h=[];c||l;){var p=void 0;if(l&&(!c||c.startLineNumber>=l.startLineNumber))c&&c.startLineNumber===l.startLineNumber?(1===l.source?p=l:((p=c).isCollapsed=l.isCollapsed&&c.endLineNumber===l.endLineNumber,p.source=0),c=i(++s)):(p=l,l.isCollapsed&&0===l.source&&(p.source=2)),l=a(++u);else{for(var v=u,g=l;;){if(!g||g.startLineNumber>c.endLineNumber){p=c;break}if(1===g.source&&g.endLineNumber>c.endLineNumber)break;g=a(++v)}c=i(++s)}if(p){for(;r&&r.endLineNumber<p.startLineNumber;)r=f.pop();p.endLineNumber>p.startLineNumber&&p.startLineNumber>d&&p.endLineNumber<=n&&(!r||r.endLineNumber>=p.endLineNumber)&&(h.push(p),d=p.startLineNumber,r&&f.push(r),r=p)}}return h}}]),e}(),x=function(){function e(t,n){y(this,e),this.ranges=t,this.index=n}return b(e,[{key:"startLineNumber",get:function(){return this.ranges.getStartLineNumber(this.index)}},{key:"endLineNumber",get:function(){return this.ranges.getEndLineNumber(this.index)}},{key:"regionIndex",get:function(){return this.index}},{key:"parentIndex",get:function(){return this.ranges.getParentIndex(this.index)}},{key:"isCollapsed",get:function(){return this.ranges.isCollapsed(this.index)}},{key:"containedBy",value:function(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}},{key:"containsLine",value:function(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}]),e}(),L=n(42800);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function E(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=N(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function N(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===O(i)?i:String(i)),r)}var o,i}var T=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._updateEventEmitter=new p.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=t,this._decorationProvider=n,this._regions=new C(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}var t,n,r;return t=e,n=[{key:"regions",get:function(){return this._regions}},{key:"textModel",get:function(){return this._textModel}},{key:"toggleCollapseState",value:function(e){var t=this;if(e.length){e=e.sort((function(e,t){return e.regionIndex-t.regionIndex}));var n={};this._decorationProvider.changeDecorations((function(r){var o,i=0,a=-1,s=-1,u=function(e){for(;i<e;){var n=t._regions.getEndLineNumber(i),o=t._regions.isCollapsed(i);if(n<=a){var u=0!==t.regions.getSource(i);r.changeDecorationOptions(t._editorDecorationIds[i],t._decorationProvider.getDecorationOption(o,n<=s,u))}o&&n>s&&(s=n),i++}},c=P(e);try{for(c.s();!(o=c.n()).done;){var l=o.value.regionIndex,f=t._editorDecorationIds[l];if(f&&!n[f]){n[f]=!0,u(l);var d=!t._regions.isCollapsed(l);t._regions.setCollapsed(l,d),a=Math.max(a,t._regions.getEndLineNumber(l))}}}catch(e){c.e(e)}finally{c.f()}u(t._regions.length)})),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}}},{key:"removeManualRanges",value:function(e){for(var t=new Array,n=function(t){var n,r=P(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(!(o.startLineNumber>t.endLineNumber||t.startLineNumber>o.endLineNumber))return!0}}catch(e){r.e(e)}finally{r.f()}return!1},r=0;r<this._regions.length;r++){var o=this._regions.toFoldRange(r);0!==o.source&&n(o)||t.push(o)}this.updatePost(C.fromFoldRanges(t))}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this._currentFoldedOrManualRanges(t),r=C.sanitizeAndMerge(e,n,this._textModel.getLineCount());this.updatePost(C.fromFoldRanges(r))}},{key:"updatePost",value:function(e){for(var t=this,n=[],r=-1,o=0,i=e.length;o<i;o++){var a=e.getStartLineNumber(o),s=e.getEndLineNumber(o),u=e.isCollapsed(o),c=0!==e.getSource(o),l={startLineNumber:a,startColumn:this._textModel.getLineMaxColumn(a),endLineNumber:s,endColumn:this._textModel.getLineMaxColumn(s)+1};n.push({range:l,options:this._decorationProvider.getDecorationOption(u,s<=r,c)}),u&&s>r&&(r=s)}this._decorationProvider.changeDecorations((function(e){return t._editorDecorationIds=e.deltaDecorations(t._editorDecorationIds,n)})),this._regions=e,this._updateEventEmitter.fire({model:this})}},{key:"_currentFoldedOrManualRanges",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=function(t,n){var r,o=P(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(t<i&&i<=n)return!0}}catch(e){o.e(e)}finally{o.f()}return!1},n=[],r=0,o=this._regions.length;r<o;r++){var i=this.regions.isCollapsed(r),a=this.regions.getSource(r);if(i||0!==a){var s=this._regions.toFoldRange(r),u=this._textModel.getDecorationRange(this._editorDecorationIds[r]);u&&(i&&(t(u.startLineNumber,u.endLineNumber)||u.endLineNumber-u.startLineNumber!=s.endLineNumber-s.startLineNumber)&&(i=!1),n.push({startLineNumber:u.startLineNumber,endLineNumber:u.endLineNumber,type:s.type,isCollapsed:i,source:a}))}}return n}},{key:"getMemento",value:function(){for(var e=this._currentFoldedOrManualRanges(),t=[],n=0,r=e.length;n<r;n++){var o=e[n],i=this._getLinesChecksum(o.startLineNumber+1,o.endLineNumber);t.push({startLineNumber:o.startLineNumber,endLineNumber:o.endLineNumber,isCollapsed:o.isCollapsed,source:o.source,checksum:i})}return t.length>0?t:void 0}},{key:"applyMemento",value:function(e){var t,n;if(Array.isArray(e)){var r,o=[],i=this._textModel.getLineCount(),a=P(e);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(!(s.startLineNumber>=s.endLineNumber||s.startLineNumber<1||s.endLineNumber>i)){var u=this._getLinesChecksum(s.startLineNumber+1,s.endLineNumber);s.checksum&&u!==s.checksum||o.push({startLineNumber:s.startLineNumber,endLineNumber:s.endLineNumber,type:void 0,isCollapsed:null===(t=s.isCollapsed)||void 0===t||t,source:null!==(n=s.source)&&void 0!==n?n:0})}}}catch(e){a.e(e)}finally{a.f()}var c=C.sanitizeAndMerge(this._regions,o,i);this.updatePost(C.fromFoldRanges(c))}}},{key:"_getLinesChecksum",value:function(e,t){return(0,L.vp)(this._textModel.getLineContent(e)+this._textModel.getLineContent(t))%1e6}},{key:"dispose",value:function(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}},{key:"getAllRegionsAtLine",value:function(e,t){var n=[];if(this._regions)for(var r=this._regions.findRange(e),o=1;r>=0;){var i=this._regions.toRegion(r);t&&!t(i,o)||n.push(i),o++,r=i.parentIndex}return n}},{key:"getRegionAtLine",value:function(e){if(this._regions){var t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}},{key:"getRegionsInside",value:function(e,t){var n=[],r=e?e.regionIndex+1:0,o=e?e.endLineNumber:Number.MAX_VALUE;if(t&&2===t.length)for(var i=[],a=r,s=this._regions.length;a<s;a++){var u=this._regions.toRegion(a);if(!(this._regions.getStartLineNumber(a)<o))break;for(;i.length>0&&!u.containedBy(i[i.length-1]);)i.pop();i.push(u),t(u,i.length)&&n.push(u)}else for(var c=r,l=this._regions.length;c<l;c++){var f=this._regions.toRegion(c);if(!(this._regions.getStartLineNumber(c)<o))break;t&&!t(f)||n.push(f)}return n}}],n&&R(t.prototype,n),r&&R(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_VALUE,r=arguments.length>3?arguments[3]:void 0,o=[];if(r&&r.length>0){var i,a=P(r);try{for(a.s();!(i=a.n()).done;){var s=i.value,u=e.getRegionAtLine(s);if(u&&(u.isCollapsed!==t&&o.push(u),n>1)){var c=e.getRegionsInside(u,(function(e,r){return e.isCollapsed!==t&&r<n}));o.push.apply(o,E(c))}}}catch(e){a.e(e)}finally{a.f()}}else{var l=e.getRegionsInside(null,(function(e,r){return e.isCollapsed!==t&&r<n}));o.push.apply(o,E(l))}e.toggleCollapseState(o)}function A(e,t,n,r){var o,i=[],a=P(r);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=e.getAllRegionsAtLine(s,(function(e,r){return e.isCollapsed!==t&&r<=n}));i.push.apply(i,E(u))}}catch(e){a.e(e)}finally{a.f()}e.toggleCollapseState(i)}function D(e,t,n){var r,o=[],i=P(n);try{for(i.s();!(r=i.n()).done;){var a=r.value,s=e.getAllRegionsAtLine(a,void 0);s.length>0&&o.push(s[0])}}catch(e){i.e(e)}finally{i.f()}var u=e.getRegionsInside(null,(function(e){return o.every((function(t){return!t.containedBy(e)&&!e.containedBy(t)}))&&e.isCollapsed!==t}));e.toggleCollapseState(u)}function M(e,t,n){for(var r=e.textModel,o=e.regions,i=[],a=o.length-1;a>=0;a--)if(n!==o.isCollapsed(a)){var s=o.getStartLineNumber(a);t.test(r.getLineContent(s))&&i.push(o.toRegion(a))}e.toggleCollapseState(i)}function F(e,t,n){for(var r=e.regions,o=[],i=r.length-1;i>=0;i--)n!==r.isCollapsed(i)&&t===r.getType(i)&&o.push(r.toRegion(i));e.toggleCollapseState(o)}var W=n(86193),H=n(48466),B=n(34817);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==G(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===G(i)?i:String(i)),r)}var o,i}var U=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._updateEventEmitter=new p.Q5,this._hasLineChanges=!1,this._foldingModel=t,this._foldingModelListener=t.onDidChange((function(e){return n.updateHiddenRanges()})),this._hiddenRanges=[],t.regions.length&&this.updateHiddenRanges()}var t,n,r;return t=e,n=[{key:"onDidChange",get:function(){return this._updateEventEmitter.event}},{key:"hiddenRanges",get:function(){return this._hiddenRanges}},{key:"notifyChangeModelContent",value:function(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some((function(e){return e.range.endLineNumber!==e.range.startLineNumber||0!==(0,B.Q)(e.text)[0]})))}},{key:"updateHiddenRanges",value:function(){for(var e=!1,t=[],n=0,r=0,o=Number.MAX_VALUE,i=-1,a=this._foldingModel.regions;n<a.length;n++)if(a.isCollapsed(n)){var s=a.getStartLineNumber(n)+1,u=a.getEndLineNumber(n);o<=s&&u<=i||(!e&&r<this._hiddenRanges.length&&this._hiddenRanges[r].startLineNumber===s&&this._hiddenRanges[r].endLineNumber===u?(t.push(this._hiddenRanges[r]),r++):(e=!0,t.push(new H.e(s,1,u,1))),o=s,i=u)}(this._hasLineChanges||e||r<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}},{key:"applyHiddenRanges",value:function(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}},{key:"hasRanges",value:function(){return this._hiddenRanges.length>0}},{key:"isHidden",value:function(e){return null!==z(this._hiddenRanges,e)}},{key:"adjustSelections",value:function(e){for(var t=this,n=!1,r=this._foldingModel.textModel,o=null,i=function(e){return o&&function(e,t){return e>=t.startLineNumber&&e<=t.endLineNumber}(e,o)||(o=z(t._hiddenRanges,e)),o?o.startLineNumber-1:null},a=0,s=e.length;a<s;a++){var u=e[a],c=i(u.startLineNumber);c&&(u=u.setStartPosition(c,r.getLineMaxColumn(c)),n=!0);var l=i(u.endLineNumber);l&&(u=u.setEndPosition(l,r.getLineMaxColumn(l)),n=!0),e[a]=u}return n}},{key:"dispose",value:function(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}],n&&V(t.prototype,n),r&&V(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function z(e,t){var n=(0,W.lG)(e,(function(e){return t<e.startLineNumber}))-1;return n>=0&&e[n].endLineNumber>=t?e[n]:null}var K=n(12013);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==q(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===q(i)?i:String(i)),r)}var o,i}function Z(e,t,n){return t&&Q(e.prototype,t),n&&Q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var $=function(){function e(t,n,r){Y(this,e),this.editorModel=t,this.languageConfigurationService=n,this.maxFoldingRegions=r,this.id="indent"}return Z(e,[{key:"dispose",value:function(){}},{key:"compute",value:function(e,t){var n=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,r=n&&!!n.offSide,o=n&&n.markers;return Promise.resolve(function(e,t,n,r,o){var i=e.getOptions().tabSize,a=new J(r=null!=r?r:5e3,o),s=void 0;n&&(s=new RegExp("(".concat(n.start.source,")|(?:").concat(n.end.source,")")));var u=[],c=e.getLineCount()+1;u.push({indent:-1,endAbove:c,line:c});for(var l=e.getLineCount();l>0;l--){var f=e.getLineContent(l),d=(0,K.q)(f,i),h=u[u.length-1];if(-1!==d){var p=void 0;if(s&&(p=f.match(s))){if(!p[1]){u.push({indent:-2,endAbove:l,line:l});continue}for(var v=u.length-1;v>0&&-2!==u[v].indent;)v--;if(v>0){u.length=v+1,h=u[v],a.insertFirst(l,h.line,d),h.line=l,h.indent=d,h.endAbove=l;continue}}if(h.indent>d){do{u.pop(),h=u[u.length-1]}while(h.indent>d);var g=h.endAbove-1;g-l>=1&&a.insertFirst(l,g,d)}h.indent===d?h.endAbove=l:u.push({indent:d,endAbove:l,line:l})}else t&&(h.endAbove=l)}return a.toIndentRanges(e)}(this.editorModel,r,o,this.maxFoldingRegions,t))}}]),e}(),J=function(){function e(t,n){Y(this,e),this._notifyTooManyRegions=n,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=t}return Z(e,[{key:"insertFirst",value:function(e,t,n){if(!(e>w||t>w)){var r=this._length;this._startIndexes[r]=e,this._endIndexes[r]=t,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}}},{key:"toIndentRanges",value:function(e){var t;if(this._length<=this._foldingRangesLimit){for(var n=new Uint32Array(this._length),r=new Uint32Array(this._length),o=this._length-1,i=0;o>=0;o--,i++)n[i]=this._startIndexes[o],r[i]=this._endIndexes[o];return new C(n,r)}null===(t=this._notifyTooManyRegions)||void 0===t||t.call(this,this._foldingRangesLimit);for(var a=0,s=this._indentOccurrences.length,u=0;u<this._indentOccurrences.length;u++){var c=this._indentOccurrences[u];if(c){if(c+a>this._foldingRangesLimit){s=u;break}a+=c}}for(var l=e.getOptions().tabSize,f=new Uint32Array(this._foldingRangesLimit),d=new Uint32Array(this._foldingRangesLimit),h=this._length-1,p=0;h>=0;h--){var v=this._startIndexes[h],g=e.getLineContent(v),y=(0,K.q)(g,l);(y<s||y===s&&a++<this._foldingRangesLimit)&&(f[p]=v,d[p]=this._endIndexes[h],p++)}return new C(f,d)}}]),e}();var X=n(18063),ee=n(73589),te=n(41367),ne=n(38656),re=n(74553),oe=n(3817),ie=n(44674);function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==ae(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===ae(i)?i:String(i)),r)}var o,i}var ue=(0,ie.q5)("folding-expanded",re.lA.chevronDown,(0,X.NC)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),ce=(0,ie.q5)("folding-collapsed",re.lA.chevronRight,(0,X.NC)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),le=(0,ie.q5)("folding-manual-collapsed",ce,(0,X.NC)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),fe=(0,ie.q5)("folding-manual-expanded",ue,(0,X.NC)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),de=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}var t,n,r;return t=e,(n=[{key:"getDecorationOption",value:function(t,n,r){return n||"never"===this.showFoldingControls?e.HIDDEN_RANGE_DECORATION:t?r?this.showFoldingHighlights?e.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:e.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?e.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:e.COLLAPSED_VISUAL_DECORATION:"mouseover"===this.showFoldingControls?r?e.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:e.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:r?e.MANUALLY_EXPANDED_VISUAL_DECORATION:e.EXPANDED_VISUAL_DECORATION}},{key:"changeDecorations",value:function(e){return this.editor.changeDecorations(e)}},{key:"removeDecorations",value:function(e){this.editor.removeDecorations(e)}}])&&se(t.prototype,n),r&&se(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function pe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ve(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==he(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==he(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===he(i)?i:String(i)),r)}var o,i}function me(e,t,n){return t&&ye(e.prototype,t),n&&ye(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}de.COLLAPSED_VISUAL_DECORATION=oe.qx.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:ne.kS.asClassName(ce)}),de.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=oe.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:ne.kS.asClassName(ce)}),de.MANUALLY_COLLAPSED_VISUAL_DECORATION=oe.qx.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+ne.kS.asClassName(ue)}),de.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=oe.qx.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:ne.kS.asClassName(le)}),de.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=oe.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:ne.kS.asClassName(ue)}),de.EXPANDED_VISUAL_DECORATION=oe.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+ne.kS.asClassName(ue)}),de.MANUALLY_EXPANDED_VISUAL_DECORATION=oe.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+ne.kS.asClassName(fe)}),de.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=oe.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:ne.kS.asClassName(fe)}),de.HIDDEN_RANGE_DECORATION=oe.qx.register({description:"folding-hidden-range-decoration",stickiness:1});var be={},_e=function(){function e(t,n,r,o){ge(this,e),this.editorModel=t,this.providers=n,this.limit=o,this.id="syntax";var i,s=pe(n);try{for(s.s();!(i=s.n()).done;){var u=i.value;"function"==typeof u.onDidChange&&(this.disposables||(this.disposables=new a.SL),this.disposables.add(u.onDidChange(r)))}}catch(e){s.e(e)}finally{s.f()}}return me(e,[{key:"compute",value:function(e,t){var n=this;return function(e,t,n){var r=null,i=e.map((function(e,i){return Promise.resolve(e.provideFoldingRanges(t,be,n)).then((function(e){if(!n.isCancellationRequested&&Array.isArray(e)){Array.isArray(r)||(r=[]);var o,a=t.getLineCount(),s=pe(e);try{for(s.s();!(o=s.n()).done;){var u=o.value;u.start>0&&u.end>u.start&&u.end<=a&&r.push({start:u.start,end:u.end,rank:i,kind:u.kind})}}catch(e){s.e(e)}finally{s.f()}}}),o.Cp)}));return Promise.all(i).then((function(e){return r}))}(this.providers,this.editorModel,e).then((function(e){if(e){var r=function(e,t,n){var r,o=e.sort((function(e,t){var n=e.start-t.start;return 0===n&&(n=e.rank-t.rank),n})),i=new we(t,n),a=void 0,s=[],u=pe(o);try{for(u.s();!(r=u.n()).done;){var c=r.value;if(a){if(c.start>a.start)if(c.end<=a.end)s.push(a),a=c,i.add(c.start,c.end,c.kind&&c.kind.value,s.length);else{if(c.start>a.end){do{a=s.pop()}while(a&&c.start>a.end);a&&s.push(a),a=c}i.add(c.start,c.end,c.kind&&c.kind.value,s.length)}}else a=c,i.add(c.start,c.end,c.kind&&c.kind.value,s.length)}}catch(e){u.e(e)}finally{u.f()}return i.toIndentRanges()}(e,n.limit,t);return r}return null}))}},{key:"dispose",value:function(){var e;null===(e=this.disposables)||void 0===e||e.dispose()}}]),e}();var we=function(){function e(t,n){ge(this,e),this._notifyTooManyRegions=n,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=t}return me(e,[{key:"add",value:function(e,t,n,r){if(!(e>w||t>w)){var o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._nestingLevels[o]=r,this._types[o]=n,this._length++,r<30&&(this._nestingLevelCounts[r]=(this._nestingLevelCounts[r]||0)+1)}}},{key:"toIndentRanges",value:function(){var e;if(this._length<=this._foldingRangesLimit){for(var t=new Uint32Array(this._length),n=new Uint32Array(this._length),r=0;r<this._length;r++)t[r]=this._startIndexes[r],n[r]=this._endIndexes[r];return new C(t,n,this._types)}null===(e=this._notifyTooManyRegions)||void 0===e||e.call(this,this._foldingRangesLimit);for(var o=0,i=this._nestingLevelCounts.length,a=0;a<this._nestingLevelCounts.length;a++){var s=this._nestingLevelCounts[a];if(s){if(s+o>this._foldingRangesLimit){i=a;break}o+=s}}for(var u=new Uint32Array(this._foldingRangesLimit),c=new Uint32Array(this._foldingRangesLimit),l=[],f=0,d=0;f<this._length;f++){var h=this._nestingLevels[f];(h<i||h===i&&o++<this._foldingRangesLimit)&&(u[d]=this._startIndexes[f],c[d]=this._endIndexes[f],l[d]=this._types[f],d++)}return new C(u,c,l)}}]),e}();var Se=n(32931),ke=n(63698),Ce=n(75758),xe=n(16769),Le=n(31213);function Oe(e){return function(e){if(Array.isArray(e))return Ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Pe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Pe(e,t){if(e){if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ne(e,t):void 0}}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==We(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==We(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===We(i)?i:String(i)),r)}var o,i}function Te(e,t,n){return t&&Re(e.prototype,t),n&&Re(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function je(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ae(e,t)}function Ae(e,t){return Ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ae(e,t)}function De(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fe(e);if(t){var o=Fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Me(this,n)}}function Me(e,t){if(t&&("object"===We(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Fe(e){return Fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fe(e)}function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}var He=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":We(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Be=function(e,t){return function(n,r){t(n,r,e)}},Ge=new ee.uy("foldingEnabled",!1),Ve=function(e){je(n,e);var t=De(n);function n(e,r,o,i,s,u){var c;Ie(this,n),(c=t.call(this)).contextKeyService=r,c.languageConfigurationService=o,c.languageFeaturesService=u,c._tooManyRegionsNotified=!1,c.localToDispose=c._register(new a.SL),c.editor=e;var l=c.editor.getOptions();return c._isEnabled=l.get(39),c._useFoldingProviders="indentation"!==l.get(40),c._unfoldOnClickAfterEndOfLine=l.get(44),c._restoringViewState=!1,c._currentModelHasFoldedImports=!1,c._foldingImportsByDefault=l.get(42),c._maxFoldingRegions=l.get(43),c.updateDebounceInfo=s.for(u.foldingRangeProvider,"Folding",{min:200}),c.foldingModel=null,c.hiddenRangeModel=null,c.rangeProvider=null,c.foldingRegionPromise=null,c.foldingModelPromise=null,c.updateScheduler=null,c.cursorChangedScheduler=null,c.mouseDownInfo=null,c.foldingDecorationProvider=new de(e),c.foldingDecorationProvider.showFoldingControls=l.get(101),c.foldingDecorationProvider.showFoldingHighlights=l.get(41),c.foldingEnabled=Ge.bindTo(c.contextKeyService),c.foldingEnabled.set(c._isEnabled),c._notifyTooManyRegions=function(e){c._tooManyRegionsNotified||(i.notify({severity:ke.Z.Warning,sticky:!0,message:X.NC("maximum fold ranges","The number of foldable regions is limited to a maximum of {0}. Increase configuration option ['Folding Maximum Regions'](command:workbench.action.openSettings?[\"editor.foldingMaximumRegions\"]) to enable more.",e)}),c._tooManyRegionsNotified=!0)},c._register(c.editor.onDidChangeModel((function(){return c.onModelChanged()}))),c._register(c.editor.onDidChangeConfiguration((function(e){if(e.hasChanged(39)&&(c._isEnabled=c.editor.getOptions().get(39),c.foldingEnabled.set(c._isEnabled),c.onModelChanged()),e.hasChanged(43)&&(c._maxFoldingRegions=c.editor.getOptions().get(43),c._tooManyRegionsNotified=!1,c.onModelChanged()),e.hasChanged(101)||e.hasChanged(41)){var t=c.editor.getOptions();c.foldingDecorationProvider.showFoldingControls=t.get(101),c.foldingDecorationProvider.showFoldingHighlights=t.get(41),c.triggerFoldingModelChanged()}e.hasChanged(40)&&(c._useFoldingProviders="indentation"!==c.editor.getOptions().get(40),c.onFoldingStrategyChanged()),e.hasChanged(44)&&(c._unfoldOnClickAfterEndOfLine=c.editor.getOptions().get(44)),e.hasChanged(42)&&(c._foldingImportsByDefault=c.editor.getOptions().get(42))}))),c.onModelChanged(),c}return Te(n,[{key:"saveViewState",value:function(){var e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){var t=this.foldingModel.getMemento(),n=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:n,foldedImports:this._currentModelHasFoldedImports}}}},{key:"restoreViewState",value:function(e){var t=this.editor.getModel();if(t&&this._isEnabled&&!t.isTooLargeForTokenization()&&this.hiddenRangeModel&&e&&e.lineCount===t.getLineCount()&&(this._currentModelHasFoldedImports=!!e.foldedImports,e.collapsedRegions&&e.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(e.collapsedRegions)}finally{this._restoringViewState=!1}}}},{key:"onModelChanged",value:function(){var e=this;this.localToDispose.clear();var t=this.editor.getModel();this._isEnabled&&t&&!t.isTooLargeForTokenization()&&(this._currentModelHasFoldedImports=!1,this.foldingModel=new T(t,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new U(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange((function(t){return e.onHiddenRangesChanges(t)}))),this.updateScheduler=new r.vp(this.updateDebounceInfo.get(t)),this.cursorChangedScheduler=new r.pY((function(){return e.revealCursor()}),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange((function(){return e.onFoldingStrategyChanged()}))),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration((function(){return e.onFoldingStrategyChanged()}))),this.localToDispose.add(this.editor.onDidChangeModelContent((function(t){return e.onDidChangeModelContent(t)}))),this.localToDispose.add(this.editor.onDidChangeCursorPosition((function(){return e.onCursorPositionChanged()}))),this.localToDispose.add(this.editor.onMouseDown((function(t){return e.onEditorMouseDown(t)}))),this.localToDispose.add(this.editor.onMouseUp((function(t){return e.onEditorMouseUp(t)}))),this.localToDispose.add({dispose:function(){e.foldingRegionPromise&&(e.foldingRegionPromise.cancel(),e.foldingRegionPromise=null),e.updateScheduler&&e.updateScheduler.cancel(),e.updateScheduler=null,e.foldingModel=null,e.foldingModelPromise=null,e.hiddenRangeModel=null,e.cursorChangedScheduler=null,e.rangeProvider&&e.rangeProvider.dispose(),e.rangeProvider=null}}),this.triggerFoldingModelChanged())}},{key:"onFoldingStrategyChanged",value:function(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}},{key:"getRangeProvider",value:function(e){var t=this;if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new $(e,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){var n=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);n.length>0&&(this.rangeProvider=new _e(e,n,(function(){return t.triggerFoldingModelChanged()}),this._maxFoldingRegions))}return this.rangeProvider}},{key:"getFoldingModel",value:function(){return this.foldingModelPromise}},{key:"onDidChangeModelContent",value:function(e){var t;null===(t=this.hiddenRangeModel)||void 0===t||t.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}},{key:"triggerFoldingModelChanged",value:function(){var e=this;this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger((function(){var t=e.foldingModel;if(!t)return null;var n=new xe.G(!0),o=e.getRangeProvider(t.textModel),i=e.foldingRegionPromise=(0,r.PG)((function(t){return o.compute(t,e._notifyTooManyRegions)}));return i.then((function(r){if(r&&i===e.foldingRegionPromise){var o;if(e._foldingImportsByDefault&&!e._currentModelHasFoldedImports){var a=r.setCollapsedAllOfType(d.AD.Imports.value,!0);a&&(o=c.Z.capture(e.editor),e._currentModelHasFoldedImports=a)}var s=e.editor.getSelections(),u=s?s.map((function(e){return e.startLineNumber})):[];t.update(r,u),null==o||o.restore(e.editor);var l=e.updateDebounceInfo.update(t.textModel,n.elapsed());e.updateScheduler&&(e.updateScheduler.defaultDelay=l)}return t}))})).then(void 0,(function(e){return(0,o.dL)(e),null})))}},{key:"onHiddenRangesChanges",value:function(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){var t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e)}},{key:"onCursorPositionChanged",value:function(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}},{key:"revealCursor",value:function(){var e=this,t=this.getFoldingModel();t&&t.then((function(t){if(t){var n=e.editor.getSelections();if(n&&n.length>0){var r,o=[],i=Ee(n);try{var a=function(){var n=r.value.selectionStartLineNumber;e.hiddenRangeModel&&e.hiddenRangeModel.isHidden(n)&&o.push.apply(o,Oe(t.getAllRegionsAtLine(n,(function(e){return e.isCollapsed&&n>e.startLineNumber}))))};for(i.s();!(r=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}o.length&&(t.toggleCollapseState(o),e.reveal(n[0].getPosition()))}}})).then(void 0,o.dL)}},{key:"onEditorMouseDown",value:function(e){if(this.mouseDownInfo=null,this.hiddenRangeModel&&e.target&&e.target.range&&(e.event.leftButton||e.event.middleButton)){var t=e.target.range,n=!1;switch(e.target.type){case 4:var r=e.target.detail,o=e.target.element.offsetLeft;if(r.offsetX-o<5)return;n=!0;break;case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges())if(!e.target.detail.isAfterLines)break;return;case 6:if(this.hiddenRangeModel.hasRanges()){var i=this.editor.getModel();if(i&&t.startColumn===i.getLineMaxColumn(t.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:n}}}},{key:"onEditorMouseUp",value:function(e){var t=this.foldingModel;if(t&&this.mouseDownInfo&&e.target){var n=this.mouseDownInfo.lineNumber,r=this.mouseDownInfo.iconClicked,o=e.target.range;if(o&&o.startLineNumber===n){if(r){if(4!==e.target.type)return}else{var i=this.editor.getModel();if(!i||o.startColumn!==i.getLineMaxColumn(n))return}var a=t.getRegionAtLine(n);if(a&&a.startLineNumber===n){var s=a.isCollapsed;if(r||s){var u=[];if(e.event.altKey){var c,l=t.getRegionsInside(null,(function(e){return!e.containedBy(a)&&!a.containedBy(e)})),f=Ee(l);try{for(f.s();!(c=f.n()).done;){var d=c.value;d.isCollapsed&&u.push(d)}}catch(e){f.e(e)}finally{f.f()}0===u.length&&(u=l)}else{var h=e.event.middleButton||e.event.shiftKey;if(h){var p,v=Ee(t.getRegionsInside(a));try{for(v.s();!(p=v.n()).done;){var g=p.value;g.isCollapsed===s&&u.push(g)}}catch(e){v.e(e)}finally{v.f()}}!s&&h&&0!==u.length||u.push(a)}t.toggleCollapseState(u),this.reveal({lineNumber:n,column:1})}}}}}},{key:"reveal",value:function(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}}],[{key:"get",value:function(e){return e.getContribution(n.ID)}}]),n}(a.JT);Ve.ID="editor.contrib.folding",Ve=He([Be(1,ee.i6),Be(2,h.c_),Be(3,Se.lT),Be(4,Ce.A),Be(5,Le.p)],Ve);var Ue=function(e){je(n,e);var t=De(n);function n(){return Ie(this,n),t.apply(this,arguments)}return Te(n,[{key:"runEditorCommand",value:function(e,t,n){var r=this,o=e.get(h.c_),i=Ve.get(t);if(i){var a=i.getFoldingModel();return a?(this.reportTelemetry(e,t),a.then((function(e){if(e){r.invoke(i,e,t,n,o);var a=t.getSelection();a&&i.reveal(a.getStartPosition())}}))):void 0}}},{key:"getSelectedLines",value:function(e){var t=e.getSelections();return t?t.map((function(e){return e.startLineNumber})):[]}},{key:"getLineNumbers",value:function(e,t){return e&&e.selectionLines?e.selectionLines.map((function(e){return e+1})):this.getSelectedLines(t)}},{key:"run",value:function(e,t){}}]),n}(l.R6);function ze(e){if(!u.o8(e)){if(!u.Kn(e))return!1;var t=e;if(!u.o8(t.levels)&&!u.hj(t.levels))return!1;if(!u.o8(t.direction)&&!u.HD(t.direction))return!1;if(!(u.o8(t.selectionLines)||u.kJ(t.selectionLines)&&t.selectionLines.every(u.hj)))return!1}return!0}var Ke=function(e){je(n,e);var t=De(n);function n(){return Ie(this,n),t.call(this,{id:"editor.unfold",label:X.NC("unfoldAction.label","Unfold"),alias:"Unfold",precondition:Ge,kbOpts:{kbExpr:f.u.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:ze,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}return Te(n,[{key:"invoke",value:function(e,t,n,r){var o=r&&r.levels||1,i=this.getLineNumbers(r,n);r&&"up"===r.direction?A(t,!1,o,i):j(t,!1,o,i)}}]),n}(Ue),qe=function(e){je(n,e);var t=De(n);function n(){return Ie(this,n),t.call(this,{id:"editor.unfoldRecursively",label:X.NC("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:Ge,kbOpts:{kbExpr:f.u.editorTextFocus,primary:(0,i.gx)(2089,2137),weight:100}})}return Te(n,[{key:"invoke",value:function(e,t,n,r){j(t,!1,Number.MAX_VALUE,this.getSelectedLines(n))}}]),n}(Ue),Ye=function(e){je(n,e);var t=De(n);function n(){return Ie(this,n),t.call(this,{id:"editor.fold",label:X.NC("foldAction.label","Fold"),alias:"Fold",precondition:Ge,kbOpts:{kbExpr:f.u.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:ze,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}return Te(n,[{key:"invoke",value:function(e,t,n,r){var o=this.getLineNumbers(r,n),i=r&&r.levels,a=r&&r.direction;"number"!=typeof i&&"string"!=typeof a?function(e,t,n){var r,o=[],i=P(n);try{for(i.s();!(r=i.n()).done;){var a=r.value,s=e.getAllRegionsAtLine(a,(function(e){return e.isCollapsed!==t}));s.length>0&&o.push(s[0])}}catch(e){i.e(e)}finally{i.f()}e.toggleCollapseState(o)}(t,!0,o):"up"===a?A(t,!0,i||1,o):j(t,!0,i||1,o)}}]),n}(Ue),Qe=function(e){je(n,e);var t=De(n);function n(){return Ie(this,n),t.call(this,{id:"editor.toggleFold",label:X.NC("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:Ge,kbOpts:{kbExpr:f.u.editorTextFocus,primary:(0,i.gx)(2089,2090),weight:100}})}return Te(n,[{key:"invoke",value:function(e,t,n){!function(e,t,n){var r,o=[],i=P(n);try{var a=function(){var n=r.value,i=e.getRegionAtLine(n);if(i){var a=!i.isCollapsed;if(o.push(i),t>1){var s=e.getRegionsInside(i,(function(e,n){return e.isCollapsed!==a&&n<t}));o.push.apply(o,E(s))}}};for(i.s();!(r=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}e.toggleCollapseState(o)}(t,1,this.getSelectedLines(n))}}]),n}(Ue),Ze=function(e){je(n,e);var t=De(n);function n(){return Ie(this,n),t.call(this,{id:"editor.foldRecursively",label:X.NC("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:Ge,kbOpts:{kbExpr:f.u.editorTextFocus,primary:(0,i.gx)(2089,2135),weight:100}})}return Te(n,[{key:"invoke",value:function(e,t,n){var r=this.getSelectedLines(n);j(t,!0,Number.MAX_VALUE,r)}}]),n}(Ue),$e=function(e){je(n,e);var t=De(n);function n(){return Ie(this,n),t.call(this,{id:"editor.foldAllBlockComments",label:X.NC("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:Ge,kbOpts:{kbExpr:f.u.editorTextFocus,primary:(0,i.gx)(2089,2133),weight:100}})}return Te(n,[{key:"invoke",value:function(e,t,n,r,o){if(t.regions.hasTypes())F(t,d.AD.Comment.value,!0);else{var i=n.getModel();if(!i)return;var a=o.getLanguageConfiguration(i.getLanguageId()).comments;if(a&&a.blockCommentStartToken)M(t,new RegExp("^\\s*"+(0,s.ec)(a.blockCommentStartToken)),!0)}}}]),n}(Ue),Je=function(e){je(n,e);var t=De(n);function n(){return Ie(this,n),t.call(this,{id:"editor.foldAllMarkerRegions",label:X.NC("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:Ge,kbOpts:{kbExpr:f.u.editorTextFocus,primary:(0,i.gx)(2089,2077),weight:100}})}return Te(n,[{key:"invoke",value:function(e,t,n,r,o){if(t.regions.hasTypes())F(t,d.AD.Region.value,!0);else{var i=n.getModel();if(!i)return;var a=o.getLanguageConfiguration(i.getLanguageId()).foldingRules;if(a&&a.markers&&a.markers.start)M(t,new RegExp(a.markers.start),!0)}}}]),n}(Ue),Xe=function(e){je(n,e);var t=De(n);function n(){return Ie(this,n),t.call(this,{id:"editor.unfoldAllMarkerRegions",label:X.NC("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:Ge,kbOpts:{kbExpr:f.u.editorTextFocus,primary:(0,i.gx)(2089,2078),weight:100}})}return Te(n,[{key:"invoke",value:function(e,t,n,r,o){if(t.regions.hasTypes())F(t,d.AD.Region.value,!1);else{var i=n.getModel();if(!i)return;var a=o.getLanguageConfiguration(i.getLanguageId()).foldingRules;if(a&&a.markers&&a.markers.start)M(t,new RegExp(a.markers.start),!1)}}}]),n}(Ue),et=function(e){je(n,e);var t=De(n);function n(){return Ie(this,n),t.call(this,{id:"editor.foldAllExcept",label:X.NC("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:Ge,kbOpts:{kbExpr:f.u.editorTextFocus,primary:(0,i.gx)(2089,2131),weight:100}})}return Te(n,[{key:"invoke",value:function(e,t,n){D(t,!0,this.getSelectedLines(n))}}]),n}(Ue),tt=function(e){je(n,e);var t=De(n);function n(){return Ie(this,n),t.call(this,{id:"editor.unfoldAllExcept",label:X.NC("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:Ge,kbOpts:{kbExpr:f.u.editorTextFocus,primary:(0,i.gx)(2089,2129),weight:100}})}return Te(n,[{key:"invoke",value:function(e,t,n){D(t,!1,this.getSelectedLines(n))}}]),n}(Ue),nt=function(e){je(n,e);var t=De(n);function n(){return Ie(this,n),t.call(this,{id:"editor.foldAll",label:X.NC("foldAllAction.label","Fold All"),alias:"Fold All",precondition:Ge,kbOpts:{kbExpr:f.u.editorTextFocus,primary:(0,i.gx)(2089,2069),weight:100}})}return Te(n,[{key:"invoke",value:function(e,t,n){j(t,!0)}}]),n}(Ue),rt=function(e){je(n,e);var t=De(n);function n(){return Ie(this,n),t.call(this,{id:"editor.unfoldAll",label:X.NC("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:Ge,kbOpts:{kbExpr:f.u.editorTextFocus,primary:(0,i.gx)(2089,2088),weight:100}})}return Te(n,[{key:"invoke",value:function(e,t,n){j(t,!1)}}]),n}(Ue),ot=function(e){je(n,e);var t=De(n);function n(){return Ie(this,n),t.apply(this,arguments)}return Te(n,[{key:"getFoldingLevel",value:function(){return parseInt(this.id.substr(n.ID_PREFIX.length))}},{key:"invoke",value:function(e,t,n){!function(e,t,n,r){var o=e.getRegionsInside(null,(function(e,o){return o===t&&e.isCollapsed!==n&&!r.some((function(t){return e.containsLine(t)}))}));e.toggleCollapseState(o)}(t,this.getFoldingLevel(),!0,this.getSelectedLines(n))}}]),n}(Ue);ot.ID_PREFIX="editor.foldLevel",ot.ID=function(e){return ot.ID_PREFIX+e};var it=function(e){je(n,e);var t=De(n);function n(){return Ie(this,n),t.call(this,{id:"editor.gotoParentFold",label:X.NC("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:Ge,kbOpts:{kbExpr:f.u.editorTextFocus,weight:100}})}return Te(n,[{key:"invoke",value:function(e,t,n){var r=this.getSelectedLines(n);if(r.length>0){var o=function(e,t){var n=null,r=t.getRegionAtLine(e);if(null!==r&&e===(n=r.startLineNumber)){var o=r.parentIndex;n=-1!==o?t.regions.getStartLineNumber(o):null}return n}(r[0],t);null!==o&&n.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}]),n}(Ue),at=function(e){je(n,e);var t=De(n);function n(){return Ie(this,n),t.call(this,{id:"editor.gotoPreviousFold",label:X.NC("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:Ge,kbOpts:{kbExpr:f.u.editorTextFocus,weight:100}})}return Te(n,[{key:"invoke",value:function(e,t,n){var r=this.getSelectedLines(n);if(r.length>0){var o=function(e,t){var n=t.getRegionAtLine(e);if(null!==n&&n.startLineNumber===e){if(e!==n.startLineNumber)return n.startLineNumber;var r=n.parentIndex,o=0;for(-1!==r&&(o=t.regions.getStartLineNumber(n.parentIndex));null!==n;){if(!(n.regionIndex>0))return null;if((n=t.regions.toRegion(n.regionIndex-1)).startLineNumber<=o)return null;if(n.parentIndex===r)return n.startLineNumber}}else if(t.regions.length>0)for(n=t.regions.toRegion(t.regions.length-1);null!==n;){if(n.startLineNumber<e)return n.startLineNumber;n=n.regionIndex>0?t.regions.toRegion(n.regionIndex-1):null}return null}(r[0],t);null!==o&&n.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}]),n}(Ue),st=function(e){je(n,e);var t=De(n);function n(){return Ie(this,n),t.call(this,{id:"editor.gotoNextFold",label:X.NC("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:Ge,kbOpts:{kbExpr:f.u.editorTextFocus,weight:100}})}return Te(n,[{key:"invoke",value:function(e,t,n){var r=this.getSelectedLines(n);if(r.length>0){var o=function(e,t){var n=t.getRegionAtLine(e);if(null!==n&&n.startLineNumber===e){var r=n.parentIndex,o=0;if(-1!==r)o=t.regions.getEndLineNumber(n.parentIndex);else{if(0===t.regions.length)return null;o=t.regions.getEndLineNumber(t.regions.length-1)}for(;null!==n;){if(!(n.regionIndex<t.regions.length))return null;if((n=t.regions.toRegion(n.regionIndex+1)).startLineNumber>=o)return null;if(n.parentIndex===r)return n.startLineNumber}}else if(t.regions.length>0)for(n=t.regions.toRegion(0);null!==n;){if(n.startLineNumber>e)return n.startLineNumber;n=n.regionIndex<t.regions.length?t.regions.toRegion(n.regionIndex+1):null}return null}(r[0],t);null!==o&&n.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}]),n}(Ue),ut=function(e){je(n,e);var t=De(n);function n(){return Ie(this,n),t.call(this,{id:"editor.createFoldingRangeFromSelection",label:X.NC("createManualFoldRange.label","Create Manual Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:Ge,kbOpts:{kbExpr:f.u.editorTextFocus,primary:(0,i.gx)(2089,2130),weight:100}})}return Te(n,[{key:"invoke",value:function(e,t,n){var r,o=[],i=n.getSelections();if(i){var a,s=Ee(i);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.endLineNumber;1===u.endColumn&&--c,c>u.startLineNumber&&(o.push({startLineNumber:u.startLineNumber,endLineNumber:c,type:void 0,isCollapsed:!0,source:1}),n.setSelection({startLineNumber:u.startLineNumber,startColumn:1,endLineNumber:u.startLineNumber,endColumn:1}))}}catch(e){s.e(e)}finally{s.f()}if(o.length>0){o.sort((function(e,t){return e.startLineNumber-t.startLineNumber}));var l=C.sanitizeAndMerge(t.regions,o,null===(r=n.getModel())||void 0===r?void 0:r.getLineCount());t.updatePost(C.fromFoldRanges(l))}}}}]),n}(Ue),ct=function(e){je(n,e);var t=De(n);function n(){return Ie(this,n),t.call(this,{id:"editor.removeManualFoldingRanges",label:X.NC("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:Ge,kbOpts:{kbExpr:f.u.editorTextFocus,primary:(0,i.gx)(2089,2132),weight:100}})}return Te(n,[{key:"invoke",value:function(e,t,n){var r=n.getSelections();if(r){var o,i=[],a=Ee(r);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=s.startLineNumber,c=s.endLineNumber;i.push(c>=u?{startLineNumber:u,endLineNumber:c}:{endLineNumber:c,startLineNumber:u})}}catch(e){a.e(e)}finally{a.f()}t.removeManualRanges(i),e.triggerFoldingModelChanged()}}}]),n}(Ue);(0,l._K)(Ve.ID,Ve),(0,l.Qr)(Ke),(0,l.Qr)(qe),(0,l.Qr)(Ye),(0,l.Qr)(Ze),(0,l.Qr)(nt),(0,l.Qr)(rt),(0,l.Qr)($e),(0,l.Qr)(Je),(0,l.Qr)(Xe),(0,l.Qr)(et),(0,l.Qr)(tt),(0,l.Qr)(Qe),(0,l.Qr)(it),(0,l.Qr)(at),(0,l.Qr)(st),(0,l.Qr)(ut),(0,l.Qr)(ct);for(var lt=1;lt<=7;lt++)(0,l.QG)(new ot({id:ot.ID(lt),label:X.NC("foldLevelAction.label","Fold Level {0}",lt),alias:"Fold Level ".concat(lt),precondition:Ge,kbOpts:{kbExpr:f.u.editorTextFocus,primary:(0,i.gx)(2089,2048|21+lt),weight:100}}));var ft=(0,te.P6G)("editor.foldBackground",{light:(0,te.ZnX)(te.hEj,.3),dark:(0,te.ZnX)(te.hEj,.3),hcDark:null,hcLight:null},X.NC("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),dt=(0,te.P6G)("editorGutter.foldingControlForeground",{dark:te.XZx,light:te.XZx,hcDark:te.XZx,hcLight:te.XZx},X.NC("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));(0,ne.Ic)((function(e,t){var n=e.getColor(ft);n&&t.addRule(".monaco-editor .folded-background { background-color: ".concat(n,"; }"));var r=e.getColor(dt);r&&t.addRule("\n\t\t.monaco-editor .cldr".concat(ne.kS.asCSSSelector(ue),",\n\t\t.monaco-editor .cldr").concat(ne.kS.asCSSSelector(ce),",\n\t\t.monaco-editor .cldr").concat(ne.kS.asCSSSelector(fe),",\n\t\t.monaco-editor .cldr").concat(ne.kS.asCSSSelector(le)," {\n\t\t\tcolor: ").concat(r," !important;\n\t\t}\n\t\t"))}))},45743:(e,t,n)=>{n.r(t);var r=n(18679),o=n(66102),i=n(18063);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===a(i)?i:String(i)),r)}var o,i}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var v=function(e){l(n,e);var t=d(n);function n(){return s(this,n),t.call(this,{id:"editor.action.fontZoomIn",label:i.NC("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}return c(n,[{key:"run",value:function(e,t){o.C.setZoomLevel(o.C.getZoomLevel()+1)}}]),n}(r.R6),g=function(e){l(n,e);var t=d(n);function n(){return s(this,n),t.call(this,{id:"editor.action.fontZoomOut",label:i.NC("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}return c(n,[{key:"run",value:function(e,t){o.C.setZoomLevel(o.C.getZoomLevel()-1)}}]),n}(r.R6),y=function(e){l(n,e);var t=d(n);function n(){return s(this,n),t.call(this,{id:"editor.action.fontZoomReset",label:i.NC("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}return c(n,[{key:"run",value:function(e,t){o.C.setZoomLevel(0)}}]),n}(r.R6);(0,r.Qr)(v),(0,r.Qr)(g),(0,r.Qr)(y)},70904:(e,t,n)=>{n.d(t,{Qq:()=>F,Qs:()=>G,Zg:()=>T,x$:()=>D,xC:()=>A});var r=n(61041),o=n(86193),i=n(2307),a=n(95835),s=n(42654),u=n(92142),c=n(8401),l=n(83916),f=n(59347),d=n(6617),h=n(51638),p=n(48466),v=n(85963),g=n(71509),y=n(5491),m=n(35534),b=n(18063),_=n(69349),w=n(94528),S=n(63304),k=n(31213);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(){O=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new L(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(E([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==C(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===C(i)?i:String(i)),r)}var o,i}function P(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=N(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function N(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};function T(e){if((e=e.filter((function(e){return e.range}))).length){for(var t=e[0].range,n=1;n<e.length;n++)t=p.e.plusRange(t,e[n].range);var o=t,i=o.startLineNumber,a=o.endLineNumber;i===a?1===e.length?(0,r.Z9)(b.NC("hint11","Made 1 formatting edit on line {0}",i)):(0,r.Z9)(b.NC("hintn1","Made {0} formatting edits on line {1}",e.length,i)):1===e.length?(0,r.Z9)(b.NC("hint1n","Made 1 formatting edit between lines {0} and {1}",i,a)):(0,r.Z9)(b.NC("hintnn","Made {0} formatting edits between lines {1} and {2}",e.length,i,a))}}function j(e,t,n){var r,o=[],i=new Set,a=P(e.ordered(n));try{for(a.s();!(r=a.n()).done;){var s=r.value;o.push(s),s.extensionId&&i.add(w.k.toKey(s.extensionId))}}catch(e){a.e(e)}finally{a.f()}var u,c=P(t.ordered(n));try{var l=function(){var e=u.value;if(e.extensionId){if(i.has(w.k.toKey(e.extensionId)))return"continue";i.add(w.k.toKey(e.extensionId))}o.push({displayName:e.displayName,extensionId:e.extensionId,provideDocumentFormattingEdits:function(t,n,r){return e.provideDocumentRangeFormattingEdits(t,t.getFullModelRange(),n,r)}})};for(c.s();!(u=c.n()).done;)l()}catch(e){c.e(e)}finally{c.f()}return o}var A=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"setFormatterSelector",value:function(t){return{dispose:e._selectors.unshift(t)}}},{key:"select",value:function(t,n,r){return R(this,void 0,void 0,O().mark((function o(){var i;return O().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(0!==t.length){o.next=2;break}return o.abrupt("return",void 0);case 2:if(!(i=s.$.first(e._selectors))){o.next=7;break}return o.next=6,i(t,n,r);case 6:return o.abrupt("return",o.sent);case 7:return o.abrupt("return",void 0);case 8:case"end":return o.stop()}}),o)})))}}],(n=null)&&E(t.prototype,n),r&&E(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function D(e,t,n,r,o,i){return R(this,void 0,void 0,O().mark((function a(){var s,u,c,l,f,h;return O().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=e.get(S.TG),u=e.get(k.p),c=u.documentRangeFormattingEditProvider,l=(0,d.CL)(t)?t.getModel():t,f=c.ordered(l),a.next=6,A.select(f,l,r);case 6:if(!(h=a.sent)){a.next=11;break}return o.report(h),a.next=11,s.invokeFunction(M,h,t,n,i);case 11:case"end":return a.stop()}}),a)})))}function M(e,t,n,r,i){return R(this,void 0,void 0,O().mark((function a(){var s,u,c,l,h,y,b,_,w,S,k,C,x,E,N,I,j,A,D,M,F,W,H,B,G,V=this;return O().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s=e.get(g.p),(0,d.CL)(n)?(u=n.getModel(),c=new f.Dl(n,5,void 0,i)):(u=n,c=new f.YQ(n,i)),l=[],h=0,y=P((0,o._2)(r).sort(p.e.compareRangesUsingStarts));try{for(y.s();!(b=y.n()).done;)_=b.value,h>0&&p.e.areIntersectingOrTouching(l[h-1],_)?l[h-1]=p.e.fromPositions(l[h-1].getStartPosition(),_.getEndPosition()):h=l.push(_)}catch(e){y.e(e)}finally{y.f()}w=function(e){return R(V,void 0,void 0,O().mark((function n(){return O().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.provideDocumentRangeFormattingEdits(u,e,u.getFormattingOptions(),c.token);case 2:if(n.t0=n.sent,n.t0){n.next=5;break}n.t0=[];case 5:return n.abrupt("return",n.t0);case 6:case"end":return n.stop()}}),n)})))},S=function(e,t){if(!e.length||!t.length)return!1;var n=e.reduce((function(e,t){return p.e.plusRange(e,t.range)}),e[0].range);if(!t.some((function(e){return p.e.intersectRanges(n,e.range)})))return!1;var r,o=P(e);try{for(o.s();!(r=o.n()).done;){var i,a=r.value,s=P(t);try{for(s.s();!(i=s.n()).done;){var u=i.value;if(p.e.intersectRanges(a.range,u.range))return!0}}catch(e){s.e(e)}finally{s.f()}}}catch(e){o.e(e)}finally{o.f()}return!1},k=[],C=[],a.prev=10,x=0,E=l;case 12:if(!(x<E.length)){a.next=24;break}if(N=E[x],!c.token.isCancellationRequested){a.next=16;break}return a.abrupt("return",!0);case 16:return a.t0=C,a.next=19,w(N);case 19:a.t1=a.sent,a.t0.push.call(a.t0,a.t1);case 21:x++,a.next=12;break;case 24:I=0;case 25:if(!(I<l.length)){a.next=49;break}j=I+1;case 27:if(!(j<l.length)){a.next=46;break}if(!c.token.isCancellationRequested){a.next=30;break}return a.abrupt("return",!0);case 30:if(!S(C[I],C[j])){a.next=43;break}return A=p.e.plusRange(l[I],l[j]),a.next=34,w(A);case 34:D=a.sent,l.splice(j,1),l.splice(I,1),l.push(A),C.splice(j,1),C.splice(I,1),C.push(D),I=0,j=0;case 43:++j,a.next=27;break;case 46:++I,a.next=25;break;case 49:M=0,F=C;case 50:if(!(M<F.length)){a.next=61;break}if(W=F[M],!c.token.isCancellationRequested){a.next=54;break}return a.abrupt("return",!0);case 54:return a.next=56,s.computeMoreMinimalEdits(u.uri,W);case 56:(H=a.sent)&&k.push.apply(k,L(H));case 58:M++,a.next=50;break;case 61:return a.prev=61,c.dispose(),a.finish(61);case 64:if(0!==k.length){a.next=66;break}return a.abrupt("return",!1);case 66:return(0,d.CL)(n)?(m.V.execute(n,k,!0),T(k),n.revealPositionInCenterIfOutsideViewport(n.getPosition(),1)):(B=k[0].range,G=new v.Y(B.startLineNumber,B.startColumn,B.endLineNumber,B.endColumn),u.pushEditOperations([G],k.map((function(e){return{text:e.text,range:p.e.lift(e.range),forceMoveMarkers:!0}})),(function(e){var t,n=P(e);try{for(n.s();!(t=n.n()).done;){var r=t.value.range;if(p.e.areIntersectingOrTouching(r,G))return[new v.Y(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn)]}}catch(e){n.e(e)}finally{n.f()}return null}))),a.abrupt("return",!0);case 68:case"end":return a.stop()}}),a,null,[[10,,61,64]])})))}function F(e,t,n,r,o){return R(this,void 0,void 0,O().mark((function i(){var a,s,u,c,l;return O().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=e.get(S.TG),s=e.get(k.p),u=(0,d.CL)(t)?t.getModel():t,c=j(s.documentFormattingEditProvider,s.documentRangeFormattingEditProvider,u),i.next=6,A.select(c,u,n);case 6:if(!(l=i.sent)){i.next=11;break}return r.report(l),i.next=11,a.invokeFunction(W,l,t,n,o);case 11:case"end":return i.stop()}}),i)})))}function W(e,t,n,r,o){return R(this,void 0,void 0,O().mark((function i(){var a,s,u,c,l,h,y,b;return O().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=e.get(g.p),(0,d.CL)(n)?(s=n.getModel(),u=new f.Dl(n,5,void 0,o)):(s=n,u=new f.YQ(n,o)),i.prev=2,i.next=5,t.provideDocumentFormattingEdits(s,s.getFormattingOptions(),u.token);case 5:return l=i.sent,i.next=8,a.computeMoreMinimalEdits(s.uri,l);case 8:if(c=i.sent,!u.token.isCancellationRequested){i.next=11;break}return i.abrupt("return",!0);case 11:return i.prev=11,u.dispose(),i.finish(11);case 14:if(c&&0!==c.length){i.next=16;break}return i.abrupt("return",!1);case 16:return(0,d.CL)(n)?(m.V.execute(n,c,2!==r),2!==r&&(T(c),n.revealPositionInCenterIfOutsideViewport(n.getPosition(),1))):(h=x(c,1),y=h[0].range,b=new v.Y(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn),s.pushEditOperations([b],c.map((function(e){return{text:e.text,range:p.e.lift(e.range),forceMoveMarkers:!0}})),(function(e){var t,n=P(e);try{for(n.s();!(t=n.n()).done;){var r=t.value.range;if(p.e.areIntersectingOrTouching(r,b))return[new v.Y(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn)]}}catch(e){n.e(e)}finally{n.f()}return null}))),i.abrupt("return",!0);case 18:case"end":return i.stop()}}),i,null,[[2,,11,14]])})))}function H(e,t,n,r,i,s){return R(this,void 0,void 0,O().mark((function u(){var c,l,f,d,h;return O().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:c=t.documentRangeFormattingEditProvider.ordered(n),l=P(c),u.prev=2,l.s();case 4:if((f=l.n()).done){u.next=15;break}return d=f.value,u.next=8,Promise.resolve(d.provideDocumentRangeFormattingEdits(n,r,i,s)).catch(a.Cp);case 8:if(h=u.sent,!(0,o.Of)(h)){u.next=13;break}return u.next=12,e.computeMoreMinimalEdits(n.uri,h);case 12:return u.abrupt("return",u.sent);case 13:u.next=4;break;case 15:u.next=20;break;case 17:u.prev=17,u.t0=u.catch(2),l.e(u.t0);case 20:return u.prev=20,l.f(),u.finish(20);case 23:return u.abrupt("return",void 0);case 24:case"end":return u.stop()}}),u,null,[[2,17,20,23]])})))}function B(e,t,n,r,i){return R(this,void 0,void 0,O().mark((function s(){var u,c,l,f,d;return O().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:u=j(t.documentFormattingEditProvider,t.documentRangeFormattingEditProvider,n),c=P(u),s.prev=2,c.s();case 4:if((l=c.n()).done){s.next=15;break}return f=l.value,s.next=8,Promise.resolve(f.provideDocumentFormattingEdits(n,r,i)).catch(a.Cp);case 8:if(d=s.sent,!(0,o.Of)(d)){s.next=13;break}return s.next=12,e.computeMoreMinimalEdits(n.uri,d);case 12:return s.abrupt("return",s.sent);case 13:s.next=4;break;case 15:s.next=20;break;case 17:s.prev=17,s.t0=s.catch(2),c.e(s.t0);case 20:return s.prev=20,c.f(),s.finish(20);case 23:return s.abrupt("return",void 0);case 24:case"end":return s.stop()}}),s,null,[[2,17,20,23]])})))}function G(e,t,n,r,o,i,s){var u=t.onTypeFormattingEditProvider.ordered(n);return 0===u.length||u[0].autoFormatTriggerCharacters.indexOf(o)<0?Promise.resolve(void 0):Promise.resolve(u[0].provideOnTypeFormattingEdits(n,r,o,i,s)).catch(a.Cp).then((function(t){return e.computeMoreMinimalEdits(n.uri,t)}))}A._selectors=new u.S,_.P0.registerCommand("_executeFormatRangeProvider",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return R(this,void 0,void 0,O().mark((function t(){var r,o,a,s,u,f,d;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n[0],o=n[1],a=n[2],(0,c.p_)(l.o.isUri(r)),(0,c.p_)(p.e.isIRange(o)),s=e.get(y.S),u=e.get(g.p),f=e.get(k.p),t.next=8,s.createModelReference(r);case 8:return d=t.sent,t.prev=9,t.abrupt("return",H(u,f,d.object.textEditorModel,p.e.lift(o),a,i.T.None));case 11:return t.prev=11,d.dispose(),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[9,,11,14]])})))})),_.P0.registerCommand("_executeFormatDocumentProvider",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return R(this,void 0,void 0,O().mark((function t(){var r,o,a,s,u,f;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n[0],o=n[1],(0,c.p_)(l.o.isUri(r)),a=e.get(y.S),s=e.get(g.p),u=e.get(k.p),t.next=7,a.createModelReference(r);case 7:return f=t.sent,t.prev=8,t.abrupt("return",B(s,u,f.object.textEditorModel,o,i.T.None));case 10:return t.prev=10,f.dispose(),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[8,,10,13]])})))})),_.P0.registerCommand("_executeFormatOnTypeProvider",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return R(this,void 0,void 0,O().mark((function t(){var r,o,a,s,u,f,d,p;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n[0],o=n[1],a=n[2],s=n[3],(0,c.p_)(l.o.isUri(r)),(0,c.p_)(h.L.isIPosition(o)),(0,c.p_)("string"==typeof a),u=e.get(y.S),f=e.get(g.p),d=e.get(k.p),t.next=9,u.createModelReference(r);case 9:return p=t.sent,t.prev=10,t.abrupt("return",G(f,d,p.object.textEditorModel,h.L.lift(o),a,s,i.T.None));case 12:return t.prev=12,p.dispose(),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[10,,12,15]])})))}))},64398:(e,t,n)=>{n.r(t);var r=n(86193),o=n(2307),i=n(95835),a=n(11407),s=n(38709),u=n(18679),c=n(37845),l=n(6742),f=n(48466),d=n(25112),h=n(71509),p=n(31213),v=n(70904),g=n(35534),y=n(18063),m=n(69349),b=n(73589),_=n(63304),w=n(26104);function S(){S=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new L(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(O([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==j(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return E()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===j(i)?i:String(i)),r)}var o,i}function T(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}var A=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":j(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},D=function(e,t){return function(n,r){t(n,r,e)}},M=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},F=function(){function e(t,n,r){var o=this;I(this,e),this._editor=t,this._languageFeaturesService=n,this._workerService=r,this._disposables=new s.SL,this._sessionDisposables=new s.SL,this._disposables.add(n.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(t.onDidChangeModel((function(){return o._update()}))),this._disposables.add(t.onDidChangeModelLanguage((function(){return o._update()}))),this._disposables.add(t.onDidChangeConfiguration((function(e){e.hasChanged(51)&&o._update()})))}return T(e,[{key:"dispose",value:function(){this._disposables.dispose(),this._sessionDisposables.dispose()}},{key:"_update",value:function(){var e=this;if(this._sessionDisposables.clear(),this._editor.getOption(51)&&this._editor.hasModel()){var t=this._editor.getModel(),n=E(this._languageFeaturesService.onTypeFormattingEditProvider.ordered(t),1)[0];if(n&&n.autoFormatTriggerCharacters){var r,o=new l.q,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=P(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(n.autoFormatTriggerCharacters);try{for(i.s();!(r=i.n()).done;){var a=r.value;o.add(a.charCodeAt(0))}}catch(e){i.e(e)}finally{i.f()}this._sessionDisposables.add(this._editor.onDidType((function(t){var n=t.charCodeAt(t.length-1);o.has(n)&&e._trigger(String.fromCharCode(n))})))}}}},{key:"_trigger",value:function(e){var t=this;if(this._editor.hasModel()&&!(this._editor.getSelections().length>1)&&this._editor.getSelection().isEmpty()){var n=this._editor.getModel(),i=this._editor.getPosition(),a=new o.A,s=this._editor.onDidChangeModelContent((function(e){if(e.isFlush)return a.cancel(),void s.dispose();for(var t=0,n=e.changes.length;t<n;t++){if(e.changes[t].range.endLineNumber<=i.lineNumber)return a.cancel(),void s.dispose()}}));(0,v.Qs)(this._workerService,this._languageFeaturesService,n,i,e,n.getFormattingOptions(),a.token).then((function(e){a.token.isCancellationRequested||(0,r.Of)(e)&&(g.V.execute(t._editor,e,!0),(0,v.Zg)(e))})).finally((function(){s.dispose()}))}}}]),e}();F.ID="editor.contrib.autoFormat",F=A([D(1,p.p),D(2,h.p)],F);var W=function(){function e(t,n,r){var o=this;I(this,e),this.editor=t,this._languageFeaturesService=n,this._instantiationService=r,this._callOnDispose=new s.SL,this._callOnModel=new s.SL,this._callOnDispose.add(t.onDidChangeConfiguration((function(){return o._update()}))),this._callOnDispose.add(t.onDidChangeModel((function(){return o._update()}))),this._callOnDispose.add(t.onDidChangeModelLanguage((function(){return o._update()}))),this._callOnDispose.add(n.documentRangeFormattingEditProvider.onDidChange(this._update,this))}return T(e,[{key:"dispose",value:function(){this._callOnDispose.dispose(),this._callOnModel.dispose()}},{key:"_update",value:function(){var e=this;this._callOnModel.clear(),this.editor.getOption(50)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste((function(t){var n=t.range;return e._trigger(n)})))}},{key:"_trigger",value:function(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(v.x$,this.editor,e,2,w.Ex.None,o.T.None).catch(i.dL))}}]),e}();W.ID="editor.contrib.formatOnPaste",W=A([D(1,p.p),D(2,_.TG)],W);var H=function(e){k(n,e);var t=x(n);function n(){return I(this,n),t.call(this,{id:"editor.action.formatDocument",label:y.NC("formatDocument.label","Format Document"),alias:"Format Document",precondition:b.Ao.and(d.u.notInCompositeEditor,d.u.writable,d.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:d.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}return T(n,[{key:"run",value:function(e,t){return M(this,void 0,void 0,S().mark((function n(){var r,i;return S().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.hasModel()){n.next=5;break}return r=e.get(_.TG),i=e.get(w.ek),n.next=5,i.showWhile(r.invokeFunction(v.Qq,t,1,w.Ex.None,o.T.None),250);case 5:case"end":return n.stop()}}),n)})))}}]),n}(u.R6),B=function(e){k(n,e);var t=x(n);function n(){return I(this,n),t.call(this,{id:"editor.action.formatSelection",label:y.NC("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:b.Ao.and(d.u.writable,d.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:d.u.editorTextFocus,primary:(0,a.gx)(2089,2084),weight:100},contextMenuOpts:{when:d.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}return T(n,[{key:"run",value:function(e,t){return M(this,void 0,void 0,S().mark((function n(){var r,i,a,s;return S().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.hasModel()){n.next=2;break}return n.abrupt("return");case 2:return r=e.get(_.TG),i=t.getModel(),a=t.getSelections().map((function(e){return e.isEmpty()?new f.e(e.startLineNumber,1,e.startLineNumber,i.getLineMaxColumn(e.startLineNumber)):e})),s=e.get(w.ek),n.next=8,s.showWhile(r.invokeFunction(v.x$,t,a,1,w.Ex.None,o.T.None),250);case 8:case"end":return n.stop()}}),n)})))}}]),n}(u.R6);(0,u._K)(F.ID,F),(0,u._K)(W.ID,W),(0,u.Qr)(H),(0,u.Qr)(B),m.P0.registerCommand("editor.action.format",(function(e){return M(void 0,void 0,void 0,S().mark((function t(){var n,r;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=e.get(c.$).getFocusedCodeEditor())&&n.hasModel()){t.next=3;break}return t.abrupt("return");case 3:if(r=e.get(m.Hy),!n.getSelection().isEmpty()){t.next=9;break}return t.next=7,r.executeCommand("editor.action.formatDocument");case 7:t.next=11;break;case 9:return t.next=11,r.executeCommand("editor.action.formatSelection");case 11:case"end":return t.stop()}}),t)})))}))},35534:(e,t,n)=>{n.d(t,{V:()=>c});var r=n(23942),o=n(48466);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,a=void 0,a=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"_handleEolEdits",value:function(e,t){var n,r=void 0,o=[],i=a(t);try{for(i.s();!(n=i.n()).done;){var s=n.value;"number"==typeof s.eol&&(r=s.eol),s.range&&"string"==typeof s.text&&o.push(s)}}catch(e){i.e(e)}finally{i.f()}return"number"==typeof r&&e.hasModel()&&e.getModel().pushEOL(r),o}},{key:"_isFullModelReplaceEdit",value:function(e,t){if(!e.hasModel())return!1;var n=e.getModel(),r=n.validateRange(t.range);return n.getFullModelRange().equalsRange(r)}},{key:"execute",value:function(t,n,i){i&&t.pushUndoStop();var a=e._handleEolEdits(t,n);1===a.length&&e._isFullModelReplaceEdit(t,a[0])?t.executeEdits("formatEditsCommand",a.map((function(e){return r.h.replace(o.e.lift(e.range),e.text)}))):t.executeEdits("formatEditsCommand",a.map((function(e){return r.h.replaceMove(o.e.lift(e.range),e.text)}))),i&&t.pushUndoStop()}}],(n=null)&&u(t.prototype,n),i&&u(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},84982:(e,t,n)=>{n.r(t),n.d(t,{MarkerController:()=>Re,NextMarkerAction:()=>je});var r=n(74553),o=n(38709),i=n(18679),a=n(37845),s=n(51638),u=n(48466),c=n(25112),l=n(86193),f=n(82459),d=n(92142),h=n(46969),p=n(83916),v=n(47123),g=n(63304),y=n(96185),m=n(4537);function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===C(i)?i:String(i)),r)}var o,i}function S(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}var x=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":C(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},L=function(e,t){return function(n,r){t(n,r,e)}},O=S((function e(t,n,r){k(this,e),this.marker=t,this.index=n,this.total=r})),E=function(){function e(t,n,r){var i=this;k(this,e),this._markerService=n,this._configService=r,this._onDidChange=new f.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new o.SL,this._markers=[],this._nextIdx=-1,p.o.isUri(t)?this._resourceFilter=function(e){return e.toString()===t.toString()}:t&&(this._resourceFilter=t);var a=this._configService.getValue("problems.sortOrder"),s=function(e,t){var n=(0,h.qu)(e.resource.toString(),t.resource.toString());return 0===n&&(n="position"===a?u.e.compareRangesUsingStarts(e,t)||y.ZL.compare(e.severity,t.severity):y.ZL.compare(e.severity,t.severity)||u.e.compareRangesUsingStarts(e,t)),n},c=function(){i._markers=i._markerService.read({resource:p.o.isUri(t)?t:void 0,severities:y.ZL.Error|y.ZL.Warning|y.ZL.Info}),"function"==typeof t&&(i._markers=i._markers.filter((function(e){return i._resourceFilter(e.resource)}))),i._markers.sort(s)};c(),this._dispoables.add(n.onMarkerChanged((function(e){i._resourceFilter&&!e.some((function(e){return i._resourceFilter(e)}))||(c(),i._nextIdx=-1,i._onDidChange.fire())})))}return S(e,[{key:"dispose",value:function(){this._dispoables.dispose(),this._onDidChange.dispose()}},{key:"matches",value:function(e){return!this._resourceFilter&&!e||!(!this._resourceFilter||!e)&&this._resourceFilter(e)}},{key:"selected",get:function(){var e=this._markers[this._nextIdx];return e&&new O(e,this._nextIdx+1,this._markers.length)}},{key:"_initIdx",value:function(e,t,n){var r=!1,o=this._markers.findIndex((function(t){return t.resource.toString()===e.uri.toString()}));o<0&&(o=(0,l.ry)(this._markers,{resource:e.uri},(function(e,t){return(0,h.qu)(e.resource.toString(),t.resource.toString())})))<0&&(o=~o);for(var i=o;i<this._markers.length;i++){var a=u.e.lift(this._markers[i]);if(a.isEmpty()){var s=e.getWordAtPosition(a.getStartPosition());s&&(a=new u.e(a.startLineNumber,s.startColumn,a.startLineNumber,s.endColumn))}if(t&&(a.containsPosition(t)||t.isBeforeOrEqual(a.getStartPosition()))){this._nextIdx=i,r=!0;break}if(this._markers[i].resource.toString()!==e.uri.toString())break}r||(this._nextIdx=n?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}},{key:"resetIndex",value:function(){this._nextIdx=-1}},{key:"move",value:function(e,t,n){if(0===this._markers.length)return!1;var r=this._nextIdx;return-1===this._nextIdx?this._initIdx(t,n,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),r!==this._nextIdx}},{key:"find",value:function(e,t){var n=this._markers.findIndex((function(t){return t.resource.toString()===e.toString()}));if(!(n<0))for(;n<this._markers.length;n++)if(u.e.containsPosition(this._markers[n],t))return new O(this._markers[n],n+1,this._markers.length)}}]),e}();E=x([L(1,y.lT),L(2,m.Ui)],E);var P=(0,g.yh)("IMarkerNavigationService"),N=function(){function e(t,n){k(this,e),this._markerService=t,this._configService=n,this._provider=new d.S}return S(e,[{key:"getMarkerList",value:function(e){var t,n=b(this._provider);try{for(n.s();!(t=n.n()).done;){var r=t.value.getMarkerList(e);if(r)return r}}catch(e){n.e(e)}finally{n.f()}return new E(e,this._markerService,this._configService)}}]),e}();N=x([L(0,y.lT),L(1,m.Ui)],N),(0,v.z)(P,N,!0);var I=n(18063),R=n(13171),T=n(73589),j=n(44674),A=n(32007),D=n(66604),M=n(60160),F=n(81993),W=n(68243),H=n(91127),B=n(51586),G=n(53920),V=n(43362),U=n(41367),z=n(38656);function K(){return K="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=q(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},K.apply(this,arguments)}function q(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=J(e)););return e}function Y(e,t){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Y(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=J(e);if(t){var o=J(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(e,t){if(t&&("object"===oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $(e)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}function X(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==oe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===oe(i)?i:String(i)),r)}var o,i}function re(e,t,n){return t&&ne(e.prototype,t),n&&ne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}var ie=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":oe(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ae=function(e,t){return function(n,r){t(n,r,e)}},se=function(){function e(t,n,r,i,a){var s=this;te(this,e),this._openerService=i,this._labelService=a,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new o.SL,this._editor=n;var u=document.createElement("div");u.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),u.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),u.appendChild(this._relatedBlock),this._disposables.add(A.addStandardDisposableListener(this._relatedBlock,"click",(function(e){e.preventDefault();var t=s._relatedDiagnostics.get(e.target);t&&r(t)}))),this._scrollable=new D.NB(u,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),t.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll((function(e){u.style.left="-".concat(e.scrollLeft,"px"),u.style.top="-".concat(e.scrollTop,"px")}))),this._disposables.add(this._scrollable)}return re(e,[{key:"dispose",value:function(){(0,o.B9)(this._disposables)}},{key:"update",value:function(e){var t=this,n=e.source,r=e.message,o=e.relatedInformation,i=e.code,a=((null==n?void 0:n.length)||0)+"()".length;i&&(a+="string"==typeof i?i.length:i.value.length);var s=(0,h.uq)(r);this._lines=s.length,this._longestLineLength=0;var u,c=X(s);try{for(c.s();!(u=c.n()).done;){var f=u.value;this._longestLineLength=Math.max(f.length+a,this._longestLineLength)}}catch(e){c.e(e)}finally{c.f()}A.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);var d,p=this._messageBlock,v=X(s);try{for(v.s();!(d=v.n()).done;){var g=d.value;(p=document.createElement("div")).innerText=g,""===g&&(p.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(p)}}catch(e){v.e(e)}finally{v.f()}if(n||i){var y=document.createElement("span");if(y.classList.add("details"),p.appendChild(y),n){var m=document.createElement("span");m.innerText=n,m.classList.add("source"),y.appendChild(m)}if(i)if("string"==typeof i){var b=document.createElement("span");b.innerText="(".concat(i,")"),b.classList.add("code"),y.appendChild(b)}else{this._codeLink=A.$("a.code-link"),this._codeLink.setAttribute("href","".concat(i.target.toString())),this._codeLink.onclick=function(e){t._openerService.open(i.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()},A.append(this._codeLink,A.$("span")).innerText=i.value,y.appendChild(this._codeLink)}}if(A.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,l.Of)(o)){var _=this._relatedBlock.appendChild(document.createElement("div"));_.style.paddingTop="".concat(Math.floor(.66*this._editor.getOption(61)),"px"),this._lines+=1;var w,S=X(o);try{for(S.s();!(w=S.n()).done;){var k=w.value,C=document.createElement("div"),x=document.createElement("a");x.classList.add("filename"),x.innerText="".concat(this._labelService.getUriBasenameLabel(k.resource),"(").concat(k.startLineNumber,", ").concat(k.startColumn,"): "),x.title=this._labelService.getUriLabel(k.resource),this._relatedDiagnostics.set(x,k);var L=document.createElement("span");L.innerText=k.message,C.appendChild(x),C.appendChild(L),this._lines+=1,_.appendChild(C)}}catch(e){S.e(e)}finally{S.f()}}var O=this._editor.getOption(46),E=Math.ceil(O.typicalFullwidthCharacterWidth*this._longestLineLength*.75),P=O.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:E,scrollHeight:P})}},{key:"layout",value:function(e,t){this._scrollable.getDomNode().style.height="".concat(e,"px"),this._scrollable.getDomNode().style.width="".concat(t,"px"),this._scrollable.setScrollDimensions({width:t,height:e})}},{key:"getHeightInLines",value:function(){return Math.min(17,this._lines)}},{key:"getAriaLabel",value:function(e){var t="";switch(e.severity){case y.ZL.Error:t=I.NC("Error","Error");break;case y.ZL.Warning:t=I.NC("Warning","Warning");break;case y.ZL.Info:t=I.NC("Info","Info");break;case y.ZL.Hint:t=I.NC("Hint","Hint")}var n=I.NC("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn),r=this._editor.getModel();if(r&&e.startLineNumber<=r.getLineCount()&&e.startLineNumber>=1){var o=r.getLineContent(e.startLineNumber);n="".concat(o,", ").concat(n)}return n}}]),e}(),ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y(e,t)}(n,e);var t=Q(n);function n(e,r,i,a,s,u,c){var l;return te(this,n),(l=t.call(this,e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},s))._themeService=r,l._openerService=i,l._menuService=a,l._contextKeyService=u,l._labelService=c,l._callOnDispose=new o.SL,l._onDidSelectRelatedInformation=new f.Q5,l.onDidSelectRelatedInformation=l._onDidSelectRelatedInformation.event,l._severity=y.ZL.Warning,l._backgroundColor=M.Il.white,l._applyTheme(r.getColorTheme()),l._callOnDispose.add(r.onDidColorThemeChange(l._applyTheme.bind($(l)))),l.create(),l}return re(n,[{key:"_applyTheme",value:function(e){this._backgroundColor=e.getColor(me);var t=de,n=he;this._severity===y.ZL.Warning?(t=pe,n=ve):this._severity===y.ZL.Info&&(t=ge,n=ye);var r=e.getColor(t),o=e.getColor(n);this.style({arrowColor:r,frameColor:r,headerBackgroundColor:o,primaryHeadingColor:e.getColor(W.IH),secondaryHeadingColor:e.getColor(W.R7)})}},{key:"_applyStyles",value:function(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),K(J(n.prototype),"_applyStyles",this).call(this)}},{key:"dispose",value:function(){this._callOnDispose.dispose(),K(J(n.prototype),"dispose",this).call(this)}},{key:"_fillHead",value:function(e){var t=this;K(J(n.prototype),"_fillHead",this).call(this,e),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun((function(e){return t.editor.focus()})));var r=[],o=this._menuService.createMenu(n.TitleMenu,this._contextKeyService);(0,H.vr)(o,void 0,r),this._actionbarWidget.push(r,{label:!1,icon:!0,index:0}),o.dispose()}},{key:"_fillTitleIcon",value:function(e){this._icon=A.append(e,A.$(""))}},{key:"_fillBody",value:function(e){var t=this;this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new se(this._container,this.editor,(function(e){return t._onDidSelectRelatedInformation.fire(e)}),this._openerService,this._labelService),this._disposables.add(this._message)}},{key:"show",value:function(){throw new Error("call showAtMarker")}},{key:"showAtMarker",value:function(e,t,r){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());var o=u.e.lift(e),i=this.editor.getPosition(),a=i&&o.containsPosition(i)?i:o.getStartPosition();K(J(n.prototype),"show",this).call(this,a,this.computeRequiredHeight());var s=this.editor.getModel();if(s){var c=r>1?I.NC("problems","{0} of {1} problems",t,r):I.NC("change","{0} of {1} problem",t,r);this.setTitle((0,F.EZ)(s.uri),c)}this._icon.className="codicon ".concat(V.j.className(y.ZL.toSeverity(this._severity))),this.editor.revealPositionNearTop(a,0),this.editor.focus()}},{key:"updateMarker",value:function(e){this._container.classList.remove("stale"),this._message.update(e)}},{key:"showStale",value:function(){this._container.classList.add("stale"),this._relayout()}},{key:"_doLayoutBody",value:function(e,t){K(J(n.prototype),"_doLayoutBody",this).call(this,e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height="".concat(e,"px")}},{key:"_onWidth",value:function(e){this._message.layout(this._heightInPixel,e)}},{key:"_relayout",value:function(){K(J(n.prototype),"_relayout",this).call(this,this.computeRequiredHeight())}},{key:"computeRequiredHeight",value:function(){return 3+this._message.getHeightInLines()}}]),n}(W.vk);ue.TitleMenu=new R.eH("gotoErrorTitleMenu"),ue=ie([ae(1,z.XE),ae(2,G.v4),ae(3,R.co),ae(4,g.TG),ae(5,T.i6),ae(6,B.e)],ue);var ce=(0,U.kwl)(U.lXJ,U.b6y),le=(0,U.kwl)(U.uoC,U.pW3),fe=(0,U.kwl)(U.c63,U.T83),de=(0,U.P6G)("editorMarkerNavigationError.background",{dark:ce,light:ce,hcDark:U.lRK,hcLight:U.lRK},I.NC("editorMarkerNavigationError","Editor marker navigation widget error color.")),he=(0,U.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,U.ZnX)(de,.1),light:(0,U.ZnX)(de,.1),hcDark:null,hcLight:null},I.NC("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),pe=(0,U.P6G)("editorMarkerNavigationWarning.background",{dark:le,light:le,hcDark:U.lRK,hcLight:U.lRK},I.NC("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),ve=(0,U.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,U.ZnX)(pe,.1),light:(0,U.ZnX)(pe,.1),hcDark:"#0C141F",hcLight:(0,U.ZnX)(pe,.2)},I.NC("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),ge=(0,U.P6G)("editorMarkerNavigationInfo.background",{dark:fe,light:fe,hcDark:U.lRK,hcLight:U.lRK},I.NC("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),ye=(0,U.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,U.ZnX)(ge,.1),light:(0,U.ZnX)(ge,.1),hcDark:null,hcLight:null},I.NC("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),me=(0,U.P6G)("editorMarkerNavigation.background",{dark:U.cvW,light:U.cvW,hcDark:U.cvW,hcLight:U.cvW},I.NC("editorMarkerNavigationBackground","Editor marker navigation widget background."));function be(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_e(e,t)}function _e(e,t){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_e(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var o=ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Se(this,n)}}function Se(e,t){if(t&&("object"===Ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ke(e){return ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ke(e)}function Ce(){Ce=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==Ee(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Ee(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Ee(i)?i:String(i)),r)}var o,i}function Oe(e,t,n){return t&&Le(e.prototype,t),n&&Le(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}var Pe=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Ee(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ne=function(e,t){return function(n,r){t(n,r,e)}},Ie=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Re=function(){function e(t,n,r,i,a){xe(this,e),this._markerNavigationService=n,this._contextKeyService=r,this._editorService=i,this._instantiationService=a,this._sessionDispoables=new o.SL,this._editor=t,this._widgetVisible=Fe.bindTo(this._contextKeyService)}return Oe(e,[{key:"dispose",value:function(){this._cleanUp(),this._sessionDispoables.dispose()}},{key:"_cleanUp",value:function(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}},{key:"_getOrCreateModel",value:function(e){var t=this;if(this._model&&this._model.matches(e))return this._model;var n=!1;return this._model&&(n=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),n&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(ue,this._editor),this._widget.onDidClose((function(){return t.close()}),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition((function(e){var n,r,o;(null===(n=t._model)||void 0===n?void 0:n.selected)&&u.e.containsPosition(null===(r=t._model)||void 0===r?void 0:r.selected.marker,e.position)||null===(o=t._model)||void 0===o||o.resetIndex()}))),this._sessionDispoables.add(this._model.onDidChange((function(){if(t._widget&&t._widget.position&&t._model){var e=t._model.find(t._editor.getModel().uri,t._widget.position);e?t._widget.updateMarker(e.marker):t._widget.showStale()}}))),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation((function(e){t._editorService.openCodeEditor({resource:e.resource,options:{pinned:!0,revealIfOpened:!0,selection:u.e.lift(e).collapseToStart()}},t._editor),t.close(!1)}))),this._sessionDispoables.add(this._editor.onDidChangeModel((function(){return t._cleanUp()}))),this._model}},{key:"close",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._cleanUp(),e&&this._editor.focus()}},{key:"showAtMarker",value:function(e){if(this._editor.hasModel()){var t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new s.L(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}},{key:"nagivate",value:function(t,n){var r,o;return Ie(this,void 0,void 0,Ce().mark((function i(){var a,s;return Ce().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!this._editor.hasModel()){i.next=14;break}if((a=this._getOrCreateModel(n?void 0:this._editor.getModel().uri)).move(t,this._editor.getModel(),this._editor.getPosition()),a.selected){i.next=5;break}return i.abrupt("return");case 5:if(a.selected.marker.resource.toString()===this._editor.getModel().uri.toString()){i.next=13;break}return this._cleanUp(),i.next=9,this._editorService.openCodeEditor({resource:a.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:a.selected.marker}},this._editor);case 9:(s=i.sent)&&(null===(r=e.get(s))||void 0===r||r.close(),null===(o=e.get(s))||void 0===o||o.nagivate(t,n)),i.next=14;break;case 13:this._widget.showAtMarker(a.selected.marker,a.selected.index,a.selected.total);case 14:case"end":return i.stop()}}),i,this)})))}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();Re.ID="editor.contrib.markerController",Re=Pe([Ne(1,P),Ne(2,T.i6),Ne(3,a.$),Ne(4,g.TG)],Re);var Te=function(e){be(n,e);var t=we(n);function n(e,r,o){var i;return xe(this,n),(i=t.call(this,o))._next=e,i._multiFile=r,i}return Oe(n,[{key:"run",value:function(e,t){var n;return Ie(this,void 0,void 0,Ce().mark((function e(){return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hasModel()&&(null===(n=Re.get(t))||void 0===n||n.nagivate(this._next,this._multiFile));case 1:case"end":return e.stop()}}),e,this)})))}}]),n}(i.R6),je=function(e){be(n,e);var t=we(n);function n(){return xe(this,n),t.call(this,!0,!1,{id:n.ID,label:n.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:c.u.focus,primary:578,weight:100},menuOpts:{menuId:ue.TitleMenu,title:n.LABEL,icon:(0,j.q5)("marker-navigation-next",r.lA.arrowDown,I.NC("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}return Oe(n)}(Te);je.ID="editor.action.marker.next",je.LABEL=I.NC("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");var Ae=function(e){be(n,e);var t=we(n);function n(){return xe(this,n),t.call(this,!1,!1,{id:n.ID,label:n.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:c.u.focus,primary:1602,weight:100},menuOpts:{menuId:ue.TitleMenu,title:n.LABEL,icon:(0,j.q5)("marker-navigation-previous",r.lA.arrowUp,I.NC("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}return Oe(n)}(Te);Ae.ID="editor.action.marker.prev",Ae.LABEL=I.NC("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");var De=function(e){be(n,e);var t=we(n);function n(){return xe(this,n),t.call(this,!0,!0,{id:"editor.action.marker.nextInFiles",label:I.NC("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:c.u.focus,primary:66,weight:100},menuOpts:{menuId:R.eH.MenubarGoMenu,title:I.NC({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}return Oe(n)}(Te),Me=function(e){be(n,e);var t=we(n);function n(){return xe(this,n),t.call(this,!1,!0,{id:"editor.action.marker.prevInFiles",label:I.NC("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:c.u.focus,primary:1090,weight:100},menuOpts:{menuId:R.eH.MenubarGoMenu,title:I.NC({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}return Oe(n)}(Te);(0,i._K)(Re.ID,Re),(0,i.Qr)(je),(0,i.Qr)(Ae),(0,i.Qr)(De),(0,i.Qr)(Me);var Fe=new T.uy("markersNavigationVisible",!1),We=i._l.bindToContribution(Re.get);(0,i.fK)(new We({id:"closeMarkersNavigation",precondition:Fe,handler:function(e){return e.close()},kbOpts:{weight:150,kbExpr:c.u.focus,primary:9,secondary:[1033]}}))},65620:(e,t,n)=>{n.r(t),n.d(t,{DefinitionAction:()=>xe,SymbolNavigationAction:()=>Ce,SymbolNavigationAnchor:()=>ke});var r=n(38817),o=n(61041),i=n(95295),a=n(11407),s=n(71386),u=n(8401),c=n(83916),l=n(59347),f=n(6617),d=n(18679),h=n(37845),p=n(51307),v=n(51638),g=n(48466),y=n(25112),m=n(87116),b=n(86875),_=n(64370),w=n(82459),S=n(38709),k=n(81993),C=n(18063),x=n(73589),L=n(47123),O=n(63304),E=n(9263),P=n(78165),N=n(32931);function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){if(t&&("object"===H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}function A(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==H(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===H(i)?i:String(i)),r)}var o,i}function W(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}var B=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":H(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},G=function(e,t){return function(n,r){t(n,r,e)}},V=new x.uy("hasSymbols",!1,(0,C.NC)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),U=(0,O.yh)("ISymbolNavigationService"),z=function(){function e(t,n,r,o){M(this,e),this._editorService=n,this._notificationService=r,this._keybindingService=o,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=V.bindTo(t)}return W(e,[{key:"reset",value:function(){var e,t;this._ctxHasSymbols.reset(),null===(e=this._currentState)||void 0===e||e.dispose(),null===(t=this._currentMessage)||void 0===t||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}},{key:"put",value:function(e){var t=this,n=e.parent.parent;if(n.references.length<=1)this.reset();else{this._currentModel=n,this._currentIdx=n.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();var r=new K(this._editorService),o=r.onDidChange((function(e){if(!t._ignoreEditorChange){var r=t._editorService.getActiveCodeEditor();if(r){var o=r.getModel(),i=r.getPosition();if(o&&i){var a,s=!1,u=!1,c=A(n.references);try{for(c.s();!(a=c.n()).done;){var l=a.value;if((0,k.Xy)(l.uri,o.uri))s=!0,u=u||g.e.containsPosition(l.range,i);else if(s)break}}catch(e){c.e(e)}finally{c.f()}s&&u||t.reset()}}}}));this._currentState=(0,S.F8)(r,o)}}},{key:"revealNext",value:function(e){var t=this;if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;var n=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:n.uri,options:{selection:g.e.collapseToStart(n.range),selectionRevealType:3}},e).finally((function(){t._ignoreEditorChange=!1}))}},{key:"_showMessage",value:function(){var e;null===(e=this._currentMessage)||void 0===e||e.dispose();var t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),n=t?(0,C.NC)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):(0,C.NC)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(n)}}]),e}();z=B([G(0,x.i6),G(1,h.$),G(2,N.lT),G(3,E.d)],z),(0,L.z)(U,z,!0),(0,d.fK)(new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(n,e);var t=R(n);function n(){return M(this,n),t.call(this,{id:"editor.gotoNextSymbolFromResult",precondition:V,kbOpts:{weight:100,primary:70}})}return W(n,[{key:"runEditorCommand",value:function(e,t){return e.get(U).revealNext(t)}}]),n}(d._l))),P.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:V,primary:9,handler:function(e){e.get(U).reset()}});var K=function(){function e(t){M(this,e),this._listener=new Map,this._disposables=new S.SL,this._onDidChange=new w.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(t.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(t.onCodeEditorAdd(this._onDidAddEditor,this)),t.listCodeEditors().forEach(this._onDidAddEditor,this)}return W(e,[{key:"dispose",value:function(){this._disposables.dispose(),this._onDidChange.dispose(),(0,S.B9)(this._listener.values())}},{key:"_onDidAddEditor",value:function(e){var t=this;this._listener.set(e,(0,S.F8)(e.onDidChangeCursorPosition((function(n){return t._onDidChange.fire({editor:e})})),e.onDidChangeModelContent((function(n){return t._onDidChange.fire({editor:e})}))))}},{key:"_onDidRemoveEditor",value:function(e){var t;null===(t=this._listener.get(e))||void 0===t||t.dispose(),this._listener.delete(e)}}]),e}();K=B([G(0,h.$)],K);var q=n(44454),Y=n(68243),Q=n(13171),Z=n(69349),$=n(26104),J=n(38735),X=n(31213);function ee(){return ee="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=te(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},ee.apply(this,arguments)}function te(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=se(e)););return e}function ne(){ne=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==ue(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function re(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oe(e,t)}function oe(e,t){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oe(e,t)}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=se(e);if(t){var o=se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ae(this,n)}}function ae(e,t){if(t&&("object"===ue(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function se(e){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},se(e)}function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==ue(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===ue(i)?i:String(i)),r)}var o,i}function fe(e,t,n){return t&&le(e.prototype,t),n&&le(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var de,he,pe,ve,ge,ye,me,be,_e=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};Q.BH.appendMenuItem(Q.eH.EditorContext,{submenu:Q.eH.EditorContextPeek,title:C.NC("peek.submenu","Peek"),group:"navigation",order:100});var we=new Set;function Se(e){var t=new e;return(0,d.QG)(t),we.add(t.id),t}var ke=function(){function e(t,n){ce(this,e),this.model=t,this.position=n}return fe(e,null,[{key:"is",value:function(t){return!(!t||"object"!==ue(t))&&(t instanceof e||!(!v.L.isIPosition(t.position)||!t.model))}}]),e}(),Ce=function(e){re(n,e);var t=ie(n);function n(e,r){var o;return ce(this,n),(o=t.call(this,r)).configuration=e,o}return fe(n,[{key:"run",value:function(e,t,r){var a=this;if(!t.hasModel())return Promise.resolve(void 0);var s=e.get(N.lT),u=e.get(h.$),c=e.get($.ek),f=e.get(U),d=e.get(X.p),p=t.getModel(),v=t.getPosition(),g=ke.is(r)?r:new ke(p,v),y=new l.Dl(t,5),m=(0,i.eP)(this._getLocationModel(d,g.model,g.position,y.token),y.token).then((function(e){return _e(a,void 0,void 0,ne().mark((function r(){var i,a,s,c,l,d=this;return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e&&!y.token.isCancellationRequested){r.next=2;break}return r.abrupt("return");case 2:if((0,o.Z9)(e.ariaMessage),e.referenceAt(p.uri,v)&&(s=this._getAlternativeCommand(t),!n._activeAlternativeCommands.has(s)&&we.has(s)&&(a=t.getAction(s))),0!==(c=e.references.length)){r.next=9;break}this.configuration.muteMessage||(l=p.getWordAtPosition(v),null===(i=q.O.get(t))||void 0===i||i.showMessage(this._getNoResultFoundMessage(l),v)),r.next=15;break;case 9:if(1!==c||!a){r.next=14;break}n._activeAlternativeCommands.add(this.id),a.run().finally((function(){n._activeAlternativeCommands.delete(d.id)})),r.next=15;break;case 14:return r.abrupt("return",this._onResult(u,f,t,e));case 15:case"end":return r.stop()}}),r,this)})))}),(function(e){s.error(e)})).finally((function(){y.dispose()}));return c.showWhile(m,250),m}},{key:"_onResult",value:function(e,t,n,r){return _e(this,void 0,void 0,ne().mark((function o(){var i,a,s,u;return ne().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(i=this._getGoToPreference(n),n instanceof p.H||!(this.configuration.openInPeek||"peek"===i&&r.references.length>1)){o.next=5;break}this._openInPeek(n,r),o.next=12;break;case 5:return a=r.firstReference(),s=r.references.length>1&&"gotoAndPeek"===i,o.next=9,this._openReference(n,e,a,this.configuration.openToSide,!s);case 9:u=o.sent,s&&u?this._openInPeek(u,r):r.dispose(),"goto"===i&&t.put(a);case 12:case"end":return o.stop()}}),o,this)})))}},{key:"_openReference",value:function(e,t,n,r,o){return _e(this,void 0,void 0,ne().mark((function i(){var a,s,u,c;return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=void 0,(0,m.vx)(n)&&(a=n.targetSelectionRange),a||(a=n.range),a){i.next=5;break}return i.abrupt("return",void 0);case 5:return i.next=7,t.openCodeEditor({resource:n.uri,options:{selection:g.e.collapseToStart(a),selectionRevealType:3,selectionSource:"code.jump"}},e,r);case 7:if(s=i.sent){i.next=10;break}return i.abrupt("return",void 0);case 10:return o&&(u=s.getModel(),c=s.createDecorationsCollection([{range:a,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]),setTimeout((function(){s.getModel()===u&&c.clear()}),350)),i.abrupt("return",s);case 12:case"end":return i.stop()}}),i)})))}},{key:"_openInPeek",value:function(e,t){var n=b.J.get(e);n&&e.hasModel()?n.toggleWidget(e.getSelection(),(0,i.PG)((function(e){return Promise.resolve(t)})),this.configuration.openInPeek):t.dispose()}}]),n}(d.R6);Ce._activeAlternativeCommands=new Set;var xe=function(e){re(n,e);var t=ie(n);function n(){return ce(this,n),t.apply(this,arguments)}return fe(n,[{key:"_getLocationModel",value:function(e,t,n,r){return _e(this,void 0,void 0,ne().mark((function o(){return ne().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.t0=_.oQ,o.next=3,(0,J.nD)(e.definitionProvider,t,n,r);case 3:return o.t1=o.sent,o.t2=C.NC("def.title","Definitions"),o.abrupt("return",new o.t0(o.t1,o.t2));case 6:case"end":return o.stop()}}),o)})))}},{key:"_getNoResultFoundMessage",value:function(e){return e&&e.word?C.NC("noResultWord","No definition found for '{0}'",e.word):C.NC("generic.noResults","No definition found")}},{key:"_getAlternativeCommand",value:function(e){return e.getOption(53).alternativeDefinitionCommand}},{key:"_getGoToPreference",value:function(e){return e.getOption(53).multipleDefinitions}}]),n}(Ce),Le=s.$L&&!(0,r.isStandalone)()?2118:70;Se(((de=function(e){re(n,e);var t=ie(n);function n(){var e;return ce(this,n),e=t.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:n.id,label:C.NC("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:x.Ao.and(y.u.hasDefinitionProvider,y.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:y.u.editorTextFocus,primary:Le,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),Z.P0.registerCommandAlias("editor.action.goToDeclaration",n.id),e}return fe(n)}(xe)).id="editor.action.revealDefinition",de)),Se(((he=function(e){re(n,e);var t=ie(n);function n(){var e;return ce(this,n),e=t.call(this,{openToSide:!0,openInPeek:!1,muteMessage:!1},{id:n.id,label:C.NC("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:x.Ao.and(y.u.hasDefinitionProvider,y.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:y.u.editorTextFocus,primary:(0,a.gx)(2089,Le),weight:100}}),Z.P0.registerCommandAlias("editor.action.openDeclarationToTheSide",n.id),e}return fe(n)}(xe)).id="editor.action.revealDefinitionAside",he)),Se(((pe=function(e){re(n,e);var t=ie(n);function n(){var e;return ce(this,n),e=t.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:n.id,label:C.NC("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:x.Ao.and(y.u.hasDefinitionProvider,Y.Jy.notInPeekEditor,y.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:y.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:Q.eH.EditorContextPeek,group:"peek",order:2}}),Z.P0.registerCommandAlias("editor.action.previewDeclaration",n.id),e}return fe(n)}(xe)).id="editor.action.peekDefinition",pe));var Oe=function(e){re(n,e);var t=ie(n);function n(){return ce(this,n),t.apply(this,arguments)}return fe(n,[{key:"_getLocationModel",value:function(e,t,n,r){return _e(this,void 0,void 0,ne().mark((function o(){return ne().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.t0=_.oQ,o.next=3,(0,J.zq)(e.declarationProvider,t,n,r);case 3:return o.t1=o.sent,o.t2=C.NC("decl.title","Declarations"),o.abrupt("return",new o.t0(o.t1,o.t2));case 6:case"end":return o.stop()}}),o)})))}},{key:"_getNoResultFoundMessage",value:function(e){return e&&e.word?C.NC("decl.noResultWord","No declaration found for '{0}'",e.word):C.NC("decl.generic.noResults","No declaration found")}},{key:"_getAlternativeCommand",value:function(e){return e.getOption(53).alternativeDeclarationCommand}},{key:"_getGoToPreference",value:function(e){return e.getOption(53).multipleDeclarations}}]),n}(Ce);Se(((ve=function(e){re(n,e);var t=ie(n);function n(){return ce(this,n),t.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:n.id,label:C.NC("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:x.Ao.and(y.u.hasDeclarationProvider,y.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}return fe(n,[{key:"_getNoResultFoundMessage",value:function(e){return e&&e.word?C.NC("decl.noResultWord","No declaration found for '{0}'",e.word):C.NC("decl.generic.noResults","No declaration found")}}]),n}(Oe)).id="editor.action.revealDeclaration",ve)),Se(function(e){re(n,e);var t=ie(n);function n(){return ce(this,n),t.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:C.NC("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:x.Ao.and(y.u.hasDeclarationProvider,Y.Jy.notInPeekEditor,y.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Q.eH.EditorContextPeek,group:"peek",order:3}})}return fe(n)}(Oe));var Ee=function(e){re(n,e);var t=ie(n);function n(){return ce(this,n),t.apply(this,arguments)}return fe(n,[{key:"_getLocationModel",value:function(e,t,n,r){return _e(this,void 0,void 0,ne().mark((function o(){return ne().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.t0=_.oQ,o.next=3,(0,J.L3)(e.typeDefinitionProvider,t,n,r);case 3:return o.t1=o.sent,o.t2=C.NC("typedef.title","Type Definitions"),o.abrupt("return",new o.t0(o.t1,o.t2));case 6:case"end":return o.stop()}}),o)})))}},{key:"_getNoResultFoundMessage",value:function(e){return e&&e.word?C.NC("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):C.NC("goToTypeDefinition.generic.noResults","No type definition found")}},{key:"_getAlternativeCommand",value:function(e){return e.getOption(53).alternativeTypeDefinitionCommand}},{key:"_getGoToPreference",value:function(e){return e.getOption(53).multipleTypeDefinitions}}]),n}(Ce);Se(((ge=function(e){re(n,e);var t=ie(n);function n(){return ce(this,n),t.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:n.ID,label:C.NC("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:x.Ao.and(y.u.hasTypeDefinitionProvider,y.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:y.u.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}return fe(n)}(Ee)).ID="editor.action.goToTypeDefinition",ge)),Se(((ye=function(e){re(n,e);var t=ie(n);function n(){return ce(this,n),t.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:n.ID,label:C.NC("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:x.Ao.and(y.u.hasTypeDefinitionProvider,Y.Jy.notInPeekEditor,y.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Q.eH.EditorContextPeek,group:"peek",order:4}})}return fe(n)}(Ee)).ID="editor.action.peekTypeDefinition",ye));var Pe=function(e){re(n,e);var t=ie(n);function n(){return ce(this,n),t.apply(this,arguments)}return fe(n,[{key:"_getLocationModel",value:function(e,t,n,r){return _e(this,void 0,void 0,ne().mark((function o(){return ne().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.t0=_.oQ,o.next=3,(0,J.f4)(e.implementationProvider,t,n,r);case 3:return o.t1=o.sent,o.t2=C.NC("impl.title","Implementations"),o.abrupt("return",new o.t0(o.t1,o.t2));case 6:case"end":return o.stop()}}),o)})))}},{key:"_getNoResultFoundMessage",value:function(e){return e&&e.word?C.NC("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):C.NC("goToImplementation.generic.noResults","No implementation found")}},{key:"_getAlternativeCommand",value:function(e){return e.getOption(53).alternativeImplementationCommand}},{key:"_getGoToPreference",value:function(e){return e.getOption(53).multipleImplementations}}]),n}(Ce);Se(((me=function(e){re(n,e);var t=ie(n);function n(){return ce(this,n),t.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:n.ID,label:C.NC("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:x.Ao.and(y.u.hasImplementationProvider,y.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:y.u.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}return fe(n)}(Pe)).ID="editor.action.goToImplementation",me)),Se(((be=function(e){re(n,e);var t=ie(n);function n(){return ce(this,n),t.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:n.ID,label:C.NC("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:x.Ao.and(y.u.hasImplementationProvider,Y.Jy.notInPeekEditor,y.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:y.u.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:Q.eH.EditorContextPeek,group:"peek",order:5}})}return fe(n)}(Pe)).ID="editor.action.peekImplementation",be));var Ne=function(e){re(n,e);var t=ie(n);function n(){return ce(this,n),t.apply(this,arguments)}return fe(n,[{key:"_getNoResultFoundMessage",value:function(e){return e?C.NC("references.no","No references found for '{0}'",e.word):C.NC("references.noGeneric","No references found")}},{key:"_getAlternativeCommand",value:function(e){return e.getOption(53).alternativeReferenceCommand}},{key:"_getGoToPreference",value:function(e){return e.getOption(53).multipleReferences}}]),n}(Ce);Se(function(e){re(n,e);var t=ie(n);function n(){return ce(this,n),t.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:C.NC("goToReferences.label","Go to References"),alias:"Go to References",precondition:x.Ao.and(y.u.hasReferenceProvider,Y.Jy.notInPeekEditor,y.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:y.u.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}return fe(n,[{key:"_getLocationModel",value:function(e,t,n,r){return _e(this,void 0,void 0,ne().mark((function o(){return ne().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.t0=_.oQ,o.next=3,(0,J.aA)(e.referenceProvider,t,n,!0,r);case 3:return o.t1=o.sent,o.t2=C.NC("ref.title","References"),o.abrupt("return",new o.t0(o.t1,o.t2));case 6:case"end":return o.stop()}}),o)})))}}]),n}(Ne)),Se(function(e){re(n,e);var t=ie(n);function n(){return ce(this,n),t.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:C.NC("references.action.label","Peek References"),alias:"Peek References",precondition:x.Ao.and(y.u.hasReferenceProvider,Y.Jy.notInPeekEditor,y.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Q.eH.EditorContextPeek,group:"peek",order:6}})}return fe(n,[{key:"_getLocationModel",value:function(e,t,n,r){return _e(this,void 0,void 0,ne().mark((function o(){return ne().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.t0=_.oQ,o.next=3,(0,J.aA)(e.referenceProvider,t,n,!1,r);case 3:return o.t1=o.sent,o.t2=C.NC("ref.title","References"),o.abrupt("return",new o.t0(o.t1,o.t2));case 6:case"end":return o.stop()}}),o)})))}}]),n}(Ne));var Ie=function(e){re(n,e);var t=ie(n);function n(e,r,o){var i;return ce(this,n),(i=t.call(this,e,{id:"editor.action.goToLocation",label:C.NC("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:x.Ao.and(Y.Jy.notInPeekEditor,y.u.isInWalkThroughSnippet.toNegated())}))._references=r,i._gotoMultipleBehaviour=o,i}return fe(n,[{key:"_getLocationModel",value:function(e,t,n,r){return _e(this,void 0,void 0,ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new _.oQ(this._references,C.NC("generic.title","Locations")));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"_getNoResultFoundMessage",value:function(e){return e&&C.NC("generic.noResult","No results for '{0}'",e.word)||""}},{key:"_getGoToPreference",value:function(e){var t;return null!==(t=this._gotoMultipleBehaviour)&&void 0!==t?t:e.getOption(53).multipleReferences}},{key:"_getAlternativeCommand",value:function(){return""}}]),n}(Ce);Z.P0.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:c.o},{name:"position",description:"The position at which to start",constraint:v.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:function(e,t,n,r,o,i,a){return _e(void 0,void 0,void 0,ne().mark((function s(){var l,d;return ne().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return(0,u.p_)(c.o.isUri(t)),(0,u.p_)(v.L.isIPosition(n)),(0,u.p_)(Array.isArray(r)),(0,u.p_)(void 0===o||"string"==typeof o),(0,u.p_)(void 0===a||"boolean"==typeof a),l=e.get(h.$),s.next=8,l.openCodeEditor({resource:t},l.getFocusedCodeEditor());case 8:if(d=s.sent,!(0,f.CL)(d)){s.next=13;break}return d.setPosition(n),d.revealPositionInCenterIfOutsideViewport(n,0),s.abrupt("return",d.invokeWithinContext((function(e){var t=new(function(e){re(n,e);var t=ie(n);function n(){return ce(this,n),t.apply(this,arguments)}return fe(n,[{key:"_getNoResultFoundMessage",value:function(e){return i||ee(se(n.prototype),"_getNoResultFoundMessage",this).call(this,e)}}]),n}(Ie))({muteMessage:!Boolean(i),openInPeek:Boolean(a),openToSide:!1},r,o);e.get(O.TG).invokeFunction(t.run.bind(t),d)})));case 13:case"end":return s.stop()}}),s)})))}}),Z.P0.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:c.o},{name:"position",description:"The position at which to start",constraint:v.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:function(e,t,n,r,o){return _e(void 0,void 0,void 0,ne().mark((function i(){return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e.get(Z.Hy).executeCommand("editor.action.goToLocations",t,n,r,o,void 0,!0);case 1:case"end":return i.stop()}}),i)})))}}),Z.P0.registerCommand({id:"editor.action.findReferences",handler:function(e,t,n){(0,u.p_)(c.o.isUri(t)),(0,u.p_)(v.L.isIPosition(n));var r=e.get(X.p),o=e.get(h.$);return o.openCodeEditor({resource:t},o.getFocusedCodeEditor()).then((function(e){if((0,f.CL)(e)&&e.hasModel()){var t=b.J.get(e);if(t){var o=(0,i.PG)((function(t){return(0,J.aA)(r.referenceProvider,e.getModel(),v.L.lift(n),!1,t).then((function(e){return new _.oQ(e,C.NC("ref.title","References"))}))})),a=new g.e(n.lineNumber,n.column,n.lineNumber,n.column);return Promise.resolve(t.toggleWidget(a,o,!1))}}}))}}),Z.P0.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),Q.BH.appendMenuItems([{id:Q.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:C.NC({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:Q.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:C.NC({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:Q.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:C.NC({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:Q.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:C.NC({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:Q.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:C.NC({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}])},38735:(e,t,n)=>{n.d(t,{L3:()=>m,aA:()=>b,f4:()=>y,nD:()=>v,zq:()=>g});var r=n(2307),o=n(95835),i=n(18679),a=n(64370),s=n(31213);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:k(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function g(){}var y={};l(y,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(E([])));b&&b!==t&&n.call(b,i)&&(y=b);var _=g.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function o(r,i,a,s){var c=d(e[r],e,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==u(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return o("throw",e,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=g,r(_,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(S.prototype),l(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(f(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),l(_,s,"Generator"),l(_,i,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function l(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};function p(e,t,n,r){var i=n.ordered(e).map((function(n){return Promise.resolve(r(n,e,t)).then(void 0,(function(e){(0,o.Cp)(e)}))}));return Promise.all(i).then((function(e){var t,n=[],r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;Array.isArray(o)?n.push.apply(n,l(o)):o&&n.push(o)}}catch(e){r.e(e)}finally{r.f()}return n}))}function v(e,t,n,r){return p(t,n,e,(function(e,t,n){return e.provideDefinition(t,n,r)}))}function g(e,t,n,r){return p(t,n,e,(function(e,t,n){return e.provideDeclaration(t,n,r)}))}function y(e,t,n,r){return p(t,n,e,(function(e,t,n){return e.provideImplementation(t,n,r)}))}function m(e,t,n,r){return p(t,n,e,(function(e,t,n){return e.provideTypeDefinition(t,n,r)}))}function b(e,t,n,r,o){var i=this;return p(t,n,e,(function(e,t,n){return h(i,void 0,void 0,c().mark((function i(){var a,s;return c().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.provideReferences(t,n,{includeDeclaration:!0},o);case 2:if(a=i.sent,r&&a&&2===a.length){i.next=5;break}return i.abrupt("return",a);case 5:return i.next=7,e.provideReferences(t,n,{includeDeclaration:!1},o);case 7:if(!(s=i.sent)||1!==s.length){i.next=10;break}return i.abrupt("return",s);case 10:return i.abrupt("return",a);case 11:case"end":return i.stop()}}),i)})))}))}function _(e){return h(this,void 0,void 0,c().mark((function t(){var n,r,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:return n=t.sent,r=new a.oQ(n,""),o=r.references.map((function(e){return e.link})),r.dispose(),t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})))}(0,i.sb)("_executeDefinitionProvider",(function(e,t,n){var o=v(e.get(s.p).definitionProvider,t,n,r.T.None);return _((function(){return o}))})),(0,i.sb)("_executeTypeDefinitionProvider",(function(e,t,n){var o=m(e.get(s.p).typeDefinitionProvider,t,n,r.T.None);return _((function(){return o}))})),(0,i.sb)("_executeDeclarationProvider",(function(e,t,n){var o=g(e.get(s.p).declarationProvider,t,n,r.T.None);return _((function(){return o}))})),(0,i.sb)("_executeReferenceProvider",(function(e,t,n){var o=b(e.get(s.p).referenceProvider,t,n,!1,r.T.None);return _((function(){return o}))})),(0,i.sb)("_executeImplementationProvider",(function(e,t,n){var o=y(e.get(s.p).implementationProvider,t,n,r.T.None);return _((function(){return o}))}))},91741:(e,t,n)=>{n.d(t,{yN:()=>b});var r=n(82459),o=n(38709),i=n(71386);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===a(i)?i:String(i)),r)}var o,i}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){return!!e[t]}var v=d((function e(t,n){h(this,e),this.target=t.target,this.hasTriggerModifier=p(t.event,n.triggerModifier),this.hasSideBySideModifier=p(t.event,n.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=t.event.detail<=1})),g=d((function e(t,n){h(this,e),this.keyCodeIsTriggerKey=t.keyCode===n.triggerKey,this.keyCodeIsSideBySideKey=t.keyCode===n.triggerSideBySideKey,this.hasTriggerModifier=p(t,n.triggerModifier)})),y=function(){function e(t,n,r,o){h(this,e),this.triggerKey=t,this.triggerModifier=n,this.triggerSideBySideKey=r,this.triggerSideBySideModifier=o}return d(e,[{key:"equals",value:function(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}]),e}();function m(e){return"altKey"===e?i.dz?new y(57,"metaKey",6,"altKey"):new y(5,"ctrlKey",6,"altKey"):i.dz?new y(6,"altKey",57,"metaKey"):new y(6,"altKey",5,"ctrlKey")}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(n,e);var t=u(n);function n(e){var o;return h(this,n),(o=t.call(this))._onMouseMoveOrRelevantKeyDown=o._register(new r.Q5),o.onMouseMoveOrRelevantKeyDown=o._onMouseMoveOrRelevantKeyDown.event,o._onExecute=o._register(new r.Q5),o.onExecute=o._onExecute.event,o._onCancel=o._register(new r.Q5),o.onCancel=o._onCancel.event,o._editor=e,o._opts=m(o._editor.getOption(72)),o._lastMouseMoveEvent=null,o._hasTriggerKeyOnMouseDown=!1,o._lineNumberOnMouseDown=0,o._register(o._editor.onDidChangeConfiguration((function(e){if(e.hasChanged(72)){var t=m(o._editor.getOption(72));if(o._opts.equals(t))return;o._opts=t,o._lastMouseMoveEvent=null,o._hasTriggerKeyOnMouseDown=!1,o._lineNumberOnMouseDown=0,o._onCancel.fire()}}))),o._register(o._editor.onMouseMove((function(e){return o._onEditorMouseMove(new v(e,o._opts))}))),o._register(o._editor.onMouseDown((function(e){return o._onEditorMouseDown(new v(e,o._opts))}))),o._register(o._editor.onMouseUp((function(e){return o._onEditorMouseUp(new v(e,o._opts))}))),o._register(o._editor.onKeyDown((function(e){return o._onEditorKeyDown(new g(e,o._opts))}))),o._register(o._editor.onKeyUp((function(e){return o._onEditorKeyUp(new g(e,o._opts))}))),o._register(o._editor.onMouseDrag((function(){return o._resetHandler()}))),o._register(o._editor.onDidChangeCursorSelection((function(e){return o._onDidChangeCursorSelection(e)}))),o._register(o._editor.onDidChangeModel((function(e){return o._resetHandler()}))),o._register(o._editor.onDidChangeModelContent((function(){return o._resetHandler()}))),o._register(o._editor.onDidScrollChange((function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&o._resetHandler()}))),o}return d(n,[{key:"_onDidChangeCursorSelection",value:function(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}},{key:"_onEditorMouseMove",value:function(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}},{key:"_onEditorMouseDown",value:function(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=e.target.position?e.target.position.lineNumber:0}},{key:"_onEditorMouseUp",value:function(e){var t=e.target.position?e.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}},{key:"_onEditorKeyDown",value:function(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}},{key:"_onEditorKeyUp",value:function(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}},{key:"_resetHandler",value:function(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}]),n}(o.JT)},87949:(e,t,n)=>{n.r(t),n.d(t,{GotoDefinitionAtPositionEditorContribution:()=>E});var r=n(95295),o=n(95835),i=n(93649),a=n(38709),s=n(8401),u=n(59347),c=n(18679),l=n(48466),f=n(71919),d=n(5491),h=n(91741),p=n(68243),v=n(18063),g=n(73589),y=n(41367),m=n(38656),b=n(65620),_=n(38735),w=n(31213);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===x(i)?i:String(i)),r)}var o,i}function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}var L=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":x(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},O=function(e,t){return function(n,r){t(n,r,e)}},E=function(){function e(t,n,r,i){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.textModelResolverService=n,this.languageService=r,this.languageFeaturesService=i,this.toUnhook=new a.SL,this.toUnhookForKeyboard=new a.SL,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=t,this.linkDecorations=this.editor.createDecorationsCollection();var c=new h.yN(t);this.toUnhook.add(c),this.toUnhook.add(c.onMouseMoveOrRelevantKeyDown((function(e){var t=S(e,2),n=t[0],r=t[1];u.startFindDefinitionFromMouse(n,(0,s.f6)(r))}))),this.toUnhook.add(c.onExecute((function(e){u.isEnabled(e)&&u.gotoDefinition(e.target.position,e.hasSideBySideModifier).then((function(){u.removeLinkDecorations()}),(function(e){u.removeLinkDecorations(),(0,o.dL)(e)}))}))),this.toUnhook.add(c.onCancel((function(){u.removeLinkDecorations(),u.currentWordAtPosition=null})))}var t,n,c;return t=e,c=[{key:"get",value:function(t){return t.getContribution(e.ID)}}],(n=[{key:"startFindDefinitionFromCursor",value:function(e){var t=this;return this.startFindDefinition(e).then((function(){t.toUnhookForKeyboard.add(t.editor.onDidChangeCursorPosition((function(){t.currentWordAtPosition=null,t.removeLinkDecorations(),t.toUnhookForKeyboard.clear()}))),t.toUnhookForKeyboard.add(t.editor.onKeyDown((function(e){e&&(t.currentWordAtPosition=null,t.removeLinkDecorations(),t.toUnhookForKeyboard.clear())})))}))}},{key:"startFindDefinitionFromMouse",value:function(e,t){if(!(9===e.target.type&&this.linkDecorations.length>0)){if(!this.editor.hasModel()||!this.isEnabled(e,t))return this.currentWordAtPosition=null,void this.removeLinkDecorations();var n=e.target.position;this.startFindDefinition(n)}}},{key:"startFindDefinition",value:function(e){var t,n=this;this.toUnhookForKeyboard.clear();var a=e?null===(t=this.editor.getModel())||void 0===t?void 0:t.getWordAtPosition(e):null;if(!a)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===a.startColumn&&this.currentWordAtPosition.endColumn===a.endColumn&&this.currentWordAtPosition.word===a.word)return Promise.resolve(0);this.currentWordAtPosition=a;var s=new u.yy(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,r.PG)((function(t){return n.findDefinition(e,t)})),this.previousPromise.then((function(t){if(t&&t.length&&s.validate(n.editor))if(t.length>1)n.addDecoration(new l.e(e.lineNumber,a.startColumn,e.lineNumber,a.endColumn),(new i.W5).appendText(v.NC("multipleResults","Click to show {0} definitions.",t.length)));else{var r=t[0];if(!r.uri)return;n.textModelResolverService.createModelReference(r.uri).then((function(t){if(t.object&&t.object.textEditorModel){var o=t.object.textEditorModel,s=r.range.startLineNumber;if(s<1||s>o.getLineCount())t.dispose();else{var u,c=n.getPreviewValue(o,s,r);u=r.originSelectionRange?l.e.lift(r.originSelectionRange):new l.e(e.lineNumber,a.startColumn,e.lineNumber,a.endColumn);var f=n.languageService.guessLanguageIdByFilepathOrFirstLine(o.uri);n.addDecoration(u,(new i.W5).appendCodeblock(f||"",c)),t.dispose()}}else t.dispose()}))}else n.removeLinkDecorations()})).then(void 0,o.dL)}},{key:"getPreviewValue",value:function(t,n,r){var o=r.range;return o.endLineNumber-o.startLineNumber>=e.MAX_SOURCE_PREVIEW_LINES&&(o=this.getPreviewRangeBasedOnIndentation(t,n)),this.stripIndentationFromPreviewRange(t,n,o)}},{key:"stripIndentationFromPreviewRange",value:function(e,t,n){for(var r=e.getLineFirstNonWhitespaceColumn(t),o=t+1;o<n.endLineNumber;o++){var i=e.getLineFirstNonWhitespaceColumn(o);r=Math.min(r,i)}return e.getValueInRange(n).replace(new RegExp("^\\s{".concat(r-1,"}"),"gm"),"").trim()}},{key:"getPreviewRangeBasedOnIndentation",value:function(t,n){for(var r=t.getLineFirstNonWhitespaceColumn(n),o=Math.min(t.getLineCount(),n+e.MAX_SOURCE_PREVIEW_LINES),i=n+1;i<o&&r!==t.getLineFirstNonWhitespaceColumn(i);i++);return new l.e(n,1,i+1,1)}},{key:"addDecoration",value:function(e,t){var n={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations.set([n])}},{key:"removeLinkDecorations",value:function(){this.linkDecorations.clear()}},{key:"isEnabled",value:function(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&6===e.target.type&&(e.hasTriggerModifier||!!t&&t.keyCodeIsTriggerKey)&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}},{key:"findDefinition",value:function(e,t){var n=this.editor.getModel();return n?(0,_.nD)(this.languageFeaturesService.definitionProvider,n,e,t):Promise.resolve(null)}},{key:"gotoDefinition",value:function(e,t){var n=this;return this.editor.setPosition(e),this.editor.invokeWithinContext((function(e){var r=!t&&n.editor.getOption(80)&&!n.isInPeekEditor(e);return new b.DefinitionAction({openToSide:t,openInPeek:r,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(e,n.editor)}))}},{key:"isInPeekEditor",value:function(e){var t=e.get(g.i6);return p.Jy.inPeekEditor.getValue(t)}},{key:"dispose",value:function(){this.toUnhook.dispose()}}])&&C(t.prototype,n),c&&C(t,c),Object.defineProperty(t,"prototype",{writable:!1}),e}();E.ID="editor.contrib.gotodefinitionatposition",E.MAX_SOURCE_PREVIEW_LINES=8,E=L([O(1,d.S),O(2,f.O),O(3,w.p)],E),(0,c._K)(E.ID,E),(0,m.Ic)((function(e,t){var n=e.getColor(y._Yy);n&&t.addRule(".monaco-editor .goto-definition-link { color: ".concat(n," !important; }"))}))},86875:(e,t,n)=>{n.d(t,{J:()=>We});var r=n(95295),o=n(95835),i=n(11407),a=n(38709),s=n(37845),u=n(51638),c=n(48466),l=n(68243),f=n(18063),d=n(69349),h=n(4537),p=n(73589),v=n(63304),g=n(78165),y=n(70366),m=n(32931),b=n(41146),_=n(64370),w=n(32007),S=n(59289),k=n(60160),C=n(82459),x=n(69005),L=n(81993),O=n(51307),E=n(3817),P=n(77846),N=n(98375),I=n(71919),R=n(5491),T=n(94393),j=n(76676),A=n(97155),D=n(63872),M=n(9263),F=n(51586),W=n(63863),H=n(38656);function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){if(t&&("object"===Y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Y(i)?i:String(i)),r)}var o,i}function q(e,t,n){return t&&K(e.prototype,t),n&&K(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}var Q=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Y(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Z=function(e,t){return function(n,r){t(n,r,e)}},$=function(){function e(t){z(this,e),this._resolverService=t}return q(e,[{key:"hasChildren",value:function(e){return e instanceof _.oQ||e instanceof _.F2}},{key:"getChildren",value:function(e){if(e instanceof _.oQ)return e.groups;if(e instanceof _.F2)return e.resolve(this._resolverService).then((function(e){return e.children}));throw new Error("bad tree")}}]),e}();$=Q([Z(0,R.S)],$);var J=function(){function e(){z(this,e)}return q(e,[{key:"getHeight",value:function(){return 23}},{key:"getTemplateId",value:function(e){return e instanceof _.F2?ne.id:oe.id}}]),e}(),X=function(){function e(t){z(this,e),this._keybindingService=t}return q(e,[{key:"getKeyboardNavigationLabel",value:function(e){var t;if(e instanceof _.WX){var n=null===(t=e.parent.getPreview(e))||void 0===t?void 0:t.preview(e.range);if(n)return n.value}return(0,L.EZ)(e.uri)}}]),e}();X=Q([Z(0,M.d)],X);var ee=function(){function e(){z(this,e)}return q(e,[{key:"getId",value:function(e){return e instanceof _.WX?e.id:e.uri}}]),e}(),te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(n,e);var t=G(n);function n(e,r,o){var i;z(this,n),(i=t.call(this))._labelService=r;var a=document.createElement("div");return a.classList.add("reference-file"),i.file=i._register(new A.g(a,{supportHighlights:!0})),i.badge=new T.Z(w.append(a,w.$(".count"))),i._register((0,W.WZ)(i.badge,o)),e.appendChild(a),i}return q(n,[{key:"set",value:function(e,t){var n=(0,L.XX)(e.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(e.uri),this._labelService.getUriLabel(n,{relative:!0}),{title:this._labelService.getUriLabel(e.uri),matches:t});var r=e.children.length;this.badge.setCount(r),r>1?this.badge.setTitleFormat((0,f.NC)("referencesCount","{0} references",r)):this.badge.setTitleFormat((0,f.NC)("referenceCount","{0} reference",r))}}]),n}(a.JT);te=Q([Z(1,F.e),Z(2,H.XE)],te);var ne=function(){function e(t){z(this,e),this._instantiationService=t,this.templateId=e.id}return q(e,[{key:"renderTemplate",value:function(e){return this._instantiationService.createInstance(te,e)}},{key:"renderElement",value:function(e,t,n){n.set(e.element,(0,D.mB)(e.filterData))}},{key:"disposeTemplate",value:function(e){e.dispose()}}]),e}();ne.id="FileReferencesRenderer",ne=Q([Z(0,v.TG)],ne);var re=function(){function e(t){z(this,e),this.label=new j.q(t)}return q(e,[{key:"set",value:function(e,t){var n,r=null===(n=e.parent.getPreview(e))||void 0===n?void 0:n.preview(e.range);if(r&&r.value){var o=r.value,i=r.highlight;t&&!D.CL.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(o,(0,D.mB)(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(o,[i]))}else this.label.set("".concat((0,L.EZ)(e.uri),":").concat(e.range.startLineNumber+1,":").concat(e.range.startColumn+1))}}]),e}(),oe=function(){function e(){z(this,e),this.templateId=e.id}return q(e,[{key:"renderTemplate",value:function(e){return new re(e)}},{key:"renderElement",value:function(e,t,n){n.set(e.element,e.filterData)}},{key:"disposeTemplate",value:function(){}}]),e}();oe.id="OneReferenceRenderer";var ie=function(){function e(){z(this,e)}return q(e,[{key:"getWidgetAriaLabel",value:function(){return(0,f.NC)("treeAriaLabel","References")}},{key:"getAriaLabel",value:function(e){return e.ariaMessage}}]),e}(),ae=n(53751);function se(){se=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==Ce(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function ue(){return ue="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=ce(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},ue.apply(this,arguments)}function ce(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ve(e)););return e}function le(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fe(e,t)}function fe(e,t){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fe(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ve(e);if(t){var o=ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return he(this,n)}}function he(e,t){if(t&&("object"===Ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pe(e)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}function ge(e){return function(e){if(Array.isArray(e))return _e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||be(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||be(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=be(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function be(e,t){if(e){if("string"==typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(e,t):void 0}}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Ce(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Ce(i)?i:String(i)),r)}var o,i}function ke(e,t,n){return t&&Se(e.prototype,t),n&&Se(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}var xe=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Ce(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Le=function(e,t){return function(n,r){t(n,r,e)}},Oe=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Ee=function(){function e(t,n){var r=this;we(this,e),this._editor=t,this._model=n,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new a.SL,this._callOnModelChange=new a.SL,this._callOnDispose.add(this._editor.onDidChangeModel((function(){return r._onModelChanged()}))),this._onModelChanged()}return ke(e,[{key:"dispose",value:function(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}},{key:"_onModelChanged",value:function(){this._callOnModelChange.clear();var e=this._editor.getModel();if(e){var t,n=me(this._model.references);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.uri.toString()===e.uri.toString())return void this._addDecorations(r.parent)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"_addDecorations",value:function(t){var n=this;if(this._editor.hasModel()){this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations((function(){return n._onDecorationChanged()})));for(var r=[],o=[],i=0,a=t.children.length;i<a;i++){var s=t.children[i];this._decorationIgnoreSet.has(s.id)||s.uri.toString()===this._editor.getModel().uri.toString()&&(r.push({range:s.range,options:e.DecorationOptions}),o.push(i))}this._editor.changeDecorations((function(e){for(var i=e.deltaDecorations([],r),a=0;a<i.length;a++)n._decorations.set(i[a],t.children[o[a]])}))}}},{key:"_onDecorationChanged",value:function(){var e=[],t=this._editor.getModel();if(t){var n,r=me(this._decorations);try{for(r.s();!(n=r.n()).done;){var o=ye(n.value,2),i=o[0],a=o[1],s=t.getDecorationRange(i);if(s){var u=!1;if(!c.e.equalsRange(s,a.range)){if(c.e.spansMultipleLines(s))u=!0;else a.range.endColumn-a.range.startColumn!==s.endColumn-s.startColumn&&(u=!0);u?(this._decorationIgnoreSet.add(a.id),e.push(i)):a.range=s}}}}catch(e){r.e(e)}finally{r.f()}for(var l=0,f=e.length;l<f;l++)this._decorations.delete(e[l]);this._editor.removeDecorations(e)}}},{key:"removeDecorations",value:function(){this._editor.removeDecorations(ge(this._decorations.keys())),this._decorations.clear()}}]),e}();Ee.DecorationOptions=E.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});var Pe=function(){function e(){we(this,e),this.ratio=.7,this.heightInLines=18}return ke(e,null,[{key:"fromJSON",value:function(e){var t,n;try{var r=JSON.parse(e);t=r.ratio,n=r.heightInLines}catch(e){}return{ratio:t||.7,heightInLines:n||18}}}]),e}(),Ne=function(e){le(n,e);var t=de(n);function n(){return we(this,n),t.apply(this,arguments)}return ke(n)}(y.ls),Ie=function(e){le(n,e);var t=de(n);function n(e,r,o,i,s,u,c,l,f,d,h,p){var v;return we(this,n),(v=t.call(this,e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},u))._defaultTreeKeyboardSupport=r,v.layoutData=o,v._textModelResolverService=s,v._instantiationService=u,v._peekViewService=c,v._uriLabel=l,v._undoRedoService=f,v._keybindingService=d,v._languageService=h,v._languageConfigurationService=p,v._disposeOnNewModel=new a.SL,v._callOnDispose=new a.SL,v._onDidSelectReference=new C.Q5,v.onDidSelectReference=v._onDidSelectReference.event,v._dim=new w.Dimension(0,0),v._applyTheme(i.getColorTheme()),v._callOnDispose.add(i.onDidColorThemeChange(v._applyTheme.bind(pe(v)))),v._peekViewService.addExclusiveWidget(e,pe(v)),v.create(),v}return ke(n,[{key:"dispose",value:function(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,a.B9)(this._preview),(0,a.B9)(this._previewNotAvailableMessage),(0,a.B9)(this._tree),(0,a.B9)(this._previewModelReference),this._splitView.dispose(),ue(ve(n.prototype),"dispose",this).call(this)}},{key:"_applyTheme",value:function(e){var t=e.getColor(l.SC)||k.Il.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(l.KY)||k.Il.transparent,primaryHeadingColor:e.getColor(l.IH),secondaryHeadingColor:e.getColor(l.R7)})}},{key:"show",value:function(e){ue(ve(n.prototype),"show",this).call(this,e,this.layoutData.heightInLines||18)}},{key:"focusOnReferenceTree",value:function(){this._tree.domFocus()}},{key:"focusOnPreviewEditor",value:function(){this._preview.focus()}},{key:"isPreviewEditorFocused",value:function(){return this._preview.hasTextFocus()}},{key:"_onTitleClick",value:function(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}},{key:"_fillBody",value:function(e){var t=this;this.setCssClass("reference-zone-widget"),this._messageContainer=w.append(e,w.$("div.messages")),w.hide(this._messageContainer),this._splitView=new S.z(e,{orientation:1}),this._previewContainer=w.append(e,w.$("div.preview.inline"));this._preview=this._instantiationService.createInstance(O.H,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),w.hide(this._previewContainer),this._previewNotAvailableMessage=new E.yO(f.NC("missingPreviewMessage","no preview available"),N.bd,E.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=w.append(e,w.$("div.ref-tree.inline"));var n={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new ie,keyboardNavigationLabelProvider:this._instantiationService.createInstance(X),identityProvider:new ee,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:l.M8}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(w.addStandardDisposableListener(this._treeContainer,"keydown",(function(e){e.equals(9)&&(t._keybindingService.dispatchEvent(e,e.target),e.stopPropagation())}),!0)),this._tree=this._instantiationService.createInstance(Ne,"ReferencesWidget",this._treeContainer,new J,[this._instantiationService.createInstance(ne),this._instantiationService.createInstance(oe)],this._instantiationService.createInstance($),n),this._splitView.addView({onDidChange:C.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:function(e){t._preview.layout({height:t._dim.height,width:e})}},S.M.Distribute),this._splitView.addView({onDidChange:C.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:function(e){t._treeContainer.style.height="".concat(t._dim.height,"px"),t._treeContainer.style.width="".concat(e,"px"),t._tree.layout(t._dim.height,e)}},S.M.Distribute),this._disposables.add(this._splitView.onDidSashChange((function(){t._dim.width&&(t.layoutData.ratio=t._splitView.getViewSize(0)/t._dim.width)}),void 0));var r=function(e,n){e instanceof _.WX&&("show"===n&&t._revealReference(e,!1),t._onDidSelectReference.fire({element:e,kind:n,source:"tree"}))};this._tree.onDidOpen((function(e){e.sideBySide?r(e.element,"side"):e.editorOptions.pinned?r(e.element,"goto"):r(e.element,"show")})),w.hide(this._treeContainer)}},{key:"_onWidth",value:function(e){this._dim&&this._doLayoutBody(this._dim.height,e)}},{key:"_doLayoutBody",value:function(e,t){ue(ve(n.prototype),"_doLayoutBody",this).call(this,e,t),this._dim=new w.Dimension(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}},{key:"setSelection",value:function(e){var t=this;return this._revealReference(e,!0).then((function(){t._model&&(t._tree.setSelection([e]),t._tree.setFocus([e]))}))}},{key:"setModel",value:function(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}},{key:"_onNewModel",value:function(){var e=this;return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=f.NC("noResults","No results"),w.show(this._messageContainer),Promise.resolve(void 0)):(w.hide(this._messageContainer),this._decorationsManager=new Ee(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange((function(t){return e._tree.rerender(t)}))),this._disposeOnNewModel.add(this._preview.onMouseDown((function(t){var n=t.event,r=t.target;if(2===n.detail){var o=e._getFocusedReference();o&&e._onDidSelectReference.fire({element:{uri:o.uri,range:r.range},kind:n.ctrlKey||n.metaKey||n.altKey?"side":"open",source:"editor"})}}))),this.container.classList.add("results-loaded"),w.show(this._treeContainer),w.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}},{key:"_getFocusedReference",value:function(){var e=ye(this._tree.getFocus(),1)[0];return e instanceof _.WX?e:e instanceof _.F2&&e.children.length>0?e.children[0]:void 0}},{key:"revealReference",value:function(e){return Oe(this,void 0,void 0,se().mark((function t(){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._revealReference(e,!1);case 2:this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"});case 3:case"end":return t.stop()}}),t,this)})))}},{key:"_revealReference",value:function(e,t){return Oe(this,void 0,void 0,se().mark((function n(){var r,o,i,s,u;return se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this._revealedReference!==e){n.next=2;break}return n.abrupt("return");case 2:if(this._revealedReference=e,e.uri.scheme!==x.lg.inMemory?this.setTitle((0,L.Hx)(e.uri),this._uriLabel.getUriLabel((0,L.XX)(e.uri))):this.setTitle(f.NC("peekView.alternateTitle","References")),r=this._textModelResolverService.createModelReference(e.uri),this._tree.getInput()!==e.parent){n.next=9;break}this._tree.reveal(e),n.next=13;break;case 9:return t&&this._tree.reveal(e.parent),n.next=12,this._tree.expand(e.parent);case 12:this._tree.reveal(e);case 13:return n.next=15,r;case 15:if(o=n.sent,this._model){n.next=19;break}return o.dispose(),n.abrupt("return");case 19:(0,a.B9)(this._previewModelReference),(i=o.object)?(s=this._preview.getModel()===i.textEditorModel?0:1,u=c.e.lift(e.range).collapseToStart(),this._previewModelReference=o,this._preview.setModel(i.textEditorModel),this._preview.setSelection(u),this._preview.revealRangeInCenter(u,s)):(this._preview.setModel(this._previewNotAvailableMessage),o.dispose());case 22:case"end":return n.stop()}}),n,this)})))}}]),n}(l.vk);function Re(){Re=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==je(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==je(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===je(i)?i:String(i)),r)}var o,i}function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}Ie=xe([Le(3,H.XE),Le(4,R.S),Le(5,v.TG),Le(6,l.Fw),Le(7,F.e),Le(8,ae.tJ),Le(9,M.d),Le(10,I.O),Le(11,P.c_)],Ie);var Ae=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":je(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},De=function(e,t){return function(n,r){t(n,r,e)}},Me=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Fe=new p.uy("referenceSearchVisible",!1,f.NC("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'")),We=function(){function e(t,n,r,o,i,s,u,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._defaultTreeKeyboardSupport=t,this._editor=n,this._editorService=o,this._notificationService=i,this._instantiationService=s,this._storageService=u,this._configurationService=c,this._disposables=new a.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=Fe.bindTo(r)}var t,n,i;return t=e,n=[{key:"dispose",value:function(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),null===(e=this._widget)||void 0===e||e.dispose(),null===(t=this._model)||void 0===t||t.dispose(),this._widget=void 0,this._model=void 0}},{key:"toggleWidget",value:function(e,t,n){var r,o=this;if(this._widget&&(r=this._widget.position),this.closeWidget(),!r||!e.containsPosition(r)){this._peekMode=n,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage((function(){o.closeWidget()}))),this._disposables.add(this._editor.onDidChangeModel((function(){o._ignoreModelChangeEvent||o.closeWidget()})));var i="peekViewLayout",a=Pe.fromJSON(this._storageService.get(i,0,"{}"));this._widget=this._instantiationService.createInstance(Ie,this._editor,this._defaultTreeKeyboardSupport,a),this._widget.setTitle(f.NC("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose((function(){t.cancel(),o._widget&&(o._storageService.store(i,JSON.stringify(o._widget.layoutData),0,1),o._widget=void 0),o.closeWidget()}))),this._disposables.add(this._widget.onDidSelectReference((function(e){var t=e.element,r=e.kind;if(t)switch(r){case"open":"editor"===e.source&&o._configurationService.getValue("editor.stablePeek")||o.openReference(t,!1,!1);break;case"side":o.openReference(t,!0,!1);break;case"goto":n?o._gotoReference(t):o.openReference(t,!1,!0)}})));var s=++this._requestIdPool;t.then((function(t){var n;if(s===o._requestIdPool&&o._widget)return null===(n=o._model)||void 0===n||n.dispose(),o._model=t,o._widget.setModel(o._model).then((function(){if(o._widget&&o._model&&o._editor.hasModel()){o._model.isEmpty?o._widget.setMetaTitle(""):o._widget.setMetaTitle(f.NC("metaTitle.N","{0} ({1})",o._model.title,o._model.references.length));var t=o._editor.getModel().uri,n=new u.L(e.startLineNumber,e.startColumn),r=o._model.nearestReference(t,n);if(r)return o._widget.setSelection(r).then((function(){o._widget&&"editor"===o._editor.getOption(79)&&o._widget.focusOnPreviewEditor()}))}}));t.dispose()}),(function(e){o._notificationService.error(e)}))}}},{key:"changeFocusBetweenPreviewAndReferences",value:function(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}},{key:"goToNextOrPreviousReference",value:function(e){return Me(this,void 0,void 0,Re().mark((function t(){var n,r,o,i,a;return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._editor.hasModel()&&this._model&&this._widget){t.next=2;break}return t.abrupt("return");case 2:if(n=this._widget.position){t.next=5;break}return t.abrupt("return");case 5:if(r=this._model.nearestReference(this._editor.getModel().uri,n)){t.next=8;break}return t.abrupt("return");case 8:return o=this._model.nextOrPreviousReference(r,e),i=this._editor.hasTextFocus(),a=this._widget.isPreviewEditorFocused(),t.next=13,this._widget.setSelection(o);case 13:return t.next=15,this._gotoReference(o);case 15:i?this._editor.focus():this._widget&&a&&this._widget.focusOnPreviewEditor();case 16:case"end":return t.stop()}}),t,this)})))}},{key:"revealReference",value:function(e){return Me(this,void 0,void 0,Re().mark((function t(){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._editor.hasModel()&&this._model&&this._widget){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this._widget.revealReference(e);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"closeWidget",value:function(){var e,t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null===(e=this._widget)||void 0===e||e.dispose(),null===(t=this._model)||void 0===t||t.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,n&&this._editor.focus(),this._requestIdPool+=1}},{key:"_gotoReference",value:function(t){var n=this;this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;var i=c.e.lift(t.range).collapseToStart();return this._editorService.openCodeEditor({resource:t.uri,options:{selection:i,selectionSource:"code.jump"}},this._editor).then((function(t){var o;if(n._ignoreModelChangeEvent=!1,t&&n._widget)if(n._editor===t)n._widget.show(i),n._widget.focusOnReferenceTree();else{var a=e.get(t),s=n._model.clone();n.closeWidget(),t.focus(),null==a||a.toggleWidget(i,(0,r.PG)((function(e){return Promise.resolve(s)})),null!==(o=n._peekMode)&&void 0!==o&&o)}else n.closeWidget()}),(function(e){n._ignoreModelChangeEvent=!1,(0,o.dL)(e)}))}},{key:"openReference",value:function(e,t,n){t||this.closeWidget();var r=e.uri,o=e.range;this._editorService.openCodeEditor({resource:r,options:{selection:o,selectionSource:"code.jump",pinned:n}},this._editor,t)}}],i=[{key:"get",value:function(t){return t.getContribution(e.ID)}}],n&&Te(t.prototype,n),i&&Te(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function He(e,t){var n=(0,l.rc)(e);if(n){var r=We.get(n);r&&t(r)}}We.ID="editor.contrib.referencesController",We=Ae([De(2,p.i6),De(3,s.$),De(4,m.lT),De(5,v.TG),De(6,b.Uy),De(7,h.Ui)],We),g.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,i.gx)(2089,60),when:p.Ao.or(Fe,l.Jy.inPeekEditor),handler:function(e){He(e,(function(e){e.changeFocusBetweenPreviewAndReferences()}))}}),g.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:p.Ao.or(Fe,l.Jy.inPeekEditor),handler:function(e){He(e,(function(e){e.goToNextOrPreviousReference(!0)}))}}),g.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:p.Ao.or(Fe,l.Jy.inPeekEditor),handler:function(e){He(e,(function(e){e.goToNextOrPreviousReference(!1)}))}}),d.P0.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),d.P0.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),d.P0.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),d.P0.registerCommand("closeReferenceSearch",(function(e){return He(e,(function(e){return e.closeWidget()}))})),g.W.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:p.Ao.and(l.Jy.inPeekEditor,p.Ao.not("config.editor.stablePeek"))}),g.W.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:p.Ao.and(Fe,p.Ao.not("config.editor.stablePeek"))}),g.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:p.Ao.and(Fe,y.CQ,y.PS.negate(),y.uJ.negate()),handler:function(e){var t,n=null===(t=e.get(y.Lw).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof _.WX&&He(e,(function(e){return e.revealReference(n[0])}))}}),g.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:p.Ao.and(Fe,y.CQ,y.PS.negate(),y.uJ.negate()),handler:function(e){var t,n=null===(t=e.get(y.Lw).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof _.WX&&He(e,(function(e){return e.openReference(n[0],!0,!0)}))}}),d.P0.registerCommand("openReference",(function(e){var t,n=null===(t=e.get(y.Lw).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof _.WX&&He(e,(function(e){return e.openReference(n[0],!1,!0)}))}))},64370:(e,t,n)=>{n.d(t,{F2:()=>C,WX:()=>S,oQ:()=>x});var r=n(95835),o=n(82459),i=n(75687),a=n(38709),s=n(85006),u=n(81993),c=n(46969),l=n(48466),f=n(18063);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(){p=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:k(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function h(){}function v(){}function g(){}var y={};u(y,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(E([])));b&&b!==t&&n.call(b,i)&&(y=b);var _=g.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==d(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=g,r(_,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),u(_,s,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=g(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function g(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===d(i)?i:String(i)),r)}var o,i}function _(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var w=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},S=function(){function e(t,n,r,o){m(this,e),this.isProviderFirst=t,this.parent=n,this.link=r,this._rangeCallback=o,this.id=i.a.nextId()}return _(e,[{key:"uri",get:function(){return this.link.uri}},{key:"range",get:function(){var e,t;return null!==(t=null!==(e=this._range)&&void 0!==e?e:this.link.targetSelectionRange)&&void 0!==t?t:this.link.range},set:function(e){this._range=e,this._rangeCallback(this)}},{key:"ariaMessage",get:function(){var e,t=null===(e=this.parent.getPreview(this))||void 0===e?void 0:e.preview(this.range);return t?(0,f.NC)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,u.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,t.value):(0,f.NC)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,u.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}]),e}(),k=function(){function e(t){m(this,e),this._modelReference=t}return _(e,[{key:"dispose",value:function(){this._modelReference.dispose()}},{key:"preview",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=this._modelReference.object.textEditorModel;if(n){var r=e.startLineNumber,o=e.startColumn,i=e.endLineNumber,a=e.endColumn,s=n.getWordUntilPosition({lineNumber:r,column:o-t}),u=new l.e(r,s.startColumn,r,o),c=new l.e(i,a,i,1073741824),f=n.getValueInRange(u).replace(/^\s+/,""),d=n.getValueInRange(e),h=n.getValueInRange(c).replace(/\s+$/,"");return{value:f+d+h,highlight:{start:f.length,end:f.length+d.length}}}}}]),e}(),C=function(){function e(t,n){m(this,e),this.parent=t,this.uri=n,this.children=[],this._previews=new s.Y9}return _(e,[{key:"dispose",value:function(){(0,a.B9)(this._previews.values()),this._previews.clear()}},{key:"getPreview",value:function(e){return this._previews.get(e.uri)}},{key:"ariaMessage",get:function(){var e=this.children.length;return 1===e?(0,f.NC)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,u.EZ)(this.uri),this.uri.fsPath):(0,f.NC)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,(0,u.EZ)(this.uri),this.uri.fsPath)}},{key:"resolve",value:function(e){return w(this,void 0,void 0,p().mark((function t(){var n,o,i,a;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===this._previews.size){t.next=2;break}return t.abrupt("return",this);case 2:n=v(this.children),t.prev=3,n.s();case 5:if((o=n.n()).done){t.next=21;break}if(i=o.value,!this._previews.has(i.uri)){t.next=9;break}return t.abrupt("continue",19);case 9:return t.prev=9,t.next=12,e.createModelReference(i.uri);case 12:a=t.sent,this._previews.set(i.uri,new k(a)),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(9),(0,r.dL)(t.t0);case 19:t.next=5;break;case 21:t.next=26;break;case 23:t.prev=23,t.t1=t.catch(3),n.e(t.t1);case 26:return t.prev=26,n.f(),t.finish(26);case 29:return t.abrupt("return",this);case 30:case"end":return t.stop()}}),t,this,[[3,23,26,29],[9,16]])})))}}]),e}(),x=function(){function e(t,n){var r=this;m(this,e),this.groups=[],this.references=[],this._onDidChangeReferenceRange=new o.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=t,this._title=n;var i,a=h(t,1)[0];t.sort(e._compareReferences);var s,c=v(t);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(i&&u.SF.isEqual(i.uri,l.uri,!0)||(i=new C(this,l.uri),this.groups.push(i)),0===i.children.length||0!==e._compareReferences(l,i.children[i.children.length-1])){var f=new S(a===l,i,l,(function(e){return r._onDidChangeReferenceRange.fire(e)}));this.references.push(f),i.children.push(f)}}}catch(e){c.e(e)}finally{c.f()}}return _(e,[{key:"dispose",value:function(){(0,a.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}},{key:"clone",value:function(){return new e(this._links,this._title)}},{key:"title",get:function(){return this._title}},{key:"isEmpty",get:function(){return 0===this.groups.length}},{key:"ariaMessage",get:function(){return this.isEmpty?(0,f.NC)("aria.result.0","No results found"):1===this.references.length?(0,f.NC)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?(0,f.NC)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,f.NC)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}},{key:"nextOrPreviousReference",value:function(e,t){var n=e.parent,r=n.children.indexOf(e),o=n.children.length,i=n.parent.groups.length;return 1===i||t&&r+1<o||!t&&r>0?(r=t?(r+1)%o:(r+o-1)%o,n.children[r]):(r=n.parent.groups.indexOf(n),t?(r=(r+1)%i,n.parent.groups[r].children[0]):(r=(r+i-1)%i,n.parent.groups[r].children[n.parent.groups[r].children.length-1]))}},{key:"nearestReference",value:function(e,t){var n=this.references.map((function(n,r){return{idx:r,prefixLen:c.Mh(n.uri.toString(),e.toString()),offsetDist:100*Math.abs(n.range.startLineNumber-t.lineNumber)+Math.abs(n.range.startColumn-t.column)}})).sort((function(e,t){return e.prefixLen>t.prefixLen?-1:e.prefixLen<t.prefixLen?1:e.offsetDist<t.offsetDist?-1:e.offsetDist>t.offsetDist?1:0}))[0];if(n)return this.references[n.idx]}},{key:"referenceAt",value:function(e,t){var n,r=v(this.references);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.uri.toString()===e.toString()&&l.e.containsPosition(o.range,t))return o}}catch(e){r.e(e)}finally{r.f()}}},{key:"firstReference",value:function(){var e,t=v(this.references);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.isProviderFirst)return n}}catch(e){t.e(e)}finally{t.f()}return this.references[0]}}],[{key:"_compareReferences",value:function(e,t){return u.SF.compare(e.uri,t.uri)||l.e.compareRangesUsingStarts(e.range,t.range)}}]),e}()},17662:(e,t,n)=>{n.d(t,{R8:()=>p});var r=n(95295),o=n(2307),i=n(95835),a=n(18679),s=n(31213);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:k(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function g(){}var y={};l(y,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(E([])));b&&b!==t&&n.call(b,i)&&(y=b);var _=g.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function o(r,i,a,s){var c=d(e[r],e,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==u(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return o("throw",e,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=g,r(_,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(S.prototype),l(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(f(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),l(_,s,"Generator"),l(_,i,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===u(i)?i:String(i)),r)}var o,i}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var d=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},h=f((function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.provider=t,this.hover=n,this.ordinal=r}));function p(e,t,n,o){var a=e.ordered(t).map((function(e,r){return function(e,t,n,r,o){return d(this,void 0,void 0,c().mark((function a(){var s;return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Promise.resolve(e.provideHover(n,r,o));case 3:if(!(s=a.sent)||!v(s)){a.next=6;break}return a.abrupt("return",new h(e,s,t));case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),(0,i.Cp)(a.t0);case 11:return a.abrupt("return",void 0);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))}(e,r,t,n,o)}));return r.Aq.fromPromises(a).coalesce()}function v(e){var t=void 0!==e.range,n=void 0!==e.contents&&e.contents&&e.contents.length>0;return t&&n}(0,a.sb)("_executeHoverProvider",(function(e,t,n){return function(e,t,n,r){return p(e,t,n,r).map((function(e){return e.hover})).toPromise()}(e.get(s.p).hoverProvider,t,n,o.T.None)}))},6431:(e,t,n)=>{n.r(t),n.d(t,{ModesHoverController:()=>lt});var r=n(11407),o=n(38709),i=n(18679),a=n(48466),s=n(25112),u=n(71919),c=n(87949),l=n(32007),f=n(36678),d=n(86193),h=n(51638),p=n(3817),v=n(87116),g=n(95295),y=n(95835),m=n(82459);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function _(){_=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:k(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(E([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==b(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},w(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=S(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},w.apply(this,arguments)}function S(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===b(i)?i:String(i)),r)}var o,i}function E(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var N=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},I=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},R=E((function e(t,n,r){P(this,e),this.value=t,this.isComplete=n,this.hasLoadingMessage=r})),T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(n,e);var t=C(n);function n(e,r){var o;return P(this,n),(o=t.call(this))._editor=e,o._computer=r,o._onResult=o._register(new m.Q5),o.onResult=o._onResult.event,o._firstWaitScheduler=o._register(new g.pY((function(){return o._triggerAsyncComputation()}),0)),o._secondWaitScheduler=o._register(new g.pY((function(){return o._triggerSyncComputation()}),0)),o._loadingMessageScheduler=o._register(new g.pY((function(){return o._triggerLoadingMessage()}),0)),o._state=0,o._asyncIterable=null,o._asyncIterableDone=!1,o._result=[],o}return E(n,[{key:"dispose",value:function(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),w(L(n.prototype),"dispose",this).call(this)}},{key:"_hoverTime",get:function(){return this._editor.getOption(55).delay}},{key:"_firstWaitTime",get:function(){return this._hoverTime/2}},{key:"_secondWaitTime",get:function(){return this._hoverTime-this._firstWaitTime}},{key:"_loadingMessageTime",get:function(){return 3*this._hoverTime}},{key:"_setState",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._state=e,t&&this._fireResult()}},{key:"_triggerAsyncComputation",value:function(){var e=this;this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,g.zS)((function(t){return e._computer.computeAsync(t)})),N(e,void 0,void 0,_().mark((function e(){var t,n,r,o,i;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.prev=1,r=I(this._asyncIterable);case 3:return e.next=5,r.next();case 5:if((o=e.sent).done){e.next=11;break}(i=o.value)&&(this._result.push(i),this._fireResult());case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t={error:e.t0};case 16:if(e.prev=16,e.prev=17,!o||o.done||!(n=r.return)){e.next=21;break}return e.next=21,n.call(r);case 21:if(e.prev=21,!t){e.next=24;break}throw t.error;case 24:return e.finish(21);case 25:return e.finish(16);case 26:this._asyncIterableDone=!0,3!==this._state&&4!==this._state||this._setState(0),e.next=33;break;case 30:e.prev=30,e.t1=e.catch(0),(0,y.dL)(e.t1);case 33:case"end":return e.stop()}}),e,this,[[0,30],[1,13,16,26],[17,,21,25]])})))):this._asyncIterableDone=!0}},{key:"_triggerSyncComputation",value:function(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}},{key:"_triggerLoadingMessage",value:function(){3===this._state&&this._setState(4)}},{key:"_fireResult",value:function(){if(1!==this._state&&2!==this._state){var e=0===this._state,t=4===this._state;this._onResult.fire(new R(this._result.slice(0),e,t))}}},{key:"start",value:function(e){if(0===e)0===this._state&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}},{key:"cancel",value:function(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}]),n}(o.JT),j=n(52115),A=n(73589),D=n(63304),M=n(9263),F=n(21866);function W(){return W="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=H(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},W.apply(this,arguments)}function H(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$(e)););return e}function B(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==J(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===J(i)?i:String(i)),r)}var o,i}function z(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function K(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var o=$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Q(this,n)}}function Q(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Z(e)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}var X=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":J(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ee=function(e,t){return function(n,r){t(n,r,e)}},te=l.$,ne=function(e){K(n,e);var t=Y(n);function n(e,r,o){var i;V(this,n),(i=t.call(this))._editor=e,i._instantiationService=r,i._keybindingService=o,i._widget=i._register(i._instantiationService.createInstance(oe,i._editor)),i._isChangingDecorations=!1,i._messages=[],i._messagesAreComplete=!1,i._participants=[];var a,s=B(j.Ae.getAll());try{for(s.s();!(a=s.n()).done;){var u=a.value;i._participants.push(i._instantiationService.createInstance(u,i._editor))}}catch(e){s.e(e)}finally{s.f()}return i._participants.sort((function(e,t){return e.hoverOrdinal-t.hoverOrdinal})),i._computer=new ae(i._editor,i._participants),i._hoverOperation=i._register(new T(i._editor,i._computer)),i._register(i._hoverOperation.onResult((function(e){i._withResult(e.value,e.isComplete,e.hasLoadingMessage)}))),i._register(i._editor.onDidChangeModelDecorations((function(){i._isChangingDecorations||i._onModelDecorationsChanged()}))),i._register(l.addStandardDisposableListener(i._widget.getDomNode(),"keydown",(function(e){e.equals(9)&&i.hide()}))),i._register(v.RW.onDidChange((function(){i._widget.position&&i._computer.anchor&&i._messages.length>0&&(i._widget.clear(),i._renderMessages(i._computer.anchor,i._messages))}))),i}return z(n,[{key:"_onModelDecorationsChanged",value:function(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}},{key:"maybeShowAt",value:function(e){var t,n=[],r=B(this._participants);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o.suggestHoverAnchor){var i=o.suggestHoverAnchor(e);i&&n.push(i)}}}catch(e){r.e(e)}finally{r.f()}var a=e.target;if(6===a.type&&n.push(new j.Qj(0,a.range)),7===a.type){var s=this._editor.getOption(46).typicalHalfwidthCharacterWidth/2;!a.detail.isAfterLines&&"number"==typeof a.detail.horizontalDistanceToText&&a.detail.horizontalDistanceToText<s&&n.push(new j.Qj(0,a.range))}return 0!==n.length&&(n.sort((function(e,t){return t.priority-e.priority})),this._startShowingAt(n[0],0,!1),!0)}},{key:"startShowingAtRange",value:function(e,t,n){this._startShowingAt(new j.Qj(0,e),t,n)}},{key:"_startShowingAt",value:function(e,t,n){if(!this._computer.anchor||!this._computer.anchor.equals(e)){if(this._hoverOperation.cancel(),this._widget.position)if(this._computer.anchor&&e.canAdoptVisibleHover(this._computer.anchor,this._widget.position)){var r=this._messages.filter((function(t){return t.isValidForHoverAnchor(e)}));if(0===r.length)this.hide();else{if(r.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(e,r)}}else this.hide();this._computer.anchor=e,this._computer.shouldFocus=n,this._hoverOperation.start(t)}}},{key:"hide",value:function(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}},{key:"isColorPickerVisible",value:function(){return this._widget.isColorPickerVisible}},{key:"containsNode",value:function(e){return this._widget.getDomNode().contains(e)}},{key:"_addLoadingMessage",value:function(e){if(this._computer.anchor){var t,n=B(this._participants);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.createLoadingMessage){var o=r.createLoadingMessage(this._computer.anchor);if(o)return e.slice(0).concat([o])}}}catch(e){n.e(e)}finally{n.f()}}return e}},{key:"_withResult",value:function(e,t,n){this._messages=n?this._addLoadingMessage(e):e,this._messagesAreComplete=t,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):t&&this.hide()}},{key:"_renderMessages",value:function(e,t){var r,i=this,a=n.computeHoverRanges(e.range,t),s=a.showAtPosition,u=a.showAtRange,c=a.highlightRange,l=new o.SL,f=l.add(new ie(this._keybindingService)),d=document.createDocumentFragment(),h=null,p={fragment:d,statusBar:f,setColorPicker:function(e){return h=e},onContentsChanged:function(){return i._widget.onContentsChanged()},hide:function(){return i.hide()}},v=B(this._participants);try{var g=function(){var e=r.value,n=t.filter((function(t){return t.owner===e}));n.length>0&&l.add(e.renderHoverParts(p,n))};for(v.s();!(r=v.n()).done;)g()}catch(e){v.e(e)}finally{v.f()}if(f.hasContent&&d.appendChild(f.hoverElement),d.hasChildNodes()){if(c){var y=this._editor.createDecorationsCollection();try{this._isChangingDecorations=!0,y.set([{range:c,options:n._DECORATION_OPTIONS}])}finally{this._isChangingDecorations=!1}l.add((0,o.OF)((function(){try{i._isChangingDecorations=!0,y.clear()}finally{i._isChangingDecorations=!1}})))}this._widget.showAt(d,new re(h,s,u,this._editor.getOption(55).above,this._computer.shouldFocus,l))}else l.dispose()}}],[{key:"computeHoverRanges",value:function(e,t){var n,r=e.startLineNumber,o=e.startColumn,i=e.endColumn,s=t[0].range,u=null,c=B(t);try{for(c.s();!(n=c.n()).done;){var l=n.value;s=a.e.plusRange(s,l.range),l.range.startLineNumber===r&&l.range.endLineNumber===r&&(o=Math.min(o,l.range.startColumn),i=Math.max(i,l.range.endColumn)),l.forceShowAtRange&&(u=l.range)}}catch(e){c.e(e)}finally{c.f()}return{showAtPosition:u?u.getStartPosition():new h.L(e.startLineNumber,o),showAtRange:u||new a.e(r,o,r,i),highlightRange:s}}}]),n}(o.JT);ne._DECORATION_OPTIONS=p.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),ne=X([ee(1,D.TG),ee(2,M.d)],ne);var re=z((function e(t,n,r,o,i,a){V(this,e),this.colorPicker=t,this.showAtPosition=n,this.showAtRange=r,this.preferAbove=o,this.stoleFocus=i,this.disposables=a})),oe=function(e){K(n,e);var t=Y(n);function n(e,r){var o;return V(this,n),(o=t.call(this))._editor=e,o._contextKeyService=r,o.allowEditorOverflow=!0,o._hoverVisibleKey=s.u.hoverVisible.bindTo(o._contextKeyService),o._hover=o._register(new f.c),o._visibleData=null,o._register(o._editor.onDidLayoutChange((function(){return o._layout()}))),o._register(o._editor.onDidChangeConfiguration((function(e){e.hasChanged(46)&&o._updateFont()}))),o._setVisibleData(null),o._layout(),o._editor.addContentWidget(Z(o)),o}return z(n,[{key:"position",get:function(){var e,t;return null!==(t=null===(e=this._visibleData)||void 0===e?void 0:e.showAtPosition)&&void 0!==t?t:null}},{key:"isColorPickerVisible",get:function(){var e;return Boolean(null===(e=this._visibleData)||void 0===e?void 0:e.colorPicker)}},{key:"dispose",value:function(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),W($(n.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return n.ID}},{key:"getDomNode",value:function(){return this._hover.containerDomNode}},{key:"getPosition",value:function(){if(!this._visibleData)return null;var e=this._visibleData.preferAbove;return!e&&this._contextKeyService.getContextKeyValue(F._y.Visible.key)&&(e=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:e?[1,2]:[2,1]}}},{key:"_setVisibleData",value:function(e){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=e,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}},{key:"_layout",value:function(){var e=Math.max(this._editor.getLayoutInfo().height/4,250),t=this._editor.getOption(46),n=t.fontSize,r=t.lineHeight;this._hover.contentsDomNode.style.fontSize="".concat(n,"px"),this._hover.contentsDomNode.style.lineHeight="".concat(r/n),this._hover.contentsDomNode.style.maxHeight="".concat(e,"px"),this._hover.contentsDomNode.style.maxWidth="".concat(Math.max(.66*this._editor.getLayoutInfo().width,500),"px")}},{key:"_updateFont",value:function(){var e=this;Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((function(t){return e._editor.applyFontInfo(t)}))}},{key:"showAt",value:function(e,t){this._setVisibleData(t),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),t.stoleFocus&&this._hover.containerDomNode.focus(),t.colorPicker&&t.colorPicker.layout()}},{key:"hide",value:function(){if(this._visibleData){var e=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),e&&this._editor.focus()}}},{key:"onContentsChanged",value:function(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();var e=this._hover.scrollbar.getScrollDimensions();if(e.scrollWidth>e.width){var t="".concat(this._hover.scrollbar.options.horizontalScrollbarSize,"px");this._hover.contentsDomNode.style.paddingBottom!==t&&(this._hover.contentsDomNode.style.paddingBottom=t,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}},{key:"clear",value:function(){this._hover.contentsDomNode.textContent=""}}]),n}(o.JT);oe.ID="editor.contrib.contentHoverWidget",oe=X([ee(1,A.i6)],oe);var ie=function(e){K(n,e);var t=Y(n);function n(e){var r;return V(this,n),(r=t.call(this))._keybindingService=e,r._hasContent=!1,r.hoverElement=te("div.hover-row.status-bar"),r.actionsElement=l.append(r.hoverElement,te("div.actions")),r}return z(n,[{key:"hasContent",get:function(){return this._hasContent}},{key:"addAction",value:function(e){var t=this._keybindingService.lookupKeybinding(e.commandId),n=t?t.getLabel():null;return this._hasContent=!0,this._register(f.S.render(this.actionsElement,e,n))}},{key:"append",value:function(e){var t=l.append(this.actionsElement,e);return this._hasContent=!0,t}}]),n}(o.JT);ie=X([ee(0,M.d)],ie);var ae=function(){function e(t,n){V(this,e),this._editor=t,this._participants=n,this._anchor=null,this._shouldFocus=!1}return z(e,[{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor=e}},{key:"shouldFocus",get:function(){return this._shouldFocus},set:function(e){this._shouldFocus=e}},{key:"computeAsync",value:function(t){var n=this._anchor;if(!this._editor.hasModel()||!n)return g.Aq.EMPTY;var r=e._getLineDecorations(this._editor,n);return g.Aq.merge(this._participants.map((function(e){return e.computeAsync?e.computeAsync(n,r,t):g.Aq.EMPTY})))}},{key:"computeSync",value:function(){if(!this._editor.hasModel()||!this._anchor)return[];var t,n=e._getLineDecorations(this._editor,this._anchor),r=[],o=B(this._participants);try{for(o.s();!(t=o.n()).done;){var i=t.value;r=r.concat(i.computeSync(this._anchor,n))}}catch(e){o.e(e)}finally{o.f()}return(0,d.kX)(r)}}],[{key:"_getLineDecorations",value:function(e,t){if(1!==t.type)return[];var n=e.getModel(),r=t.range.startLineNumber;if(r>n.getLineCount())return[];var o=n.getLineMaxColumn(r);return e.getLineDecorations(r).filter((function(e){if(e.options.isWholeLine)return!0;var n=e.range.startLineNumber===r?e.range.startColumn:1,i=e.range.endLineNumber===r?e.range.endColumn:o;if(e.options.showIfCollapsed){if(n>t.range.startColumn+1||t.range.endColumn-1>i)return!1}else if(n>t.range.startColumn||t.range.endColumn>i)return!1;return!0}))}}]),e}(),se=n(93649),ue=n(44809),ce=n(53920);function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function fe(e){return function(e){if(Array.isArray(e))return pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||he(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=he(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function he(e,t){if(e){if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,t):void 0}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==le(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===le(i)?i:String(i)),r)}var o,i}function ye(e,t,n){return t&&ge(e.prototype,t),n&&ge(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function me(){return me="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=be(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},me.apply(this,arguments)}function be(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ce(e)););return e}function _e(e,t){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_e(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ce(e);if(t){var o=Ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Se(this,n)}}function Se(e,t){if(t&&("object"===le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ke(e)}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e){return Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ce(e)}var xe=l.$,Le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_e(e,t)}(n,e);var t=we(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ce.SW;return ve(this,n),(i=t.call(this))._renderDisposeables=i._register(new o.SL),i._editor=e,i._isVisible=!1,i._messages=[],i._hover=i._register(new f.c),i._hover.containerDomNode.classList.toggle("hidden",!i._isVisible),i._markdownRenderer=i._register(new ue.$({editor:i._editor},r,a)),i._computer=new Oe(i._editor),i._hoverOperation=i._register(new T(i._editor,i._computer)),i._register(i._hoverOperation.onResult((function(e){i._withResult(e.value)}))),i._register(i._editor.onDidChangeModelDecorations((function(){return i._onModelDecorationsChanged()}))),i._register(i._editor.onDidChangeConfiguration((function(e){e.hasChanged(46)&&i._updateFont()}))),i._editor.addOverlayWidget(ke(i)),i}return ye(n,[{key:"dispose",value:function(){this._editor.removeOverlayWidget(this),me(Ce(n.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return n.ID}},{key:"getDomNode",value:function(){return this._hover.containerDomNode}},{key:"getPosition",value:function(){return null}},{key:"_updateFont",value:function(){var e=this;Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((function(t){return e._editor.applyFontInfo(t)}))}},{key:"_onModelDecorationsChanged",value:function(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}},{key:"startShowingAt",value:function(e){this._computer.lineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._hoverOperation.start(0))}},{key:"hide",value:function(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}},{key:"_withResult",value:function(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}},{key:"_renderMessages",value:function(e,t){this._renderDisposeables.clear();var n,r=document.createDocumentFragment(),o=de(t);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=xe("div.hover-row.markdown-hover"),s=l.append(a,xe("div.hover-contents")),u=this._renderDisposeables.add(this._markdownRenderer.render(i.value));s.appendChild(u.element),r.appendChild(a)}}catch(e){o.e(e)}finally{o.f()}this._updateContents(r),this._showAt(e)}},{key:"_updateContents",value:function(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}},{key:"_showAt",value:function(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));var t=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(e),r=this._editor.getScrollTop(),o=this._editor.getOption(61),i=n-r-(this._hover.containerDomNode.clientHeight-o)/2;this._hover.containerDomNode.style.left="".concat(t.glyphMarginLeft+t.glyphMarginWidth,"px"),this._hover.containerDomNode.style.top="".concat(Math.max(Math.round(i),0),"px")}}]),n}(o.JT);Le.ID="editor.contrib.modesGlyphHoverWidget";var Oe=function(){function e(t){ve(this,e),this._editor=t,this._lineNumber=-1}return ye(e,[{key:"lineNumber",get:function(){return this._lineNumber},set:function(e){this._lineNumber=e}},{key:"computeSync",value:function(){var e=function(e){return{value:e}},t=this._editor.getLineDecorations(this._lineNumber),n=[];if(!t)return n;var r,o=de(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.options.glyphMarginClassName){var a=i.options.glyphMarginHoverMessage;a&&!(0,se.CP)(a)&&n.push.apply(n,fe((0,d._2)(a).map(e)))}}}catch(e){o.e(e)}finally{o.f()}return n}}]),e}(),Ee=n(18063),Pe=n(41367),Ne=n(38656),Ie=n(32274),Re=n(81993),Te=n(76436),je=n(85217),Ae=n(62880),De=n(20699),Me=n(84982),Fe=n(96185),We=n(26104),He=n(31213);function Be(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ge(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Ke(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Ke(i)?i:String(i)),r)}var o,i}function ze(e,t,n){return t&&Ue(e.prototype,t),n&&Ue(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}var qe=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Ke(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ye=function(e,t){return function(n,r){t(n,r,e)}},Qe=l.$,Ze=function(){function e(t,n,r){Ve(this,e),this.owner=t,this.range=n,this.marker=r}return ze(e,[{key:"isValidForHoverAnchor",value:function(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),e}(),$e={type:1,filter:{include:De.yN.QuickFix},triggerAction:De.aQ.QuickFixHover},Je=function(){function e(t,n,r,o){Ve(this,e),this._editor=t,this._markerDecorationsService=n,this._openerService=r,this._languageFeaturesService=o,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}return ze(e,[{key:"computeSync",value:function(e,t){if(!this._editor.hasModel()||1!==e.type)return[];var n,r=this._editor.getModel(),o=e.range.startLineNumber,i=r.getLineMaxColumn(o),s=[],u=Be(t);try{for(u.s();!(n=u.n()).done;){var c=n.value,l=c.range.startLineNumber===o?c.range.startColumn:1,f=c.range.endLineNumber===o?c.range.endColumn:i,d=this._markerDecorationsService.getMarker(r.uri,c);if(d){var h=new a.e(e.range.startLineNumber,l,e.range.startLineNumber,f);s.push(new Ze(this,h,d))}}}catch(e){u.e(e)}finally{u.f()}return s}},{key:"renderHoverParts",value:function(e,t){var n=this;if(!t.length)return o.JT.None;var r=new o.SL;t.forEach((function(t){return e.fragment.appendChild(n.renderMarkerHover(t,r))}));var i=1===t.length?t[0]:t.sort((function(e,t){return Fe.ZL.compare(e.marker.severity,t.marker.severity)}))[0];return this.renderMarkerStatusbar(e,i,r),r}},{key:"renderMarkerHover",value:function(e,t){var n=this,r=Qe("div.hover-row"),o=l.append(r,Qe("div.marker.hover-contents")),i=e.marker,a=i.source,s=i.message,u=i.code,c=i.relatedInformation;this._editor.applyFontInfo(o);var f=l.append(o,Qe("span"));if(f.style.whiteSpace="pre-wrap",f.innerText=s,a||u)if(u&&"string"!=typeof u){var h=Qe("span");if(a)l.append(h,Qe("span")).innerText=a;var p=l.append(h,Qe("a.code-link"));p.setAttribute("href",u.target.toString()),t.add(l.addDisposableListener(p,"click",(function(e){n._openerService.open(u.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()}))),l.append(p,Qe("span")).innerText=u.value;var v=l.append(o,h);v.style.opacity="0.6",v.style.paddingLeft="6px"}else{var g=l.append(o,Qe("span"));g.style.opacity="0.6",g.style.paddingLeft="6px",g.innerText=a&&u?"".concat(a,"(").concat(u,")"):a||"(".concat(u,")")}if((0,d.Of)(c)){var m,b=Be(c);try{var _=function(){var e=m.value,r=e.message,i=e.resource,a=e.startLineNumber,s=e.startColumn,u=l.append(o,Qe("div"));u.style.marginTop="8px";var c=l.append(u,Qe("a"));c.innerText="".concat((0,Re.EZ)(i),"(").concat(a,", ").concat(s,"): "),c.style.cursor="pointer",t.add(l.addDisposableListener(c,"click",(function(e){e.stopPropagation(),e.preventDefault(),n._openerService&&n._openerService.open(i,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:a,startColumn:s}}}).catch(y.dL)})));var f=l.append(u,Qe("span"));f.innerText=r,n._editor.applyFontInfo(f)};for(b.s();!(m=b.n()).done;)_()}catch(e){b.e(e)}finally{b.f()}}return r}},{key:"renderMarkerStatusbar",value:function(e,t,n){var r=this;if(t.marker.severity!==Fe.ZL.Error&&t.marker.severity!==Fe.ZL.Warning&&t.marker.severity!==Fe.ZL.Info||e.statusBar.addAction({label:Ee.NC("view problem","View Problem"),commandId:Me.NextMarkerAction.ID,run:function(){var n;e.hide(),null===(n=Me.MarkerController.get(r._editor))||void 0===n||n.showAtMarker(t.marker),r._editor.focus()}}),!this._editor.getOption(83)){var i=e.statusBar.append(Qe("div"));this.recentMarkerCodeActionsInfo&&(Fe.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===Fe.H0.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(i.textContent=Ee.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);var a=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?o.JT.None:n.add((0,g.Vg)((function(){return i.textContent=Ee.NC("checkingForQuickFixes","Checking for quick fixes...")}),200));i.textContent||(i.textContent=String.fromCharCode(160));var s=this.getCodeActions(t.marker);n.add((0,o.OF)((function(){return s.cancel()}))),s.then((function(s){if(a.dispose(),r.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:s.validActions.length>0},!r.recentMarkerCodeActionsInfo.hasCodeActions)return s.dispose(),void(i.textContent=Ee.NC("noQuickFixes","No quick fixes available"));i.style.display="none";var u=!1;n.add((0,o.OF)((function(){u||s.dispose()}))),e.statusBar.addAction({label:Ee.NC("quick fixes","Quick Fix..."),commandId:Ae.E7.Id,run:function(t){u=!0;var n=Ae.pY.get(r._editor),o=l.getDomNodePagePosition(t);e.hide(),null==n||n.showCodeActions($e,s,{x:o.left+6,y:o.top+o.height+6,width:o.width,height:o.height})}})}),y.dL)}}},{key:"getCodeActions",value:function(e){var t=this;return(0,g.PG)((function(n){return(0,je.aI)(t._languageFeaturesService.codeActionProvider,t._editor.getModel(),new a.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),$e,We.Ex.None,n)}))}}]),e}();function Xe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&et(e,t)}function et(e,t){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},et(e,t)}function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rt(e);if(t){var o=rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nt(this,n)}}function nt(e,t){if(t&&("object"===st(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function rt(e){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rt(e)}function ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==st(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===st(i)?i:String(i)),r)}var o,i}function at(e,t,n){return t&&it(e.prototype,t),n&&it(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function st(e){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(e)}Je=qe([Ye(1,Te.i),Ye(2,ce.v4),Ye(3,He.p)],Je),(0,Ne.Ic)((function(e,t){var n=e.getColor(Pe.url);n&&t.addRule(".monaco-hover .hover-contents a.code-link span { color: ".concat(n,"; }"));var r=e.getColor(Pe.sgC);r&&t.addRule(".monaco-hover .hover-contents a.code-link span:hover { color: ".concat(r,"; }"))}));var ut=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":st(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ct=function(e,t){return function(n,r){t(n,r,e)}},lt=function(){function e(t,n,r,i,a){var s=this;ot(this,e),this._editor=t,this._instantiationService=n,this._openerService=r,this._languageService=i,this._toUnhook=new o.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration((function(e){e.hasChanged(55)&&(s._unhookEvents(),s._hookEvents())}))}return at(e,[{key:"_hookEvents",value:function(){var e=this,t=this._editor.getOption(55);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown((function(t){return e._onEditorMouseDown(t)}))),this._toUnhook.add(this._editor.onMouseUp((function(t){return e._onEditorMouseUp(t)}))),this._toUnhook.add(this._editor.onMouseMove((function(t){return e._onEditorMouseMove(t)}))),this._toUnhook.add(this._editor.onKeyDown((function(t){return e._onKeyDown(t)})))):(this._toUnhook.add(this._editor.onMouseMove((function(t){return e._onEditorMouseMove(t)}))),this._toUnhook.add(this._editor.onKeyDown((function(t){return e._onKeyDown(t)})))),this._toUnhook.add(this._editor.onMouseLeave((function(t){return e._onEditorMouseLeave(t)}))),this._toUnhook.add(this._editor.onDidChangeModel((function(){return e._hideWidgets()}))),this._toUnhook.add(this._editor.onDidScrollChange((function(t){return e._onEditorScrollChanged(t)})))}},{key:"_unhookEvents",value:function(){this._toUnhook.clear()}},{key:"_onEditorScrollChanged",value:function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}},{key:"_onEditorMouseDown",value:function(e){this._isMouseDown=!0;var t=e.target;9!==t.type||t.detail!==oe.ID?12===t.type&&t.detail===Le.ID||(12!==t.type&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}},{key:"_onEditorMouseUp",value:function(e){this._isMouseDown=!1}},{key:"_onEditorMouseLeave",value:function(e){var t,n=e.event.browserEvent.relatedTarget;(null===(t=this._contentWidget)||void 0===t?void 0:t.containsNode(n))||this._hideWidgets()}},{key:"_onEditorMouseMove",value:function(e){var t,n,r,o,i,a=e.target;if((!this._isMouseDown||!this._hoverClicked)&&(!this._isHoverSticky||9!==a.type||a.detail!==oe.ID)&&(!this._isHoverSticky||(null===(n=null===(t=e.event.browserEvent.view)||void 0===t?void 0:t.getSelection())||void 0===n?void 0:n.isCollapsed))&&(this._isHoverSticky||9!==a.type||a.detail!==oe.ID||!(null===(r=this._contentWidget)||void 0===r?void 0:r.isColorPickerVisible()))&&(!this._isHoverSticky||12!==a.type||a.detail!==Le.ID))if(this._isHoverEnabled){if(!this._getOrCreateContentWidget().maybeShowAt(e))return 2===a.type&&a.position?(null===(i=this._contentWidget)||void 0===i||i.hide(),this._glyphWidget||(this._glyphWidget=new Le(this._editor,this._languageService,this._openerService)),void this._glyphWidget.startShowingAt(a.position.lineNumber)):void this._hideWidgets();null===(o=this._glyphWidget)||void 0===o||o.hide()}else this._hideWidgets()}},{key:"_onKeyDown",value:function(e){5!==e.keyCode&&6!==e.keyCode&&57!==e.keyCode&&4!==e.keyCode&&this._hideWidgets()}},{key:"_hideWidgets",value:function(){var e,t,n;this._isMouseDown&&this._hoverClicked&&(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||(this._hoverClicked=!1,null===(t=this._glyphWidget)||void 0===t||t.hide(),null===(n=this._contentWidget)||void 0===n||n.hide())}},{key:"_getOrCreateContentWidget",value:function(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(ne,this._editor)),this._contentWidget}},{key:"isColorPickerVisible",value:function(){var e;return(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||!1}},{key:"showContentHover",value:function(e,t,n){this._getOrCreateContentWidget().startShowingAtRange(e,t,n)}},{key:"dispose",value:function(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(e=this._glyphWidget)||void 0===e||e.dispose(),null===(t=this._contentWidget)||void 0===t||t.dispose()}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();lt.ID="editor.contrib.hover",lt=ut([ct(1,D.TG),ct(2,ce.v4),ct(3,u.O),ct(4,A.i6)],lt);var ft=function(e){Xe(n,e);var t=tt(n);function n(){return ot(this,n),t.call(this,{id:"editor.action.showHover",label:Ee.NC({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,r.gx)(2089,2087),weight:100}})}return at(n,[{key:"run",value:function(e,t){if(t.hasModel()){var n=lt.get(t);if(n){var r=t.getPosition(),o=new a.e(r.lineNumber,r.column,r.lineNumber,r.column),i=2===t.getOption(2);n.showContentHover(o,1,i)}}}}]),n}(i.R6),dt=function(e){Xe(n,e);var t=tt(n);function n(){return ot(this,n),t.call(this,{id:"editor.action.showDefinitionPreviewHover",label:Ee.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}return at(n,[{key:"run",value:function(e,t){var n=lt.get(t);if(n){var r=t.getPosition();if(r){var o=new a.e(r.lineNumber,r.column,r.lineNumber,r.column),i=c.GotoDefinitionAtPositionEditorContribution.get(t);if(i)i.startFindDefinitionFromCursor(r).then((function(){n.showContentHover(o,1,!0)}))}}}}]),n}(i.R6);(0,i._K)(lt.ID,lt),(0,i.Qr)(ft),(0,i.Qr)(dt),j.Ae.register(Ie.D5),j.Ae.register(Je),(0,Ne.Ic)((function(e,t){var n=e.getColor(Pe.ptc);n&&t.addRule(".monaco-editor .hoverHighlight { background-color: ".concat(n,"; }"));var r=e.getColor(Pe.yJx);r&&t.addRule(".monaco-editor .monaco-hover { background-color: ".concat(r,"; }"));var o=e.getColor(Pe.CNo);o&&(t.addRule(".monaco-editor .monaco-hover { border: 1px solid ".concat(o,"; }")),t.addRule(".monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ".concat(o.transparent(.5),"; }")),t.addRule(".monaco-editor .monaco-hover hr { border-top: 1px solid ".concat(o.transparent(.5),"; }")),t.addRule(".monaco-editor .monaco-hover hr { border-bottom: 0px solid ".concat(o.transparent(.5),"; }")));var i=e.getColor(Pe.url);i&&t.addRule(".monaco-editor .monaco-hover a { color: ".concat(i,"; }"));var a=e.getColor(Pe.sgC);a&&t.addRule(".monaco-editor .monaco-hover a:hover { color: ".concat(a,"; }"));var s=e.getColor(Pe.Sbf);s&&t.addRule(".monaco-editor .monaco-hover { color: ".concat(s,"; }"));var u=e.getColor(Pe.LoV);u&&t.addRule(".monaco-editor .monaco-hover .hover-row .actions { background-color: ".concat(u,"; }"));var c=e.getColor(Pe.SwI);c&&t.addRule(".monaco-editor .monaco-hover code { background-color: ".concat(c,"; }"))}))},52115:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===r(a)?a:String(a)),o)}var i,a}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Ae:()=>c,Qj:()=>s,YM:()=>u});var s=function(){function e(t,n){o(this,e),this.priority=t,this.range=n,this.type=1}return a(e,[{key:"equals",value:function(e){return 1===e.type&&this.range.equalsRange(e.range)}},{key:"canAdoptVisibleHover",value:function(e,t){return 1===e.type&&t.lineNumber===this.range.startLineNumber}}]),e}(),u=function(){function e(t,n,r){o(this,e),this.priority=t,this.owner=n,this.range=r,this.type=2}return a(e,[{key:"equals",value:function(e){return 2===e.type&&this.owner===e.owner}},{key:"canAdoptVisibleHover",value:function(e,t){return 2===e.type&&this.owner===e.owner}}]),e}(),c=new(function(){function e(){o(this,e),this._participants=[]}return a(e,[{key:"register",value:function(e){this._participants.push(e)}},{key:"getAll",value:function(){return this._participants}}]),e}())},32274:(e,t,n)=>{n.d(t,{D5:()=>O,c:()=>E,hU:()=>L});var r=n(32007),o=n(86193),i=n(95295),a=n(93649),s=n(38709),u=n(44809),c=n(51638),l=n(48466),f=n(71919),d=n(17662),h=n(18063),p=n(4537),v=n(53920),g=n(31213);function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===S(i)?i:String(i)),r)}var o,i}function w(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}var k=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":S(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},C=function(e,t){return function(n,r){t(n,r,e)}},x=r.$,L=function(){function e(t,n,r,o){b(this,e),this.owner=t,this.range=n,this.contents=r,this.ordinal=o}return w(e,[{key:"isValidForHoverAnchor",value:function(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),e}(),O=function(){function e(t,n,r,o,i){b(this,e),this._editor=t,this._languageService=n,this._openerService=r,this._configurationService=o,this._languageFeaturesService=i,this.hoverOrdinal=2}return w(e,[{key:"createLoadingMessage",value:function(e){return new L(this,e.range,[(new a.W5).appendText(h.NC("modesContentHover.loading","Loading..."))],2e3)}},{key:"computeSync",value:function(e,t){if(!this._editor.hasModel()||1!==e.type)return[];var n=this._editor.getModel(),r=e.range.startLineNumber,i=n.getLineMaxColumn(r),s=[],u=1e3,c=n.getLineLength(r),f=n.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),d=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:f});"number"==typeof d&&c>=d&&s.push(new L(this,e.range,[{value:h.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],u++));var p,v=y(t);try{for(v.s();!(p=v.n()).done;){var g=p.value,m=g.range.startLineNumber===r?g.range.startColumn:1,b=g.range.endLineNumber===r?g.range.endColumn:i,_=g.options.hoverMessage;if(_&&!(0,a.CP)(_)){var w=new l.e(e.range.startLineNumber,m,e.range.startLineNumber,b);s.push(new L(this,w,(0,o._2)(_),u++))}}}catch(e){v.e(e)}finally{v.f()}return s}},{key:"computeAsync",value:function(e,t,n){var r=this;if(!this._editor.hasModel()||1!==e.type)return i.Aq.EMPTY;var o=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(o))return i.Aq.EMPTY;var s=new c.L(e.range.startLineNumber,e.range.startColumn);return(0,d.R8)(this._languageFeaturesService.hoverProvider,o,s,n).filter((function(e){return!(0,a.CP)(e.hover.contents)})).map((function(t){var n=t.hover.range?l.e.lift(t.hover.range):e.range;return new L(r,n,t.hover.contents,t.ordinal)}))}},{key:"renderHoverParts",value:function(e,t){return E(e,t,this._editor,this._languageService,this._openerService)}}]),e}();function E(e,t,n,o,i){t.sort((function(e,t){return e.ordinal-t.ordinal}));var c,l=new s.SL,f=y(t);try{for(f.s();!(c=f.n()).done;){var d,h=y(c.value.contents);try{var p=function(){var t=d.value;if((0,a.CP)(t))return"continue";var s=x("div.hover-row.markdown-hover"),c=r.append(s,x("div.hover-contents")),f=l.add(new u.$({editor:n},o,i));l.add(f.onDidRenderAsync((function(){c.className="hover-contents code-hover-contents",e.onContentsChanged()})));var h=l.add(f.render(t));c.appendChild(h.element),e.fragment.appendChild(s)};for(h.s();!(d=h.n()).done;)p()}catch(e){h.e(e)}finally{h.f()}}}catch(e){f.e(e)}finally{f.f()}return l}O=k([C(1,f.O),C(2,v.v4),C(3,p.Ui),C(4,g.p)],O)},1138:(e,t,n)=>{n.r(t);var r=n(95295),o=n(95835),i=n(59347),a=n(18679),s=n(48466),u=n(85963),c=n(25112),l=n(3817),f=n(71509),d=n(78957),h=n(18063),p=n(38656);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===v(i)?i:String(i)),r)}var o,i}var y=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._editRange=t,this._originalSelection=n,this._text=r}var t,n,r;return t=e,(n=[{key:"getEditOperations",value:function(e,t){t.addTrackedEditOperation(this._editRange,this._text)}},{key:"computeCursorState",value:function(e,t){var n=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new u.Y(n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new u.Y(n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)}}])&&g(t.prototype,n),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==L(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===L(i)?i:String(i)),r)}var o,i}function x(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}var O=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":L(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},E=function(e,t){return function(n,r){t(n,r,e)}},P=function(){function e(t,n){k(this,e),this.editor=t,this.editorWorkerService=n,this.decorations=this.editor.createDecorationsCollection()}return x(e,[{key:"dispose",value:function(){}},{key:"run",value:function(t,n){var a=this;this.currentRequest&&this.currentRequest.cancel();var c=this.editor.getSelection(),l=this.editor.getModel();if(l&&c){var f=c;if(f.startLineNumber===f.endLineNumber){var d=new i.yy(this.editor,5),h=l.uri;return this.editorWorkerService.canNavigateValueSet(h)?(this.currentRequest=(0,r.PG)((function(e){return a.editorWorkerService.navigateValueSet(h,f,n)})),this.currentRequest.then((function(n){if(n&&n.range&&n.value&&d.validate(a.editor)){var i=s.e.lift(n.range),c=n.range,l=n.value.length-(f.endColumn-f.startColumn);c={startLineNumber:c.startLineNumber,startColumn:c.startColumn,endLineNumber:c.endLineNumber,endColumn:c.startColumn+n.value.length},l>1&&(f=new u.Y(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn+l-1));var h=new y(i,f,n.value);a.editor.pushUndoStop(),a.editor.executeCommand(t,h),a.editor.pushUndoStop(),a.decorations.set([{range:c,options:e.DECORATION}]),a.decorationRemover&&a.decorationRemover.cancel(),a.decorationRemover=(0,r.Vs)(350),a.decorationRemover.then((function(){return a.decorations.clear()})).catch(o.dL)}})).catch(o.dL)):Promise.resolve(void 0)}}}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();P.ID="editor.contrib.inPlaceReplaceController",P.DECORATION=l.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),P=O([E(1,f.p)],P);var N=function(e){m(n,e);var t=_(n);function n(){return k(this,n),t.call(this,{id:"editor.action.inPlaceReplace.up",label:h.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:3154,weight:100}})}return x(n,[{key:"run",value:function(e,t){var n=P.get(t);return n?n.run(this.id,!0):Promise.resolve(void 0)}}]),n}(a.R6),I=function(e){m(n,e);var t=_(n);function n(){return k(this,n),t.call(this,{id:"editor.action.inPlaceReplace.down",label:h.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:3156,weight:100}})}return x(n,[{key:"run",value:function(e,t){var n=P.get(t);return n?n.run(this.id,!1):Promise.resolve(void 0)}}]),n}(a.R6);(0,a._K)(P.ID,P),(0,a.Qr)(N),(0,a.Qr)(I),(0,p.Ic)((function(e,t){var n=e.getColor(d.Dl);n&&t.addRule(".monaco-editor.vs .valueSetReplacement { outline: solid 2px ".concat(n,"; }"))}))},64073:(e,t,n)=>{function r(e,t){for(var n=0,r=0;r<e.length;r++)"\t"===e.charAt(r)?n+=t:n++;return n}function o(e,t,n){e=e<0?0:e;var r="";if(!n){var o=Math.floor(e/t);e%=t;for(var i=0;i<o;i++)r+="\t"}for(var a=0;a<e;a++)r+=" ";return r}n.d(t,{J:()=>o,Y:()=>r})},61395:(e,t,n)=>{n.r(t),n.d(t,{AutoIndentOnPaste:()=>V,AutoIndentOnPasteCommand:()=>G,ChangeIndentationSizeAction:()=>D,DetectIndentation:()=>W,IndentUsingSpaces:()=>F,IndentUsingTabs:()=>M,IndentationToSpacesAction:()=>j,IndentationToSpacesCommand:()=>z,IndentationToTabsAction:()=>A,IndentationToTabsCommand:()=>K,ReindentLinesAction:()=>H,ReindentSelectedLinesAction:()=>B,getReindentEditOperations:()=>T});var r=n(38709),o=n(46969),i=n(18679),a=n(53107),s=n(23942),u=n(48466),c=n(85963),l=n(25112),f=n(77846),d=n(76758),h=n(64073),p=n(18063),v=n(39425),g=n(55),y=n(49690);function m(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==N(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===N(i)?i:String(i)),r)}var o,i}function C(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}var I=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":N(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},R=function(e,t){return function(n,r){t(n,r,e)}};function T(e,t,n,r,i){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];var u=t.getLanguageConfiguration(e.getLanguageId()).indentationRules;if(!u)return[];for(r=Math.min(r,e.getLineCount());n<=r&&u.unIndentedLinePattern;){var l=e.getLineContent(n);if(!u.unIndentedLinePattern.test(l))break;n++}if(n>r-1)return[];var f,d=e.getOptions(),h=d.tabSize,p=d.indentSize,v=d.insertSpaces,y=function(e,t){return t=t||1,a.U.shiftIndent(e,e.length+t,h,p,v)},m=function(e,t){return t=t||1,a.U.unshiftIndent(e,e.length+t,h,p,v)},b=[],_=e.getLineContent(n),w=_;if(null!=i){f=i;var S=o.V8(_);w=f+_.substring(S.length),u.decreaseIndentPattern&&u.decreaseIndentPattern.test(w)&&(w=(f=m(f))+_.substring(S.length)),_!==w&&b.push(s.h.replaceMove(new c.Y(n,1,n,S.length+1),(0,g.x)(f,p,v)))}else f=o.V8(_);var k=f;u.increaseIndentPattern&&u.increaseIndentPattern.test(w)?(k=y(k),f=y(f)):u.indentNextLinePattern&&u.indentNextLinePattern.test(w)&&(k=y(k));for(var C=++n;C<=r;C++){var x=e.getLineContent(C),L=o.V8(x),O=k+x.substring(L.length);u.decreaseIndentPattern&&u.decreaseIndentPattern.test(O)&&(k=m(k),f=m(f)),L!==k&&b.push(s.h.replaceMove(new c.Y(C,1,C,L.length+1),(0,g.x)(k,p,v))),u.unIndentedLinePattern&&u.unIndentedLinePattern.test(x)||(k=u.increaseIndentPattern&&u.increaseIndentPattern.test(O)?f=y(f):u.indentNextLinePattern&&u.indentNextLinePattern.test(O)?y(k):f)}return b}var j=function(e){x(n,e);var t=O(n);function n(){return S(this,n),t.call(this,{id:n.ID,label:p.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:l.u.writable})}return C(n,[{key:"run",value:function(e,t){var n=t.getModel();if(n){var r=n.getOptions(),o=t.getSelection();if(o){var i=new z(o,r.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[i]),t.pushUndoStop(),n.updateOptions({insertSpaces:!0})}}}}]),n}(i.R6);j.ID="editor.action.indentationToSpaces";var A=function(e){x(n,e);var t=O(n);function n(){return S(this,n),t.call(this,{id:n.ID,label:p.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:l.u.writable})}return C(n,[{key:"run",value:function(e,t){var n=t.getModel();if(n){var r=n.getOptions(),o=t.getSelection();if(o){var i=new K(o,r.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[i]),t.pushUndoStop(),n.updateOptions({insertSpaces:!1})}}}}]),n}(i.R6);A.ID="editor.action.indentationToTabs";var D=function(e){x(n,e);var t=O(n);function n(e,r){var o;return S(this,n),(o=t.call(this,r)).insertSpaces=e,o}return C(n,[{key:"run",value:function(e,t){var n=this,r=e.get(v.eJ),o=e.get(d.q),i=t.getModel();if(i){var a=o.getCreationOptions(i.getLanguageId(),i.uri,i.isForSimpleWidget),s=[1,2,3,4,5,6,7,8].map((function(e){return{id:e.toString(),label:e.toString(),description:e===a.tabSize?p.NC("configuredTabSize","Configured Tab Size"):void 0}})),u=Math.min(i.getOptions().tabSize-1,7);setTimeout((function(){r.pick(s,{placeHolder:p.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:s[u]}).then((function(e){e&&i&&!i.isDisposed()&&i.updateOptions({tabSize:parseInt(e.label,10),insertSpaces:n.insertSpaces})}))}),50)}}}]),n}(i.R6),M=function(e){x(n,e);var t=O(n);function n(){return S(this,n),t.call(this,!1,{id:n.ID,label:p.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}return C(n)}(D);M.ID="editor.action.indentUsingTabs";var F=function(e){x(n,e);var t=O(n);function n(){return S(this,n),t.call(this,!0,{id:n.ID,label:p.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}return C(n)}(D);F.ID="editor.action.indentUsingSpaces";var W=function(e){x(n,e);var t=O(n);function n(){return S(this,n),t.call(this,{id:n.ID,label:p.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}return C(n,[{key:"run",value:function(e,t){var n=e.get(d.q),r=t.getModel();if(r){var o=n.getCreationOptions(r.getLanguageId(),r.uri,r.isForSimpleWidget);r.detectIndentation(o.insertSpaces,o.tabSize)}}}]),n}(i.R6);W.ID="editor.action.detectIndentation";var H=function(e){x(n,e);var t=O(n);function n(){return S(this,n),t.call(this,{id:"editor.action.reindentlines",label:p.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:l.u.writable})}return C(n,[{key:"run",value:function(e,t){var n=e.get(f.c_),r=t.getModel();if(r){var o=T(r,n,1,r.getLineCount());o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}}]),n}(i.R6),B=function(e){x(n,e);var t=O(n);function n(){return S(this,n),t.call(this,{id:"editor.action.reindentselectedlines",label:p.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:l.u.writable})}return C(n,[{key:"run",value:function(e,t){var n=e.get(f.c_),r=t.getModel();if(r){var o=t.getSelections();if(null!==o){var i,a=[],s=b(o);try{for(s.s();!(i=s.n()).done;){var u=i.value,c=u.startLineNumber,l=u.endLineNumber;if(c!==l&&1===u.endColumn&&l--,1===c){if(c===l)continue}else c--;var d=T(r,n,c,l);a.push.apply(a,m(d))}}catch(e){s.e(e)}finally{s.f()}a.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,a),t.pushUndoStop())}}}}]),n}(i.R6),G=function(){function e(t,n){S(this,e),this._initialSelection=n,this._edits=[],this._selectionId=null;var r,o=b(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.range&&"string"==typeof i.text&&this._edits.push(i)}}catch(e){o.e(e)}finally{o.f()}}return C(e,[{key:"getEditOperations",value:function(e,t){var n,r=b(this._edits);try{for(r.s();!(n=r.n()).done;){var o=n.value;t.addEditOperation(u.e.lift(o.range),o.text)}}catch(e){r.e(e)}finally{r.f()}var i=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this._selectionId)}}]),e}(),V=function(){function e(t,n){var o=this;S(this,e),this.editor=t,this._languageConfigurationService=n,this.callOnDispose=new r.SL,this.callOnModel=new r.SL,this.callOnDispose.add(t.onDidChangeConfiguration((function(){return o.update()}))),this.callOnDispose.add(t.onDidChangeModel((function(){return o.update()}))),this.callOnDispose.add(t.onDidChangeModelLanguage((function(){return o.update()})))}return C(e,[{key:"update",value:function(){var e=this;this.callOnModel.clear(),this.editor.getOption(9)<4||this.editor.getOption(50)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste((function(t){var n=t.range;e.trigger(n)})))}},{key:"trigger",value:function(e){var t=this.editor.getSelections();if(!(null===t||t.length>1)){var n=this.editor.getModel();if(n&&n.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber)){for(var r=this.editor.getOption(9),i=n.getOptions(),s=i.tabSize,c=i.indentSize,l=i.insertSpaces,f=[],d={shiftIndent:function(e){return a.U.shiftIndent(e,e.length+1,s,c,l)},unshiftIndent:function(e){return a.U.unshiftIndent(e,e.length+1,s,c,l)}},p=e.startLineNumber;p<=e.endLineNumber&&this.shouldIgnoreLine(n,p);)p++;if(!(p>e.endLineNumber)){var v=n.getLineContent(p);if(!/\S/.test(v.substring(0,e.startColumn-1))){var g=(0,y.n8)(r,n,n.getLanguageId(),p,d,this._languageConfigurationService);if(null!==g){var m=o.V8(v),b=h.Y(g,s);if(b!==h.Y(m,s)){var _=h.J(b,s,l);f.push({range:new u.e(p,1,p,m.length+1),text:_}),v=_+v.substr(m.length)}else{var w=(0,y.tI)(n,p,this._languageConfigurationService);if(0===w||8===w)return}}}for(var S=p;p<e.endLineNumber&&!/\S/.test(n.getLineContent(p+1));)p++;if(p!==e.endLineNumber){var k={tokenization:{getLineTokens:function(e){return n.tokenization.getLineTokens(e)},getLanguageId:function(){return n.getLanguageId()},getLanguageIdAtPosition:function(e,t){return n.getLanguageIdAtPosition(e,t)}},getLineContent:function(e){return e===S?v:n.getLineContent(e)}},C=(0,y.n8)(r,k,n.getLanguageId(),p+1,d,this._languageConfigurationService);if(null!==C){var x=h.Y(C,s),L=h.Y(o.V8(n.getLineContent(p+1)),s);if(x!==L)for(var O=x-L,E=p+1;E<=e.endLineNumber;E++){var P=n.getLineContent(E),N=o.V8(P),I=h.Y(N,s)+O,R=h.J(I,s,l);R!==N&&f.push({range:new u.e(E,1,E,N.length+1),text:R})}}}if(f.length>0){this.editor.pushUndoStop();var T=new G(f,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",T),this.editor.pushUndoStop()}}}}}},{key:"shouldIgnoreLine",value:function(e,t){e.tokenization.forceTokenization(t);var n=e.getLineFirstNonWhitespaceColumn(t);if(0===n)return!0;var r=e.tokenization.getLineTokens(t);if(r.getCount()>0){var o=r.findTokenIndexAtOffset(n);if(o>=0&&1===r.getStandardTokenType(o))return!0}return!1}},{key:"dispose",value:function(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}]),e}();function U(e,t,n,r){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){for(var o="",i=0;i<n;i++)o+=" ";for(var a=new RegExp(o,"gi"),s=1,c=e.getLineCount();s<=c;s++){var l=e.getLineFirstNonWhitespaceColumn(s);if(0===l&&(l=e.getLineMaxColumn(s)),1!==l){var f=new u.e(s,1,s,l),d=e.getValueInRange(f),h=r?d.replace(/\t/gi,o):d.replace(a,"\t");t.addEditOperation(f,h)}}}}V.ID="editor.contrib.autoIndentOnPaste",V=I([R(1,f.c_)],V);var z=function(){function e(t,n){S(this,e),this.selection=t,this.tabSize=n,this.selectionId=null}return C(e,[{key:"getEditOperations",value:function(e,t){this.selectionId=t.trackSelection(this.selection),U(e,t,this.tabSize,!0)}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this.selectionId)}}]),e}(),K=function(){function e(t,n){S(this,e),this.selection=t,this.tabSize=n,this.selectionId=null}return C(e,[{key:"getEditOperations",value:function(e,t){this.selectionId=t.trackSelection(this.selection),U(e,t,this.tabSize,!1)}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this.selectionId)}}]),e}();(0,i._K)(V.ID,V),(0,i.Qr)(j),(0,i.Qr)(A),(0,i.Qr)(M),(0,i.Qr)(F),(0,i.Qr)(W),(0,i.Qr)(H),(0,i.Qr)(B)},61610:(e,t,n)=>{n.r(t);var r=n(18679),o=n(52115),i=n(32007),a=n(86193),s=n(95295),u=n(2307),c=n(95835),l=n(38709),f=n(85006),d=n(8401),h=n(83916),p=n(20378),v=n(97277),g=n(23942),y=n(48466),m=n(87116),b=n(65498),_=n(3817),w=n(75758),S=n(31213),k=n(5491),C=n(91741),x=n(51638),L=n(69005);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=N(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function N(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(){R=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==O(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return E()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===O(i)?i:String(i)),r)}var o,i}function j(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var D=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},M=j((function e(t,n){A(this,e),this.range=t,this.direction=n})),F=function(){function e(t,n,r){A(this,e),this.hint=t,this.anchor=n,this.provider=r,this._isResolved=!1}return j(e,[{key:"with",value:function(t){var n=new e(this.hint,t.anchor,this.provider);return n._isResolved=this._isResolved,n._currentResolve=this._currentResolve,n}},{key:"resolve",value:function(e){return D(this,void 0,void 0,R().mark((function t(){var n=this;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"==typeof this.provider.resolveInlayHint){t.next=2;break}return t.abrupt("return");case 2:if(!this._currentResolve){t.next=8;break}return t.next=5,this._currentResolve;case 5:if(!e.isCancellationRequested){t.next=7;break}return t.abrupt("return");case 7:return t.abrupt("return",this.resolve(e));case 8:return this._isResolved||(this._currentResolve=this._doResolve(e).finally((function(){return n._currentResolve=void 0}))),t.next=11,this._currentResolve;case 11:case"end":return t.stop()}}),t,this)})))}},{key:"_doResolve",value:function(e){var t,n;return D(this,void 0,void 0,R().mark((function r(){var o;return R().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Promise.resolve(this.provider.resolveInlayHint(this.hint,e));case 3:o=r.sent,this.hint.tooltip=null!==(t=null==o?void 0:o.tooltip)&&void 0!==t?t:this.hint.tooltip,this.hint.label=null!==(n=null==o?void 0:o.label)&&void 0!==n?n:this.hint.label,this._isResolved=!0,r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),(0,c.Cp)(r.t0),this._isResolved=!1;case 13:case"end":return r.stop()}}),r,this,[[0,9]])})))}}]),e}(),W=function(){function e(t,n,r){A(this,e),this._disposables=new l.SL,this.ranges=t,this.provider=new Set;var o,i=[],a=P(n);try{for(a.s();!(o=a.n()).done;){var s=E(o.value,2),u=s[0],c=s[1];this._disposables.add(u),this.provider.add(c);var f,d=P(u.hints);try{for(d.s();!(f=d.n()).done;){var h=f.value,p=r.validatePosition(h.position),v="before",g=e._getRangeAtPosition(r,p),m=void 0;g.getStartPosition().isBefore(p)?(m=y.e.fromPositions(g.getStartPosition(),p),v="after"):(m=y.e.fromPositions(p,g.getEndPosition()),v="before"),i.push(new F(h,new M(m,v),c))}}catch(e){d.e(e)}finally{d.f()}}}catch(e){a.e(e)}finally{a.f()}this.items=i.sort((function(e,t){return x.L.compare(e.hint.position,t.hint.position)}))}return j(e,[{key:"dispose",value:function(){this._disposables.dispose()}}],[{key:"create",value:function(t,n,r,o){return D(this,void 0,void 0,R().mark((function i(){var a,s,u=this;return R().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=[],s=t.ordered(n).reverse().map((function(e){return r.map((function(t){return D(u,void 0,void 0,R().mark((function r(){var i;return R().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.provideInlayHints(n,t,o);case 3:(null==(i=r.sent)?void 0:i.hints.length)&&a.push([i,e]),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),(0,c.Cp)(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))}))})),i.next=4,Promise.all(s.flat());case 4:if(!o.isCancellationRequested&&!n.isDisposed()){i.next=6;break}throw new c.FU;case 6:return i.abrupt("return",new e(r,a,n));case 7:case"end":return i.stop()}}),i)})))}},{key:"_getRangeAtPosition",value:function(e,t){var n=t.lineNumber,r=e.getWordAtPosition(t);if(r)return new y.e(n,r.startColumn,n,r.endColumn);e.tokenization.tokenizeIfCheap(n);var o=e.tokenization.getLineTokens(n),i=t.column-1,a=o.findTokenIndexAtOffset(i),s=o.getStartOffset(a),u=o.getEndOffset(a);return u-s==1&&(s===i&&a>1?(s=o.getStartOffset(a-1),u=o.getEndOffset(a-1)):u===i&&a<o.getCount()-1&&(s=o.getStartOffset(a+1),u=o.getEndOffset(a+1))),new y.e(n,s+1,n,u+1)}}]),e}();var H=n(89704),B=n(65620),G=n(68243),V=n(13171),U=n(69349),z=n(73589),K=n(93513),q=n(63304),Y=n(32931);function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function Z(){Z=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==Q(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function $(e){return function(e){if(Array.isArray(e))return ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||X(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=X(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function X(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var te=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};function ne(e,t,n,o){var a;return te(this,void 0,void 0,Z().mark((function s(){var c,l,f,d,h,p,v,g,m,b,_,w,S,C=this;return Z().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c=e.get(k.S),l=e.get(K.i),f=e.get(U.Hy),d=e.get(q.TG),h=e.get(Y.lT),s.next=7,o.item.resolve(u.T.None);case 7:if(o.part.location){s.next=9;break}return s.abrupt("return");case 9:p=o.part.location,v=[],g=new Set(V.BH.getMenuItems(V.eH.EditorContext).map((function(e){return(0,V.vr)(e)?e.command.id:""}))),m=J(r.Uc.getEditorActions()),s.prev=13,_=Z().mark((function e(){var n;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=b.value)instanceof B.SymbolNavigationAction&&g.has(n.id)&&v.push(new H.aU(n.id,n.label,void 0,!0,(function(){return te(C,void 0,void 0,Z().mark((function e(){var r;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.createModelReference(p.uri);case 2:return r=e.sent,e.prev=3,e.next=6,d.invokeFunction(n.run.bind(n),t,new B.SymbolNavigationAnchor(r.object.textEditorModel,y.e.getStartPosition(p.range)));case 6:return e.prev=6,r.dispose(),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[3,,6,9]])})))})));case 2:case"end":return e.stop()}}),e)})),m.s();case 16:if((b=m.n()).done){s.next=20;break}return s.delegateYield(_(),"t0",18);case 18:s.next=16;break;case 20:s.next=25;break;case 22:s.prev=22,s.t1=s.catch(13),m.e(s.t1);case 25:return s.prev=25,m.f(),s.finish(25);case 28:o.part.command&&(w=o.part.command,v.push(new H.Z0),v.push(new H.aU(w.id,w.title,void 0,!0,(function(){return te(C,void 0,void 0,Z().mark((function e(){var t;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.executeCommand.apply(f,[w.id].concat($(null!==(t=w.arguments)&&void 0!==t?t:[])));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),h.notify({severity:Y.zb.Error,source:o.item.provider.displayName,message:e.t0});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))})))),S=t.getOption(117),l.showContextMenu({domForShadowRoot:S&&null!==(a=t.getDomNode())&&void 0!==a?a:void 0,getAnchor:function(){var e=i.getDomNodePagePosition(n);return{x:e.left,y:e.top+e.height+8}},getActions:function(){return v},onHide:function(){t.focus()},autoSelectFirstItem:!0});case 31:case"end":return s.stop()}}),s,null,[[13,22,25,28]])})))}function re(e,t,n,r){return te(this,void 0,void 0,Z().mark((function o(){var i,a,s=this;return Z().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return i=e.get(k.S),o.next=3,i.createModelReference(r.uri);case 3:return a=o.sent,o.next=6,n.invokeWithinContext((function(e){return te(s,void 0,void 0,Z().mark((function o(){var i,s,u,c,l;return Z().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return i=t.hasSideBySideModifier,s=e.get(z.i6),u=G.Jy.inPeekEditor.getValue(s),c=!i&&n.getOption(80)&&!u,l=new B.DefinitionAction({openToSide:i,openInPeek:c,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}),o.abrupt("return",l.run(e,n,{model:a.object.textEditorModel,position:y.e.getStartPosition(r.range)}));case 6:case"end":return o.stop()}}),o)})))}));case 6:a.dispose();case 7:case"end":return o.stop()}}),o)})))}var oe=n(47123),ie=n(41367),ae=n(38656);function se(e){return function(e){if(Array.isArray(e))return de(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||fe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(){ce=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==ye(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function le(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=fe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function fe(e,t){if(e){if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?de(e,t):void 0}}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ge(r.key),r)}}function ve(e,t,n){return t&&pe(e.prototype,t),n&&pe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ge(e){var t=function(e,t){if("object"!==ye(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ye(t)?t:String(t)}function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}var me=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ye(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},be=function(e,t){return function(n,r){t(n,r,e)}},_e=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},we=function(){function e(){he(this,e),this._entries=new f.z6(50)}return ve(e,[{key:"get",value:function(t){var n=e._key(t);return this._entries.get(n)}},{key:"set",value:function(t,n){var r=e._key(t);this._entries.set(r,n)}}],[{key:"_key",value:function(e){return"".concat(e.uri.toString(),"/").concat(e.getVersionId())}}]),e}(),Se=(0,q.yh)("IInlayHintsCache");(0,oe.z)(Se,we,!0);var ke=function(){function e(t,n){he(this,e),this.item=t,this.index=n}return ve(e,[{key:"part",get:function(){var e=this.item.hint.label;return"string"==typeof e?{label:e}:e[this.index]}}]),e}(),Ce=ve((function e(t,n){he(this,e),this.part=t,this.hasTriggerModifier=n})),xe=function(){function e(t,n,r,o,i,a,s){var u=this;he(this,e),this._editor=t,this._languageFeaturesService=n,this._inlayHintsCache=o,this._commandService=i,this._notificationService=a,this._instaService=s,this._disposables=new l.SL,this._sessionDisposables=new l.SL,this._decorationsMetadata=new Map,this._ruleFactory=new p.t7(this._editor),this._activeRenderMode=0,this._debounceInfo=r.for(n.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(n.inlayHintsProvider.onDidChange((function(){return u._update()}))),this._disposables.add(t.onDidChangeModel((function(){return u._update()}))),this._disposables.add(t.onDidChangeModelLanguage((function(){return u._update()}))),this._disposables.add(t.onDidChangeConfiguration((function(e){e.hasChanged(129)&&u._update()}))),this._update()}return ve(e,[{key:"dispose",value:function(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}},{key:"_update",value:function(){var e=this;this._sessionDisposables.clear(),this._removeAllDecorations();var t=this._editor.getOption(129);if("off"!==t.enabled){var n=this._editor.getModel();if(n&&this._languageFeaturesService.inlayHintsProvider.has(n)){var r,o=this._inlayHintsCache.get(n);o&&this._updateHintsDecorators([n.getFullModelRange()],o),this._sessionDisposables.add((0,l.OF)((function(){n.isDisposed()||e._cacheHintsForFastRestore(n)})));var a,f,d=new Set,h=new s.pY((function(){return _e(e,void 0,void 0,ce().mark((function e(){var t,o,i,a,s,l,f;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Date.now(),null==r||r.dispose(!0),r=new u.A,o=n.onWillDispose((function(){return null==r?void 0:r.cancel()})),e.prev=4,i=r.token,e.next=8,W.create(this._languageFeaturesService.inlayHintsProvider,n,this._getHintsRanges(),i);case 8:if(a=e.sent,h.delay=this._debounceInfo.update(n,Date.now()-t),!i.isCancellationRequested){e.next=13;break}return a.dispose(),e.abrupt("return");case 13:s=le(a.provider);try{for(s.s();!(l=s.n()).done;)"function"!=typeof(f=l.value).onDidChangeInlayHints||d.has(f)||(d.add(f),this._sessionDisposables.add(f.onDidChangeInlayHints((function(){h.isScheduled()||h.schedule()}))))}catch(e){s.e(e)}finally{s.f()}this._sessionDisposables.add(a),this._updateHintsDecorators(a.ranges,a.items),this._cacheHintsForFastRestore(n),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),(0,c.dL)(e.t0);case 23:return e.prev=23,r.dispose(),o.dispose(),e.finish(23);case 27:case"end":return e.stop()}}),e,this,[[4,20,23,27]])})))}),this._debounceInfo.get(n));if(this._sessionDisposables.add(h),this._sessionDisposables.add((0,l.OF)((function(){return null==r?void 0:r.dispose(!0)}))),h.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange((function(e){!e.scrollTopChanged&&h.isScheduled()||h.schedule()}))),this._sessionDisposables.add(this._editor.onDidChangeModelContent((function(e){var t=Math.max(h.delay,1250);h.schedule(t)}))),"on"===t.enabled)this._activeRenderMode=0;else"onUnlessPressed"===t.enabled?(a=0,f=1):(a=1,f=0),this._activeRenderMode=a,this._sessionDisposables.add(i.ModifierKeyEmitter.getInstance().event((function(t){if(e._editor.hasModel()){var n=t.altKey&&t.ctrlKey?f:a;if(n!==e._activeRenderMode){e._activeRenderMode=n;var r=e._editor.getModel(),o=e._copyInlayHintsWithCurrentAnchor(r);e._updateHintsDecorators([r.getFullModelRange()],o),h.schedule(0)}}})));this._sessionDisposables.add(this._installDblClickGesture((function(){return h.schedule(0)}))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}}}},{key:"_installLinkGesture",value:function(){var e=this,t=new l.SL,n=t.add(new C.yN(this._editor)),r=new l.SL;return t.add(r),t.add(n.onMouseMoveOrRelevantKeyDown((function(t){var n=ue(t,1)[0],o=e._getInlayHintLabelPart(n),i=e._editor.getModel();if(o&&i){var a=new u.A;r.add((0,l.OF)((function(){return a.dispose(!0)}))),o.item.resolve(a.token),e._activeInlayHintPart=o.part.command||o.part.location?new Ce(o,n.hasTriggerModifier):void 0;var s=o.item.hint.position.lineNumber,c=new y.e(s,1,s,i.getLineMaxColumn(s)),f=e._getInlineHintsForRange(c);e._updateHintsDecorators([c],f),r.add((0,l.OF)((function(){e._activeInlayHintPart=void 0,e._updateHintsDecorators([c],f)})))}else r.clear()}))),t.add(n.onCancel((function(){return r.clear()}))),t.add(n.onExecute((function(t){return _e(e,void 0,void 0,ce().mark((function e(){var n,r;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._getInlayHintLabelPart(t))){e.next=10;break}if(!(r=n.part).location){e.next=7;break}this._instaService.invokeFunction(re,t,this._editor,r.location),e.next=10;break;case 7:if(!m.mY.is(r.command)){e.next=10;break}return e.next=10,this._invokeCommand(r.command,n.item);case 10:case"end":return e.stop()}}),e,this)})))}))),t}},{key:"_getInlineHintsForRange",value:function(e){var t,n=new Set,r=le(this._decorationsMetadata.values());try{for(r.s();!(t=r.n()).done;){var o=t.value;e.containsRange(o.item.anchor.range)&&n.add(o.item)}}catch(e){r.e(e)}finally{r.f()}return Array.from(n)}},{key:"_installDblClickGesture",value:function(e){var t=this;return this._editor.onMouseUp((function(n){return _e(t,void 0,void 0,ce().mark((function t(){var r,o;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(2===n.event.detail){t.next=2;break}return t.abrupt("return");case 2:if(r=this._getInlayHintLabelPart(n)){t.next=5;break}return t.abrupt("return");case 5:return n.event.preventDefault(),t.next=8,r.item.resolve(u.T.None);case 8:(0,a.Of)(r.item.hint.textEdits)&&(o=r.item.hint.textEdits.map((function(e){return g.h.replace(y.e.lift(e.range),e.text)})),this._editor.executeEdits("inlayHint.default",o),e());case 9:case"end":return t.stop()}}),t,this)})))}))}},{key:"_installContextMenu",value:function(){var e=this;return this._editor.onContextMenu((function(t){return _e(e,void 0,void 0,ce().mark((function e(){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.event.target instanceof HTMLElement){e.next=2;break}return e.abrupt("return");case 2:if(!(n=this._getInlayHintLabelPart(t))){e.next=6;break}return e.next=6,this._instaService.invokeFunction(ne,this._editor,t.event.target,n);case 6:case"end":return e.stop()}}),e,this)})))}))}},{key:"_getInlayHintLabelPart",value:function(e){var t;if(6===e.target.type){var n=null===(t=e.target.detail.injectedText)||void 0===t?void 0:t.options;return n instanceof _.HS&&(null==n?void 0:n.attachedData)instanceof ke?n.attachedData:void 0}}},{key:"_invokeCommand",value:function(e,t){var n;return _e(this,void 0,void 0,ce().mark((function r(){var o;return ce().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(o=this._commandService).executeCommand.apply(o,[e.id].concat(se(null!==(n=e.arguments)&&void 0!==n?n:[])));case 3:r.next=8;break;case 5:r.prev=5,r.t0=r.catch(0),this._notificationService.notify({severity:Y.zb.Error,source:t.provider.displayName,message:r.t0});case 8:case"end":return r.stop()}}),r,this,[[0,5]])})))}},{key:"_cacheHintsForFastRestore",value:function(e){var t=this._copyInlayHintsWithCurrentAnchor(e);this._inlayHintsCache.set(e,t)}},{key:"_copyInlayHintsWithCurrentAnchor",value:function(e){var t,n=new Map,r=le(this._decorationsMetadata);try{for(r.s();!(t=r.n()).done;){var o=ue(t.value,2),i=o[0],a=o[1];if(!n.has(a.item)){var s=e.getDecorationRange(i);if(s){var u=new M(s,a.item.anchor.direction),c=a.item.with({anchor:u});n.set(a.item,c)}}}}catch(e){r.e(e)}finally{r.f()}return Array.from(n.values())}},{key:"_getHintsRanges",value:function(){var e,t=this._editor.getModel(),n=[],r=le(this._editor.getVisibleRangesPlusViewportAboveBelow().sort(y.e.compareRangesUsingStarts));try{for(r.s();!(e=r.n()).done;){var o=e.value,i=t.validateRange(new y.e(o.startLineNumber-30,o.startColumn,o.endLineNumber+30,o.endColumn));0!==n.length&&y.e.areIntersectingOrTouching(n[n.length-1],i)?n[n.length-1]=y.e.plusRange(n[n.length-1],i):n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"_updateHintsDecorators",value:function(t,n){var r,o,i=this,s=[],u=function(e,t,n,r,o){var a,u,c,l={content:n,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:t.className,cursorStops:r,attachedData:o};s.push({item:e,classNameRef:t,decoration:{range:e.anchor.range,options:(a={description:"InlayHint",showIfCollapsed:e.anchor.range.isEmpty(),collapseOnReplaceEdit:!e.anchor.range.isEmpty(),stickiness:0},u=e.anchor.direction,c=0===i._activeRenderMode?l:void 0,(u=ge(u))in a?Object.defineProperty(a,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[u]=c,a)}})},c=function(e,t){var n=i._ruleFactory.createClassNameRef({width:"".concat(f/3|0,"px"),display:"inline-block"});u(e,n," ",t?b.RM.Right:b.RM.None)},l=this._getLayoutInfo(),f=l.fontSize,d=l.fontFamily,h=l.padding,p=l.isUniform,g="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(g,d);var y,m,_=le(n);try{for(_.s();!(y=_.n()).done;){var w=y.value;w.hint.paddingLeft&&c(w,!1);for(var S="string"==typeof w.hint.label?[{label:w.hint.label}]:w.hint.label,k=0;k<S.length;k++){var C=S[k],x=0===k,L=k===S.length-1,O={fontSize:"".concat(f,"px"),fontFamily:"var(".concat(g,"), ").concat(v.hL.fontFamily),verticalAlign:p?"baseline":"middle"};(0,a.Of)(w.hint.textEdits)&&(O.cursor="default"),this._fillInColors(O,w.hint),(C.command||C.location)&&(null===(r=this._activeInlayHintPart)||void 0===r?void 0:r.part.item)===w&&this._activeInlayHintPart.part.index===k&&(O.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(O.color=(0,ae.EN)(ie._Yy),O.cursor="pointer")),h&&(x&&L?(O.padding="1px ".concat(0|Math.max(1,f/4),"px"),O.borderRadius="".concat(f/4|0,"px")):x?(O.padding="1px 0 1px ".concat(0|Math.max(1,f/4),"px"),O.borderRadius="".concat(f/4|0,"px 0 0 ").concat(f/4|0,"px")):L?(O.padding="1px ".concat(0|Math.max(1,f/4),"px 1px 0"),O.borderRadius="0 ".concat(f/4|0,"px ").concat(f/4|0,"px 0")):O.padding="1px 0 1px 0"),u(w,this._ruleFactory.createClassNameRef(O),(m=C.label,void 0," ",m.replace(/[ \t]/g," ")),L&&!w.hint.paddingRight?b.RM.Right:b.RM.None,new ke(w,k))}if(w.hint.paddingRight&&c(w,!0),s.length>e._MAX_DECORATORS)break}}catch(e){_.e(e)}finally{_.f()}var E,P=[],N=le(t);try{for(N.s();!(E=N.n()).done;){var I,R=E.value,T=le(null!==(o=this._editor.getDecorationsInRange(R))&&void 0!==o?o:[]);try{for(T.s();!(I=T.n()).done;){var j=I.value.id,A=this._decorationsMetadata.get(j);A&&(P.push(j),A.classNameRef.dispose(),this._decorationsMetadata.delete(j))}}catch(e){T.e(e)}finally{T.f()}}}catch(e){N.e(e)}finally{N.f()}this._editor.changeDecorations((function(e){for(var t=e.deltaDecorations(P,s.map((function(e){return e.decoration}))),n=0;n<t.length;n++){var r=s[n];i._decorationsMetadata.set(t[n],r)}}))}},{key:"_fillInColors",value:function(e,t){t.kind===m.gl.Parameter?(e.backgroundColor=(0,ae.EN)(ie.phM),e.color=(0,ae.EN)(ie.HCL)):t.kind===m.gl.Type?(e.backgroundColor=(0,ae.EN)(ie.bKB),e.color=(0,ae.EN)(ie.hX8)):(e.backgroundColor=(0,ae.EN)(ie.PpC),e.color=(0,ae.EN)(ie.VVv))}},{key:"_getLayoutInfo",value:function(){var e=this._editor.getOption(129),t=e.padding,n=this._editor.getOption(48),r=this._editor.getOption(45),o=e.fontSize;(!o||o<5||o>n)&&(o=n);var i=e.fontFamily||r;return{fontSize:o,fontFamily:i,padding:t,isUniform:!t&&i===r&&o===n}}},{key:"_removeAllDecorations",value:function(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));var e,t=le(this._decorationsMetadata.values());try{for(t.s();!(e=t.n()).done;){e.value.classNameRef.dispose()}}catch(e){t.e(e)}finally{t.f()}this._decorationsMetadata.clear()}}],[{key:"get",value:function(t){var n;return null!==(n=t.getContribution(e.ID))&&void 0!==n?n:void 0}}]),e}();xe.ID="editor.contrib.InlayHints",xe._MAX_DECORATORS=1500,xe=me([be(1,S.p),be(2,w.A),be(3,Se),be(4,U.Hy),be(5,Y.lT),be(6,q.TG)],xe),U.P0.registerCommand("_executeInlayHintProvider",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _e(void 0,void 0,void 0,ce().mark((function t(){var r,o,i,a,s,c,l;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n[0],o=n[1],(0,d.p_)(h.o.isUri(r)),(0,d.p_)(y.e.isIRange(o)),i=e.get(S.p),a=i.inlayHintsProvider,t.next=6,e.get(k.S).createModelReference(r);case 6:return s=t.sent,t.prev=7,t.next=10,W.create(a,s.object.textEditorModel,[y.e.lift(o)],u.T.None);case 10:return c=t.sent,l=c.items.map((function(e){return e.hint})),setTimeout((function(){return c.dispose()}),0),t.abrupt("return",l);case 14:return t.prev=14,s.dispose(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[7,,14,17]])})))}));var Le=n(93649),Oe=n(71919),Ee=n(17662),Pe=n(32274),Ne=n(4537),Ie=n(53920),Re=n(18063),Te=n(71386);function je(){je=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==Ve(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Ve(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Ve(i)?i:String(i)),r)}var o,i}function De(e,t,n){return t&&Ae(e.prototype,t),n&&Ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&We(e,t)}function We(e,t){return We=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},We(e,t)}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ge(e);if(t){var o=Ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Be(this,n)}}function Be(e,t){if(t&&("object"===Ve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ge(e){return Ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ge(e)}function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}var Ue=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Ve(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ze=function(e,t){return function(n,r){t(n,r,e)}},Ke=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},qe=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},Ye=function(e){Fe(n,e);var t=He(n);function n(e,r){var o;return Me(this,n),(o=t.call(this,10,r,e.item.anchor.range)).part=e,o}return De(n)}(o.YM),Qe=function(e){Fe(n,e);var t=He(n);function n(e,r,o,i,a,s){var u;return Me(this,n),(u=t.call(this,e,r,o,i,s))._resolverService=a,u.hoverOrdinal=6,u}return De(n,[{key:"suggestHoverAnchor",value:function(e){var t;if(!xe.get(this._editor))return null;if(6!==e.target.type)return null;var n=null===(t=e.target.detail.injectedText)||void 0===t?void 0:t.options;return n instanceof _.HS&&n.attachedData instanceof ke?new Ye(n.attachedData,this):null}},{key:"computeSync",value:function(){return[]}},{key:"computeAsync",value:function(e,t,n){var r=this;return e instanceof Ye?new s.Aq((function(t){return Ke(r,void 0,void 0,je().mark((function r(){var o,i,s,u,c,l,f,d,p,v,g,y;return je().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=e.part,r.next=3,s.item.resolve(n);case 3:if(!n.isCancellationRequested){r.next=5;break}return r.abrupt("return");case 5:return"string"==typeof s.item.hint.tooltip?u=(new Le.W5).appendText(s.item.hint.tooltip):s.item.hint.tooltip&&(u=s.item.hint.tooltip),u&&t.emitOne(new Pe.hU(this,e.range,[u],0)),(0,a.Of)(s.item.hint.textEdits)&&t.emitOne(new Pe.hU(this,e.range,[(new Le.W5).appendText((0,Re.NC)("hint.dbl","Double click to insert"))],10001)),"string"==typeof s.part.tooltip?c=(new Le.W5).appendText(s.part.tooltip):s.part.tooltip&&(c=s.part.tooltip),c&&t.emitOne(new Pe.hU(this,e.range,[c],1)),(s.part.location||s.part.command)&&(f="altKey"===this._editor.getOption(72),d=f?Te.dz?(0,Re.NC)("links.navigate.kb.meta.mac","cmd + click"):(0,Re.NC)("links.navigate.kb.meta","ctrl + click"):Te.dz?(0,Re.NC)("links.navigate.kb.alt.mac","option + click"):(0,Re.NC)("links.navigate.kb.alt","alt + click"),s.part.location&&s.part.command?l=(new Le.W5).appendText((0,Re.NC)("hint.defAndCommand","Go to Definition ({0}), right click for more",d)):s.part.location?l=(new Le.W5).appendText((0,Re.NC)("hint.def","Go to Definition ({0})",d)):s.part.command&&(l=new Le.W5("[".concat((0,Re.NC)("hint.cmd","Execute Command"),"](").concat((m=s.part.command,h.o.from({scheme:L.lg.command,path:m.id,query:m.arguments&&encodeURIComponent(JSON.stringify(m.arguments))}).toString()),' "').concat(s.part.command.title,'") (').concat(d,")"),{isTrusted:!0})),l&&t.emitOne(new Pe.hU(this,e.range,[l],1e4))),r.next=13,this._resolveInlayHintLabelPartHover(s,n);case 13:p=r.sent,r.prev=14,v=qe(p);case 16:return r.next=18,v.next();case 18:if((g=r.sent).done){r.next=24;break}y=g.value,t.emitOne(y);case 22:r.next=16;break;case 24:r.next=29;break;case 26:r.prev=26,r.t0=r.catch(14),o={error:r.t0};case 29:if(r.prev=29,r.prev=30,!g||g.done||!(i=v.return)){r.next=34;break}return r.next=34,i.call(v);case 34:if(r.prev=34,!o){r.next=37;break}throw o.error;case 37:return r.finish(34);case 38:return r.finish(29);case 39:case"end":return r.stop()}var m}),r,this,[[14,26,29,39],[30,,34,38]])})))})):s.Aq.EMPTY}},{key:"_resolveInlayHintLabelPartHover",value:function(e,t){return Ke(this,void 0,void 0,je().mark((function n(){var r,o,i,a,u,c=this;return je().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.part.location){n.next=2;break}return n.abrupt("return",s.Aq.EMPTY);case 2:return r=e.part.location,o=r.uri,i=r.range,n.next=5,this._resolverService.createModelReference(o);case 5:if(a=n.sent,n.prev=6,u=a.object.textEditorModel,this._languageFeaturesService.hoverProvider.has(u)){n.next=10;break}return n.abrupt("return",s.Aq.EMPTY);case 10:return n.abrupt("return",(0,Ee.R8)(this._languageFeaturesService.hoverProvider,u,new x.L(i.startLineNumber,i.startColumn),t).filter((function(e){return!(0,Le.CP)(e.hover.contents)})).map((function(t){return new Pe.hU(c,e.item.anchor.range,t.hover.contents,2+t.ordinal)})));case 11:return n.prev=11,a.dispose(),n.finish(11);case 14:case"end":return n.stop()}}),n,this,[[6,,11,14]])})))}}]),n}(Pe.D5);Qe=Ue([ze(1,Oe.O),ze(2,Ie.v4),ze(3,Ne.Ui),ze(4,k.S),ze(5,S.p)],Qe),(0,r._K)(xe.ID,xe),o.Ae.register(Qe)},66260:(e,t,n)=>{n.r(t),n.d(t,{commitInlineSuggestionAction:()=>Tn});var r=n(18679),o=n(25112),i=n(52115),a="editor.action.inlineSuggest.commit",s=n(82459),u=n(38709),c=n(46969),l=n(50350),f=n(51638),d=n(87116),h=n(95295),p=n(2307),v=n(95835),g=n(48872),y=n(23942),m=n(48466);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===b(i)?i:String(i)),r)}var o,i}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(var n=0;n<t.length;n++)"\n"===t.charAt(n)&&this.lineStartOffsetByLineIdx.push(n+1)}var t,n,r;return t=e,(n=[{key:"getOffset",value:function(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}])&&_(t.prototype,n),r&&_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),C=[];function x(){return C}function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==L(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===L(i)?i:String(i)),r)}var o,i}function T(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var j=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;I(this,e),this.lineNumber=t,this.parts=n,this.additionalReservedLineCount=r}return T(e,[{key:"renderForScreenReader",value:function(e){if(0===this.parts.length)return"";var t=this.parts[this.parts.length-1];return function(e,t){var n=new k(e),r=t.map((function(e){var t=m.e.lift(e.range);return{startOffset:n.getOffset(t.getStartPosition()),endOffset:n.getOffset(t.getEndPosition()),text:e.text}}));r.sort((function(e,t){return t.startOffset-e.startOffset}));var o,i=w(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;e=e.substring(0,a.startOffset)+a.text+e.substring(a.endOffset)}}catch(e){i.e(e)}finally{i.f()}return e}(e.substr(0,t.column-1),this.parts.map((function(e){return{range:{startLineNumber:1,endLineNumber:1,startColumn:e.column,endColumn:e.column},text:e.lines.join("\n")}}))).substring(this.parts[0].column-1)}},{key:"isEmpty",value:function(){return this.parts.every((function(e){return 0===e.lines.length}))}}]),e}(),A=T((function e(t,n,r){I(this,e),this.column=t,this.lines=n,this.preview=r})),D=function(){function e(t,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;I(this,e),this.lineNumber=t,this.columnStart=n,this.length=r,this.newLines=o,this.additionalReservedLineCount=i,this.parts=[new A(this.columnStart+this.length,this.newLines,!1)]}return T(e,[{key:"renderForScreenReader",value:function(e){return this.newLines.join("\n")}}]),e}(),M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(n,e);var t=E(n);function n(e){var r;return I(this,n),(r=t.call(this)).editor=e,r._expanded=void 0,r.onDidChangeEmitter=new s.Q5,r.onDidChange=r.onDidChangeEmitter.event,r._register(e.onDidChangeConfiguration((function(e){e.hasChanged(108)&&void 0===r._expanded&&r.onDidChangeEmitter.fire()}))),r}return T(n,[{key:"setExpanded",value:function(e){this._expanded=!0,this.onDidChangeEmitter.fire()}}]),n}(u.JT),F=n(69349),W=n(8106);function H(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t){if(!t)return t;var n=e.getValueInRange(t.range),r=c.Mh(n,t.insertText),o=e.getOffsetAt(t.range.getStartPosition())+r,i=e.getPositionAt(o),a=n.substr(r),s=c.P1(a,t.insertText),u=e.getPositionAt(Math.max(o,e.getOffsetAt(t.range.getEndPosition())-s));return{range:m.e.fromPositions(i,u),insertText:t.insertText.substr(r,t.insertText.length-r-s),snippetInfo:t.snippetInfo,filterText:t.filterText,additionalTextEdits:t.additionalTextEdits}}function V(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(e.range.startLineNumber===e.range.endLineNumber){var i=t.getLineContent(e.range.startLineNumber),a=c.V8(i).length,s=e.range.startColumn-1<=a;if(s){var u=c.V8(e.insertText).length,l=i.substring(e.range.startColumn-1,a),f=m.e.fromPositions(e.range.getStartPosition().delta(0,l.length),e.range.getEndPosition()),d=e.insertText.startsWith(l)?e.insertText.substring(l.length):e.insertText.substring(u);e={range:f,insertText:d,command:e.command,snippetInfo:void 0,filterText:e.filterText,additionalTextEdits:e.additionalTextEdits}}var h=t.getValueInRange(e.range),p=z(h,e.insertText);if(p){var v=e.range.startLineNumber,g=new Array;if("prefix"===n){var y=p.filter((function(e){return 0===e.originalLength}));if(y.length>1||1===y.length&&y[0].originalStart!==h.length)return}var b,_=e.insertText.length-o,w=H(p);try{for(w.s();!(b=w.n()).done;){var S=b.value,k=e.range.startColumn+S.originalStart+S.originalLength;if("subwordSmart"===n&&r&&r.lineNumber===e.range.startLineNumber&&k<r.column)return;if(S.originalLength>0)return;if(0!==S.modifiedLength){var C=S.modifiedStart+S.modifiedLength,x=Math.max(S.modifiedStart,Math.min(C,_)),L=e.insertText.substring(S.modifiedStart,x),O=e.insertText.substring(x,Math.max(S.modifiedStart,C));if(L.length>0){var E=c.uq(L);g.push(new A(k,E,!1))}if(O.length>0){var P=c.uq(O);g.push(new A(k,P,!0))}}}}catch(e){w.e(e)}finally{w.f()}return new j(v,g,0)}}}var U=void 0;function z(e,t){if((null==U?void 0:U.originalValue)===e&&(null==U?void 0:U.newValue)===t)return null==U?void 0:U.changes;var n=q(e,t,!0);if(n){var r=K(n);if(r>0){var o=q(e,t,!1);o&&K(o)<r&&(n=o)}}return U={originalValue:e,newValue:t,changes:n},n}function K(e){var t,n=0,r=H(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n+=Math.max(o.originalLength-o.modifiedLength,0)}}catch(e){r.e(e)}finally{r.f()}return n}function q(e,t,n){if(!(e.length>5e3||t.length>5e3)){var r=Math.max(a(e),a(t)),o=u(e),i=u(t);return new W.Hs({getElements:function(){return o}},{getElements:function(){return i}}).ComputeDiff(!1).changes}function a(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);o>t&&(t=o)}return t}function s(e){if(e<0)throw new Error("unexpected");return r+e+1}function u(e){for(var t=0,r=0,o=new Int32Array(e.length),i=0,a=e.length;i<a;i++)if(n&&"("===e[i]){var u=100*r+t;o[i]=s(2*u),t++}else if(n&&")"===e[i]){var c=100*r+(t=Math.max(t-1,0));o[i]=s(2*c+1),0===t&&r++}else o[i]=e.charCodeAt(i);return o}}var Y=n(77846),Q=n(65207),Z=n(31213),$=n(75758),J=n(51412),X=n(2507),ee=n(8401),te=n(63872),ne=n(4537);function re(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ie(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function oe(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(){se=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==ge(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==ge(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===ge(i)?i:String(i)),r)}var o,i}function le(e,t,n){return t&&ce(e.prototype,t),n&&ce(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&de(e,t)}function de(e,t){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},de(e,t)}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ve(e);if(t){var o=ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){if(t&&("object"===ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}var ye=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ge(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},me=function(e,t){return function(n,r){t(n,r,e)}},be=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},_e=function(e){fe(n,e);var t=he(n);function n(e,r,o,i,c,l,f){var d;return ue(this,n),(d=t.call(this)).editor=e,d.cache=r,d.commandService=o,d.languageConfigurationService=i,d.languageFeaturesService=c,d.debounceService=l,d.onDidChangeEmitter=new s.Q5,d.onDidChange=d.onDidChangeEmitter.event,d.completionSession=d._register(new u.XK),d.active=!1,d.disposed=!1,d.debounceValue=d.debounceService.for(d.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),d._register(o.onDidExecuteCommand((function(t){new Set([g.CoreEditingCommands.Tab.id,g.CoreEditingCommands.DeleteLeft.id,g.CoreEditingCommands.DeleteRight.id,a,"acceptSelectedSuggestion"]).has(t.commandId)&&e.hasTextFocus()&&d.handleUserInput()}))),d._register(d.editor.onDidType((function(e){d.handleUserInput()}))),d._register(d.editor.onDidChangeCursorPosition((function(e){(3===e.reason||d.session&&!d.session.isValid)&&d.hide()}))),d._register((0,u.OF)((function(){d.disposed=!0}))),d._register(d.editor.onDidBlurEditorWidget((function(){f.getValue("editor.inlineSuggest.hideOnBlur")||d.hide()}))),d}return le(n,[{key:"handleUserInput",value:function(){var e=this;this.session&&!this.session.isValid&&this.hide(),setTimeout((function(){e.disposed||e.startSessionIfTriggered()}),0)}},{key:"session",get:function(){return this.completionSession.value}},{key:"ghostText",get:function(){var e;return null===(e=this.session)||void 0===e?void 0:e.ghostText}},{key:"minReservedLineCount",get:function(){return this.session?this.session.minReservedLineCount:0}},{key:"setExpanded",value:function(e){var t;null===(t=this.session)||void 0===t||t.setExpanded(e)}},{key:"setActive",value:function(e){var t;this.active=e,e&&(null===(t=this.session)||void 0===t||t.scheduleAutomaticUpdate())}},{key:"startSessionIfTriggered",value:function(){this.editor.getOption(57).enabled&&(this.session&&this.session.isValid||this.trigger(d.bw.Automatic))}},{key:"trigger",value:function(e){var t=this;this.completionSession.value?e===d.bw.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext():(this.completionSession.value=new we(this.editor,this.editor.getPosition(),(function(){return t.active}),this.commandService,this.cache,e,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange((function(){t.onDidChangeEmitter.fire()}))))}},{key:"hide",value:function(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}},{key:"commitCurrentSuggestion",value:function(){var e;null===(e=this.session)||void 0===e||e.commitCurrentCompletion()}},{key:"showNext",value:function(){var e;null===(e=this.session)||void 0===e||e.showNextInlineCompletion()}},{key:"showPrevious",value:function(){var e;null===(e=this.session)||void 0===e||e.showPreviousInlineCompletion()}},{key:"hasMultipleInlineCompletions",value:function(){var e;return be(this,void 0,void 0,se().mark((function t(){var n;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=this.session)||void 0===e?void 0:e.hasMultipleInlineCompletions();case 2:return n=t.sent,t.abrupt("return",void 0!==n&&n);case 4:case"end":return t.stop()}}),t,this)})))}}]),n}(u.JT);_e=ye([me(2,F.Hy),me(3,Y.c_),me(4,Z.p),me(5,$.A),me(6,ne.Ui)],_e);var we=function(e){fe(n,e);var t=he(n);function n(e,r,o,i,a,s,c,l,f){var p;ue(this,n),(p=t.call(this,e)).triggerPosition=r,p.shouldUpdate=o,p.commandService=i,p.cache=a,p.initialTriggerKind=s,p.languageConfigurationService=c,p.registry=l,p.debounce=f,p.minReservedLineCount=0,p.updateOperation=p._register(new u.XK),p.updateSoon=p._register(new h.pY((function(){var e=p.initialTriggerKind;return p.initialTriggerKind=d.bw.Automatic,p.update(e)}),50)),p.filteredCompletions=[],p.currentlySelectedCompletionId=void 0;var v=void 0;return p._register(p.onDidChange((function(){var e,t=p.currentCompletion;if(t&&t.sourceInlineCompletion!==v){v=t.sourceInlineCompletion;var n=t.sourceProvider;null===(e=n.handleItemDidShow)||void 0===e||e.call(n,t.sourceInlineCompletions,v)}}))),p._register((0,u.OF)((function(){p.cache.clear()}))),p._register(p.editor.onDidChangeCursorPosition((function(e){var t;3!==e.reason&&(null===(t=p.cache.value)||void 0===t||t.updateRanges(),p.cache.value&&(p.updateFilteredInlineCompletions(),p.onDidChangeEmitter.fire()))}))),p._register(p.editor.onDidChangeModelContent((function(e){var t;null===(t=p.cache.value)||void 0===t||t.updateRanges(),p.updateFilteredInlineCompletions(),p.scheduleAutomaticUpdate()}))),p._register(p.registry.onDidChange((function(){p.updateSoon.schedule(p.debounce.get(p.editor.getModel()))}))),p.scheduleAutomaticUpdate(),p}return le(n,[{key:"updateFilteredInlineCompletions",value:function(){if(this.cache.value){var e=this.editor.getModel(),t=e.validatePosition(this.editor.getPosition());this.filteredCompletions=this.cache.value.completions.filter((function(n){var r=e.getValueInRange(n.synchronizedRange).toLowerCase(),o=n.inlineCompletion.filterText.toLowerCase(),i=e.getLineIndentColumn(n.synchronizedRange.startLineNumber),a=Math.max(0,t.column-n.synchronizedRange.startColumn),s=o.substring(0,a),u=o.substring(a),c=r.substring(0,a),l=r.substring(a);return n.synchronizedRange.startColumn<=i&&(0===(c=c.trimStart()).length&&(l=l.trimStart()),0===(s=s.trimStart()).length&&(u=u.trimStart())),s.startsWith(c)&&(0,te.Sy)(l,u)}))}else this.filteredCompletions=[]}},{key:"fixAndGetIndexOfCurrentSelection",value:function(){var e=this;if(!this.currentlySelectedCompletionId||!this.cache.value)return 0;if(0===this.cache.value.completions.length)return 0;var t=this.filteredCompletions.findIndex((function(t){return t.semanticId===e.currentlySelectedCompletionId}));return-1===t?(this.currentlySelectedCompletionId=void 0,0):t}},{key:"currentCachedCompletion",get:function(){if(this.cache.value)return this.filteredCompletions[this.fixAndGetIndexOfCurrentSelection()]}},{key:"showNextInlineCompletion",value:function(){return be(this,void 0,void 0,se().mark((function e(){var t,n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUpdateWithExplicitContext();case 2:(t=this.filteredCompletions||[]).length>0?(n=(this.fixAndGetIndexOfCurrentSelection()+1)%t.length,this.currentlySelectedCompletionId=t[n].semanticId):this.currentlySelectedCompletionId=void 0,this.onDidChangeEmitter.fire();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"showPreviousInlineCompletion",value:function(){return be(this,void 0,void 0,se().mark((function e(){var t,n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUpdateWithExplicitContext();case 2:(t=this.filteredCompletions||[]).length>0?(n=(this.fixAndGetIndexOfCurrentSelection()+t.length-1)%t.length,this.currentlySelectedCompletionId=t[n].semanticId):this.currentlySelectedCompletionId=void 0,this.onDidChangeEmitter.fire();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"ensureUpdateWithExplicitContext",value:function(){var e;return be(this,void 0,void 0,se().mark((function t(){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.updateOperation.value){t.next=10;break}if(this.updateOperation.value.triggerKind!==d.bw.Explicit){t.next=6;break}return t.next=4,this.updateOperation.value.promise;case 4:t.next=8;break;case 6:return t.next=8,this.update(d.bw.Explicit);case 8:t.next=13;break;case 10:if((null===(e=this.cache.value)||void 0===e?void 0:e.triggerKind)===d.bw.Explicit){t.next=13;break}return t.next=13,this.update(d.bw.Explicit);case 13:case"end":return t.stop()}}),t,this)})))}},{key:"hasMultipleInlineCompletions",value:function(){var e;return be(this,void 0,void 0,se().mark((function t(){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ensureUpdateWithExplicitContext();case 2:return t.abrupt("return",((null===(e=this.cache.value)||void 0===e?void 0:e.completions.length)||0)>1);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"ghostText",get:function(){var e=this.currentCompletion;if(e){var t=this.editor.getPosition();if(!e.range.getEndPosition().isBefore(t)){var n=this.editor.getOptions().get(57).mode,r=V(e,this.editor.getModel(),n,t);if(r){if(r.isEmpty())return;return r}return new D(e.range.startLineNumber,e.range.startColumn,e.range.endColumn-e.range.startColumn,e.insertText.split("\n"),0)}}}},{key:"currentCompletion",get:function(){var e=this.currentCachedCompletion;if(e)return e.toLiveInlineCompletion()}},{key:"isValid",get:function(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}},{key:"scheduleAutomaticUpdate",value:function(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}},{key:"update",value:function(e){return be(this,void 0,void 0,se().mark((function t(){var n,r,o,i,a=this;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.shouldUpdate()){t.next=2;break}return t.abrupt("return");case 2:return n=this.editor.getPosition(),r=new Date,o=(0,h.PG)((function(t){return be(a,void 0,void 0,se().mark((function o(){var i,a;return se().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,xe(this.registry,n,this.editor.getModel(),{triggerKind:e,selectedSuggestionInfo:void 0},t,this.languageConfigurationService);case 3:i=o.sent,a=new Date,this.debounce.update(this.editor.getModel(),a.getTime()-r.getTime()),o.next=12;break;case 8:return o.prev=8,o.t0=o.catch(0),(0,v.dL)(o.t0),o.abrupt("return");case 12:if(!t.isCancellationRequested){o.next=14;break}return o.abrupt("return");case 14:this.cache.setValue(this.editor,i,e),this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire();case 17:case"end":return o.stop()}}),o,this,[[0,8]])})))})),i=new Se(o,e),this.updateOperation.value=i,t.next=9,o;case 9:this.updateOperation.value===i&&this.updateOperation.clear();case 10:case"end":return t.stop()}}),t,this)})))}},{key:"takeOwnership",value:function(e){this._register(e)}},{key:"commitCurrentCompletion",value:function(){if(this.ghostText){var e=this.currentCompletion;e&&this.commit(e)}}},{key:"commit",value:function(e){var t,n,r=this.cache.clearAndLeak();(e.snippetInfo?(this.editor.executeEdits("inlineSuggestion.accept",[y.h.replaceMove(e.range,"")].concat(oe(e.additionalTextEdits))),this.editor.setPosition(e.snippetInfo.range.getStartPosition()),null===(t=X.SnippetController2.get(this.editor))||void 0===t||t.insert(e.snippetInfo.snippet)):this.editor.executeEdits("inlineSuggestion.accept",[y.h.replaceMove(e.range,e.insertText)].concat(oe(e.additionalTextEdits))),e.command)?(n=this.commandService).executeCommand.apply(n,[e.command.id].concat(oe(e.command.arguments||[]))).finally((function(){null==r||r.dispose()})).then(void 0,v.Cp):null==r||r.dispose();this.onDidChangeEmitter.fire()}},{key:"commands",get:function(){var e;return oe(new Set((null===(e=this.cache.value)||void 0===e?void 0:e.completions.map((function(e){return e.inlineCompletion.sourceInlineCompletions})))||[])).flatMap((function(e){return e.commands||[]}))}}]),n}(M),Se=function(){function e(t,n){ue(this,e),this.promise=t,this.triggerKind=n}return le(e,[{key:"dispose",value:function(){this.promise.cancel()}}]),e}(),ke=function(e){fe(n,e);var t=he(n);function n(e,r,o,i){var a;ue(this,n),(a=t.call(this)).editor=r,a.onChange=o,a.triggerKind=i,a.isDisposing=!1;var s=r.changeDecorations((function(t){return t.deltaDecorations([],e.items.map((function(e){return{range:e.range,options:{description:"inline-completion-tracking-range"}}})))}));return a._register((0,u.OF)((function(){a.isDisposing=!0,r.removeDecorations(s)}))),a.completions=e.items.map((function(e,t){return new Ce(e,s[t])})),a._register(r.onDidChangeModelContent((function(){a.updateRanges()}))),a._register(e),a}return le(n,[{key:"updateRanges",value:function(){if(!this.isDisposing){var e,t=!1,n=this.editor.getModel(),r=re(this.completions);try{for(r.s();!(e=r.n()).done;){var o=e.value,i=n.getDecorationRange(o.decorationId);i?o.synchronizedRange.equalsRange(i)||(t=!0,o.synchronizedRange=i):(0,v.dL)(new Error("Decoration has no range"))}}catch(e){r.e(e)}finally{r.f()}t&&this.onChange()}}}]),n}(u.JT),Ce=function(){function e(t,n){ue(this,e),this.inlineCompletion=t,this.decorationId=n,this.semanticId=JSON.stringify({text:this.inlineCompletion.insertText,abbreviation:this.inlineCompletion.filterText,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=t.range}return le(e,[{key:"toLiveInlineCompletion",value:function(){return{insertText:this.inlineCompletion.insertText,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion,snippetInfo:this.inlineCompletion.snippetInfo,filterText:this.inlineCompletion.filterText,additionalTextEdits:this.inlineCompletion.additionalTextEdits}}}]),e}();function xe(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:p.T.None,i=arguments.length>5?arguments[5]:void 0;return be(this,void 0,void 0,se().mark((function a(){var s,u,c,l,f,d,h,p,g,y,b,_,w,S,k,C,L,O=this;return se().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=Le(t,n),u=e.all(n),a.next=4,Promise.all(u.map((function(e){return be(O,void 0,void 0,se().mark((function i(){var a;return se().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Promise.resolve(e.provideInlineCompletions(n,t,r,o)).catch(v.Cp);case 2:return a=i.sent,i.abrupt("return",{completions:a,provider:e,dispose:function(){a&&e.freeInlineCompletions(a)}});case 4:case"end":return i.stop()}}),i)})))})));case 4:c=a.sent,l=new Map,f=re(c),a.prev=7,f.s();case 9:if((d=f.n()).done){a.next=39;break}if(h=d.value,p=h.completions){a.next=14;break}return a.abrupt("continue",37);case 14:g=re(p.items),a.prev=15,g.s();case 17:if((y=g.n()).done){a.next=29;break}if(b=y.value,(_=b.range?m.e.lift(b.range):s).startLineNumber===_.endLineNumber){a.next=22;break}return a.abrupt("continue",27);case 22:w=void 0,S=void 0,"string"==typeof b.insertText?(w=b.insertText,i&&b.completeBracketPairs&&(w=Oe(w,_.getStartPosition(),n,i),0!==(k=w.length-b.insertText.length)&&(_=new m.e(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn+k))),S=void 0):"snippet"in b.insertText?(C=(new J.Yj).parse(b.insertText.snippet),w=C.toString(),S={snippet:b.insertText.snippet,range:_}):(0,ee.vE)(b.insertText),L={insertText:w,snippetInfo:S,range:_,command:b.command,sourceProvider:h.provider,sourceInlineCompletions:p,sourceInlineCompletion:b,filterText:b.filterText||w,additionalTextEdits:b.additionalTextEdits||x()},l.set(JSON.stringify({insertText:w,range:b.range}),L);case 27:a.next=17;break;case 29:a.next=34;break;case 31:a.prev=31,a.t0=a.catch(15),g.e(a.t0);case 34:return a.prev=34,g.f(),a.finish(34);case 37:a.next=9;break;case 39:a.next=44;break;case 41:a.prev=41,a.t1=a.catch(7),f.e(a.t1);case 44:return a.prev=44,f.f(),a.finish(44);case 47:return a.abrupt("return",{items:oe(l.values()),dispose:function(){var e,t=re(c);try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(e){t.e(e)}finally{t.f()}}});case 48:case"end":return a.stop()}}),a,null,[[7,41,44,47],[15,31,34,37]])})))}function Le(e,t){var n=t.getWordAtPosition(e),r=t.getLineMaxColumn(e.lineNumber);return n?new m.e(e.lineNumber,n.startColumn,e.lineNumber,r):m.e.fromPositions(e,e.with(void 0,r))}function Oe(e,t,n,r){var o=n.getLineContent(t.lineNumber).substring(0,t.column-1)+e,i=n.tokenization.tokenizeLineWithEdit(t,o.length-(t.column-1),e),a=null==i?void 0:i.sliceAndInflate(t.column-1,o.length,0);return a?(0,Q.r)(a,r):e}var Ee=n(86193),Pe=n(14086),Ne=n(27033);function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Ie(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Ie(i)?i:String(i)),r)}var o,i}function Te(e,t){return Te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Te(e,t)}function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=De(e);if(t){var o=De(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ae(this,n)}}function Ae(e,t){if(t&&("object"===Ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}var Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Te(e,t)}(i,e);var t,n,r,o=je(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this)).editor=e,n.suggestControllerPreselector=t,n.isSuggestWidgetVisible=!1,n.isShiftKeyPressed=!1,n._isActive=!1,n._currentSuggestItemInfo=void 0,n.onDidChangeEmitter=new s.Q5,n.onDidChange=n.onDidChangeEmitter.event,n.setInactiveDelayed=n._register(new h.pY((function(){n.isSuggestWidgetVisible||n._isActive&&(n._isActive=!1,n.onDidChangeEmitter.fire())}),100)),n._register(e.onKeyDown((function(e){e.shiftKey&&!n.isShiftKeyPressed&&(n.isShiftKeyPressed=!0,n.update(n._isActive))}))),n._register(e.onKeyUp((function(e){e.shiftKey&&n.isShiftKeyPressed&&(n.isShiftKeyPressed=!1,n.update(n._isActive))})));var r=Ne.SuggestController.get(n.editor);if(r){n._register(r.registerSelector({priority:100,select:function(e,t,o){var i=n.editor.getModel(),a=G(i,n.suggestControllerPreselector());if(!a)return-1;var s=f.L.lift(t),u=o.map((function(e,t){var o,u,c=Fe(r,s,e,n.isShiftKeyPressed),l=G(i,null==c?void 0:c.normalizedInlineCompletion);if(l)return{index:t,valid:(o=a.range,(u=l.range).startLineNumber===o.startLineNumber&&u.startColumn===o.startColumn&&(u.endLineNumber<o.endLineNumber||u.endLineNumber===o.endLineNumber&&u.endColumn<=o.endColumn)&&a.insertText.startsWith(l.insertText)),prefixLength:l.insertText.length,suggestItem:e}})).filter((function(e){return e&&e.valid})),c=(0,Ee.Dc)(u,(0,Ee.tT)((function(e){return e.prefixLength}),Ee.fv));return c?c.index:-1}}));var a=!1;n._register(s.ju.once(r.model.onDidTrigger)((function(e){a||(a=!0,n._register(r.widget.value.onDidShow((function(){n.isSuggestWidgetVisible=!0,n.update(!0)}))),n._register(r.widget.value.onDidHide((function(){n.isSuggestWidgetVisible=!1,n.setInactiveDelayed.schedule(),n.update(n._isActive)}))),n._register(r.widget.value.onDidFocus((function(){n.isSuggestWidgetVisible=!0,n.update(!0)}))))})))}return n.update(n._isActive),n}return t=i,(n=[{key:"state",get:function(){if(this._isActive)return{selectedItem:this._currentSuggestItemInfo}}},{key:"update",value:function(e){var t,n,r=this.getSuggestItemInfo(),o=!1;(t=this._currentSuggestItemInfo)===(n=r)||!(!t||!n)&&t.completionItemKind===n.completionItemKind&&t.isSnippetText===n.isSnippetText&&function(e,t){return e===t||!(!e||!t)&&e.range.equalsRange(t.range)&&e.insertText===t.insertText&&e.command===t.command}(t.normalizedInlineCompletion,n.normalizedInlineCompletion)||(this._currentSuggestItemInfo=r,o=!0),this._isActive!==e&&(this._isActive=e,o=!0),o&&this.onDidChangeEmitter.fire()}},{key:"getSuggestItemInfo",value:function(){var e=Ne.SuggestController.get(this.editor);if(e&&this.isSuggestWidgetVisible){var t=e.widget.value.getFocusedItem();if(t)return Fe(e,this.editor.getPosition(),t.item,this.isShiftKeyPressed)}}},{key:"stopForceRenderingAbove",value:function(){var e=Ne.SuggestController.get(this.editor);e&&e.stopForceRenderingAbove()}},{key:"forceRenderingAbove",value:function(){var e=Ne.SuggestController.get(this.editor);e&&e.forceRenderingAbove()}}])&&Re(t.prototype,n),r&&Re(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(u.JT);function Fe(e,t,n,r){if(Array.isArray(n.completion.additionalTextEdits)&&n.completion.additionalTextEdits.length>0)return{completionItemKind:n.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:m.e.fromPositions(t,t),insertText:"",filterText:"",snippetInfo:void 0,additionalTextEdits:[]}};var o=n.completion.insertText,i=!1;if(4&n.completion.insertTextRules){var a=(new J.Yj).parse(o),s=e.editor.getModel();if(a.children.length>100)return;Pe.l.adjustWhitespace(s,t,a,!0,!0),o=a.toString(),i=!0}var u=e.getOverwriteInfo(n,r);return{isSnippetText:i,completionItemKind:n.completion.kind,normalizedInlineCompletion:{insertText:o,filterText:o,range:m.e.fromPositions(t.delta(0,-u.overwriteBefore),t.delta(0,Math.max(u.overwriteAfter,0))),snippetInfo:void 0,additionalTextEdits:[]}}}function We(){We=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==ze(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==ze(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===ze(i)?i:String(i)),r)}var o,i}function Be(e,t){return Be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Be(e,t)}function Ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ue(e);if(t){var o=Ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ve(this,n)}}function Ve(e,t){if(t&&("object"===ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ue(e){return Ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ue(e)}function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}var Ke=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ze(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},qe=function(e,t){return function(n,r){t(n,r,e)}},Ye=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Be(e,t)}(i,e);var t,n,r,o=Ge(i);function i(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,e)).cache=t,r.languageFeaturesService=n,r.suggestionInlineCompletionSource=r._register(new Me(r.editor,(function(){var e,t;return null===(t=null===(e=r.cache.value)||void 0===e?void 0:e.completions[0])||void 0===t?void 0:t.toLiveInlineCompletion()}))),r.updateOperation=r._register(new u.XK),r.updateCacheSoon=r._register(new h.pY((function(){return r.updateCache()}),50)),r.minReservedLineCount=0,r._register(r.suggestionInlineCompletionSource.onDidChange((function(){if(r.editor.hasModel()){r.updateCacheSoon.schedule(),r.suggestionInlineCompletionSource.state||(r.minReservedLineCount=0);var e=r.ghostText;e&&(r.minReservedLineCount=Math.max(r.minReservedLineCount,e.parts.map((function(e){return e.lines.length-1})).reduce((function(e,t){return e+t}),0))),r.minReservedLineCount>=1?r.suggestionInlineCompletionSource.forceRenderingAbove():r.suggestionInlineCompletionSource.stopForceRenderingAbove(),r.onDidChangeEmitter.fire()}}))),r._register(r.cache.onDidChange((function(){r.onDidChangeEmitter.fire()}))),r._register(r.editor.onDidChangeCursorPosition((function(e){r.minReservedLineCount=0,r.updateCacheSoon.schedule(),r.onDidChangeEmitter.fire()}))),r._register((0,u.OF)((function(){return r.suggestionInlineCompletionSource.stopForceRenderingAbove()}))),r}return t=i,n=[{key:"isActive",get:function(){return void 0!==this.suggestionInlineCompletionSource.state}},{key:"isSuggestionPreviewEnabled",value:function(){return this.editor.getOption(108).preview}},{key:"updateCache",value:function(){return Ye(this,void 0,void 0,We().mark((function e(){var t,n,r,o,i,a=this;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.suggestionInlineCompletionSource.state)&&t.selectedItem){e.next=3;break}return e.abrupt("return");case 3:if(n={text:t.selectedItem.normalizedInlineCompletion.insertText,range:t.selectedItem.normalizedInlineCompletion.range,isSnippetText:t.selectedItem.isSnippetText,completionKind:t.selectedItem.completionItemKind},r=this.editor.getPosition(),!t.selectedItem.isSnippetText&&27!==t.selectedItem.completionItemKind&&20!==t.selectedItem.completionItemKind&&23!==t.selectedItem.completionItemKind){e.next=8;break}return this.cache.clear(),e.abrupt("return");case 8:return o=(0,h.PG)((function(e){return Ye(a,void 0,void 0,We().mark((function t(){var o;return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xe(this.languageFeaturesService.inlineCompletionsProvider,r,this.editor.getModel(),{triggerKind:d.bw.Automatic,selectedSuggestionInfo:n},e);case 3:o=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),(0,v.dL)(t.t0),t.abrupt("return");case 10:if(!e.isCancellationRequested){t.next=13;break}return o.dispose(),t.abrupt("return");case 13:this.cache.setValue(this.editor,o,d.bw.Automatic),this.onDidChangeEmitter.fire();case 15:case"end":return t.stop()}}),t,this,[[0,6]])})))})),i=new Se(o,d.bw.Automatic),this.updateOperation.value=i,e.next=13,o;case 13:this.updateOperation.value===i&&this.updateOperation.clear();case 14:case"end":return e.stop()}}),e,this)})))}},{key:"ghostText",get:function(){var e,t,n,r=this.isSuggestionPreviewEnabled(),o=this.editor.getModel(),i=G(o,null===(t=null===(e=this.cache.value)||void 0===e?void 0:e.completions[0])||void 0===t?void 0:t.toLiveInlineCompletion()),a=this.suggestionInlineCompletionSource.state,s=G(o,null===(n=null==a?void 0:a.selectedItem)||void 0===n?void 0:n.normalizedInlineCompletion),u=i&&s&&i.insertText.startsWith(s.insertText)&&i.range.equalsRange(s.range);if(r||u){var c=u?i:s||i,l=u?c.insertText.length-s.insertText.length:0;return this.toGhostText(c,l)}}},{key:"toGhostText",value:function(e,t){var n=this.editor.getOptions().get(108).previewMode;return e?V(e,this.editor.getModel(),n,this.editor.getPosition(),t)||new j(e.range.endLineNumber,[],this.minReservedLineCount):void 0}}],n&&He(t.prototype,n),r&&He(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(M);Qe=Ke([qe(2,Z.p)],Qe);var Ze=n(63304);function $e(){$e=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==at(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==at(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==at(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===at(i)?i:String(i)),r)}var o,i}function et(e,t,n){return t&&Xe(e.prototype,t),n&&Xe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nt(e,t)}function nt(e,t){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nt(e,t)}function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=it(e);if(t){var o=it(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ot(this,n)}}function ot(e,t){if(t&&("object"===at(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function it(e){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},it(e)}function at(e){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(e)}var st=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":at(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ut=function(e,t){return function(n,r){t(n,r,e)}},ct=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},lt=function(e){tt(n,e);var t=rt(n);function n(){var e;return Je(this,n),(e=t.apply(this,arguments)).onDidChangeEmitter=new s.Q5,e.onDidChange=e.onDidChangeEmitter.event,e.hasCachedGhostText=!1,e.currentModelRef=e._register(new u.XK),e}return et(n,[{key:"targetModel",get:function(){var e;return null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object}},{key:"setTargetModel",value:function(e){var t,n,r,o=this;(null===(t=this.currentModelRef.value)||void 0===t?void 0:t.object)!==e&&(this.currentModelRef.clear(),this.currentModelRef.value=e?(n=e,r=e.onDidChange((function(){o.hasCachedGhostText=!1,o.onDidChangeEmitter.fire()})),{object:n,dispose:function(){return null==r?void 0:r.dispose()}}):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}},{key:"ghostText",get:function(){var e,t;return this.hasCachedGhostText||(this.cachedGhostText=null===(t=null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object)||void 0===t?void 0:t.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}},{key:"setExpanded",value:function(e){var t;null===(t=this.targetModel)||void 0===t||t.setExpanded(e)}},{key:"minReservedLineCount",get:function(){return this.targetModel?this.targetModel.minReservedLineCount:0}}]),n}(u.JT),ft=function(e){tt(n,e);var t=rt(n);function n(e,r){var o;return Je(this,n),(o=t.call(this)).editor=e,o.instantiationService=r,o.sharedCache=o._register(new dt),o.suggestWidgetAdapterModel=o._register(o.instantiationService.createInstance(Qe,o.editor,o.sharedCache)),o.inlineCompletionsModel=o._register(o.instantiationService.createInstance(_e,o.editor,o.sharedCache)),o._register(o.suggestWidgetAdapterModel.onDidChange((function(){o.updateModel()}))),o.updateModel(),o}return et(n,[{key:"activeInlineCompletionsModel",get:function(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}},{key:"updateModel",value:function(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}},{key:"shouldShowHoverAt",value:function(e){var t,n=null===(t=this.activeInlineCompletionsModel)||void 0===t?void 0:t.ghostText;return!!n&&n.parts.some((function(t){return e.containsPosition(new f.L(n.lineNumber,t.column))}))}},{key:"triggerInlineCompletion",value:function(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.trigger(d.bw.Explicit)}},{key:"commitInlineCompletion",value:function(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.commitCurrentSuggestion()}},{key:"hideInlineCompletion",value:function(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.hide()}},{key:"showNextInlineCompletion",value:function(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showNext()}},{key:"showPreviousInlineCompletion",value:function(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showPrevious()}},{key:"hasMultipleInlineCompletions",value:function(){var e;return ct(this,void 0,void 0,$e().mark((function t(){var n;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=this.activeInlineCompletionsModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();case 2:return n=t.sent,t.abrupt("return",void 0!==n&&n);case 4:case"end":return t.stop()}}),t,this)})))}}]),n}(lt);ft=st([ut(1,Ze.TG)],ft);var dt=function(e){tt(n,e);var t=rt(n);function n(){var e;return Je(this,n),(e=t.apply(this,arguments)).onDidChangeEmitter=new s.Q5,e.onDidChange=e.onDidChangeEmitter.event,e.cache=e._register(new u.XK),e}return et(n,[{key:"value",get:function(){return this.cache.value}},{key:"setValue",value:function(e,t,n){var r=this;this.cache.value=new ke(t,e,(function(){return r.onDidChangeEmitter.fire()}),n)}},{key:"clearAndLeak",value:function(){return this.cache.clearAndLeak()}},{key:"clear",value:function(){this.cache.clear()}}]),n}(u.JT),ht=n(32007),pt=n(53957),vt=n(97277),gt=n(20112),yt=n(41986),mt=n(65498),bt=n(71919),_t=n(78957),wt=n(29495),St=n(97592),kt=n(38656);function Ct(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==At(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==At(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===At(i)?i:String(i)),r)}var o,i}function Et(e,t,n){return t&&Ot(e.prototype,t),n&&Ot(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nt(e,t)}function Nt(e,t){return Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nt(e,t)}function It(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jt(e);if(t){var o=jt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rt(this,n)}}function Rt(e,t){if(t&&("object"===At(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tt(e)}function Tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jt(e){return jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jt(e)}function At(e){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At(e)}var Dt,Mt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":At(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ft=function(e,t){return function(n,r){t(n,r,e)}},Wt=null===(Dt=window.trustedTypes)||void 0===Dt?void 0:Dt.createPolicy("editorGhostText",{createHTML:function(e){return e}}),Ht=function(e){Pt(n,e);var t=It(n);function n(e,r,o,i){var a;return Lt(this,n),(a=t.call(this)).editor=e,a.model=r,a.instantiationService=o,a.languageService=i,a.disposed=!1,a.partsWidget=a._register(a.instantiationService.createInstance(Gt,a.editor)),a.additionalLinesWidget=a._register(new Vt(a.editor,a.languageService.languageIdCodec)),a.viewMoreContentWidget=void 0,a.replacementDecoration=a._register(new Bt(a.editor)),a._register(a.editor.onDidChangeConfiguration((function(e){(e.hasChanged(29)||e.hasChanged(107)||e.hasChanged(90)||e.hasChanged(85)||e.hasChanged(47)||e.hasChanged(46)||e.hasChanged(61))&&a.update()}))),a._register((0,u.OF)((function(){var e;a.disposed=!0,a.update(),null===(e=a.viewMoreContentWidget)||void 0===e||e.dispose(),a.viewMoreContentWidget=void 0}))),a._register(r.onDidChange((function(){a.update()}))),a.update(),a}return Et(n,[{key:"shouldShowHoverAtViewZone",value:function(e){return this.additionalLinesWidget.viewZoneId===e}},{key:"update",value:function(){var e,t=this.model.ghostText;if(!this.editor.hasModel()||!t||this.disposed)return this.partsWidget.clear(),this.additionalLinesWidget.clear(),void this.replacementDecoration.clear();var n=new Array,r=new Array;function o(e,t){if(r.length>0){var n=r[r.length-1];t&&n.decorations.push(new wt.Kp(n.content.length+1,n.content.length+1+e[0].length,t,0)),n.content+=e[0],e=e.slice(1)}var o,i=Ct(e);try{for(i.s();!(o=i.n()).done;){var a=o.value;r.push({content:a,decorations:t?[new wt.Kp(1,a.length+1,t,0)]:[]})}}catch(e){i.e(e)}finally{i.f()}}t instanceof D?this.replacementDecoration.setDecorations([{range:new m.e(t.lineNumber,t.columnStart,t.lineNumber,t.columnStart+t.length),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}]):this.replacementDecoration.setDecorations([]);var i,a=this.editor.getModel().getLineContent(t.lineNumber),s=void 0,u=0,c=Ct(t.parts);try{for(c.s();!(i=c.n()).done;){var l=i.value,f=l.lines;void 0===s?(n.push({column:l.column,text:f[0],preview:l.preview}),f=f.slice(1)):o([a.substring(u,l.column-1)],void 0),f.length>0&&(o(f,"ghost-text"),void 0===s&&l.column<=a.length&&(s=l.column)),u=l.column-1}}catch(e){c.e(e)}finally{c.f()}void 0!==s&&o([a.substring(u)],void 0),this.partsWidget.setParts(t.lineNumber,n,void 0!==s?{column:s,length:a.length+1-s}:void 0),this.additionalLinesWidget.updateLines(t.lineNumber,r,t.additionalReservedLineCount),null===(e=this.viewMoreContentWidget)||void 0===e||e.dispose(),this.viewMoreContentWidget=void 0}},{key:"renderViewMoreLines",value:function(e,t,n){var r=this,o=this.editor.getOption(46),i=document.createElement("div");i.className="suggest-preview-additional-widget",(0,pt.N)(i,o);var a=document.createElement("span");a.className="content-spacer",a.append(t),i.append(a);var s=document.createElement("span");s.className="content-newline suggest-preview-text",s.append("⏎  "),i.append(s);var c=new u.SL,l=document.createElement("div");return l.className="button suggest-preview-text",l.append("+".concat(n," lines…")),c.add(ht.addStandardDisposableListener(l,"mousedown",(function(e){var t;null===(t=r.model)||void 0===t||t.setExpanded(!0),e.preventDefault(),r.editor.focus()}))),i.append(l),new Ut(this.editor,e,i,c)}}]),n}(u.JT);Ht=Mt([Ft(2,Ze.TG),Ft(3,bt.O)],Ht);var Bt=function(){function e(t){Lt(this,e),this.editor=t,this.decorationIds=[]}return Et(e,[{key:"setDecorations",value:function(e){var t=this;this.editor.changeDecorations((function(n){t.decorationIds=n.deltaDecorations(t.decorationIds,e)}))}},{key:"clear",value:function(){this.setDecorations([])}},{key:"dispose",value:function(){this.clear()}}]),e}(),Gt=function(){function e(t){Lt(this,e),this.editor=t,this.decorationIds=[]}return Et(e,[{key:"dispose",value:function(){this.clear()}},{key:"clear",value:function(){var e=this;this.editor.changeDecorations((function(t){e.decorationIds=t.deltaDecorations(e.decorationIds,[])}))}},{key:"setParts",value:function(e,t,n){var r=this;if(this.editor.getModel()){var o=new Array;n&&o.push({range:m.e.fromPositions(new f.L(e,n.column),new f.L(e,n.column+n.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.editor.changeDecorations((function(n){r.decorationIds=n.deltaDecorations(r.decorationIds,t.map((function(t){return{range:m.e.fromPositions(new f.L(e,t.column)),options:{description:"ghost-text",after:{content:t.text,inlineClassName:t.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:mt.RM.Left},showIfCollapsed:!0}}})).concat(o))}))}}}]),e}(),Vt=function(){function e(t,n){Lt(this,e),this.editor=t,this.languageIdCodec=n,this._viewZoneId=void 0}return Et(e,[{key:"viewZoneId",get:function(){return this._viewZoneId}},{key:"dispose",value:function(){this.clear()}},{key:"clear",value:function(){var e=this;this.editor.changeViewZones((function(t){e._viewZoneId&&(t.removeZone(e._viewZoneId),e._viewZoneId=void 0)}))}},{key:"updateLines",value:function(e,t,n){var r=this,o=this.editor.getModel();if(o){var i=o.getOptions().tabSize;this.editor.changeViewZones((function(o){r._viewZoneId&&(o.removeZone(r._viewZoneId),r._viewZoneId=void 0);var a=Math.max(t.length,n);if(a>0){var s=document.createElement("div");!function(e,t,n,r,o){var i=r.get(29),a=r.get(107),s="none",u=r.get(85),l=r.get(47),f=r.get(46),d=r.get(61),h=(0,yt.l$)(1e4);h.appendASCIIString('<div class="suggest-preview-text">');for(var p=0,v=n.length;p<v;p++){var g=n[p],y=g.content;h.appendASCIIString('<div class="view-line'),h.appendASCIIString('" style="top:'),h.appendASCIIString(String(p*d)),h.appendASCIIString('px;width:1000000px;">');var m=c.$i(y),b=c.Ut(y),_=gt.A.createEmpty(y,o);(0,St.d1)(new St.IJ(f.isMonospace&&!i,f.canUseHalfwidthRightwardsArrow,y,!1,m,b,0,_,g.decorations,t,0,f.spaceWidth,f.middotWidth,f.wsmiddotWidth,a,s,u,l!==vt.n0.OFF,null),h),h.appendASCIIString("</div>")}h.appendASCIIString("</div>"),(0,pt.N)(e,f);var w=h.build(),S=Wt?Wt.createHTML(w):w;e.innerHTML=S}(s,i,t,r.editor.getOptions(),r.languageIdCodec),r._viewZoneId=o.addZone({afterLineNumber:e,heightInLines:a,domNode:s,afterColumnAffinity:1})}}))}}}]),e}();var Ut=function(e){Pt(n,e);var t=It(n);function n(e,r,o,i){var a;return Lt(this,n),(a=t.call(this)).editor=e,a.position=r,a.domNode=o,a.allowEditorOverflow=!1,a.suppressMouseDown=!1,a._register(i),a._register((0,u.OF)((function(){a.editor.removeContentWidget(Tt(a))}))),a.editor.addContentWidget(Tt(a)),a}return Et(n,[{key:"getId",value:function(){return"editor.widget.viewMoreLinesWidget"}},{key:"getDomNode",value:function(){return this.domNode}},{key:"getPosition",value:function(){return{position:this.position,preference:[0]}}}]),n}(u.JT);(0,kt.Ic)((function(e,t){var n=e.getColor(_t.N5);n&&(t.addRule(".monaco-editor .ghost-text-decoration { color: ".concat(n.toString()," !important; }")),t.addRule(".monaco-editor .ghost-text-decoration-preview { color: ".concat(n.toString()," !important; }")),t.addRule(".monaco-editor .suggest-preview-text .ghost-text { color: ".concat(n.toString()," !important; }")));var r=e.getColor(_t.IO);r&&(t.addRule(".monaco-editor .ghost-text-decoration { background-color: ".concat(r.toString(),"; }")),t.addRule(".monaco-editor .ghost-text-decoration-preview { background-color: ".concat(r.toString(),"; }")),t.addRule(".monaco-editor .suggest-preview-text .ghost-text { background-color: ".concat(r.toString(),"; }")));var o=e.getColor(_t.x3);o&&(t.addRule(".monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ".concat(o,"; }")),t.addRule(".monaco-editor .ghost-text-decoration { border: 1px solid ".concat(o,"; }")),t.addRule(".monaco-editor .ghost-text-decoration-preview { border: 1px solid ".concat(o,"; }")))}));var zt=n(18063),Kt=n(73589);function qt(){qt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==nn(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==nn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===nn(i)?i:String(i)),r)}var o,i}function Zt(e,t,n){return t&&Qt(e.prototype,t),n&&Qt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jt(e,t)}function Jt(e,t){return Jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jt(e,t)}function Xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tn(e);if(t){var o=tn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return en(this,n)}}function en(e,t){if(t&&("object"===nn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function tn(e){return tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tn(e)}function nn(e){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nn(e)}var rn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":nn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},on=function(e,t){return function(n,r){t(n,r,e)}},an=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},sn=function(e){$t(n,e);var t=Xt(n);function n(e,r){var o;return Yt(this,n),(o=t.call(this)).editor=e,o.instantiationService=r,o.triggeredExplicitly=!1,o.activeController=o._register(new u.XK),o.activeModelDidChangeEmitter=o._register(new s.Q5),o._register(o.editor.onDidChangeModel((function(){o.updateModelController()}))),o._register(o.editor.onDidChangeConfiguration((function(e){e.hasChanged(108)&&o.updateModelController(),e.hasChanged(57)&&o.updateModelController()}))),o.updateModelController(),o}return Zt(n,[{key:"activeModel",get:function(){var e;return null===(e=this.activeController.value)||void 0===e?void 0:e.model}},{key:"updateModelController",value:function(){var e=this.editor.getOption(108),t=this.editor.getOption(57);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(cn,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}},{key:"shouldShowHoverAt",value:function(e){var t;return(null===(t=this.activeModel)||void 0===t?void 0:t.shouldShowHoverAt(e))||!1}},{key:"shouldShowHoverAtViewZone",value:function(e){var t,n;return(null===(n=null===(t=this.activeController.value)||void 0===t?void 0:t.widget)||void 0===n?void 0:n.shouldShowHoverAtViewZone(e))||!1}},{key:"trigger",value:function(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null===(e=this.activeModel)||void 0===e||e.triggerInlineCompletion()}},{key:"commit",value:function(){var e;null===(e=this.activeModel)||void 0===e||e.commitInlineCompletion()}},{key:"hide",value:function(){var e;null===(e=this.activeModel)||void 0===e||e.hideInlineCompletion()}},{key:"showNextInlineCompletion",value:function(){var e;null===(e=this.activeModel)||void 0===e||e.showNextInlineCompletion()}},{key:"showPreviousInlineCompletion",value:function(){var e;null===(e=this.activeModel)||void 0===e||e.showPreviousInlineCompletion()}},{key:"hasMultipleInlineCompletions",value:function(){var e;return an(this,void 0,void 0,qt().mark((function t(){var n;return qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=this.activeModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();case 2:return n=t.sent,t.abrupt("return",void 0!==n&&n);case 4:case"end":return t.stop()}}),t,this)})))}}],[{key:"get",value:function(e){return e.getContribution(n.ID)}}]),n}(u.JT);sn.inlineSuggestionVisible=new Kt.uy("inlineSuggestionVisible",!1,zt.NC("inlineSuggestionVisible","Whether an inline suggestion is visible")),sn.inlineSuggestionHasIndentation=new Kt.uy("inlineSuggestionHasIndentation",!1,zt.NC("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),sn.inlineSuggestionHasIndentationLessThanTabSize=new Kt.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,zt.NC("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),sn.ID="editor.contrib.ghostTextController",sn=rn([on(1,Ze.TG)],sn);var un=Zt((function e(t){Yt(this,e),this.contextKeyService=t,this.inlineCompletionVisible=sn.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=sn.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=sn.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)})),cn=function(e){$t(n,e);var t=Xt(n);function n(e,r,o){var i;return Yt(this,n),(i=t.call(this)).editor=e,i.instantiationService=r,i.contextKeyService=o,i.contextKeys=new un(i.contextKeyService),i.model=i._register(i.instantiationService.createInstance(ft,i.editor)),i.widget=i._register(i.instantiationService.createInstance(Ht,i.editor,i.model)),i._register((0,u.OF)((function(){i.contextKeys.inlineCompletionVisible.set(!1),i.contextKeys.inlineCompletionSuggestsIndentation.set(!1),i.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)}))),i._register(i.model.onDidChange((function(){i.updateContextKeys()}))),i.updateContextKeys(),i}return Zt(n,[{key:"updateContextKeys",value:function(){var e;this.contextKeys.inlineCompletionVisible.set(void 0!==(null===(e=this.model.activeInlineCompletionsModel)||void 0===e?void 0:e.ghostText));var t=!1,n=!0,r=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&r&&r.parts.length>0){var o=r.parts[0],i=o.column,a=o.lines[0];if(i<=this.editor.getModel().getLineIndentColumn(r.lineNumber)){var s=(0,c.LC)(a);-1===s&&(s=a.length-1),t=s>0;var u=this.editor.getModel().getOptions().tabSize;n=l.i.visibleColumnFromColumn(a,s+1,u)<u}}this.contextKeys.inlineCompletionSuggestsIndentation.set(t),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(n)}}]),n}(u.JT);cn=rn([on(1,Ze.TG),on(2,Kt.i6)],cn);var ln=function(e){$t(n,e);var t=Xt(n);function n(){return Yt(this,n),t.call(this,{id:n.ID,label:zt.NC("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Kt.Ao.and(o.u.writable,sn.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}return Zt(n,[{key:"run",value:function(e,t){return an(this,void 0,void 0,qt().mark((function e(){var n;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=sn.get(t))&&(n.showNextInlineCompletion(),t.focus());case 2:case"end":return e.stop()}}),e)})))}}]),n}(r.R6);ln.ID="editor.action.inlineSuggest.showNext";var fn=function(e){$t(n,e);var t=Xt(n);function n(){return Yt(this,n),t.call(this,{id:n.ID,label:zt.NC("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Kt.Ao.and(o.u.writable,sn.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}return Zt(n,[{key:"run",value:function(e,t){return an(this,void 0,void 0,qt().mark((function e(){var n;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=sn.get(t))&&(n.showPreviousInlineCompletion(),t.focus());case 2:case"end":return e.stop()}}),e)})))}}]),n}(r.R6);fn.ID="editor.action.inlineSuggest.showPrevious";var dn=function(e){$t(n,e);var t=Xt(n);function n(){return Yt(this,n),t.call(this,{id:"editor.action.inlineSuggest.trigger",label:zt.NC("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:o.u.writable})}return Zt(n,[{key:"run",value:function(e,t){return an(this,void 0,void 0,qt().mark((function e(){var n;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=sn.get(t))&&n.trigger();case 2:case"end":return e.stop()}}),e)})))}}]),n}(r.R6),hn=n(93649),pn=n(44809),vn=n(43238),gn=n(13171),yn=n(53920);function mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||wn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e){return function(e){if(Array.isArray(e))return Sn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=wn(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function wn(e,t){if(e){if("string"==typeof e)return Sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sn(e,t):void 0}}function Sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Ln(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ln(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Ln(i)?i:String(i)),r)}var o,i}function xn(e,t,n){return t&&Cn(e.prototype,t),n&&Cn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ln(e){return Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ln(e)}var On=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Ln(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},En=function(e,t){return function(n,r){t(n,r,e)}},Pn=function(){function e(t,n,r){kn(this,e),this.owner=t,this.range=n,this.controller=r}return xn(e,[{key:"isValidForHoverAnchor",value:function(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}},{key:"hasMultipleSuggestions",value:function(){return this.controller.hasMultipleInlineCompletions()}},{key:"commands",get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.controller.activeModel)||void 0===e?void 0:e.activeInlineCompletionsModel)||void 0===t?void 0:t.completionSession.value)||void 0===n?void 0:n.commands)||[]}}]),e}(),Nn=function(){function e(t,n,r,o,i,a,s){kn(this,e),this._editor=t,this._commandService=n,this._menuService=r,this._contextKeyService=o,this._languageService=i,this._openerService=a,this.accessibilityService=s,this.hoverOrdinal=3}return xn(e,[{key:"suggestHoverAnchor",value:function(e){var t=sn.get(this._editor);if(!t)return null;var n=e.target;if(8===n.type){var r=n.detail;if(t.shouldShowHoverAtViewZone(r.viewZoneId))return new i.YM(1e3,this,m.e.fromPositions(r.positionBefore||r.position,r.positionBefore||r.position))}if(7===n.type&&t.shouldShowHoverAt(n.range))return new i.YM(1e3,this,n.range);if(6===n.type&&(n.detail.mightBeForeignElement&&t.shouldShowHoverAt(n.range)))return new i.YM(1e3,this,n.range);return null}},{key:"computeSync",value:function(e,t){var n=sn.get(this._editor);return n&&n.shouldShowHoverAt(e.range)?[new Pn(this,e.range,n)]:[]}},{key:"renderHoverParts",value:function(e,t){var n=this,r=new u.SL,o=t[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(e,o,r);var i=r.add(this._menuService.createMenu(gn.eH.InlineCompletionsActions,this._contextKeyService)),s=e.statusBar.addAction({label:zt.NC("showNextInlineSuggestion","Next"),commandId:ln.ID,run:function(){return n._commandService.executeCommand(ln.ID)}}),c=e.statusBar.addAction({label:zt.NC("showPreviousInlineSuggestion","Previous"),commandId:fn.ID,run:function(){return n._commandService.executeCommand(fn.ID)}});e.statusBar.addAction({label:zt.NC("acceptInlineSuggestion","Accept"),commandId:a,run:function(){return n._commandService.executeCommand(a)}});for(var l=[s,c],f=0,d=l;f<d.length;f++){d[f].setEnabled(!1)}o.hasMultipleSuggestions().then((function(e){for(var t=0,n=l;t<n.length;t++){n[t].setEnabled(e)}}));var h,p=_n(o.commands);try{var v=function(){var t=h.value;e.statusBar.addAction({label:t.title,commandId:t.id,run:function(){var e;return(e=n._commandService).executeCommand.apply(e,[t.id].concat(bn(t.arguments||[])))}})};for(p.s();!(h=p.n()).done;)v()}catch(e){p.e(e)}finally{p.f()}var g,y=_n(i.getActions());try{for(y.s();!(g=y.n()).done;){var m,b=mn(g.value,2),_=(b[0],_n(b[1]));try{var w=function(){var t=m.value;t instanceof gn.U8&&e.statusBar.addAction({label:t.label,commandId:t.item.id,run:function(){return n._commandService.executeCommand(t.item.id)}})};for(_.s();!(m=_.n()).done;)w()}catch(e){_.e(e)}finally{_.f()}}}catch(e){y.e(e)}finally{y.f()}return r}},{key:"renderScreenReaderText",value:function(e,t,n){var r,o,i=ht.$,a=i("div.hover-row.markdown-hover"),s=ht.append(a,i("div.hover-contents")),u=n.add(new pn.$({editor:this._editor},this._languageService,this._openerService)),c=null===(o=null===(r=t.controller.activeModel)||void 0===r?void 0:r.inlineCompletionsModel)||void 0===o?void 0:o.ghostText;if(c){var l=this._editor.getModel().getLineContent(c.lineNumber);!function(t){n.add(u.onDidRenderAsync((function(){s.className="hover-contents code-hover-contents",e.onContentsChanged()})));var r=zt.NC("inlineSuggestionFollows","Suggestion:"),o=n.add(u.render((new hn.W5).appendText(r).appendCodeblock("text",t)));s.replaceChildren(o.element)}(c.renderForScreenReader(l))}e.fragment.appendChild(a)}}]),e}();Nn=On([En(1,F.Hy),En(2,gn.co),En(3,Kt.i6),En(4,bt.O),En(5,yn.v4),En(6,vn.F)],Nn);var In=n(78165);(0,r._K)(sn.ID,sn),(0,r.Qr)(dn),(0,r.Qr)(ln),(0,r.Qr)(fn),i.Ae.register(Nn);var Rn=r._l.bindToContribution(sn.get),Tn=new Rn({id:a,precondition:sn.inlineSuggestionVisible,handler:function(e){e.commit(),e.editor.focus()}});(0,r.fK)(Tn),In.W.registerKeybindingRule({primary:2,weight:200,id:Tn.id,when:Kt.Ao.and(Tn.precondition,o.u.tabMovesFocus.toNegated(),sn.inlineSuggestionHasIndentationLessThanTabSize)}),(0,r.fK)(new Rn({id:"editor.action.inlineSuggest.hide",precondition:sn.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler:function(e){e.hide()}}))},30889:(e,t,n)=>{n.r(t),n.d(t,{ExpandLineSelectionAction:()=>h});var r=n(18679),o=n(4329),i=n(25112),a=n(18063);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===s(i)?i:String(i)),r)}var o,i}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(f,e);var t,n,r,s=l(f);function f(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),s.call(this,{id:"expandLineSelection",label:a.NC("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:2090}})}return t=f,(n=[{key:"run",value:function(e,t,n){if(n=n||{},t.hasModel()){var r=t._getViewModel();r.model.pushStackElement(),r.setCursorStates(n.source,3,o.P.expandLineSelection(r,r.getCursorStates())),r.revealPrimaryCursor(n.source,!0)}}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.R6);(0,r.Qr)(h)},94901:(e,t,n)=>{n.r(t),n.d(t,{AbstractCaseAction:()=>pe,AbstractDeleteAllToBoundaryAction:()=>ce,AbstractSortLinesAction:()=>X,DeleteAllLeftAction:()=>le,DeleteAllRightAction:()=>fe,DeleteDuplicateLinesAction:()=>ne,DeleteLinesAction:()=>oe,DuplicateSelectionAction:()=>Q,IndentLinesAction:()=>ie,InsertLineAfterAction:()=>ue,InsertLineBeforeAction:()=>se,JoinLinesAction:()=>de,KebabCaseAction:()=>_e,LowerCaseAction:()=>ge,SnakeCaseAction:()=>be,SortLinesAscendingAction:()=>ee,SortLinesDescendingAction:()=>te,TitleCaseAction:()=>me,TransposeAction:()=>he,TrimTrailingWhitespaceAction:()=>re,UpperCaseAction:()=>ve});var r=n(11407),o=n(48872),i=n(18679),a=n(25099),s=n(93162),u=n(90425),c=n(23942),l=n(51638),f=n(48466),d=n(85963),h=n(25112);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===p(i)?i:String(i)),r)}var o,i}var g=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selection=t,this._isCopyingDown=n,this._noop=r||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}var t,n,r;return t=e,(n=[{key:"getEditOperations",value:function(e,t){var n=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._endLineNumberDelta=1,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));for(var r=[],o=n.startLineNumber;o<=n.endLineNumber;o++)r.push(e.getLineContent(o));var i=r.join("\n");""===i&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new f.e(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber+1,1),n.endLineNumber===e.getLineCount()?"":"\n"):this._isCopyingDown?t.addEditOperation(new f.e(n.startLineNumber,1,n.startLineNumber,1),i+"\n"):t.addEditOperation(new f.e(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+i),this._selectionId=t.trackSelection(n),this._selectionDirection=this._selection.getDirection()}},{key:"computeCursorState",value:function(e,t){var n=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){var r=n.startLineNumber,o=n.startColumn,i=n.endLineNumber,a=n.endColumn;0!==this._startLineNumberDelta&&(r+=this._startLineNumberDelta,o=1),0!==this._endLineNumberDelta&&(i+=this._endLineNumberDelta,a=1),n=d.Y.createWithDirection(r,o,i,a,this._selectionDirection)}return n}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),y=n(46969),m=n(53107),b=n(76379),_=n(77846),w=n(64073),S=n(49690),k=n(33639);function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===x(i)?i:String(i)),r)}var o,i}function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}var L=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":x(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},O=function(e,t){return function(n,r){t(n,r,e)}},E=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._languageConfigurationService=o,this._selection=t,this._isMovingDown=n,this._autoIndent=r,this._selectionId=null,this._moveEndLineSelectionShrink=!1}var t,n,r;return t=e,(n=[{key:"getEditOperations",value:function(e,t){var n=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n)this._selectionId=t.trackSelection(this._selection);else if(this._isMovingDown||1!==this._selection.startLineNumber){this._moveEndPositionDown=!1;var r=this._selection;r.startLineNumber<r.endLineNumber&&1===r.endColumn&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,e.getLineMaxColumn(r.endLineNumber-1)));var o=e.getOptions(),i=o.tabSize,a=o.indentSize,s=o.insertSpaces,u=this.buildIndentConverter(i,a,s),c={tokenization:{getLineTokens:function(t){return e.tokenization.getLineTokens(t)},getLanguageId:function(){return e.getLanguageId()},getLanguageIdAtPosition:function(t,n){return e.getLanguageIdAtPosition(t,n)}},getLineContent:null};if(r.startLineNumber===r.endLineNumber&&1===e.getLineMaxColumn(r.startLineNumber)){var l=r.startLineNumber,h=this._isMovingDown?l+1:l-1;1===e.getLineMaxColumn(h)?t.addEditOperation(new f.e(1,1,1,1),null):(t.addEditOperation(new f.e(l,1,l,1),e.getLineContent(h)),t.addEditOperation(new f.e(h,1,h,e.getLineMaxColumn(h)),null)),r=new d.Y(h,1,h,1)}else{var p,v;if(this._isMovingDown){p=r.endLineNumber+1,v=e.getLineContent(p),t.addEditOperation(new f.e(p-1,e.getLineMaxColumn(p-1),p,e.getLineMaxColumn(p)),null);var g=v;if(this.shouldAutoIndent(e,r)){var m=this.matchEnterRule(e,u,i,p,r.startLineNumber-1);if(null!==m){var b=y.V8(e.getLineContent(p)),_=m+w.Y(b,i),k=w.J(_,i,s);g=k+this.trimLeft(v)}else{c.getLineContent=function(t){return t===r.startLineNumber?e.getLineContent(p):e.getLineContent(t)};var C=(0,S.n8)(this._autoIndent,c,e.getLanguageIdAtPosition(p,1),r.startLineNumber,u,this._languageConfigurationService);if(null!==C){var x=y.V8(e.getLineContent(p)),L=w.Y(C,i);if(L!==w.Y(x,i)){var O=w.J(L,i,s);g=O+this.trimLeft(v)}}}t.addEditOperation(new f.e(r.startLineNumber,1,r.startLineNumber,1),g+"\n");var E=this.matchEnterRuleMovingDown(e,u,i,r.startLineNumber,p,g);if(null!==E)0!==E&&this.getIndentEditsOfMovingBlock(e,t,r,i,s,E);else{c.getLineContent=function(t){return t===r.startLineNumber?g:t>=r.startLineNumber+1&&t<=r.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t)};var P=(0,S.n8)(this._autoIndent,c,e.getLanguageIdAtPosition(p,1),r.startLineNumber+1,u,this._languageConfigurationService);if(null!==P){var N=y.V8(e.getLineContent(r.startLineNumber)),I=w.Y(P,i),R=w.Y(N,i);if(I!==R){var T=I-R;this.getIndentEditsOfMovingBlock(e,t,r,i,s,T)}}}}else t.addEditOperation(new f.e(r.startLineNumber,1,r.startLineNumber,1),g+"\n")}else if(p=r.startLineNumber-1,v=e.getLineContent(p),t.addEditOperation(new f.e(p,1,p+1,1),null),t.addEditOperation(new f.e(r.endLineNumber,e.getLineMaxColumn(r.endLineNumber),r.endLineNumber,e.getLineMaxColumn(r.endLineNumber)),"\n"+v),this.shouldAutoIndent(e,r)){c.getLineContent=function(t){return t===p?e.getLineContent(r.startLineNumber):e.getLineContent(t)};var j=this.matchEnterRule(e,u,i,r.startLineNumber,r.startLineNumber-2);if(null!==j)0!==j&&this.getIndentEditsOfMovingBlock(e,t,r,i,s,j);else{var A=(0,S.n8)(this._autoIndent,c,e.getLanguageIdAtPosition(r.startLineNumber,1),p,u,this._languageConfigurationService);if(null!==A){var D=y.V8(e.getLineContent(r.startLineNumber)),M=w.Y(A,i),F=w.Y(D,i);if(M!==F){var W=M-F;this.getIndentEditsOfMovingBlock(e,t,r,i,s,W)}}}}}this._selectionId=t.trackSelection(r)}else this._selectionId=t.trackSelection(this._selection)}},{key:"buildIndentConverter",value:function(e,t,n){return{shiftIndent:function(r){return m.U.shiftIndent(r,r.length+1,e,t,n)},unshiftIndent:function(r){return m.U.unshiftIndent(r,r.length+1,e,t,n)}}}},{key:"parseEnterResult",value:function(e,t,n,r,o){if(o){var i=o.indentation;o.indentAction===b.wU.None||o.indentAction===b.wU.Indent?i=o.indentation+o.appendText:o.indentAction===b.wU.IndentOutdent?i=o.indentation:o.indentAction===b.wU.Outdent&&(i=t.unshiftIndent(o.indentation)+o.appendText);var a=e.getLineContent(r);if(this.trimLeft(a).indexOf(this.trimLeft(i))>=0){var s=y.V8(e.getLineContent(r)),u=y.V8(i),c=(0,S.tI)(e,r,this._languageConfigurationService);return null!==c&&2&c&&(u=t.unshiftIndent(u)),w.Y(u,n)-w.Y(s,n)}}return null}},{key:"matchEnterRuleMovingDown",value:function(e,t,n,r,o,i){if(y.ow(i)>=0){var a=e.getLineMaxColumn(o),s=(0,k.A)(this._autoIndent,e,new f.e(o,a,o,a),this._languageConfigurationService);return this.parseEnterResult(e,t,n,r,s)}for(var u=r-1;u>=1;){var c=e.getLineContent(u);if(y.ow(c)>=0)break;u--}if(u<1||r>e.getLineCount())return null;var l=e.getLineMaxColumn(u),d=(0,k.A)(this._autoIndent,e,new f.e(u,l,u,l),this._languageConfigurationService);return this.parseEnterResult(e,t,n,r,d)}},{key:"matchEnterRule",value:function(e,t,n,r,o,i){for(var a=o;a>=1;){var s=void 0;if(s=a===o&&void 0!==i?i:e.getLineContent(a),y.ow(s)>=0)break;a--}if(a<1||r>e.getLineCount())return null;var u=e.getLineMaxColumn(a),c=(0,k.A)(this._autoIndent,e,new f.e(a,u,a,u),this._languageConfigurationService);return this.parseEnterResult(e,t,n,r,c)}},{key:"trimLeft",value:function(e){return e.replace(/^\s+/,"")}},{key:"shouldAutoIndent",value:function(e,t){if(this._autoIndent<4)return!1;if(!e.tokenization.isCheapToTokenize(t.startLineNumber))return!1;var n=e.getLanguageIdAtPosition(t.startLineNumber,1);return n===e.getLanguageIdAtPosition(t.endLineNumber,1)&&null!==this._languageConfigurationService.getLanguageConfiguration(n).indentRulesSupport}},{key:"getIndentEditsOfMovingBlock",value:function(e,t,n,r,o,i){for(var a=n.startLineNumber;a<=n.endLineNumber;a++){var s=e.getLineContent(a),u=y.V8(s),c=w.Y(u,r)+i,l=w.J(c,r,o);l!==u&&(t.addEditOperation(new f.e(a,1,a,u.length+1),l),a===n.endLineNumber&&n.endColumn<=u.length+1&&""===l&&(this._moveEndLineSelectionShrink=!0))}}},{key:"computeCursorState",value:function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n}}])&&C(t.prototype,n),r&&C(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===P(i)?i:String(i)),r)}var o,i}E=L([O(3,_.c_)],E);var I=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selection=t,this.descending=n,this.selectionId=null}var t,n,r;return t=e,r=[{key:"getCollator",value:function(){return e._COLLATOR||(e._COLLATOR=new Intl.Collator),e._COLLATOR}},{key:"canRun",value:function(e,t,n){if(null===e)return!1;var r=R(e,t,n);if(!r)return!1;for(var o=0,i=r.before.length;o<i;o++)if(r.before[o]!==r.after[o])return!0;return!1}}],(n=[{key:"getEditOperations",value:function(e,t){var n=function(e,t,n){var r=R(e,t,n);return r?c.h.replace(new f.e(r.startLineNumber,1,r.endLineNumber,e.getLineMaxColumn(r.endLineNumber)),r.after.join("\n")):null}(e,this.selection,this.descending);n&&t.addEditOperation(n.range,n.text),this.selectionId=t.trackSelection(this.selection)}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this.selectionId)}}])&&N(t.prototype,n),r&&N(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function R(e,t,n){var r=t.startLineNumber,o=t.endLineNumber;if(1===t.endColumn&&o--,r>=o)return null;for(var i=[],a=r;a<=o;a++)i.push(e.getLineContent(a));var s=i.slice(0);return s.sort(I.getCollator().compare),!0===n&&(s=s.reverse()),{startLineNumber:r,endLineNumber:o,before:i,after:s}}I._COLLATOR=null;var T=n(18063),j=n(13171);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function D(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===A(i)?i:String(i)),r)}var o,i}function H(e,t,n){return t&&W(e.prototype,t),n&&W(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}function G(e,t){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},G(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}function U(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function z(e){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},z(e)}var K=function(e){B(n,e);var t=V(n);function n(e,r){var o;return F(this,n),(o=t.call(this,r)).down=e,o}return H(n,[{key:"run",value:function(e,t){if(t.hasModel()){var n=t.getSelections().map((function(e,t){return{selection:e,index:t,ignore:!1}}));n.sort((function(e,t){return f.e.compareRangesUsingStarts(e.selection,t.selection)}));for(var r=n[0],o=1;o<n.length;o++){var i=n[o];r.selection.endLineNumber===i.selection.startLineNumber&&(r.index<i.index?i.ignore=!0:(r.ignore=!0,r=i))}var a,s=[],u=D(n);try{for(u.s();!(a=u.n()).done;){var c=a.value;s.push(new g(c.selection,this.down,c.ignore))}}catch(e){u.e(e)}finally{u.f()}t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}}]),n}(i.R6),q=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,!1,{id:"editor.action.copyLinesUpAction",label:T.NC("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:h.u.writable,kbOpts:{kbExpr:h.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:j.eH.MenubarSelectionMenu,group:"2_line",title:T.NC({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}return H(n)}(K),Y=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,!0,{id:"editor.action.copyLinesDownAction",label:T.NC("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:h.u.writable,kbOpts:{kbExpr:h.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:j.eH.MenubarSelectionMenu,group:"2_line",title:T.NC({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}return H(n)}(K),Q=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,{id:"editor.action.duplicateSelection",label:T.NC("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:h.u.writable,menuOpts:{menuId:j.eH.MenubarSelectionMenu,group:"2_line",title:T.NC({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}return H(n,[{key:"run",value:function(e,t,n){if(t.hasModel()){var r,o=[],i=t.getSelections(),s=t.getModel(),u=D(i);try{for(u.s();!(r=u.n()).done;){var c=r.value;if(c.isEmpty())o.push(new g(c,!0));else{var l=new d.Y(c.endLineNumber,c.endColumn,c.endLineNumber,c.endColumn);o.push(new a.OY(l,s.getValueInRange(c)))}}}catch(e){u.e(e)}finally{u.f()}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}}]),n}(i.R6),Z=function(e){B(n,e);var t=V(n);function n(e,r){var o;return F(this,n),(o=t.call(this,r)).down=e,o}return H(n,[{key:"run",value:function(e,t){var n,r=e.get(_.c_),o=[],i=t.getSelections()||[],a=t.getOption(9),s=D(i);try{for(s.s();!(n=s.n()).done;){var u=n.value;o.push(new E(u,this.down,a,r))}}catch(e){s.e(e)}finally{s.f()}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}]),n}(i.R6),$=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,!1,{id:"editor.action.moveLinesUpAction",label:T.NC("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:h.u.writable,kbOpts:{kbExpr:h.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:j.eH.MenubarSelectionMenu,group:"2_line",title:T.NC({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}return H(n)}(Z),J=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,!0,{id:"editor.action.moveLinesDownAction",label:T.NC("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:h.u.writable,kbOpts:{kbExpr:h.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:j.eH.MenubarSelectionMenu,group:"2_line",title:T.NC({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}return H(n)}(Z),X=function(e){B(n,e);var t=V(n);function n(e,r){var o;return F(this,n),(o=t.call(this,r)).descending=e,o}return H(n,[{key:"run",value:function(e,t){var n,r=t.getSelections()||[],o=D(r);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(!I.canRun(t.getModel(),i,this.descending))return}}catch(e){o.e(e)}finally{o.f()}for(var a=[],s=0,u=r.length;s<u;s++)a[s]=new I(r[s],this.descending);t.pushUndoStop(),t.executeCommands(this.id,a),t.pushUndoStop()}}]),n}(i.R6),ee=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,!1,{id:"editor.action.sortLinesAscending",label:T.NC("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:h.u.writable})}return H(n)}(X),te=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,!0,{id:"editor.action.sortLinesDescending",label:T.NC("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:h.u.writable})}return H(n)}(X),ne=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,{id:"editor.action.removeDuplicateLines",label:T.NC("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:h.u.writable})}return H(n,[{key:"run",value:function(e,t){if(t.hasModel()){var n=t.getModel();if(1!==n.getLineCount()||1!==n.getLineMaxColumn(1)){var r,o=[],i=[],a=0,s=D(t.getSelections());try{for(s.s();!(r=s.n()).done;){for(var u=r.value,l=new Set,f=[],h=u.startLineNumber;h<=u.endLineNumber;h++){var p=n.getLineContent(h);l.has(p)||(f.push(p),l.add(p))}var v=new d.Y(u.startLineNumber,1,u.endLineNumber,n.getLineMaxColumn(u.endLineNumber)),g=u.startLineNumber-a,y=new d.Y(g,1,g+f.length-1,f[f.length-1].length);o.push(c.h.replace(v,f.join("\n"))),i.push(y),a+=u.endLineNumber-u.startLineNumber+1-f.length}}catch(e){s.e(e)}finally{s.f()}t.pushUndoStop(),t.executeEdits(this.id,o,i),t.pushUndoStop()}}}}]),n}(i.R6),re=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,{id:n.ID,label:T.NC("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:h.u.writable,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,r.gx)(2089,2102),weight:100}})}return H(n,[{key:"run",value:function(e,t,n){var r=[];"auto-save"===n.reason&&(r=(t.getSelections()||[]).map((function(e){return new l.L(e.positionLineNumber,e.positionColumn)})));var o=t.getSelection();if(null!==o){var i=new s.V(o,r);t.pushUndoStop(),t.executeCommands(this.id,[i]),t.pushUndoStop()}}}]),n}(i.R6);re.ID="editor.action.trimTrailingWhitespace";var oe=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,{id:"editor.action.deleteLines",label:T.NC("lines.delete","Delete Line"),alias:"Delete Line",precondition:h.u.writable,kbOpts:{kbExpr:h.u.textInputFocus,primary:3113,weight:100}})}return H(n,[{key:"run",value:function(e,t){if(t.hasModel()){var n=this._getLinesToRemove(t),r=t.getModel();if(1!==r.getLineCount()||1!==r.getLineMaxColumn(1)){for(var o=0,i=[],a=[],s=0,u=n.length;s<u;s++){var l=n[s],f=l.startLineNumber,h=l.endLineNumber,p=1,v=r.getLineMaxColumn(h);h<r.getLineCount()?(h+=1,v=1):f>1&&(f-=1,p=r.getLineMaxColumn(f)),i.push(c.h.replace(new d.Y(f,p,h,v),"")),a.push(new d.Y(f-o,l.positionColumn,f-o,l.positionColumn)),o+=l.endLineNumber-l.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,i,a),t.pushUndoStop()}}}},{key:"_getLinesToRemove",value:function(e){var t=e.getSelections().map((function(e){var t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,selectionStartColumn:e.selectionStartColumn,endLineNumber:t,positionColumn:e.positionColumn}}));t.sort((function(e,t){return e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber}));for(var n=[],r=t[0],o=1;o<t.length;o++)r.endLineNumber+1>=t[o].startLineNumber?r.endLineNumber=t[o].endLineNumber:(n.push(r),r=t[o]);return n.push(r),n}}]),n}(i.R6),ie=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,{id:"editor.action.indentLines",label:T.NC("lines.indent","Indent Line"),alias:"Indent Line",precondition:h.u.writable,kbOpts:{kbExpr:h.u.editorTextFocus,primary:2137,weight:100}})}return H(n,[{key:"run",value:function(e,t){var n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,u.u6.indent(n.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}]),n}(i.R6),ae=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,{id:"editor.action.outdentLines",label:T.NC("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:h.u.writable,kbOpts:{kbExpr:h.u.editorTextFocus,primary:2135,weight:100}})}return H(n,[{key:"run",value:function(e,t){o.CoreEditingCommands.Outdent.runEditorCommand(e,t,null)}}]),n}(i.R6),se=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,{id:"editor.action.insertLineBefore",label:T.NC("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:h.u.writable,kbOpts:{kbExpr:h.u.editorTextFocus,primary:3075,weight:100}})}return H(n,[{key:"run",value:function(e,t){var n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,u.u6.lineInsertBefore(n.cursorConfig,t.getModel(),t.getSelections())))}}]),n}(i.R6),ue=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,{id:"editor.action.insertLineAfter",label:T.NC("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:h.u.writable,kbOpts:{kbExpr:h.u.editorTextFocus,primary:2051,weight:100}})}return H(n,[{key:"run",value:function(e,t){var n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,u.u6.lineInsertAfter(n.cursorConfig,t.getModel(),t.getSelections())))}}]),n}(i.R6),ce=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.apply(this,arguments)}return H(n,[{key:"run",value:function(e,t){if(t.hasModel()){for(var n=t.getSelection(),r=this._getRangesToDelete(t),o=[],i=0,a=r.length-1;i<a;i++){var s=r[i],u=r[i+1];null===f.e.intersectRanges(s,u)?o.push(s):r[i+1]=f.e.plusRange(s,u)}o.push(r[r.length-1]);var l=this._getEndCursorState(n,o),d=o.map((function(e){return c.h.replace(e,"")}));t.pushUndoStop(),t.executeEdits(this.id,d,l),t.pushUndoStop()}}}]),n}(i.R6),le=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,{id:"deleteAllLeft",label:T.NC("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:h.u.writable,kbOpts:{kbExpr:h.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}return H(n,[{key:"_getEndCursorState",value:function(e,t){var n=null,r=[],o=0;return t.forEach((function(t){var i;if(1===t.endColumn&&o>0){var a=t.startLineNumber-o;i=new d.Y(a,t.startColumn,a,t.startColumn)}else i=new d.Y(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn);o+=t.endLineNumber-t.startLineNumber,t.intersectRanges(e)?n=i:r.push(i)})),n&&r.unshift(n),r}},{key:"_getRangesToDelete",value:function(e){var t=e.getSelections();if(null===t)return[];var n=t,r=e.getModel();return null===r?[]:(n.sort(f.e.compareRangesUsingStarts),n=n.map((function(e){if(e.isEmpty()){if(1===e.startColumn){var t=Math.max(1,e.startLineNumber-1),n=1===e.startLineNumber?1:r.getLineContent(t).length+1;return new f.e(t,n,e.startLineNumber,1)}return new f.e(e.startLineNumber,1,e.startLineNumber,e.startColumn)}return new f.e(e.startLineNumber,1,e.endLineNumber,e.endColumn)})))}}]),n}(ce),fe=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,{id:"deleteAllRight",label:T.NC("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:h.u.writable,kbOpts:{kbExpr:h.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}return H(n,[{key:"_getEndCursorState",value:function(e,t){for(var n=null,r=[],o=0,i=t.length;o<i;o++){var a=t[o],s=new d.Y(a.startLineNumber-0,a.startColumn,a.startLineNumber-0,a.startColumn);a.intersectRanges(e)?n=s:r.push(s)}return n&&r.unshift(n),r}},{key:"_getRangesToDelete",value:function(e){var t=e.getModel();if(null===t)return[];var n=e.getSelections();if(null===n)return[];var r=n.map((function(e){if(e.isEmpty()){var n=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===n?new f.e(e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new f.e(e.startLineNumber,e.startColumn,e.startLineNumber,n)}return e}));return r.sort(f.e.compareRangesUsingStarts),r}}]),n}(ce),de=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,{id:"editor.action.joinLines",label:T.NC("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:h.u.writable,kbOpts:{kbExpr:h.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}return H(n,[{key:"run",value:function(e,t){var n=t.getSelections();if(null!==n){var r=t.getSelection();if(null!==r){n.sort(f.e.compareRangesUsingStarts);var o=[],i=n.reduce((function(e,t){return e.isEmpty()?e.endLineNumber===t.startLineNumber?(r.equalsSelection(e)&&(r=t),t):t.startLineNumber>e.endLineNumber+1?(o.push(e),t):new d.Y(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(o.push(e),t):new d.Y(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn)}));o.push(i);var a=t.getModel();if(null!==a){for(var s=[],u=[],l=r,h=0,p=0,v=o.length;p<v;p++){var g=o[p],y=g.startLineNumber,m=0,b=void 0,_=void 0,w=a.getLineContent(g.endLineNumber).length-g.endColumn;if(g.isEmpty()||g.startLineNumber===g.endLineNumber){var S=g.getStartPosition();S.lineNumber<a.getLineCount()?(b=y+1,_=a.getLineMaxColumn(b)):(b=S.lineNumber,_=a.getLineMaxColumn(S.lineNumber))}else b=g.endLineNumber,_=a.getLineMaxColumn(b);for(var k=a.getLineContent(y),C=y+1;C<=b;C++){var x=a.getLineContent(C),L=a.getLineFirstNonWhitespaceColumn(C);if(L>=1){var O=!0;""===k&&(O=!1),!O||" "!==k.charAt(k.length-1)&&"\t"!==k.charAt(k.length-1)||(O=!1,k=k.replace(/[\s\uFEFF\xA0]+$/g," "));var E=x.substr(L-1);k+=(O?" ":"")+E,m=O?E.length+1:E.length}else m=0}var P=new f.e(y,1,b,_);if(!P.isEmpty()){var N=void 0;g.isEmpty()?(s.push(c.h.replace(P,k)),N=new d.Y(P.startLineNumber-h,k.length-m+1,y-h,k.length-m+1)):g.startLineNumber===g.endLineNumber?(s.push(c.h.replace(P,k)),N=new d.Y(g.startLineNumber-h,g.startColumn,g.endLineNumber-h,g.endColumn)):(s.push(c.h.replace(P,k)),N=new d.Y(g.startLineNumber-h,g.startColumn,g.startLineNumber-h,k.length-w)),null!==f.e.intersectRanges(P,r)?l=N:u.push(N)}h+=P.endLineNumber-P.startLineNumber}u.unshift(l),t.pushUndoStop(),t.executeEdits(this.id,s,u),t.pushUndoStop()}}}}}]),n}(i.R6),he=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,{id:"editor.action.transpose",label:T.NC("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:h.u.writable})}return H(n,[{key:"run",value:function(e,t){var n=t.getSelections();if(null!==n){var r=t.getModel();if(null!==r){for(var o=[],i=0,s=n.length;i<s;i++){var u=n[i];if(u.isEmpty()){var c=u.getStartPosition(),l=r.getLineMaxColumn(c.lineNumber);if(c.column>=l){if(c.lineNumber===r.getLineCount())continue;var h=new f.e(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),p=r.getValueInRange(h).split("").reverse().join("");o.push(new a.T4(new d.Y(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),p))}else{var v=new f.e(c.lineNumber,Math.max(1,c.column-1),c.lineNumber,c.column+1),g=r.getValueInRange(v).split("").reverse().join("");o.push(new a.hP(v,g,new d.Y(c.lineNumber,c.column+1,c.lineNumber,c.column+1)))}}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}}}]),n}(i.R6),pe=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.apply(this,arguments)}return H(n,[{key:"run",value:function(e,t){var n=t.getSelections();if(null!==n){var r=t.getModel();if(null!==r){var o,i=t.getOption(119),a=[],s=D(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(u.isEmpty()){var l=u.getStartPosition(),d=t.getConfiguredWordAtPosition(l);if(!d)continue;var h=new f.e(l.lineNumber,d.startColumn,l.lineNumber,d.endColumn),p=r.getValueInRange(h);a.push(c.h.replace(h,this._modifyText(p,i)))}else{var v=r.getValueInRange(u);a.push(c.h.replace(u,this._modifyText(v,i)))}}}catch(e){s.e(e)}finally{s.f()}t.pushUndoStop(),t.executeEdits(this.id,a),t.pushUndoStop()}}}}]),n}(i.R6),ve=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,{id:"editor.action.transformToUppercase",label:T.NC("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:h.u.writable})}return H(n,[{key:"_modifyText",value:function(e,t){return e.toLocaleUpperCase()}}]),n}(pe),ge=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,{id:"editor.action.transformToLowercase",label:T.NC("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:h.u.writable})}return H(n,[{key:"_modifyText",value:function(e,t){return e.toLocaleLowerCase()}}]),n}(pe),ye=function(){function e(t,n){F(this,e),this._pattern=t,this._flags=n,this._actual=null,this._evaluated=!1}return H(e,[{key:"get",value:function(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}},{key:"isSupported",value:function(){return null!==this.get()}}]),e}(),me=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,{id:"editor.action.transformToTitlecase",label:T.NC("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:h.u.writable})}return H(n,[{key:"_modifyText",value:function(e,t){var r=n.titleBoundary.get();return r?e.toLocaleLowerCase().replace(r,(function(e){return e.toLocaleUpperCase()})):e}}]),n}(pe);me.titleBoundary=new ye("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");var be=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,{id:"editor.action.transformToSnakecase",label:T.NC("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:h.u.writable})}return H(n,[{key:"_modifyText",value:function(e,t){var r=n.caseBoundary.get(),o=n.singleLetters.get();return r&&o?e.replace(r,"$1_$2").replace(o,"$1_$2$3").toLocaleLowerCase():e}}]),n}(pe);be.caseBoundary=new ye("(\\p{Ll})(\\p{Lu})","gmu"),be.singleLetters=new ye("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");var _e=function(e){B(n,e);var t=V(n);function n(){return F(this,n),t.call(this,{id:"editor.action.transformToKebabcase",label:T.NC("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:h.u.writable})}return H(n,[{key:"_modifyText",value:function(e,t){var r=n.caseBoundary.get(),o=n.singleLetters.get(),i=n.underscoreBoundary.get();return r&&o&&i?e.replace(i,"$1-$3").replace(r,"$1-$2").replace(o,"$1-$2").toLocaleLowerCase():e}}],[{key:"isSupported",value:function(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every((function(e){return e.isSupported()}))}}]),n}(pe);_e.caseBoundary=new ye("(\\p{Ll})(\\p{Lu})","gmu"),_e.singleLetters=new ye("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),_e.underscoreBoundary=new ye("(\\S)(_)(\\S)","gm"),(0,i.Qr)(q),(0,i.Qr)(Y),(0,i.Qr)(Q),(0,i.Qr)($),(0,i.Qr)(J),(0,i.Qr)(ee),(0,i.Qr)(te),(0,i.Qr)(ne),(0,i.Qr)(re),(0,i.Qr)(oe),(0,i.Qr)(ie),(0,i.Qr)(ae),(0,i.Qr)(se),(0,i.Qr)(ue),(0,i.Qr)(le),(0,i.Qr)(fe),(0,i.Qr)(de),(0,i.Qr)(he),(0,i.Qr)(ve),(0,i.Qr)(ge),be.caseBoundary.isSupported()&&be.singleLetters.isSupported()&&(0,i.Qr)(be),me.titleBoundary.isSupported()&&(0,i.Qr)(me),_e.isSupported()&&(0,i.Qr)(_e)},6112:(e,t,n)=>{n.r(t),n.d(t,{CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE:()=>V,LinkedEditingAction:()=>K,LinkedEditingContribution:()=>z,editorLinkedEditingBackground:()=>Q});var r=n(86193),o=n(95295),i=n(2307),a=n(60160),s=n(95835),u=n(82459),c=n(38709),l=n(46969),f=n(83916),d=n(18679),h=n(37845),p=n(51638),v=n(48466),g=n(25112),y=n(3817),m=n(77846),b=n(18063),_=n(73589),w=n(41367),S=n(38656),k=n(31213),C=n(75758),x=n(16769);function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(){E=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==W(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==W(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===W(i)?i:String(i)),r)}var o,i}function I(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function R(){return R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=T(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},R.apply(this,arguments)}function T(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=F(e)););return e}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var o=F(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}function M(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}var H=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":W(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},B=function(e,t){return function(n,r){t(n,r,e)}},G=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},V=new _.uy("LinkedEditingInputVisible",!1),U="linked-editing-decoration",z=function(e){j(n,e);var t=D(n);function n(e,r,o,i,a){var s;return P(this,n),(s=t.call(this)).languageConfigurationService=i,s._syncRangesToken=0,s._localToDispose=s._register(new c.SL),s._editor=e,s._providers=o.linkedEditingRangeProvider,s._enabled=!1,s._visibleContextKey=V.bindTo(r),s._debounceInformation=a.for(s._providers,"Linked Editing",{min:200}),s._currentDecorations=s._editor.createDecorationsCollection(),s._languageWordPattern=null,s._currentWordPattern=null,s._ignoreChangeEvent=!1,s._localToDispose=s._register(new c.SL),s._rangeUpdateTriggerPromise=null,s._rangeSyncTriggerPromise=null,s._currentRequest=null,s._currentRequestPosition=null,s._currentRequestModelVersion=null,s._register(s._editor.onDidChangeModel((function(){return s.reinitialize(!0)}))),s._register(s._editor.onDidChangeConfiguration((function(e){(e.hasChanged(64)||e.hasChanged(84))&&s.reinitialize(!1)}))),s._register(s._providers.onDidChange((function(){return s.reinitialize(!1)}))),s._register(s._editor.onDidChangeModelLanguage((function(){return s.reinitialize(!0)}))),s.reinitialize(!0),s}return I(n,[{key:"reinitialize",value:function(e){var t=this,n=this._editor.getModel(),r=null!==n&&(this._editor.getOption(64)||this._editor.getOption(84))&&this._providers.has(n);if((r!==this._enabled||e)&&(this._enabled=r,this.clearRanges(),this._localToDispose.clear(),r&&null!==n)){this._localToDispose.add(u.ju.runAndSubscribe(n.onDidChangeLanguageConfiguration,(function(){t._languageWordPattern=t.languageConfigurationService.getLanguageConfiguration(n.getLanguageId()).getWordDefinition()})));var i=new o.vp(this._debounceInformation.get(n)),a=function(){var e;t._rangeUpdateTriggerPromise=i.trigger((function(){return t.updateRanges()}),null!==(e=t._debounceDuration)&&void 0!==e?e:t._debounceInformation.get(n))},s=new o.vp(0);this._localToDispose.add(this._editor.onDidChangeCursorPosition((function(){a()}))),this._localToDispose.add(this._editor.onDidChangeModelContent((function(e){if(!t._ignoreChangeEvent&&t._currentDecorations.length>0){var n=t._currentDecorations.getRange(0);if(n&&e.changes.every((function(e){return n.intersectRanges(e.range)})))return r=t._syncRangesToken,void(t._rangeSyncTriggerPromise=s.trigger((function(){return t._syncRanges(r)})))}var r;a()}))),this._localToDispose.add({dispose:function(){i.dispose(),s.dispose()}}),this.updateRanges()}}},{key:"_syncRanges",value:function(e){if(this._editor.hasModel()&&e===this._syncRangesToken&&0!==this._currentDecorations.length){var t=this._editor.getModel(),n=this._currentDecorations.getRange(0);if(!n||n.startLineNumber!==n.endLineNumber)return this.clearRanges();var r=t.getValueInRange(n);if(this._currentWordPattern){var o=r.match(this._currentWordPattern);if((o?o[0].length:0)!==r.length)return this.clearRanges()}for(var i=[],a=1,s=this._currentDecorations.length;a<s;a++){var u=this._currentDecorations.getRange(a);if(u)if(u.startLineNumber!==u.endLineNumber)i.push({range:u,text:r});else{var c=t.getValueInRange(u),f=r,d=u.startColumn,h=u.endColumn,p=l.Mh(c,f);d+=p,c=c.substr(p),f=f.substr(p);var g=l.P1(c,f);h-=g,c=c.substr(0,c.length-g),f=f.substr(0,f.length-g),d===h&&0===f.length||i.push({range:new v.e(u.startLineNumber,d,u.endLineNumber,h),text:f})}}if(0!==i.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;var y=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",i),this._editor._getViewModel().setPrevEditOperationType(y)}finally{this._ignoreChangeEvent=!1}}}},{key:"dispose",value:function(){this.clearRanges(),R(F(n.prototype),"dispose",this).call(this)}},{key:"clearRanges",value:function(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}},{key:"updateRanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return G(this,void 0,void 0,E().mark((function t(){var r,i,a,u,c,l=this;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._editor.hasModel()){t.next=3;break}return this.clearRanges(),t.abrupt("return");case 3:if(r=this._editor.getPosition(),!(!this._enabled&&!e||this._editor.getSelections().length>1)){t.next=7;break}return this.clearRanges(),t.abrupt("return");case 7:if(i=this._editor.getModel(),a=i.getVersionId(),!this._currentRequestPosition||this._currentRequestModelVersion!==a){t.next=16;break}if(!r.equals(this._currentRequestPosition)){t.next=12;break}return t.abrupt("return");case 12:if(!(this._currentDecorations.length>0)){t.next=16;break}if(!(u=this._currentDecorations.getRange(0))||!u.containsPosition(r)){t.next=16;break}return t.abrupt("return");case 16:return this._currentRequestPosition=r,this._currentRequestModelVersion=a,c=(0,o.PG)((function(e){return G(l,void 0,void 0,E().mark((function t(){var o,u,l,f,d,h,p,g;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=new x.G(!1),t.next=4,Y(this._providers,i,r,e);case 4:if(u=t.sent,this._debounceInformation.update(i,o.elapsed()),c===this._currentRequest){t.next=8;break}return t.abrupt("return");case 8:if(this._currentRequest=null,a===i.getVersionId()){t.next=11;break}return t.abrupt("return");case 11:l=[],(null==u?void 0:u.ranges)&&(l=u.ranges),this._currentWordPattern=(null==u?void 0:u.wordPattern)||this._languageWordPattern,f=!1,d=0,h=l.length;case 16:if(!(d<h)){t.next=24;break}if(!v.e.containsPosition(l[d],r)){t.next=21;break}return f=!0,0!==d&&(p=l[d],l.splice(d,1),l.unshift(p)),t.abrupt("break",24);case 21:d++,t.next=16;break;case 24:if(f){t.next=27;break}return this.clearRanges(),t.abrupt("return");case 27:g=l.map((function(e){return{range:e,options:n.DECORATION}})),this._visibleContextKey.set(!0),this._currentDecorations.set(g),this._syncRangesToken++,t.next=37;break;case 33:t.prev=33,t.t0=t.catch(0),(0,s.n2)(t.t0)||(0,s.dL)(t.t0),this._currentRequest!==c&&this._currentRequest||this.clearRanges();case 37:case"end":return t.stop()}}),t,this,[[0,33]])})))})),this._currentRequest=c,t.abrupt("return",c);case 21:case"end":return t.stop()}}),t,this)})))}}],[{key:"get",value:function(e){return e.getContribution(n.ID)}}]),n}(c.JT);z.ID="editor.contrib.linkedEditing",z.DECORATION=y.qx.register({description:"linked-editing",stickiness:0,className:U}),z=H([B(1,_.i6),B(2,k.p),B(3,m.c_),B(4,C.A)],z);var K=function(e){j(n,e);var t=D(n);function n(){return P(this,n),t.call(this,{id:"editor.action.linkedEditing",label:b.NC("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:_.Ao.and(g.u.writable,g.u.hasRenameProvider),kbOpts:{kbExpr:g.u.editorTextFocus,primary:3132,weight:100}})}return I(n,[{key:"runCommand",value:function(e,t){var r=this,o=e.get(h.$),i=L(Array.isArray(t)&&t||[void 0,void 0],2),a=i[0],u=i[1];return f.o.isUri(a)&&p.L.isIPosition(u)?o.openCodeEditor({resource:a},o.getActiveCodeEditor()).then((function(e){e&&(e.setPosition(u),e.invokeWithinContext((function(t){return r.reportTelemetry(t,e),r.run(t,e)})))}),s.dL):R(F(n.prototype),"runCommand",this).call(this,e,t)}},{key:"run",value:function(e,t){var n=z.get(t);return n?Promise.resolve(n.updateRanges(!0)):Promise.resolve()}}]),n}(d.R6),q=d._l.bindToContribution(z.get);function Y(e,t,n,i){var a=this,u=e.ordered(t);return(0,o.Ps)(u.map((function(e){return function(){return G(a,void 0,void 0,E().mark((function r(){return E().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.provideLinkedEditingRanges(t,n,i);case 3:return r.abrupt("return",r.sent);case 6:return r.prev=6,r.t0=r.catch(0),(0,s.Cp)(r.t0),r.abrupt("return",void 0);case 10:case"end":return r.stop()}}),r,null,[[0,6]])})))}})),(function(e){return!!e&&r.Of(null==e?void 0:e.ranges)}))}(0,d.fK)(new q({id:"cancelLinkedEditingInput",precondition:V,handler:function(e){return e.clearRanges()},kbOpts:{kbExpr:g.u.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));var Q=(0,w.P6G)("editor.linkedEditingBackground",{dark:a.Il.fromHex("#f00").transparent(.3),light:a.Il.fromHex("#f00").transparent(.3),hcDark:a.Il.fromHex("#f00").transparent(.3),hcLight:a.Il.white},b.NC("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,S.Ic)((function(e,t){var n=e.getColor(Q);n&&t.addRule(".monaco-editor .".concat(U," { background: ").concat(n,"; border-left-color: ").concat(n,"; }"))})),(0,d.sb)("_executeLinkedEditingProvider",(function(e,t,n){return Y(e.get(k.p).linkedEditingRangeProvider,t,n,i.T.None)})),(0,d._K)(z.ID,z),(0,d.Qr)(K)},60844:(e,t,n)=>{n.r(t),n.d(t,{LinkDetector:()=>ie});var r=n(95295),o=n(2307),i=n(95835),a=n(93649),s=n(38709),u=n(69005),c=n(71386),l=n(81993),f=n(16769),d=n(83916),h=n(18679),p=n(3817),v=n(75758),g=n(31213),y=n(91741),m=n(86193),b=n(8401),_=n(48466),w=n(76758),S=n(69349);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(){O=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new L(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(E([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==k(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===k(i)?i:String(i)),r)}var o,i}function N(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var I=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},R=function(){function e(t,n){E(this,e),this._link=t,this._provider=n}return N(e,[{key:"toJSON",value:function(){return{range:this.range,url:this.url,tooltip:this.tooltip}}},{key:"range",get:function(){return this._link.range}},{key:"url",get:function(){return this._link.url}},{key:"tooltip",get:function(){return this._link.tooltip}},{key:"resolve",value:function(e){return I(this,void 0,void 0,O().mark((function t(){var n=this;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._link.url){t.next=2;break}return t.abrupt("return",this._link.url);case 2:if("function"!=typeof this._provider.resolveLink){t.next=4;break}return t.abrupt("return",Promise.resolve(this._provider.resolveLink(this._link,e)).then((function(t){return n._link=t||n._link,n._link.url?n.resolve(e):Promise.reject(new Error("missing"))})));case 4:return t.abrupt("return",Promise.reject(new Error("missing")));case 5:case"end":return t.stop()}}),t,this)})))}}]),e}(),T=function(){function e(t){var n=this;E(this,e),this._disposables=new s.SL;var r,o=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=x(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(t);try{var a=function(){var t=C(r.value,2),i=t[0],a=t[1],u=i.links.map((function(e){return new R(e,a)}));o=e._union(o,u),(0,s.Wf)(i)&&n._disposables.add(i)};for(i.s();!(r=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}this.links=o}return N(e,[{key:"dispose",value:function(){this._disposables.dispose(),this.links.length=0}}],[{key:"_union",value:function(e,t){var n,r,o,i,a=[];for(n=0,o=0,r=e.length,i=t.length;n<r&&o<i;){var s=e[n],u=t[o];if(_.e.areIntersectingOrTouching(s.range,u.range))n++;else _.e.compareRangesUsingStarts(s.range,u.range)<0?(a.push(s),n++):(a.push(u),o++)}for(;n<r;n++)a.push(e[n]);for(;o<i;o++)a.push(t[o]);return a}}]),e}();function j(e,t,n){var r=[],o=e.ordered(t).reverse().map((function(e,o){return Promise.resolve(e.provideLinks(t,n)).then((function(t){t&&(r[o]=[t,e])}),i.Cp)}));return Promise.all(o).then((function(){var e=new T((0,m.kX)(r));return n.isCancellationRequested?(e.dispose(),new T([])):e}))}S.P0.registerCommand("_executeLinkProvider",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return I(void 0,void 0,void 0,O().mark((function t(){var r,i,a,s,u,c,l,f;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n[0],i=n[1],(0,b.p_)(r instanceof d.o),"number"!=typeof i&&(i=0),a=e.get(g.p),s=a.linkProvider,u=e.get(w.q).getModel(r)){t.next=7;break}return t.abrupt("return",[]);case 7:return t.next=9,j(s,u,o.T.None);case 9:if(c=t.sent){t.next=12;break}return t.abrupt("return",[]);case 12:l=0;case 13:if(!(l<Math.min(i,c.links.length))){t.next=19;break}return t.next=16,c.links[l].resolve(o.T.None);case 16:l++,t.next=13;break;case 19:return f=c.links.slice(0),c.dispose(),t.abrupt("return",f);case 22:case"end":return t.stop()}}),t)})))}));var A=n(18063),D=n(32931),M=n(53920),F=n(41367),W=n(38656);function H(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=V(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function B(){B=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==te(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||V(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==te(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===te(i)?i:String(i)),r)}var o,i}function q(e,t,n){return t&&K(e.prototype,t),n&&K(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y(){return Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Q(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Y.apply(this,arguments)}function Q(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ee(e)););return e}function Z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$(e,t)}function $(e,t){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var o=ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return X(this,n)}}function X(e,t){if(t&&("object"===te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}var ne=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":te(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},re=function(e,t){return function(n,r){t(n,r,e)}},oe=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},ie=function(e){Z(n,e);var t=J(n);function n(e,o,i,a,s){var u;z(this,n),(u=t.call(this)).editor=e,u.openerService=o,u.notificationService=i,u.languageFeaturesService=a,u.providers=u.languageFeaturesService.linkProvider,u.debounceInformation=s.for(u.providers,"Links",{min:1e3,max:4e3}),u.computeLinks=u._register(new r.pY((function(){return u.computeLinksNow()}),1e3)),u.computePromise=null,u.activeLinksList=null,u.currentOccurrences={},u.activeLinkDecorationId=null;var c=u._register(new y.yN(e));return u._register(c.onMouseMoveOrRelevantKeyDown((function(e){var t=G(e,2),n=t[0],r=t[1];u._onEditorMouseMove(n,r)}))),u._register(c.onExecute((function(e){u.onEditorMouseUp(e)}))),u._register(c.onCancel((function(e){u.cleanUpActiveLinkDecoration()}))),u._register(e.onDidChangeConfiguration((function(e){e.hasChanged(65)&&(u.updateDecorations([]),u.stop(),u.computeLinks.schedule(0))}))),u._register(e.onDidChangeModelContent((function(e){u.editor.hasModel()&&u.computeLinks.schedule(u.debounceInformation.get(u.editor.getModel()))}))),u._register(e.onDidChangeModel((function(e){u.currentOccurrences={},u.activeLinkDecorationId=null,u.stop(),u.computeLinks.schedule(0)}))),u._register(e.onDidChangeModelLanguage((function(e){u.stop(),u.computeLinks.schedule(0)}))),u._register(u.providers.onDidChange((function(e){u.stop(),u.computeLinks.schedule(0)}))),u.computeLinks.schedule(0),u}return q(n,[{key:"computeLinksNow",value:function(){return oe(this,void 0,void 0,B().mark((function e(){var t,n,o=this;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.editor.hasModel()&&this.editor.getOption(65)){e.next=2;break}return e.abrupt("return");case 2:if(t=this.editor.getModel(),this.providers.has(t)){e.next=5;break}return e.abrupt("return");case 5:return this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,r.PG)((function(e){return j(o.providers,t,e)})),e.prev=7,n=new f.G(!1),e.next=11,this.computePromise;case 11:if(this.activeLinksList=e.sent,this.debounceInformation.update(t,n.elapsed()),!t.isDisposed()){e.next=15;break}return e.abrupt("return");case 15:this.updateDecorations(this.activeLinksList.links),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),(0,i.dL)(e.t0);case 21:return e.prev=21,this.computePromise=null,e.finish(21);case 24:case"end":return e.stop()}}),e,this,[[7,18,21,24]])})))}},{key:"updateDecorations",value:function(e){for(var t=this,n="altKey"===this.editor.getOption(72),r=[],o=0,i=Object.keys(this.currentOccurrences);o<i.length;o++){var a=i[o],s=this.currentOccurrences[a];r.push(s.decorationId)}var u=[];if(e){var c,l=H(e);try{for(l.s();!(c=l.n()).done;){var f=c.value;u.push(se.decoration(f,n))}}catch(e){l.e(e)}finally{l.f()}}this.editor.changeDecorations((function(n){var o=n.deltaDecorations(r,u);t.currentOccurrences={},t.activeLinkDecorationId=null;for(var i=0,a=o.length;i<a;i++){var s=new se(e[i],o[i]);t.currentOccurrences[s.decorationId]=s}}))}},{key:"_onEditorMouseMove",value:function(e,t){var n=this,r="altKey"===this.editor.getOption(72);if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();var o=this.getLinkOccurrence(e.target.position);o&&this.editor.changeDecorations((function(e){o.activate(e,r),n.activeLinkDecorationId=o.decorationId}))}else this.cleanUpActiveLinkDecoration()}},{key:"cleanUpActiveLinkDecoration",value:function(){var e="altKey"===this.editor.getOption(72);if(this.activeLinkDecorationId){var t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations((function(n){t.deactivate(n,e)})),this.activeLinkDecorationId=null}}},{key:"onEditorMouseUp",value:function(e){if(this.isEnabled(e)){var t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}}},{key:"openLinkOccurrence",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.openerService){var a=e.link;a.resolve(o.T.None).then((function(e){if("string"==typeof e&&n.editor.hasModel()){var o=n.editor.getModel().uri;if(o.scheme===u.lg.file&&e.startsWith("".concat(u.lg.file,":"))){var i=d.o.parse(e);if(i.scheme===u.lg.file){var a=l.z_(i),s=null;a.startsWith("/./")?s=".".concat(a.substr(1)):a.startsWith("//./")&&(s=".".concat(a.substr(2))),s&&(e=l.Vo(o,s))}}}return n.openerService.open(e,{openToSide:t,fromUserGesture:r,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})}),(function(e){var t=e instanceof Error?e.message:e;"invalid"===t?n.notificationService.warn(A.NC("invalid.url","Failed to open this link because it is not well-formed: {0}",a.url.toString())):"missing"===t?n.notificationService.warn(A.NC("missing.url","Failed to open this link because its target is missing.")):(0,i.dL)(e)}))}}},{key:"getLinkOccurrence",value:function(e){if(!this.editor.hasModel()||!e)return null;var t,n=H(this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0));try{for(n.s();!(t=n.n()).done;){var r=t.value,o=this.currentOccurrences[r.id];if(o)return o}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"isEnabled",value:function(e,t){return Boolean(6===e.target.type&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}},{key:"stop",value:function(){var e;this.computeLinks.cancel(),this.activeLinksList&&(null===(e=this.activeLinksList)||void 0===e||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}},{key:"dispose",value:function(){Y(ee(n.prototype),"dispose",this).call(this),this.stop()}}],[{key:"get",value:function(e){return e.getContribution(n.ID)}}]),n}(s.JT);ie.ID="editor.linkDetector",ie=ne([re(1,M.v4),re(2,D.lT),re(3,g.p),re(4,v.A)],ie);var ae={general:p.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:p.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})},se=function(){function e(t,n){z(this,e),this.link=t,this.decorationId=n}return q(e,[{key:"activate",value:function(t,n){t.changeDecorationOptions(this.decorationId,e._getOptions(this.link,n,!0))}},{key:"deactivate",value:function(t,n){t.changeDecorationOptions(this.decorationId,e._getOptions(this.link,n,!1))}}],[{key:"decoration",value:function(t,n){return{range:t.range,options:e._getOptions(t,n,!1)}}},{key:"_getOptions",value:function(e,t,n){var r=Object.assign({},n?ae.active:ae.general);return r.hoverMessage=function(e,t){var n=e.url&&/^command:/i.test(e.url.toString()),r=e.tooltip?e.tooltip:n?A.NC("links.navigate.executeCmd","Execute command"):A.NC("links.navigate.follow","Follow link"),o=t?c.dz?A.NC("links.navigate.kb.meta.mac","cmd + click"):A.NC("links.navigate.kb.meta","ctrl + click"):c.dz?A.NC("links.navigate.kb.alt.mac","option + click"):A.NC("links.navigate.kb.alt","alt + click");if(e.url){var i="";if(/^command:/i.test(e.url.toString())){var s=e.url.toString().match(/^command:([^?#]+)/);if(s){var u=s[1];i=A.NC("tooltip.explanation","Execute command {0}",u)}}return new a.W5("",!0).appendLink(e.url.toString(!0).replace(/ /g,"%20"),r,i).appendMarkdown(" (".concat(o,")"))}return(new a.W5).appendText("".concat(r," (").concat(o,")"))}(e,t),r}}]),e}();var ue=function(e){Z(n,e);var t=J(n);function n(){return z(this,n),t.call(this,{id:"editor.action.openLink",label:A.NC("label","Open Link"),alias:"Open Link",precondition:void 0})}return q(n,[{key:"run",value:function(e,t){var n=ie.get(t);if(n&&t.hasModel()){var r,o=H(t.getSelections());try{for(o.s();!(r=o.n()).done;){var i=r.value,a=n.getLinkOccurrence(i.getEndPosition());a&&n.openLinkOccurrence(a,!1)}}catch(e){o.e(e)}finally{o.f()}}}}]),n}(h.R6);(0,h._K)(ie.ID,ie),(0,h.Qr)(ue),(0,W.Ic)((function(e,t){var n=e.getColor(F._Yy);n&&t.addRule(".monaco-editor .detected-link-active { color: ".concat(n," !important; }"))}))},44809:(e,t,n)=>{n.d(t,{$:()=>b});var r=n(45782),o=n(53920),i=n(71919),a=n(95835),s=n(83313),u=n(82459),c=n(38709),l=n(53957),f=n(98375);function d(){d=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:k(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function h(){}function v(){}function g(){}var y={};u(y,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(E([])));b&&b!==t&&n.call(b,i)&&(y=b);var _=g.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==p(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=g,r(_,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),u(_,s,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===p(i)?i:String(i)),r)}var o,i}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}var v,g=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=function(e,t){return function(n,r){t(n,r,e)}},m=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},b=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._options=t,this._languageService=n,this._openerService=r,this._onDidRenderAsync=new u.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}var t,n,o;return t=e,n=[{key:"dispose",value:function(){this._onDidRenderAsync.dispose()}},{key:"render",value:function(e,t,n){if(!e)return{element:document.createElement("span"),dispose:function(){}};var o=new c.SL;return{element:o.add((0,r.a)(e,Object.assign(Object.assign({},this._getRenderOptions(e,o)),t),n)).element,dispose:function(){return o.dispose()}}}},{key:"_getRenderOptions",value:function(t,n){var r=this;return{codeBlockRenderer:function(t,n){return m(r,void 0,void 0,d().mark((function r(){var o,i,a,u,c,h,p;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t?u=this._languageService.getLanguageIdByLanguageName(t):this._options.editor&&(u=null===(o=this._options.editor.getModel())||void 0===o?void 0:o.getLanguageId()),u||(u=f.bd),r.next=4,(0,s.C2)(this._languageService,n,u);case 4:return c=r.sent,(h=document.createElement("span")).innerHTML=null!==(a=null===(i=e._ttpTokenizer)||void 0===i?void 0:i.createHTML(c))&&void 0!==a?a:c,this._options.editor?(p=this._options.editor.getOption(46),(0,l.N)(h,p)):this._options.codeBlockFontFamily&&(h.style.fontFamily=this._options.codeBlockFontFamily),void 0!==this._options.codeBlockFontSize&&(h.style.fontSize=this._options.codeBlockFontSize),r.abrupt("return",h);case 10:case"end":return r.stop()}}),r,this)})))},asyncRenderCallback:function(){return r._onDidRenderAsync.fire()},actionHandler:{callback:function(e){return r._openerService.open(e,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:t.isTrusted}).catch(a.dL)},disposables:n}}}}],n&&h(t.prototype,n),o&&h(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();b._ttpTokenizer=null===(v=window.trustedTypes)||void 0===v?void 0:v.createPolicy("tokenizeToString",{createHTML:function(e){return e}}),b=g([y(1,i.O),y(2,o.v4)],b)},44454:(e,t,n)=>{n.d(t,{O:()=>g});var r=n(61041),o=n(95295),i=n(38709),a=n(18679),s=n(48466),u=n(18063),c=n(73589);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===h(i)?i:String(i)),r)}var o,i}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}var p=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=function(e,t){return function(n,r){t(n,r,e)}},g=function(){function e(t,n){l(this,e),this._messageWidget=new i.XK,this._messageListeners=new i.SL,this._editor=t,this._visible=e.MESSAGE_VISIBLE.bindTo(n)}return d(e,[{key:"dispose",value:function(){this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}},{key:"showMessage",value:function(e,t){var n,i=this;(0,r.Z9)(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new m(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText((function(){return i.closeMessage()}))),this._messageListeners.add(this._editor.onDidChangeCursorPosition((function(){return i.closeMessage()}))),this._messageListeners.add(this._editor.onDidDispose((function(){return i.closeMessage()}))),this._messageListeners.add(this._editor.onDidChangeModel((function(){return i.closeMessage()}))),this._messageListeners.add(new o._F((function(){return i.closeMessage()}),3e3)),this._messageListeners.add(this._editor.onMouseMove((function(e){e.target.position&&(n?n.containsPosition(e.target.position)||i.closeMessage():n=new s.e(t.lineNumber-3,1,e.target.position.lineNumber+3,1))})))}},{key:"closeMessage",value:function(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(m.fadeOut(this._messageWidget.value))}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();g.ID="editor.contrib.messageController",g.MESSAGE_VISIBLE=new c.uy("messageVisible",!1,u.NC("messageVisible","Whether the editor is currently showing an inline message")),g=p([v(1,c.i6)],g);var y=a._l.bindToContribution(g.get);(0,a.fK)(new y({id:"leaveEditorMessage",precondition:g.MESSAGE_VISIBLE,handler:function(e){return e.closeMessage()},kbOpts:{weight:130,primary:9}}));var m=function(){function e(t,n,r){var o=n.lineNumber,i=n.column;l(this,e),this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=t,this._editor.revealLinesInCenterIfOutsideViewport(o,o,0),this._position={lineNumber:o,column:i},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";var a=document.createElement("div");a.classList.add("anchor","top"),this._domNode.appendChild(a);var s=document.createElement("div");s.classList.add("message"),s.textContent=r,this._domNode.appendChild(s);var u=document.createElement("div");u.classList.add("anchor","below"),this._domNode.appendChild(u),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}return d(e,[{key:"dispose",value:function(){this._editor.removeContentWidget(this)}},{key:"getId",value:function(){return"messageoverlay"}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return{position:this._position,preference:[1,2],positionAffinity:1}}},{key:"afterRender",value:function(e){this._domNode.classList.toggle("below",2===e)}}],[{key:"fadeOut",value:function(e){var t=function t(){e.dispose(),clearTimeout(n),e.getDomNode().removeEventListener("animationend",t)},n=setTimeout(t,110);return e.getDomNode().addEventListener("animationend",t),e.getDomNode().classList.add("fadeOut"),{dispose:t}}}]),e}();(0,a._K)(g.ID,g)},85611:(e,t,n)=>{n.r(t),n.d(t,{AddSelectionToNextFindMatchAction:()=>U,AddSelectionToPreviousFindMatchAction:()=>z,CompatChangeAll:()=>Q,FocusNextCursor:()=>ee,FocusPreviousCursor:()=>te,InsertCursorAbove:()=>A,InsertCursorBelow:()=>D,MoveSelectionToNextFindMatchAction:()=>K,MoveSelectionToPreviousFindMatchAction:()=>q,MultiCursorSelectionController:()=>G,MultiCursorSelectionControllerAction:()=>V,MultiCursorSession:()=>B,MultiCursorSessionResult:()=>H,SelectHighlightsAction:()=>Y,SelectionHighlighter:()=>$});var r=n(61041),o=n(95295),i=n(11407),a=n(38709),s=n(18679),u=n(4329),c=n(48466),l=n(85963),f=n(25112),d=n(65498),h=n(3817),p=n(85573),v=n(18063),g=n(13171),y=n(73589),m=n(41367),b=n(38656),_=n(31213);function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=S(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},w.apply(this,arguments)}function S(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=N(e)););return e}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==I(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===I(i)?i:String(i)),r)}var o,i}function x(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}var R=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":I(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},T=function(e,t){return function(n,r){t(n,r,e)}};function j(e,t){var n=t.filter((function(t){return!e.find((function(e){return e.equals(t)}))}));if(n.length>=1){var o=n.map((function(e){return"line ".concat(e.viewState.position.lineNumber," column ").concat(e.viewState.position.column)})).join(", "),i=1===n.length?v.NC("cursorAdded","Cursor added: {0}",o):v.NC("cursorsAdded","Cursors added: {0}",o);(0,r.i7)(i)}}var A=function(e){L(n,e);var t=E(n);function n(){return k(this,n),t.call(this,{id:"editor.action.insertCursorAbove",label:v.NC("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:f.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:g.eH.MenubarSelectionMenu,group:"3_multi",title:v.NC({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}return x(n,[{key:"run",value:function(e,t,n){if(t.hasModel()){var r=!0;n&&!1===n.logicalLine&&(r=!1);var o=t._getViewModel();if(!o.cursorConfig.readOnly){o.model.pushStackElement();var i=o.getCursorStates();o.setCursorStates(n.source,3,u.P.addCursorUp(o,i,r)),o.revealTopMostCursor(n.source),j(i,o.getCursorStates())}}}}]),n}(s.R6),D=function(e){L(n,e);var t=E(n);function n(){return k(this,n),t.call(this,{id:"editor.action.insertCursorBelow",label:v.NC("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:f.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:g.eH.MenubarSelectionMenu,group:"3_multi",title:v.NC({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}return x(n,[{key:"run",value:function(e,t,n){if(t.hasModel()){var r=!0;n&&!1===n.logicalLine&&(r=!1);var o=t._getViewModel();if(!o.cursorConfig.readOnly){o.model.pushStackElement();var i=o.getCursorStates();o.setCursorStates(n.source,3,u.P.addCursorDown(o,i,r)),o.revealBottomMostCursor(n.source),j(i,o.getCursorStates())}}}}]),n}(s.R6),M=function(e){L(n,e);var t=E(n);function n(){return k(this,n),t.call(this,{id:"editor.action.insertCursorAtEndOfEachLineSelected",label:v.NC("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:f.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:g.eH.MenubarSelectionMenu,group:"3_multi",title:v.NC({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}return x(n,[{key:"getCursorsForSelection",value:function(e,t,n){if(!e.isEmpty()){for(var r=e.startLineNumber;r<e.endLineNumber;r++){var o=t.getLineMaxColumn(r);n.push(new l.Y(r,o,r,o))}e.endColumn>1&&n.push(new l.Y(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}},{key:"run",value:function(e,t){var n=this;if(t.hasModel()){var r=t.getModel(),o=t.getSelections(),i=t._getViewModel(),a=i.getCursorStates(),s=[];o.forEach((function(e){return n.getCursorsForSelection(e,r,s)})),s.length>0&&t.setSelections(s),j(a,i.getCursorStates())}}}]),n}(s.R6),F=function(e){L(n,e);var t=E(n);function n(){return k(this,n),t.call(this,{id:"editor.action.addCursorsToBottom",label:v.NC("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}return x(n,[{key:"run",value:function(e,t){if(t.hasModel()){for(var n=t.getSelections(),r=t.getModel().getLineCount(),o=[],i=n[0].startLineNumber;i<=r;i++)o.push(new l.Y(i,n[0].startColumn,i,n[0].endColumn));var a=t._getViewModel(),s=a.getCursorStates();o.length>0&&t.setSelections(o),j(s,a.getCursorStates())}}}]),n}(s.R6),W=function(e){L(n,e);var t=E(n);function n(){return k(this,n),t.call(this,{id:"editor.action.addCursorsToTop",label:v.NC("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}return x(n,[{key:"run",value:function(e,t){if(t.hasModel()){for(var n=t.getSelections(),r=[],o=n[0].startLineNumber;o>=1;o--)r.push(new l.Y(o,n[0].startColumn,o,n[0].endColumn));var i=t._getViewModel(),a=i.getCursorStates();r.length>0&&t.setSelections(r),j(a,i.getCursorStates())}}}]),n}(s.R6),H=x((function e(t,n,r){k(this,e),this.selections=t,this.revealRange=n,this.revealScrollType=r})),B=function(){function e(t,n,r,o,i,a,s){k(this,e),this._editor=t,this.findController=n,this.isDisconnectedFromFindController=r,this.searchText=o,this.wholeWord=i,this.matchCase=a,this.currentMatch=s}return x(e,[{key:"addSelectionToNextFindMatch",value:function(){if(!this._editor.hasModel())return null;var e=this._getNextMatch();if(!e)return null;var t=this._editor.getSelections();return new H(t.concat(e),e,0)}},{key:"moveSelectionToNextFindMatch",value:function(){if(!this._editor.hasModel())return null;var e=this._getNextMatch();if(!e)return null;var t=this._editor.getSelections();return new H(t.slice(0,t.length-1).concat(e),e,0)}},{key:"_getNextMatch",value:function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();var t=this._editor.getSelections(),n=t[t.length-1],r=this._editor.getModel().findNextMatch(this.searchText,n.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return r?new l.Y(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn):null}},{key:"addSelectionToPreviousFindMatch",value:function(){if(!this._editor.hasModel())return null;var e=this._getPreviousMatch();if(!e)return null;var t=this._editor.getSelections();return new H(t.concat(e),e,0)}},{key:"moveSelectionToPreviousFindMatch",value:function(){if(!this._editor.hasModel())return null;var e=this._getPreviousMatch();if(!e)return null;var t=this._editor.getSelections();return new H(t.slice(0,t.length-1).concat(e),e,0)}},{key:"_getPreviousMatch",value:function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();var t=this._editor.getSelections(),n=t[t.length-1],r=this._editor.getModel().findPreviousMatch(this.searchText,n.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return r?new l.Y(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn):null}},{key:"selectAll",value:function(e){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();var t=this._editor.getModel();return e?t.findMatches(this.searchText,e,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824):t.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824)}}],[{key:"create",value:function(t,n){if(!t.hasModel())return null;var r=n.getState();if(!t.hasTextFocus()&&r.isRevealed&&r.searchString.length>0)return new e(t,n,!1,r.searchString,r.wholeWord,r.matchCase,null);var o,i,a=!1,s=t.getSelections();1===s.length&&s[0].isEmpty()?(a=!0,o=!0,i=!0):(o=r.wholeWord,i=r.matchCase);var u,c=t.getSelection(),f=null;if(c.isEmpty()){var d=t.getConfiguredWordAtPosition(c.getStartPosition());if(!d)return null;u=d.word,f=new l.Y(c.startLineNumber,d.startColumn,c.startLineNumber,d.endColumn)}else u=t.getModel().getValueInRange(c).replace(/\r\n/g,"\n");return new e(t,n,a,u,o,i,f)}}]),e}(),G=function(e){L(n,e);var t=E(n);function n(e){var r;return k(this,n),(r=t.call(this))._sessionDispose=r._register(new a.SL),r._editor=e,r._ignoreSelectionChange=!1,r._session=null,r}return x(n,[{key:"dispose",value:function(){this._endSession(),w(N(n.prototype),"dispose",this).call(this)}},{key:"_beginSessionIfNeeded",value:function(e){var t=this;if(!this._session){var n=B.create(this._editor,e);if(!n)return;this._session=n;var r={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(r.wholeWordOverride=1,r.matchCaseOverride=1,r.isRegexOverride=2),e.getState().change(r,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection((function(e){t._ignoreSelectionChange||t._endSession()}))),this._sessionDispose.add(this._editor.onDidBlurEditorText((function(){t._endSession()}))),this._sessionDispose.add(e.getState().onFindReplaceStateChange((function(e){(e.matchCase||e.wholeWord)&&t._endSession()})))}}},{key:"_endSession",value:function(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){this._session.findController.getState().change({wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0},!1)}this._session=null}},{key:"_setSelections",value:function(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}},{key:"_expandEmptyToWord",value:function(e,t){if(!t.isEmpty())return t;var n=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return n?new l.Y(t.startLineNumber,n.startColumn,t.startLineNumber,n.endColumn):t}},{key:"_applySessionResult",value:function(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}},{key:"getSession",value:function(e){return this._session}},{key:"addSelectionToNextFindMatch",value:function(e){if(this._editor.hasModel()){if(!this._session){var t=this._editor.getSelections();if(t.length>1){var n=e.getState().matchCase;if(!J(this._editor.getModel(),t,n)){for(var r=this._editor.getModel(),o=[],i=0,a=t.length;i<a;i++)o[i]=this._expandEmptyToWord(r,t[i]);return void this._editor.setSelections(o)}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}},{key:"addSelectionToPreviousFindMatch",value:function(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}},{key:"moveSelectionToNextFindMatch",value:function(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}},{key:"moveSelectionToPreviousFindMatch",value:function(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}},{key:"selectAll",value:function(e){if(this._editor.hasModel()){var t=null,n=e.getState();if(n.isRevealed&&n.searchString.length>0&&n.isRegex){var r=this._editor.getModel();t=n.searchScope?r.findMatches(n.searchString,n.searchScope,n.isRegex,n.matchCase,n.wholeWord?this._editor.getOption(119):null,!1,1073741824):r.findMatches(n.searchString,!0,n.isRegex,n.matchCase,n.wholeWord?this._editor.getOption(119):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll(n.searchScope)}if(t.length>0){for(var o=this._editor.getSelection(),i=0,a=t.length;i<a;i++){var s=t[i];if(s.range.intersectRanges(o)){t[i]=t[0],t[0]=s;break}}this._setSelections(t.map((function(e){return new l.Y(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)})))}}}}],[{key:"get",value:function(e){return e.getContribution(n.ID)}}]),n}(a.JT);G.ID="editor.contrib.multiCursorController";var V=function(e){L(n,e);var t=E(n);function n(){return k(this,n),t.apply(this,arguments)}return x(n,[{key:"run",value:function(e,t){var n=G.get(t);if(n){var r=p.CommonFindController.get(t);if(r){var o=t._getViewModel();if(o){var i=o.getCursorStates();this._run(n,r),j(i,o.getCursorStates())}}}}}]),n}(s.R6),U=function(e){L(n,e);var t=E(n);function n(){return k(this,n),t.call(this,{id:"editor.action.addSelectionToNextFindMatch",label:v.NC("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:f.u.focus,primary:2082,weight:100},menuOpts:{menuId:g.eH.MenubarSelectionMenu,group:"3_multi",title:v.NC({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}return x(n,[{key:"_run",value:function(e,t){e.addSelectionToNextFindMatch(t)}}]),n}(V),z=function(e){L(n,e);var t=E(n);function n(){return k(this,n),t.call(this,{id:"editor.action.addSelectionToPreviousFindMatch",label:v.NC("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:g.eH.MenubarSelectionMenu,group:"3_multi",title:v.NC({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}return x(n,[{key:"_run",value:function(e,t){e.addSelectionToPreviousFindMatch(t)}}]),n}(V),K=function(e){L(n,e);var t=E(n);function n(){return k(this,n),t.call(this,{id:"editor.action.moveSelectionToNextFindMatch",label:v.NC("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:f.u.focus,primary:(0,i.gx)(2089,2082),weight:100}})}return x(n,[{key:"_run",value:function(e,t){e.moveSelectionToNextFindMatch(t)}}]),n}(V),q=function(e){L(n,e);var t=E(n);function n(){return k(this,n),t.call(this,{id:"editor.action.moveSelectionToPreviousFindMatch",label:v.NC("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}return x(n,[{key:"_run",value:function(e,t){e.moveSelectionToPreviousFindMatch(t)}}]),n}(V),Y=function(e){L(n,e);var t=E(n);function n(){return k(this,n),t.call(this,{id:"editor.action.selectHighlights",label:v.NC("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:f.u.focus,primary:3114,weight:100},menuOpts:{menuId:g.eH.MenubarSelectionMenu,group:"3_multi",title:v.NC({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}return x(n,[{key:"_run",value:function(e,t){e.selectAll(t)}}]),n}(V),Q=function(e){L(n,e);var t=E(n);function n(){return k(this,n),t.call(this,{id:"editor.action.changeAll",label:v.NC("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:y.Ao.and(f.u.writable,f.u.editorTextFocus),kbOpts:{kbExpr:f.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}return x(n,[{key:"_run",value:function(e,t){e.selectAll(t)}}]),n}(V),Z=function(){function e(t,n,r,o,i){k(this,e),this._model=t,this._searchText=n,this._matchCase=r,this._wordSeparators=o,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,i&&this._model===i._model&&this._searchText===i._searchText&&this._matchCase===i._matchCase&&this._wordSeparators===i._wordSeparators&&this._modelVersionId===i._modelVersionId&&(this._cachedFindMatches=i._cachedFindMatches)}return x(e,[{key:"findMatches",value:function(){return null===this._cachedFindMatches&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map((function(e){return e.range})),this._cachedFindMatches.sort(c.e.compareRangesUsingStarts)),this._cachedFindMatches}}]),e}(),$=function(e){L(n,e);var t=E(n);function n(e,r){var i;k(this,n),(i=t.call(this))._languageFeaturesService=r,i.editor=e,i._isEnabled=e.getOption(99),i._decorations=e.createDecorationsCollection(),i.updateSoon=i._register(new o.pY((function(){return i._update()}),300)),i.state=null,i._register(e.onDidChangeConfiguration((function(t){i._isEnabled=e.getOption(99)}))),i._register(e.onDidChangeCursorSelection((function(e){i._isEnabled&&(e.selection.isEmpty()?3===e.reason?(i.state&&i._setState(null),i.updateSoon.schedule()):i._setState(null):i._update())}))),i._register(e.onDidChangeModel((function(e){i._setState(null)}))),i._register(e.onDidChangeModelContent((function(e){i._isEnabled&&i.updateSoon.schedule()})));var a=p.CommonFindController.get(e);return a&&i._register(a.getState().onFindReplaceStateChange((function(e){i._update()}))),i}return x(n,[{key:"_update",value:function(){this._setState(n._createState(this.state,this._isEnabled,this.editor))}},{key:"_setState",value:function(e){if(this.state=e,this.state){if(this.editor.hasModel()){var t=this.editor.getModel();if(!t.isTooLargeForTokenization()){var r=this.state.findMatches(),o=this.editor.getSelections();o.sort(c.e.compareRangesUsingStarts);for(var i=[],a=0,s=0,u=r.length,l=o.length;a<u;){var f=r[a];if(s>=l)i.push(f),a++;else{var d=c.e.compareRangesUsingStarts(f,o[s]);d<0?(!o[s].isEmpty()&&c.e.areIntersecting(f,o[s])||i.push(f),a++):(d>0||a++,s++)}}var h=this._languageFeaturesService.documentHighlightProvider.has(t)&&this.editor.getOption(74),p=i.map((function(e){return{range:e,options:h?n._SELECTION_HIGHLIGHT:n._SELECTION_HIGHLIGHT_OVERVIEW}}));this._decorations.set(p)}}}else this._decorations.clear()}},{key:"dispose",value:function(){this._setState(null),w(N(n.prototype),"dispose",this).call(this)}}],[{key:"_createState",value:function(e,t,n){if(!t)return null;if(!n.hasModel())return null;var r=n.getSelection();if(r.startLineNumber!==r.endLineNumber)return null;var o=G.get(n);if(!o)return null;var i=p.CommonFindController.get(n);if(!i)return null;var a=o.getSession(i);if(!a){var s=n.getSelections();if(s.length>1){var u=i.getState().matchCase;if(!J(n.getModel(),s,u))return null}a=B.create(n,i)}if(!a)return null;if(a.currentMatch)return null;if(/^[ \t]+$/.test(a.searchText))return null;if(a.searchText.length>200)return null;var c=i.getState(),l=c.matchCase;if(c.isRevealed){var f=c.searchString;l||(f=f.toLowerCase());var d=a.searchText;if(l||(d=d.toLowerCase()),f===d&&a.matchCase===c.matchCase&&a.wholeWord===c.wholeWord&&!c.isRegex)return null}return new Z(n.getModel(),a.searchText,a.matchCase,a.wholeWord?n.getOption(119):null,e)}}]),n}(a.JT);function J(e,t,n){for(var r=X(e,t[0],!n),o=1,i=t.length;o<i;o++){var a=t[o];if(a.isEmpty())return!1;if(r!==X(e,a,!n))return!1}return!0}function X(e,t,n){var r=e.getValueInRange(t);return n?r.toLowerCase():r}$.ID="editor.contrib.selectionHighlighter",$._SELECTION_HIGHLIGHT_OVERVIEW=h.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,b.EN)(m.IYc),position:d.F5.Inline},overviewRuler:{color:(0,b.EN)(m.SPM),position:d.sh.Center}}),$._SELECTION_HIGHLIGHT=h.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),$=R([T(1,_.p)],$);var ee=function(e){L(n,e);var t=E(n);function n(){return k(this,n),t.call(this,{id:"editor.action.focusNextCursor",label:v.NC("mutlicursor.focusNextCursor","Focus Next Cursor"),description:{description:v.NC("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}return x(n,[{key:"run",value:function(e,t,n){if(t.hasModel()){var r=t._getViewModel();if(!r.cursorConfig.readOnly){r.model.pushStackElement();var o=Array.from(r.getCursorStates()),i=o.shift();i&&(o.push(i),r.setCursorStates(n.source,3,o),r.revealPrimaryCursor(n.source,!0),j(o,r.getCursorStates()))}}}}]),n}(s.R6),te=function(e){L(n,e);var t=E(n);function n(){return k(this,n),t.call(this,{id:"editor.action.focusPreviousCursor",label:v.NC("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),description:{description:v.NC("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}return x(n,[{key:"run",value:function(e,t,n){if(t.hasModel()){var r=t._getViewModel();if(!r.cursorConfig.readOnly){r.model.pushStackElement();var o=Array.from(r.getCursorStates()),i=o.pop();i&&(o.unshift(i),r.setCursorStates(n.source,3,o),r.revealPrimaryCursor(n.source,!0),j(o,r.getCursorStates()))}}}}]),n}(s.R6);(0,s._K)(G.ID,G),(0,s._K)($.ID,$),(0,s.Qr)(A),(0,s.Qr)(D),(0,s.Qr)(M),(0,s.Qr)(U),(0,s.Qr)(z),(0,s.Qr)(K),(0,s.Qr)(q),(0,s.Qr)(Y),(0,s.Qr)(Q),(0,s.Qr)(F),(0,s.Qr)(W),(0,s.Qr)(ee),(0,s.Qr)(te)},44786:(e,t,n)=>{n.r(t),n.d(t,{TriggerParameterHintsAction:()=>Ie});var r=n(38709),o=n(18679),i=n(25112),a=n(87116),s=n(2307),u=n(95835),c=n(8401),l=n(83916),f=n(51638),d=n(31213),h=n(5491),p=n(69349),v=n(73589);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function y(){y=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:k(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(E([])));b&&b!==t&&n.call(b,i)&&(v=b);var _=p.prototype=d.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==g(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,r(_,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),u(_,s,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},w={Visible:new v.uy("parameterHintsVisible",!1),MultipleSignatures:new v.uy("parameterHintsMultipleSignatures",!1)};function S(e,t,n,r,o){return _(this,void 0,void 0,y().mark((function i(){var a,s,c,l,f;return y().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:a=e.ordered(t),s=m(a),i.prev=2,s.s();case 4:if((c=s.n()).done){i.next=19;break}return l=c.value,i.prev=6,i.next=9,l.provideSignatureHelp(t,n,o,r);case 9:if(!(f=i.sent)){i.next=12;break}return i.abrupt("return",f);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(6),(0,u.Cp)(i.t0);case 17:i.next=4;break;case 19:i.next=24;break;case 21:i.prev=21,i.t1=i.catch(2),s.e(i.t1);case 24:return i.prev=24,s.f(),i.finish(24);case 27:return i.abrupt("return",void 0);case 28:case"end":return i.stop()}}),i,null,[[2,21,24,27],[6,14]])})))}p.P0.registerCommand("_executeSignatureHelpProvider",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _(void 0,void 0,void 0,y().mark((function t(){var r,o,i,u,p,v;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n[0],o=n[1],i=n[2],(0,c.p_)(l.o.isUri(r)),(0,c.p_)(f.L.isIPosition(o)),(0,c.p_)("string"==typeof i||!i),u=e.get(d.p),t.next=7,e.get(h.S).createModelReference(r);case 7:return p=t.sent,t.prev=8,t.next=11,S(u.signatureHelpProvider,p.object.textEditorModel,f.L.lift(o),{triggerKind:a.WW.Invoke,isRetrigger:!1,triggerCharacter:i},s.T.None);case 11:if(v=t.sent){t.next=14;break}return t.abrupt("return",void 0);case 14:return setTimeout((function(){return v.dispose()}),0),t.abrupt("return",v.value);case 16:return t.prev=16,p.dispose(),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[8,,16,19]])})))}));var k=n(18063),C=n(63304),x=n(32007),L=n(61041),O=n(66604),E=n(74553),P=n(82459),N=n(46969),I=n(71919),R=n(44809),T=n(95295),j=n(6742);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function D(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(){F=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==A(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function W(){return W="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=H(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},W.apply(this,arguments)}function H(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=z(e)););return e}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return U(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},z(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===A(i)?i:String(i)),r)}var o,i}function q(e,t,n){return t&&K(e.prototype,t),n&&K(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Q,Z=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};!function(e){e.Default={type:0};var t=q((function e(t,n){Y(this,e),this.request=t,this.previouslyActiveHints=n,this.type=2}));e.Pending=t;var n=q((function e(t){Y(this,e),this.hints=t,this.type=1}));e.Active=n}(Q||(Q={}));var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(n,e);var t=G(n);function n(e,o){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.DEFAULT_DELAY;return Y(this,n),(i=t.call(this))._onChangedHints=i._register(new P.Q5),i.onChangedHints=i._onChangedHints.event,i.triggerOnType=!1,i._state=Q.Default,i._pendingTriggers=[],i._lastSignatureHelpResult=i._register(new r.XK),i.triggerChars=new j.q,i.retriggerChars=new j.q,i.triggerId=0,i.editor=e,i.providers=o,i.throttledDelayer=new T.vp(a),i._register(i.editor.onDidBlurEditorWidget((function(){return i.cancel()}))),i._register(i.editor.onDidChangeConfiguration((function(){return i.onEditorConfigurationChange()}))),i._register(i.editor.onDidChangeModel((function(e){return i.onModelChanged()}))),i._register(i.editor.onDidChangeModelLanguage((function(e){return i.onModelChanged()}))),i._register(i.editor.onDidChangeCursorSelection((function(e){return i.onCursorChange(e)}))),i._register(i.editor.onDidChangeModelContent((function(e){return i.onModelContentChange()}))),i._register(i.providers.onDidChange(i.onModelChanged,U(i))),i._register(i.editor.onDidType((function(e){return i.onDidType(e)}))),i.onEditorConfigurationChange(),i.onModelChanged(),i}return q(n,[{key:"state",get:function(){return this._state},set:function(e){2===this._state.type&&this._state.request.cancel(),this._state=e}},{key:"cancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state=Q.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}},{key:"trigger",value:function(e,t){var n=this,r=this.editor.getModel();if(r&&this.providers.has(r)){var o=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger((function(){return n.doTrigger(o)}),t).catch(u.dL)}}},{key:"next",value:function(){if(1===this.state.type){var e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=t%e==e-1,r=this.editor.getOption(78).cycle;!(e<2||n)||r?this.updateActiveSignature(n&&r?0:t+1):this.cancel()}}},{key:"previous",value:function(){if(1===this.state.type){var e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=0===t,r=this.editor.getOption(78).cycle;!(e<2||n)||r?this.updateActiveSignature(n&&r?e-1:t-1):this.cancel()}}},{key:"updateActiveSignature",value:function(e){1===this.state.type&&(this.state=new Q.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}},{key:"doTrigger",value:function(e){return Z(this,void 0,void 0,F().mark((function t(){var n,r,o,i,a,s,c,l=this;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=1===this.state.type||2===this.state.type,r=this.getLastActiveHints(),this.cancel(!0),0!==this._pendingTriggers.length){t.next=5;break}return t.abrupt("return",!1);case 5:if(o=this._pendingTriggers.reduce(J),this._pendingTriggers=[],i={triggerKind:o.triggerKind,triggerCharacter:o.triggerCharacter,isRetrigger:n,activeSignatureHelp:r},this.editor.hasModel()){t.next=10;break}return t.abrupt("return",!1);case 10:return a=this.editor.getModel(),s=this.editor.getPosition(),this.state=new Q.Pending((0,T.PG)((function(e){return S(l.providers,a,s,i,e)})),r),t.prev=13,t.next=16,this.state.request;case 16:if(c=t.sent,e===this.triggerId){t.next=20;break}return null==c||c.dispose(),t.abrupt("return",!1);case 20:if(c&&c.value.signatures&&0!==c.value.signatures.length){t.next=27;break}return null==c||c.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),t.abrupt("return",!1);case 27:return this.state=new Q.Active(c.value),this._lastSignatureHelpResult.value=c,this._onChangedHints.fire(this.state.hints),t.abrupt("return",!0);case 31:t.next=38;break;case 33:return t.prev=33,t.t0=t.catch(13),e===this.triggerId&&(this.state=Q.Default),(0,u.dL)(t.t0),t.abrupt("return",!1);case 38:case"end":return t.stop()}}),t,this,[[13,33]])})))}},{key:"getLastActiveHints",value:function(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}},{key:"isTriggered",get:function(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}},{key:"onModelChanged",value:function(){this.cancel(),this.triggerChars=new j.q,this.retriggerChars=new j.q;var e=this.editor.getModel();if(e){var t,n=D(this.providers.ordered(e));try{for(n.s();!(t=n.n()).done;){var r,o=t.value,i=D(o.signatureHelpTriggerCharacters||[]);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.triggerChars.add(a.charCodeAt(0)),this.retriggerChars.add(a.charCodeAt(0))}}catch(e){i.e(e)}finally{i.f()}var s,u=D(o.signatureHelpRetriggerCharacters||[]);try{for(u.s();!(s=u.n()).done;){var c=s.value;this.retriggerChars.add(c.charCodeAt(0))}}catch(e){u.e(e)}finally{u.f()}}}catch(e){n.e(e)}finally{n.f()}}}},{key:"onDidType",value:function(e){if(this.triggerOnType){var t=e.length-1,n=e.charCodeAt(t);(this.triggerChars.has(n)||this.isTriggered&&this.retriggerChars.has(n))&&this.trigger({triggerKind:a.WW.TriggerCharacter,triggerCharacter:e.charAt(t)})}}},{key:"onCursorChange",value:function(e){"mouse"===e.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:a.WW.ContentChange})}},{key:"onModelContentChange",value:function(){this.isTriggered&&this.trigger({triggerKind:a.WW.ContentChange})}},{key:"onEditorConfigurationChange",value:function(){this.triggerOnType=this.editor.getOption(78).enabled,this.triggerOnType||this.cancel()}},{key:"dispose",value:function(){this.cancel(!0),W(z(n.prototype),"dispose",this).call(this)}}]),n}(r.JT);function J(e,t){switch(t.triggerKind){case a.WW.Invoke:return t;case a.WW.ContentChange:return e;case a.WW.TriggerCharacter:default:return t}}$.DEFAULT_DELAY=120;var X=n(53920),ee=n(41367),te=n(44674),ne=n(78554),re=n(38656);function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==fe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===fe(i)?i:String(i)),r)}var o,i}function se(e,t){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},se(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=le(e);if(t){var o=le(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ce(this,n)}}function ce(e,t){if(t&&("object"===fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function le(e){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},le(e)}function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}var de=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":fe(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},he=function(e,t){return function(n,r){t(n,r,e)}},pe=x.$,ve=(0,te.q5)("parameter-hints-next",E.lA.chevronDown,k.NC("parameterHintsNextIcon","Icon for show next parameter hint.")),ge=(0,te.q5)("parameter-hints-previous",E.lA.chevronUp,k.NC("parameterHintsPreviousIcon","Icon for show previous parameter hint.")),ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}(a,e);var t,n,o,i=ue(a);function a(e,t,n,o,s){var u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(u=i.call(this)).editor=e,u.renderDisposeables=u._register(new r.SL),u.visible=!1,u.announcedLabel=null,u.allowEditorOverflow=!0,u.markdownRenderer=u._register(new R.$({editor:e},o,n)),u.model=u._register(new $(e,s.signatureHelpProvider)),u.keyVisible=w.Visible.bindTo(t),u.keyMultipleSignatures=w.MultipleSignatures.bindTo(t),u._register(u.model.onChangedHints((function(e){e?(u.show(),u.render(e)):u.hide()}))),u}return t=a,(n=[{key:"createParameterHintDOMNodes",value:function(){var e=this,t=pe(".editor-widget.parameter-hints-widget"),n=x.append(t,pe(".phwrapper"));n.tabIndex=-1;var r=x.append(n,pe(".controls")),o=x.append(r,pe(".button"+re.kS.asCSSSelector(ge))),i=x.append(r,pe(".overloads")),a=x.append(r,pe(".button"+re.kS.asCSSSelector(ve)));this._register(x.addDisposableListener(o,"click",(function(t){x.EventHelper.stop(t),e.previous()}))),this._register(x.addDisposableListener(a,"click",(function(t){x.EventHelper.stop(t),e.next()})));var s=pe(".body"),u=new O.s$(s,{alwaysConsumeMouseWheel:!0});this._register(u),n.appendChild(u.getDomNode());var c=x.append(s,pe(".signature")),l=x.append(s,pe(".docs"));t.style.userSelect="text",this.domNodes={element:t,signature:c,overloads:i,docs:l,scrollbar:u},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection((function(t){e.visible&&e.editor.layoutContentWidget(e)})));var f=function(){if(e.domNodes){var t=e.editor.getOption(46);e.domNodes.element.style.fontSize="".concat(t.fontSize,"px"),e.domNodes.element.style.lineHeight="".concat(t.lineHeight/t.fontSize)}};f(),this._register(P.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((function(e){return e.hasChanged(46)})).on(f,null)),this._register(this.editor.onDidLayoutChange((function(t){return e.updateMaxHeight()}))),this.updateMaxHeight()}},{key:"show",value:function(){var e=this;this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout((function(){var t;null===(t=e.domNodes)||void 0===t||t.element.classList.add("visible")}),100),this.editor.layoutContentWidget(this))}},{key:"hide",value:function(){var e;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,null===(e=this.domNodes)||void 0===e||e.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}},{key:"getPosition",value:function(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}},{key:"render",value:function(e){var t;if(this.renderDisposeables.clear(),this.domNodes){var n=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",n),this.keyMultipleSignatures.set(n),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";var r=e.signatures[e.activeSignature];if(r){var o=x.append(this.domNodes.signature,pe(".code")),i=this.editor.getOption(46);o.style.fontSize="".concat(i.fontSize,"px"),o.style.fontFamily=i.fontFamily;var a=r.parameters.length>0,s=null!==(t=r.activeParameter)&&void 0!==t?t:e.activeParameter;a?this.renderParameters(o,r,s):x.append(o,pe("span")).textContent=r.label;var u=r.parameters[s];if(null==u?void 0:u.documentation){var c=pe("span.documentation");if("string"==typeof u.documentation)c.textContent=u.documentation;else{var l=this.renderMarkdownDocs(u.documentation);c.appendChild(l.element)}x.append(this.domNodes.docs,pe("p",{},c))}if(void 0===r.documentation);else if("string"==typeof r.documentation)x.append(this.domNodes.docs,pe("p",{},r.documentation));else{var f=this.renderMarkdownDocs(r.documentation);x.append(this.domNodes.docs,f.element)}var d=this.hasDocs(r,u);if(this.domNodes.signature.classList.toggle("has-docs",d),this.domNodes.docs.classList.toggle("empty",!d),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,u){var h="",p=r.parameters[s];h=Array.isArray(p.label)?r.label.substring(p.label[0],p.label[1]):p.label,p.documentation&&(h+="string"==typeof p.documentation?", ".concat(p.documentation):", ".concat(p.documentation.value)),r.documentation&&(h+="string"==typeof r.documentation?", ".concat(r.documentation):", ".concat(r.documentation.value)),this.announcedLabel!==h&&(L.Z9(k.NC("hint","{0}, hint",h)),this.announcedLabel=h)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}}}},{key:"renderMarkdownDocs",value:function(e){var t=this,n=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:function(){var e;null===(e=t.domNodes)||void 0===e||e.scrollbar.scanDomNode()}}));return n.element.classList.add("markdown-docs"),n}},{key:"hasDocs",value:function(e,t){return!!(t&&"string"==typeof t.documentation&&(0,c.cW)(t.documentation).length>0||t&&"object"===fe(t.documentation)&&(0,c.cW)(t.documentation).value.length>0||e.documentation&&"string"==typeof e.documentation&&(0,c.cW)(e.documentation).length>0||e.documentation&&"object"===fe(e.documentation)&&(0,c.cW)(e.documentation.value).length>0)}},{key:"renderParameters",value:function(e,t,n){var r=oe(this.getParameterLabelOffsets(t,n),2),o=r[0],i=r[1],a=document.createElement("span");a.textContent=t.label.substring(0,o);var s=document.createElement("span");s.textContent=t.label.substring(o,i),s.className="parameter active";var u=document.createElement("span");u.textContent=t.label.substring(i),x.append(e,a,s,u)}},{key:"getParameterLabelOffsets",value:function(e,t){var n=e.parameters[t];if(n){if(Array.isArray(n.label))return n.label;if(n.label.length){var r=new RegExp("(\\W|^)".concat((0,N.ec)(n.label),"(?=\\W|$)"),"g");r.test(e.label);var o=r.lastIndex-n.label.length;return o>=0?[o,r.lastIndex]:[0,0]}return[0,0]}return[0,0]}},{key:"next",value:function(){this.editor.focus(),this.model.next()}},{key:"previous",value:function(){this.editor.focus(),this.model.previous()}},{key:"cancel",value:function(){this.model.cancel()}},{key:"getDomNode",value:function(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}},{key:"getId",value:function(){return a.ID}},{key:"trigger",value:function(e){this.model.trigger(e,0)}},{key:"updateMaxHeight",value:function(){if(this.domNodes){var e=Math.max(this.editor.getLayoutInfo().height/4,250),t="".concat(e,"px");this.domNodes.element.style.maxHeight=t;var n=this.domNodes.element.getElementsByClassName("phwrapper");n.length&&(n[0].style.maxHeight=t)}}}])&&ae(t.prototype,n),o&&ae(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.JT);ye.ID="editor.widget.parameterHintsWidget",ye=de([he(1,v.i6),he(2,X.v4),he(3,I.O),he(4,d.p)],ye);var me=(0,ee.P6G)("editorHoverWidget.highlightForeground",{dark:ee.Gwp,light:ee.Gwp,hcDark:ee.Gwp,hcLight:ee.Gwp},k.NC("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Oe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Oe(i)?i:String(i)),r)}var o,i}function we(e,t,n){return t&&_e(e.prototype,t),n&&_e(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Se(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ke(e,t)}function ke(e,t){return ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ke(e,t)}function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Le(e);if(t){var o=Le(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xe(this,n)}}function xe(e,t){if(t&&("object"===Oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Le(e){return Le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Le(e)}function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}(0,re.Ic)((function(e,t){var n=e.getColor(ee.CNo);if(n){var r=(0,ne.c3)(e.type)?2:1;t.addRule(".monaco-editor .parameter-hints-widget { border: ".concat(r,"px solid ").concat(n,"; }")),t.addRule(".monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ".concat(n.transparent(.5),"; }")),t.addRule(".monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ".concat(n.transparent(.5),"; }"))}var o=e.getColor(ee.yJx);o&&t.addRule(".monaco-editor .parameter-hints-widget { background-color: ".concat(o,"; }"));var i=e.getColor(ee.url);i&&t.addRule(".monaco-editor .parameter-hints-widget a { color: ".concat(i,"; }"));var a=e.getColor(ee.sgC);a&&t.addRule(".monaco-editor .parameter-hints-widget a:hover { color: ".concat(a,"; }"));var s=e.getColor(ee.Sbf);s&&t.addRule(".monaco-editor .parameter-hints-widget { color: ".concat(s,"; }"));var u=e.getColor(ee.SwI);u&&t.addRule(".monaco-editor .parameter-hints-widget code { background-color: ".concat(u,"; }"));var c=e.getColor(me);c&&t.addRule(".monaco-editor .parameter-hints-widget .parameter.active { color: ".concat(c,"}"))}));var Ee=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Oe(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Pe=function(e,t){return function(n,r){t(n,r,e)}},Ne=function(e){Se(n,e);var t=Ce(n);function n(e,r){var o;return be(this,n),(o=t.call(this)).editor=e,o.widget=o._register(r.createInstance(ye,o.editor)),o}return we(n,[{key:"cancel",value:function(){this.widget.cancel()}},{key:"previous",value:function(){this.widget.previous()}},{key:"next",value:function(){this.widget.next()}},{key:"trigger",value:function(e){this.widget.trigger(e)}}],[{key:"get",value:function(e){return e.getContribution(n.ID)}}]),n}(r.JT);Ne.ID="editor.controller.parameterHints",Ne=Ee([Pe(1,C.TG)],Ne);var Ie=function(e){Se(n,e);var t=Ce(n);function n(){return be(this,n),t.call(this,{id:"editor.action.triggerParameterHints",label:k.NC("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:i.u.hasSignatureHelpProvider,kbOpts:{kbExpr:i.u.editorTextFocus,primary:3082,weight:100}})}return we(n,[{key:"run",value:function(e,t){var n=Ne.get(t);n&&n.trigger({triggerKind:a.WW.Invoke})}}]),n}(o.R6);(0,o._K)(Ne.ID,Ne),(0,o.Qr)(Ie);var Re=o._l.bindToContribution(Ne.get);(0,o.fK)(new Re({id:"closeParameterHints",precondition:w.Visible,handler:function(e){return e.cancel()},kbOpts:{weight:175,kbExpr:i.u.focus,primary:9,secondary:[1033]}})),(0,o.fK)(new Re({id:"showPrevParameterHint",precondition:v.Ao.and(w.Visible,w.MultipleSignatures),handler:function(e){return e.previous()},kbOpts:{weight:175,kbExpr:i.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,o.fK)(new Re({id:"showNextParameterHint",precondition:v.Ao.and(w.Visible,w.MultipleSignatures),handler:function(e){return e.next()},kbOpts:{weight:175,kbExpr:i.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},68243:(e,t,n)=>{n.d(t,{Fw:()=>q,Jy:()=>U,vk:()=>$,rc:()=>Q,SC:()=>te,M8:()=>ne,KY:()=>J,IH:()=>X,R7:()=>ee});var r=n(32007),o=n(13907),i=n(89704),a=n(74553),s=n(60160),u=n(82459),c=n(11092),l=n(18679),f=n(37845),d=n(51307),h=n(15003),p=n(75687),v=n(38709),g=n(48466),y=n(3817);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===m(i)?i:String(i)),r)}var o,i}function w(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var S=new s.Il(new s.VS(0,122,204)),k={showArrow:!0,showFrame:!0,className:"",frameColor:S,arrowColor:S,keepEditorSelection:!1},C=function(){function e(t,n,r,o,i,a){b(this,e),this.id="",this.domNode=t,this.afterLineNumber=n,this.afterColumn=r,this.heightInLines=o,this._onDomNodeTop=i,this._onComputedHeight=a}return w(e,[{key:"onDomNodeTop",value:function(e){this._onDomNodeTop(e)}},{key:"onComputedHeight",value:function(e){this._onComputedHeight(e)}}]),e}(),x=function(){function e(t,n){b(this,e),this._id=t,this._domNode=n}return w(e,[{key:"getId",value:function(){return this._id}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getPosition",value:function(){return null}}]),e}(),L=function(){function e(t){b(this,e),this._editor=t,this._ruleName=e._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}return w(e,[{key:"dispose",value:function(){this.hide(),r.removeCSSRulesContainingSelector(this._ruleName)}},{key:"color",set:function(e){this._color!==e&&(this._color=e,this._updateStyle())}},{key:"height",set:function(e){this._height!==e&&(this._height=e,this._updateStyle())}},{key:"_updateStyle",value:function(){r.removeCSSRulesContainingSelector(this._ruleName),r.createCSSRule(".monaco-editor ".concat(this._ruleName),"border-style: solid; border-color: transparent; border-bottom-color: ".concat(this._color,"; border-width: ").concat(this._height,"px; bottom: -").concat(this._height,"px; margin-left: -").concat(this._height,"px; "))}},{key:"show",value:function(e){1===e.column&&(e={lineNumber:e.lineNumber,column:2}),this._decorations.set([{range:g.e.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}},{key:"hide",value:function(){this._decorations.clear()}}]),e}();L._IdGenerator=new p.R(".arrow-decoration-");var O=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(this,e),this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new v.SL,this.container=null,this._isShowing=!1,this.editor=t,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=c.I8(r),c.jB(this.options,k,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange((function(e){var t=n._getWidth(e);n.domNode.style.width=t+"px",n.domNode.style.left=n._getLeft(e)+"px",n._onWidth(t)})))}return w(e,[{key:"dispose",value:function(){var e=this;this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones((function(t){e._viewZone&&t.removeZone(e._viewZone.id),e._viewZone=null})),this._positionMarkerId.clear(),this._disposables.dispose()}},{key:"create",value:function(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new L(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}},{key:"style",value:function(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}},{key:"_applyStyles",value:function(){if(this.container&&this.options.frameColor){var e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){var t=this.options.arrowColor.toString();this._arrow.color=t}}},{key:"_getWidth",value:function(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}},{key:"_getLeft",value:function(e){return e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?e.minimap.minimapWidth:0}},{key:"_onViewZoneTop",value:function(e){this.domNode.style.top=e+"px"}},{key:"_onViewZoneHeight",value:function(e){if(this.domNode.style.height="".concat(e,"px"),this.container){var t=e-this._decoratingElementsHeight();this.container.style.height="".concat(t,"px");var n=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(n))}this._resizeSash&&this._resizeSash.layout()}},{key:"position",get:function(){var e=this._positionMarkerId.getRange(0);if(e)return e.getStartPosition()}},{key:"show",value:function(e,t){var n=g.e.isIRange(e)?g.e.lift(e):g.e.fromPositions(e);this._isShowing=!0,this._showImpl(n,t),this._isShowing=!1,this._positionMarkerId.set([{range:n,options:y.qx.EMPTY}])}},{key:"hide",value:function(){var e=this;this._viewZone&&(this.editor.changeViewZones((function(t){e._viewZone&&t.removeZone(e._viewZone.id)})),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}},{key:"_decoratingElementsHeight",value:function(){var e=this.editor.getOption(61),t=0;this.options.showArrow&&(t+=2*Math.round(e/3));this.options.showFrame&&(t+=2*Math.round(e/9));return t}},{key:"_showImpl",value:function(e,t){var n=this,r=e.getStartPosition(),o=this.editor.getLayoutInfo(),i=this._getWidth(o);this.domNode.style.width="".concat(i,"px"),this.domNode.style.left=this._getLeft(o)+"px";var a=document.createElement("div");a.style.overflow="hidden";var s=this.editor.getOption(61),u=Math.max(12,this.editor.getLayoutInfo().height/s*.8);t=Math.min(t,u);var c=0,l=0;if(this._arrow&&this.options.showArrow&&(c=Math.round(s/3),this._arrow.height=c,this._arrow.show(r)),this.options.showFrame&&(l=Math.round(s/9)),this.editor.changeViewZones((function(e){n._viewZone&&e.removeZone(n._viewZone.id),n._overlayWidget&&(n.editor.removeOverlayWidget(n._overlayWidget),n._overlayWidget=null),n.domNode.style.top="-1000px",n._viewZone=new C(a,r.lineNumber,r.column,t,(function(e){return n._onViewZoneTop(e)}),(function(e){return n._onViewZoneHeight(e)})),n._viewZone.id=e.addZone(n._viewZone),n._overlayWidget=new x("vs.editor.contrib.zoneWidget"+n._viewZone.id,n.domNode),n.editor.addOverlayWidget(n._overlayWidget)})),this.container&&this.options.showFrame){var f=this.options.frameWidth?this.options.frameWidth:l;this.container.style.borderTopWidth=f+"px",this.container.style.borderBottomWidth=f+"px"}var d=t*s-this._decoratingElementsHeight();this.container&&(this.container.style.top=c+"px",this.container.style.height=d+"px",this.container.style.overflow="hidden"),this._doLayout(d,i),this.options.keepEditorSelection||this.editor.setSelection(e);var h=this.editor.getModel();if(h){var p=e.endLineNumber+1;p<=h.getLineCount()?this.revealLine(p,!1):this.revealLine(h.getLineCount(),!0)}}},{key:"revealLine",value:function(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)}},{key:"setCssClass",value:function(e,t){this.container&&(t&&this.container.classList.remove(t),this.container.classList.add(e))}},{key:"_onWidth",value:function(e){}},{key:"_doLayout",value:function(e,t){}},{key:"_relayout",value:function(e){var t=this;this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones((function(n){t._viewZone&&(t._viewZone.heightInLines=e,n.layoutZone(t._viewZone.id))}))}},{key:"_initSash",value:function(){var e,t=this;this._resizeSash||(this._resizeSash=this._disposables.add(new h.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart((function(n){t._viewZone&&(e={startY:n.startY,heightInLines:t._viewZone.heightInLines})}))),this._disposables.add(this._resizeSash.onDidEnd((function(){e=void 0}))),this._disposables.add(this._resizeSash.onDidChange((function(n){if(e){var r=(n.currentY-e.startY)/t.editor.getOption(61),o=r<0?Math.ceil(r):Math.floor(r),i=e.heightInLines+o;i>5&&i<35&&t._relayout(i)}}))))}},{key:"getHorizontalSashLeft",value:function(){return 0}},{key:"getHorizontalSashTop",value:function(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}},{key:"getHorizontalSashWidth",value:function(){var e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}]),e}(),E=n(18063),P=n(91127),N=n(73589),I=n(47123),R=n(63304),T=n(41367);function j(){return j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=A(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},j.apply(this,arguments)}function A(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=W(e)););return e}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var o=W(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){if(t&&("object"===V(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==V(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===V(i)?i:String(i)),r)}var o,i}function G(e,t,n){return t&&B(e.prototype,t),n&&B(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}var U,z=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":V(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},K=function(e,t){return function(n,r){t(n,r,e)}},q=(0,R.yh)("IPeekViewService");(0,I.z)(q,function(){function e(){H(this,e),this._widgets=new Map}return G(e,[{key:"addExclusiveWidget",value:function(e,t){var n=this,r=this._widgets.get(e);r&&(r.listener.dispose(),r.widget.dispose());this._widgets.set(e,{widget:t,listener:t.onDidClose((function(){var r=n._widgets.get(e);r&&r.widget===t&&(r.listener.dispose(),n._widgets.delete(e))}))})}}]),e}()),function(e){e.inPeekEditor=new N.uy("inReferenceSearchEditor",!0,E.NC("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),e.notInPeekEditor=e.inPeekEditor.toNegated()}(U||(U={}));var Y=function(){function e(t,n){H(this,e),t instanceof d.H&&U.inPeekEditor.bindTo(n)}return G(e,[{key:"dispose",value:function(){}}]),e}();function Q(e){var t=e.get(f.$).getFocusedCodeEditor();return t instanceof d.H?t.getParentEditor():t}Y.ID="editor.contrib.referenceController",Y=z([K(1,N.i6)],Y),(0,l._K)(Y.ID,Y);var Z={headerBackgroundColor:s.Il.white,primaryHeadingColor:s.Il.fromHex("#333333"),secondaryHeadingColor:s.Il.fromHex("#6c6c6cb3")},$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(n,e);var t=M(n);function n(e,r,o){var i;return H(this,n),(i=t.call(this,e,r)).instantiationService=o,i._onDidClose=new u.Q5,i.onDidClose=i._onDidClose.event,c.jB(i.options,Z,!1),i}return G(n,[{key:"dispose",value:function(){this.disposed||(this.disposed=!0,j(W(n.prototype),"dispose",this).call(this),this._onDidClose.fire(this))}},{key:"style",value:function(e){var t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),j(W(n.prototype),"style",this).call(this,e)}},{key:"_applyStyles",value:function(){j(W(n.prototype),"_applyStyles",this).call(this);var e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}},{key:"_fillContainer",value:function(e){this.setCssClass("peekview-widget"),this._headElement=r.$(".head"),this._bodyElement=r.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}},{key:"_fillHead",value:function(e,t){var n=this,s=r.$(".peekview-title");this.options.supportOnTitleClick&&(s.classList.add("clickable"),r.addStandardDisposableListener(s,"click",(function(e){return n._onTitleClick(e)}))),r.append(this._headElement,s),this._fillTitleIcon(s),this._primaryHeading=r.$("span.filename"),this._secondaryHeading=r.$("span.dirname"),this._metaHeading=r.$("span.meta"),r.append(s,this._primaryHeading,this._secondaryHeading,this._metaHeading);var u=r.$(".peekview-actions");r.append(this._headElement,u);var c=this._getActionBarOptions();this._actionbarWidget=new o.o(u,c),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new i.aU("peekview.close",E.NC("label.close","Close"),a.lA.close.classNames,!0,(function(){return n.dispose(),Promise.resolve()})),{label:!1,icon:!0})}},{key:"_fillTitleIcon",value:function(e){}},{key:"_getActionBarOptions",value:function(){return{actionViewItemProvider:P.Id.bind(void 0,this.instantiationService),orientation:0}}},{key:"_onTitleClick",value:function(e){}},{key:"setTitle",value:function(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:r.clearNode(this._secondaryHeading))}},{key:"setMetaTitle",value:function(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,r.show(this._metaHeading)):r.hide(this._metaHeading))}},{key:"_doLayout",value:function(e,t){if(!this._isShowing&&e<0)this.dispose();else{var n=Math.ceil(1.2*this.editor.getOption(61)),r=Math.round(e-(n+2));this._doLayoutHead(n,t),this._doLayoutBody(r,t)}}},{key:"_doLayoutHead",value:function(e,t){this._headElement&&(this._headElement.style.height="".concat(e,"px"),this._headElement.style.lineHeight=this._headElement.style.height)}},{key:"_doLayoutBody",value:function(e,t){this._bodyElement&&(this._bodyElement.style.height="".concat(e,"px"))}}]),n}(O);$=z([K(2,R.TG)],$);var J=(0,T.P6G)("peekViewTitle.background",{dark:(0,T.ZnX)(T.c63,.1),light:(0,T.ZnX)(T.c63,.1),hcDark:null,hcLight:null},E.NC("peekViewTitleBackground","Background color of the peek view title area.")),X=(0,T.P6G)("peekViewTitleLabel.foreground",{dark:s.Il.white,light:s.Il.black,hcDark:s.Il.white,hcLight:T.NOs},E.NC("peekViewTitleForeground","Color of the peek view title.")),ee=(0,T.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},E.NC("peekViewTitleInfoForeground","Color of the peek view title info.")),te=(0,T.P6G)("peekView.border",{dark:T.c63,light:T.c63,hcDark:T.lRK,hcLight:T.lRK},E.NC("peekViewBorder","Color of the peek view borders and arrow.")),ne=(0,T.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:s.Il.black,hcLight:s.Il.white},E.NC("peekViewResultsBackground","Background color of the peek view result list.")),re=((0,T.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:s.Il.white,hcLight:T.NOs},E.NC("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),(0,T.P6G)("peekViewResult.fileForeground",{dark:s.Il.white,light:"#1E1E1E",hcDark:s.Il.white,hcLight:T.NOs},E.NC("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),(0,T.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},E.NC("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),(0,T.P6G)("peekViewResult.selectionForeground",{dark:s.Il.white,light:"#6C6C6C",hcDark:s.Il.white,hcLight:T.NOs},E.NC("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),(0,T.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:s.Il.black,hcLight:s.Il.white},E.NC("peekViewEditorBackground","Background color of the peek view editor.")));(0,T.P6G)("peekViewEditorGutter.background",{dark:re,light:re,hcDark:re,hcLight:re},E.NC("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),(0,T.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},E.NC("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),(0,T.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},E.NC("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),(0,T.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:T.xL1,hcLight:T.xL1},E.NC("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},6168:(e,t,n)=>{n.d(t,{T:()=>d});var r=n(15441);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,a=void 0,a=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===o(a)?a:String(a)),r)}var i,a}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(l,e);var t,n,o,a=c(l);function l(e,t,n,r,o,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.call(this,e,t,n,r,o,i)}return t=l,(n=[{key:"getCodeEditorCommandPicks",value:function(){var e=this.activeTextEditorControl;if(!e)return[];var t,n=[],o=i(e.getSupportedActions());try{for(o.s();!(t=o.n()).done;){var a=t.value;n.push({commandId:a.id,commandAlias:a.alias,label:(0,r.x$)(a.label)||a.id})}}catch(e){o.e(e)}finally{o.f()}return n}}])&&s(t.prototype,n),o&&s(t,o),Object.defineProperty(t,"prototype",{writable:!1}),l}(n(65402).Z)},14445:(e,t,n)=>{n.d(t,{X:()=>p});var r=n(92733),o=n(38709),i=n(8401),a=n(6617),s=n(65498),u=n(78957),c=n(38656);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===l(i)?i:String(i)),r)}var o,i}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.rangeHighlightDecorationId=void 0}var t,n,l;return t=e,(n=[{key:"provide",value:function(e,t){var n,r=this,i=new o.SL;e.canAcceptInBackground=!!(null===(n=this.options)||void 0===n?void 0:n.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;var a=i.add(new o.XK);return a.value=this.doProvide(e,t),i.add(this.onDidActiveTextEditorControlChange((function(){a.value=void 0,a.value=r.doProvide(e,t)}))),i}},{key:"doProvide",value:function(e,t){var n=this,s=new o.SL,u=this.activeTextEditorControl;if(u&&this.canProvideWithTextEditor(u)){var c={editor:u},l=(0,a.Pi)(u);if(l){var f=(0,i.f6)(u.saveViewState());s.add(l.onDidChangeCursorPosition((function(){f=(0,i.f6)(u.saveViewState())}))),c.restoreViewState=function(){f&&u===n.activeTextEditorControl&&u.restoreViewState(f)},s.add((0,r.I)(t.onCancellationRequested)((function(){var e;return null===(e=c.restoreViewState)||void 0===e?void 0:e.call(c)})))}s.add((0,o.OF)((function(){return n.clearDecorations(u)}))),s.add(this.provideWithTextEditor(c,e,t))}else s.add(this.provideWithoutTextEditor(e,t));return s}},{key:"canProvideWithTextEditor",value:function(e){return!0}},{key:"gotoLocation",value:function(e,t){var n=e.editor;n.setSelection(t.range),n.revealRangeInCenter(t.range,0),t.preserveFocus||n.focus()}},{key:"getModel",value:function(e){var t;return(0,a.QI)(e)?null===(t=e.getModel())||void 0===t?void 0:t.modified:e.getModel()}},{key:"addDecorations",value:function(e,t){var n=this;e.changeDecorations((function(e){var r=[];n.rangeHighlightDecorationId&&(r.push(n.rangeHighlightDecorationId.overviewRulerDecorationId),r.push(n.rangeHighlightDecorationId.rangeHighlightId),n.rangeHighlightDecorationId=void 0);var o=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,c.EN)(u.m9),position:s.sh.Full}}}],i=f(e.deltaDecorations(r,o),2),a=i[0],l=i[1];n.rangeHighlightDecorationId={rangeHighlightId:a,overviewRulerDecorationId:l}}))}},{key:"clearDecorations",value:function(e){var t=this.rangeHighlightDecorationId;t&&(e.changeDecorations((function(e){e.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])})),this.rangeHighlightDecorationId=void 0)}}])&&h(t.prototype,n),l&&h(t,l),Object.defineProperty(t,"prototype",{writable:!1}),e}()},27751:(e,t,n)=>{n.d(t,{q:()=>v});var r=n(38709),o=n(6617),i=n(14445),a=n(18063);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===s(i)?i:String(i)),r)}var o,i}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(c,e);var t,n,i,s=d(c);function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),s.call(this,{canAcceptInBackground:!0})}return t=c,n=[{key:"provideWithoutTextEditor",value:function(e){var t=(0,a.NC)("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,r.JT.None}},{key:"provideWithTextEditor",value:function(e,t,n){var i=this,a=e.editor,s=new r.SL;s.add(t.onDidAccept((function(n){var r=u(t.selectedItems,1)[0];if(r){if(!i.isValidLineNumber(a,r.lineNumber))return;i.gotoLocation(e,{range:i.toRange(r.lineNumber,r.column),keyMods:t.keyMods,preserveFocus:n.inBackground}),n.inBackground||t.hide()}})));var l=function(){var e=i.parsePosition(a,t.value.trim().substr(c.PREFIX.length)),n=i.getPickLabel(a,e.lineNumber,e.column);if(t.items=[{lineNumber:e.lineNumber,column:e.column,label:n}],t.ariaLabel=n,i.isValidLineNumber(a,e.lineNumber)){var r=i.toRange(e.lineNumber,e.column);a.revealRangeInCenter(r,0),i.addDecorations(a,r)}else i.clearDecorations(a)};l(),s.add(t.onDidChangeValue((function(){return l()})));var f=(0,o.Pi)(a);return f&&2===f.getOptions().get(62).renderType&&(f.updateOptions({lineNumbers:"on"}),s.add((0,r.OF)((function(){return f.updateOptions({lineNumbers:"relative"})})))),s}},{key:"toRange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}},{key:"parsePosition",value:function(e,t){var n=t.split(/,|:|#/).map((function(e){return parseInt(e,10)})).filter((function(e){return!isNaN(e)})),r=this.lineCount(e)+1;return{lineNumber:n[0]>0?n[0]:r+n[0],column:n[1]}}},{key:"getPickLabel",value:function(e,t,n){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,n)?(0,a.NC)("gotoLineColumnLabel","Go to line {0} and character {1}.",t,n):(0,a.NC)("gotoLineLabel","Go to line {0}.",t);var r=e.getPosition()||{lineNumber:1,column:1},o=this.lineCount(e);return o>1?(0,a.NC)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",r.lineNumber,r.column,o):(0,a.NC)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",r.lineNumber,r.column)}},{key:"isValidLineNumber",value:function(e,t){return!(!t||"number"!=typeof t)&&t>0&&t<=this.lineCount(e)}},{key:"isValidColumn",value:function(e,t,n){if(!n||"number"!=typeof n)return!1;var r=this.getModel(e);if(!r)return!1;var o={lineNumber:t,column:n};return r.validatePosition(o).equals(o)}},{key:"lineCount",value:function(e){var t,n;return null!==(n=null===(t=this.getModel(e))||void 0===t?void 0:t.getLineCount())&&void 0!==n?n:0}}],n&&l(t.prototype,n),i&&l(t,i),Object.defineProperty(t,"prototype",{writable:!1}),c}(i.X);v.PREFIX=":"},30462:(e,t,n)=>{n.d(t,{S:()=>A});var r,o=n(95295),i=n(2307),a=n(74553),s=n(91003),u=n(38709),c=n(46969),l=n(48466),f=n(87116),d=n(13135),h=n(14445),p=n(18063),v=n(31213),g=n(86193);function y(e,t,n){return(t=L(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=w(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(){k=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new L(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(O([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==I(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return E()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function L(e){var t=function(e,t){if("object"!==I(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===I(t)?t:String(t)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}var R=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":I(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},T=function(e,t){return function(n,r){t(n,r,e)}},j=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(h,e);var t,n,r,d=E(h);function h(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.create(null);return C(this,h),(n=d.call(this,r))._languageFeaturesService=e,n._outlineModelService=t,n.options=r,n.options.canAcceptInBackground=!0,n}return t=h,(n=[{key:"provideWithoutTextEditor",value:function(e){return this.provideLabelPick(e,(0,p.NC)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),u.JT.None}},{key:"provideWithTextEditor",value:function(e,t,n){var r=e.editor,o=this.getModel(r);return o?this._languageFeaturesService.documentSymbolProvider.has(o)?this.doProvideWithEditorSymbols(e,o,t,n):this.doProvideWithoutEditorSymbols(e,o,t,n):u.JT.None}},{key:"doProvideWithoutEditorSymbols",value:function(e,t,n,r){var o=this,i=new u.SL;return this.provideLabelPick(n,(0,p.NC)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),j(o,void 0,void 0,k().mark((function o(){return k().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.waitForLanguageSymbolRegistry(t,i);case 2:if(o.sent&&!r.isCancellationRequested){o.next=5;break}return o.abrupt("return");case 5:i.add(this.doProvideWithEditorSymbols(e,t,n,r));case 6:case"end":return o.stop()}}),o,this)}))),i}},{key:"provideLabelPick",value:function(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}},{key:"waitForLanguageSymbolRegistry",value:function(e,t){return j(this,void 0,void 0,k().mark((function n(){var r,i,a=this;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this._languageFeaturesService.documentSymbolProvider.has(e)){n.next=2;break}return n.abrupt("return",!0);case 2:return r=new o.CR,i=t.add(this._languageFeaturesService.documentSymbolProvider.onDidChange((function(){a._languageFeaturesService.documentSymbolProvider.has(e)&&(i.dispose(),r.complete(!0))}))),t.add((0,u.OF)((function(){return r.complete(!1)}))),n.abrupt("return",r.p);case 6:case"end":return n.stop()}}),n,this)})))}},{key:"doProvideWithEditorSymbols",value:function(e,t,n,r){var o,a=this,c=e.editor,f=new u.SL;f.add(n.onDidAccept((function(t){var r=_(n.selectedItems,1)[0];r&&r.range&&(a.gotoLocation(e,{range:r.range.selection,keyMods:n.keyMods,preserveFocus:t.inBackground}),t.inBackground||n.hide())}))),f.add(n.onDidTriggerItemButton((function(t){var r=t.item;r&&r.range&&(a.gotoLocation(e,{range:r.range.selection,keyMods:n.keyMods,forceSideBySide:!0}),n.hide())})));var d=this.getDocumentSymbols(t,r),v=void 0,y=function(e){return j(a,void 0,void 0,k().mark((function t(){var o,a,u;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null==v||v.dispose(!0),n.busy=!1,v=new i.A(r),n.busy=!0,t.prev=4,o=(0,s.AO)(n.value.substr(h.PREFIX.length).trim()),t.next=8,this.doGetSymbolPicks(d,o,void 0,v.token);case 8:if(a=t.sent,!r.isCancellationRequested){t.next=11;break}return t.abrupt("return");case 11:a.length>0?(n.items=a,e&&0===o.original.length&&(u=(0,g.dF)(a,(function(t){return Boolean("separator"!==t.type&&t.range&&l.e.containsPosition(t.range.decoration,e))})))&&(n.activeItems=[u])):o.original.length>0?this.provideLabelPick(n,(0,p.NC)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(n,(0,p.NC)("noSymbolResults","No editor symbols"));case 12:return t.prev=12,r.isCancellationRequested||(n.busy=!1),t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[4,,12,15]])})))};f.add(n.onDidChangeValue((function(){return y(void 0)}))),y(null===(o=c.getSelection())||void 0===o?void 0:o.getPosition());var m=2;return f.add(n.onDidChangeActive((function(){var e=_(n.activeItems,1)[0];if(e&&e.range){if(m-- >0)return;c.revealRangeInCenter(e.range.selection,0),a.addDecorations(c,e.range.decoration)}}))),f}},{key:"doGetSymbolPicks",value:function(e,t,n,r){return j(this,void 0,void 0,k().mark((function o(){var i,u,d,v,g,y,w,S,C,x,L,O,E,P,N,I,R,T,j,A,F,W,H,B,G,V,U,z,K,q,Y,Q,Z,$=this;return k().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e;case 2:if(i=o.sent,!r.isCancellationRequested){o.next=5;break}return o.abrupt("return",[]);case 5:u=0===t.original.indexOf(h.SCOPE_PREFIX),d=u?1:0,t.values&&t.values.length>1?(v=(0,s.Ic)(t.values[0]),g=(0,s.Ic)(t.values.slice(1))):v=t,y=[],w=0;case 10:if(!(w<i.length)){o.next=41;break}if(S=i[w],C=(0,c.fy)(S.name),x="$(".concat(f.uZ.toIcon(S.kind).id,") ").concat(C),L=x.length-C.length,O=S.containerName,(null==n?void 0:n.extraContainerLabel)&&(O=O?"".concat(n.extraContainerLabel," • ").concat(O):n.extraContainerLabel),E=void 0,P=void 0,N=void 0,I=void 0,!(t.original.length>d)){o.next=36;break}if(R=!1,v!==t&&(T=(0,s.mt)(x,Object.assign(Object.assign({},t),{values:void 0}),d,L),j=_(T,2),E=j[0],P=j[1],"number"==typeof E&&(R=!0)),"number"==typeof E){o.next=31;break}if(A=(0,s.mt)(x,v,d,L),F=_(A,2),E=F[0],P=F[1],"number"==typeof E){o.next=31;break}return o.abrupt("continue",38);case 31:if(R||!g){o.next=36;break}if(O&&g.original.length>0&&(W=(0,s.mt)(O,g),H=_(W,2),N=H[0],I=H[1]),"number"==typeof N){o.next=35;break}return o.abrupt("continue",38);case 35:"number"==typeof E&&(E+=N);case 36:B=S.tags&&S.tags.indexOf(1)>=0,y.push({index:w,kind:S.kind,score:E,label:x,ariaLabel:C,description:O,highlights:B?void 0:{label:P,description:I},range:{selection:l.e.collapseToStart(S.selectionRange),decoration:S.range},strikethrough:B,buttons:function(){var e,t,n=(null===(e=$.options)||void 0===e?void 0:e.openSideBySideDirection)?null===(t=$.options)||void 0===t?void 0:t.openSideBySideDirection():void 0;if(n)return[{iconClass:"right"===n?a.lA.splitHorizontal.classNames:a.lA.splitVertical.classNames,tooltip:"right"===n?(0,p.NC)("openToSide","Open to the Side"):(0,p.NC)("openToBottom","Open to the Bottom")}]}()});case 38:w++,o.next=10;break;case 41:if(G=y.sort((function(e,t){return u?$.compareByKindAndScore(e,t):$.compareByScore(e,t)})),V=[],u){U=function(){K&&"number"==typeof z&&q>0&&(K.label=(0,c.WU)(M[z]||D,q))},z=void 0,K=void 0,q=0,Y=b(G);try{for(Y.s();!(Q=Y.n()).done;)Z=Q.value,z!==Z.kind?(U(),z=Z.kind,q=1,K={type:"separator"},V.push(K)):q++,V.push(Z)}catch(e){Y.e(e)}finally{Y.f()}U()}else G.length>0&&(V=[{label:(0,p.NC)("symbols","symbols ({0})",y.length),type:"separator"}].concat(m(G)));return o.abrupt("return",V);case 45:case"end":return o.stop()}}),o)})))}},{key:"compareByScore",value:function(e,t){if("number"!=typeof e.score&&"number"==typeof t.score)return 1;if("number"==typeof e.score&&"number"!=typeof t.score)return-1;if("number"==typeof e.score&&"number"==typeof t.score){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}},{key:"compareByKindAndScore",value:function(e,t){var n=M[e.kind]||D,r=M[t.kind]||D,o=n.localeCompare(r);return 0===o?this.compareByScore(e,t):o}},{key:"getDocumentSymbols",value:function(e,t){return j(this,void 0,void 0,k().mark((function n(){var r;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this._outlineModelService.getOrCreate(e,t);case 2:return r=n.sent,n.abrupt("return",t.isCancellationRequested?[]:r.asListOfDocumentSymbols());case 4:case"end":return n.stop()}}),n,this)})))}}])&&x(t.prototype,n),r&&x(t,r),Object.defineProperty(t,"prototype",{writable:!1}),h}(h.X);A.PREFIX="@",A.SCOPE_PREFIX=":",A.PREFIX_BY_CATEGORY="".concat(A.PREFIX).concat(A.SCOPE_PREFIX),A=R([T(0,v.p),T(1,d.Je)],A);var D=(0,p.NC)("property","properties ({0})"),M=(y(r={},5,(0,p.NC)("method","methods ({0})")),y(r,11,(0,p.NC)("function","functions ({0})")),y(r,8,(0,p.NC)("_constructor","constructors ({0})")),y(r,12,(0,p.NC)("variable","variables ({0})")),y(r,4,(0,p.NC)("class","classes ({0})")),y(r,22,(0,p.NC)("struct","structs ({0})")),y(r,23,(0,p.NC)("event","events ({0})")),y(r,24,(0,p.NC)("operator","operators ({0})")),y(r,10,(0,p.NC)("interface","interfaces ({0})")),y(r,2,(0,p.NC)("namespace","namespaces ({0})")),y(r,3,(0,p.NC)("package","packages ({0})")),y(r,25,(0,p.NC)("typeParameter","type parameters ({0})")),y(r,1,(0,p.NC)("modules","modules ({0})")),y(r,6,(0,p.NC)("property","properties ({0})")),y(r,9,(0,p.NC)("enum","enumerations ({0})")),y(r,21,(0,p.NC)("enumMember","enumeration members ({0})")),y(r,14,(0,p.NC)("string","strings ({0})")),y(r,0,(0,p.NC)("file","files ({0})")),y(r,17,(0,p.NC)("array","arrays ({0})")),y(r,15,(0,p.NC)("number","numbers ({0})")),y(r,16,(0,p.NC)("boolean","booleans ({0})")),y(r,18,(0,p.NC)("object","objects ({0})")),y(r,19,(0,p.NC)("key","keys ({0})")),y(r,7,(0,p.NC)("field","fields ({0})")),y(r,13,(0,p.NC)("constant","constants ({0})")),r)},67430:(e,t,n)=>{n.r(t),n.d(t,{ReadOnlyMessageController:()=>h});var r=n(38709),o=n(18679),i=n(44454),a=n(18063);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===s(i)?i:String(i)),r)}var o,i}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(s,e);var t,n,r,o=l(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).editor=e,t._register(t.editor.onDidAttemptReadOnlyEdit((function(){return t._onDidAttemptReadOnlyEdit()}))),t}return t=s,(n=[{key:"_onDidAttemptReadOnlyEdit",value:function(){var e=i.O.get(this.editor);e&&this.editor.hasModel()&&(this.editor.isSimpleWidget?e.showMessage(a.NC("editor.simple.readonly","Cannot edit in read-only input"),this.editor.getPosition()):e.showMessage(a.NC("editor.readonly","Cannot edit in read-only editor"),this.editor.getPosition()))}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.JT);h.ID="editor.contrib.readOnlyMessageController",(0,o._K)(h.ID,h)},25163:(e,t,n)=>{n.r(t),n.d(t,{RenameAction:()=>oe,rename:()=>ne});var r=n(61041),o=n(95295),i=n(2307),a=n(95835),s=n(38709),u=n(8401),c=n(83916),l=n(59347),f=n(18679),d=n(94717),h=n(37845),p=n(51638),v=n(48466),g=n(25112),y=n(37120),m=n(44454),b=n(18063),_=n(17612),w=n(73589),S=n(63304),k=n(50985),C=n(32931),x=n(26104),L=n(68024),O=n(9263),E=n(41367),P=n(38656);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===T(i)?i:String(i)),r)}var o,i}function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}var j=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":T(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},A=function(e,t){return function(n,r){t(n,r,e)}},D=new w.uy("renameInputVisible",!1,(0,b.NC)("renameInputVisible","Whether the rename input widget is visible")),M=function(){function e(t,n,r,o,i){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._editor=t,this._acceptKeybindings=n,this._themeService=r,this._keybindingService=o,this._disposables=new s.SL,this.allowEditorOverflow=!0,this._visibleContextKey=D.bindTo(i),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration((function(e){e.hasChanged(46)&&a._updateFont()}))),this._disposables.add(r.onDidColorThemeChange(this._updateStyles,this))}var t,n,r;return t=e,(n=[{key:"dispose",value:function(){this._disposables.dispose(),this._editor.removeContentWidget(this)}},{key:"getId",value:function(){return"__renameInputWidget"}},{key:"getDomNode",value:function(){var e=this;if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,b.NC)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);var t=function(){var t,n,r=N(e._acceptKeybindings,2),o=r[0],i=r[1];e._keybindingService.lookupKeybinding(o),e._label.innerText=(0,b.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(t=e._keybindingService.lookupKeybinding(o))||void 0===t?void 0:t.getLabel(),null===(n=e._keybindingService.lookupKeybinding(i))||void 0===n?void 0:n.getLabel())};t(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(t)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}},{key:"_updateStyles",value:function(e){var t,n,r,o;if(this._input&&this._domNode){var i=e.getColor(E.rh);this._domNode.style.backgroundColor=String(null!==(t=e.getColor(E.D0T))&&void 0!==t?t:""),this._domNode.style.boxShadow=i?" 0 0 8px 2px ".concat(i):"",this._domNode.style.color=String(null!==(n=e.getColor(E.zJb))&&void 0!==n?n:""),this._input.style.backgroundColor=String(null!==(r=e.getColor(E.sEe))&&void 0!==r?r:"");var a=e.getColor(E.dt_);this._input.style.borderWidth=a?"1px":"0px",this._input.style.borderStyle=a?"solid":"none",this._input.style.borderColor=null!==(o=null==a?void 0:a.toString())&&void 0!==o?o:"none"}}},{key:"_updateFont",value:function(){if(this._input&&this._label){var e=this._editor.getOption(46);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize="".concat(e.fontSize,"px"),this._label.style.fontSize="".concat(.8*e.fontSize,"px")}}},{key:"getPosition",value:function(){return this._visible?{position:this._position,preference:[2,1]}:null}},{key:"afterRender",value:function(e){e||this.cancelInput(!0)}},{key:"acceptInput",value:function(e){var t;null===(t=this._currentAcceptInput)||void 0===t||t.call(this,e)}},{key:"cancelInput",value:function(e){var t;null===(t=this._currentCancelInput)||void 0===t||t.call(this,e)}},{key:"getInput",value:function(e,t,n,r,o,i){var a=this;this._domNode.classList.toggle("preview",o),this._position=new p.L(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",n.toString()),this._input.setAttribute("selectionEnd",r.toString()),this._input.size=Math.max(1.1*(e.endColumn-e.startColumn),20);var u=new s.SL;return new Promise((function(e){a._currentCancelInput=function(t){return a._currentAcceptInput=void 0,a._currentCancelInput=void 0,e(t),!0},a._currentAcceptInput=function(n){0!==a._input.value.trim().length&&a._input.value!==t?(a._currentAcceptInput=void 0,a._currentCancelInput=void 0,e({newName:a._input.value,wantsPreview:o&&n})):a.cancelInput(!0)},u.add(i.onCancellationRequested((function(){return a.cancelInput(!0)}))),u.add(a._editor.onDidBlurEditorWidget((function(){return a.cancelInput(!1)}))),a._show()})).finally((function(){u.dispose(),a._hide()}))}},{key:"_show",value:function(){var e=this;this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout((function(){e._input.focus(),e._input.setSelectionRange(parseInt(e._input.getAttribute("selectionStart")),parseInt(e._input.getAttribute("selectionEnd")))}),100)}},{key:"_hide",value:function(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}}])&&R(t.prototype,n),r&&R(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();M=j([A(2,P.XE),A(3,O.d),A(4,w.i6)],M);var F=n(31213);function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=G(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},B.apply(this,arguments)}function G(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=K(e)););return e}function V(e,t){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K(e);if(t){var o=K(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},K(e)}function q(){q=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==$(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==$(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===$(i)?i:String(i)),r)}var o,i}function Z(e,t,n){return t&&Q(e.prototype,t),n&&Q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}var J=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":$(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},X=function(e,t){return function(n,r){t(n,r,e)}},ee=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},te=function(){function e(t,n,r){Y(this,e),this.model=t,this.position=n,this._providerRenameIdx=0,this._providers=r.ordered(t)}return Z(e,[{key:"hasProvider",value:function(){return this._providers.length>0}},{key:"resolveRenameLocation",value:function(e){return ee(this,void 0,void 0,q().mark((function t(){var n,r,o,i;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],this._providerRenameIdx=0;case 2:if(!(this._providerRenameIdx<this._providers.length)){t.next=18;break}if((r=this._providers[this._providerRenameIdx]).resolveRenameLocation){t.next=6;break}return t.abrupt("break",18);case 6:return t.next=8,r.resolveRenameLocation(this.model,this.position,e);case 8:if(o=t.sent){t.next=11;break}return t.abrupt("continue",15);case 11:if(!o.rejectReason){t.next=14;break}return n.push(o.rejectReason),t.abrupt("continue",15);case 14:return t.abrupt("return",o);case 15:this._providerRenameIdx++,t.next=2;break;case 18:if(i=this.model.getWordAtPosition(this.position)){t.next=21;break}return t.abrupt("return",{range:v.e.fromPositions(this.position),text:"",rejectReason:n.length>0?n.join("\n"):void 0});case 21:return t.abrupt("return",{range:new v.e(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word,rejectReason:n.length>0?n.join("\n"):void 0});case 22:case"end":return t.stop()}}),t,this)})))}},{key:"provideRenameEdits",value:function(e,t){return ee(this,void 0,void 0,q().mark((function n(){return q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this._provideRenameEdits(e,this._providerRenameIdx,[],t));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"_provideRenameEdits",value:function(e,t,n,r){return ee(this,void 0,void 0,q().mark((function o(){var i,a;return q().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(i=this._providers[t]){o.next=3;break}return o.abrupt("return",{edits:[],rejectReason:n.join("\n")});case 3:return o.next=5,i.provideRenameEdits(this.model,this.position,e,r);case 5:if(a=o.sent){o.next=10;break}return o.abrupt("return",this._provideRenameEdits(e,t+1,n.concat(b.NC("no result","No result.")),r));case 10:if(!a.rejectReason){o.next=12;break}return o.abrupt("return",this._provideRenameEdits(e,t+1,n.concat(a.rejectReason),r));case 12:return o.abrupt("return",a);case 13:case"end":return o.stop()}}),o,this)})))}}]),e}();function ne(e,t,n,r){return ee(this,void 0,void 0,q().mark((function o(){var a,s;return q().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a=new te(t,n,e),o.next=3,a.resolveRenameLocation(i.T.None);case 3:if(!(null==(s=o.sent)?void 0:s.rejectReason)){o.next=6;break}return o.abrupt("return",{edits:[],rejectReason:s.rejectReason});case 6:return o.abrupt("return",a.provideRenameEdits(r,i.T.None));case 7:case"end":return o.stop()}}),o)})))}var re=function(){function e(t,n,r,a,u,c,l,f){var d=this;Y(this,e),this.editor=t,this._instaService=n,this._notificationService=r,this._bulkEditService=a,this._progressService=u,this._logService=c,this._configService=l,this._languageFeaturesService=f,this._disposableStore=new s.SL,this._cts=new i.A,this._renameInputField=this._disposableStore.add(new o.Ue((function(){return d._disposableStore.add(d._instaService.createInstance(M,d.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))})))}return Z(e,[{key:"dispose",value:function(){this._disposableStore.dispose(),this._cts.dispose(!0)}},{key:"run",value:function(){var e,t;return ee(this,void 0,void 0,q().mark((function n(){var i,a,s,u,c,f,h,p,g,y,_=this;return q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this._cts.dispose(!0),this.editor.hasModel()){n.next=3;break}return n.abrupt("return",void 0);case 3:if(i=this.editor.getPosition(),(a=new te(this.editor.getModel(),i,this._languageFeaturesService.renameProvider)).hasProvider()){n.next=7;break}return n.abrupt("return",void 0);case 7:return this._cts=new l.Dl(this.editor,5),n.prev=8,u=a.resolveRenameLocation(this._cts.token),this._progressService.showWhile(u,250),n.next=13,u;case 13:s=n.sent,n.next=20;break;case 16:return n.prev=16,n.t0=n.catch(8),null===(e=m.O.get(this.editor))||void 0===e||e.showMessage(n.t0||b.NC("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),i),n.abrupt("return",void 0);case 20:if(s){n.next=22;break}return n.abrupt("return",void 0);case 22:if(!s.rejectReason){n.next=25;break}return null===(t=m.O.get(this.editor))||void 0===t||t.showMessage(s.rejectReason,i),n.abrupt("return",void 0);case 25:if(!this._cts.token.isCancellationRequested){n.next=27;break}return n.abrupt("return",void 0);case 27:return this._cts.dispose(),this._cts=new l.Dl(this.editor,5,s.range),c=this.editor.getSelection(),f=0,h=s.text.length,v.e.isEmpty(c)||v.e.spansMultipleLines(c)||!v.e.containsRange(s.range,c)||(f=Math.max(0,c.startColumn-s.range.startColumn),h=Math.min(s.range.endColumn,c.endColumn)-s.range.startColumn),p=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),n.next=36,this._renameInputField.value.getInput(s.range,s.text,f,h,p,this._cts.token);case 36:if("boolean"!=typeof(g=n.sent)){n.next=40;break}return g&&this.editor.focus(),n.abrupt("return",void 0);case 40:return this.editor.focus(),y=(0,o.eP)(a.provideRenameEdits(g.newName,this._cts.token),this._cts.token).then((function(e){return ee(_,void 0,void 0,q().mark((function t(){var n=this;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&this.editor.hasModel()){t.next=2;break}return t.abrupt("return");case 2:if(!e.rejectReason){t.next=5;break}return this._notificationService.info(e.rejectReason),t.abrupt("return");case 5:this.editor.setSelection(v.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(d.fo.convert(e),{editor:this.editor,showPreview:g.wantsPreview,label:b.NC("label","Renaming '{0}' to '{1}'",null==s?void 0:s.text,g.newName),code:"undoredo.rename",quotableLabel:b.NC("quotableLabel","Renaming {0} to {1}",null==s?void 0:s.text,g.newName),respectAutoSaveConfig:!0}).then((function(e){e.ariaSummary&&(0,r.Z9)(b.NC("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",s.text,g.newName,e.ariaSummary))})).catch((function(e){n._notificationService.error(b.NC("rename.failedApply","Rename failed to apply edits")),n._logService.error(e)}));case 7:case"end":return t.stop()}}),t,this)})))}),(function(e){_._notificationService.error(b.NC("rename.failed","Rename failed to compute edits")),_._logService.error(e)})),this._progressService.showWhile(y,250),n.abrupt("return",y);case 44:case"end":return n.stop()}}),n,this,[[8,16]])})))}},{key:"acceptRenameInput",value:function(e){this._renameInputField.value.acceptInput(e)}},{key:"cancelRenameInput",value:function(){this._renameInputField.value.cancelInput(!0)}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();re.ID="editor.contrib.renameController",re=J([X(1,S.TG),X(2,C.lT),X(3,d.vu),X(4,x.ek),X(5,k.VZ),X(6,y.V),X(7,F.p)],re);var oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(n,e);var t=U(n);function n(){return Y(this,n),t.call(this,{id:"editor.action.rename",label:b.NC("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:w.Ao.and(g.u.writable,g.u.hasRenameProvider),kbOpts:{kbExpr:g.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}return Z(n,[{key:"runCommand",value:function(e,t){var r=this,o=e.get(h.$),i=W(Array.isArray(t)&&t||[void 0,void 0],2),s=i[0],u=i[1];return c.o.isUri(s)&&p.L.isIPosition(u)?o.openCodeEditor({resource:s},o.getActiveCodeEditor()).then((function(e){e&&(e.setPosition(u),e.invokeWithinContext((function(t){return r.reportTelemetry(t,e),r.run(t,e)})))}),a.dL):B(K(n.prototype),"runCommand",this).call(this,e,t)}},{key:"run",value:function(e,t){var n=re.get(t);return n?n.run():Promise.resolve()}}]),n}(f.R6);(0,f._K)(re.ID,re),(0,f.Qr)(oe);var ie=f._l.bindToContribution(re.get);(0,f.fK)(new ie({id:"acceptRenameInput",precondition:D,handler:function(e){return e.acceptRenameInput(!1)},kbOpts:{weight:199,kbExpr:g.u.focus,primary:3}})),(0,f.fK)(new ie({id:"acceptRenameInputWithPreview",precondition:w.Ao.and(D,w.Ao.has("config.editor.rename.enablePreview")),handler:function(e){return e.acceptRenameInput(!0)},kbOpts:{weight:199,kbExpr:g.u.focus,primary:1027}})),(0,f.fK)(new ie({id:"cancelRenameInput",precondition:D,handler:function(e){return e.cancelRenameInput()},kbOpts:{weight:199,kbExpr:g.u.focus,primary:9,secondary:[1033]}})),(0,f.sb)("_executeDocumentRenameProvider",(function(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=o[0];(0,u.p_)("string"==typeof a);var s=e.get(F.p),c=s.renameProvider;return ne(c,t,n,a)})),(0,f.sb)("_executePrepareRename",(function(e,t,n){return ee(this,void 0,void 0,q().mark((function r(){var o,a,s,u;return q().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.get(F.p),a=o.renameProvider,s=new te(t,n,a),r.next=4,s.resolveRenameLocation(i.T.None);case 4:if(!(null==(u=r.sent)?void 0:u.rejectReason)){r.next=7;break}throw new Error(u.rejectReason);case 7:return r.abrupt("return",u);case 8:case"end":return r.stop()}}),r)})))})),L.B.as(_.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:b.NC("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},72977:(e,t,n)=>{n.d(t,{x:()=>d});var r=n(92142),o=n(51638),i=n(48466);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:k(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function g(){}var y={};l(y,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(E([])));b&&b!==t&&n.call(b,i)&&(y=b);var _=g.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function o(r,i,s,u){var c=d(e[r],e,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,s,u)}),(function(e){o("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return o("throw",e,s,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=g,r(_,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(f(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),l(_,c,"Generator"),l(_,i,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===a(i)?i:String(i)),r)}var o,i}var f=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"_bracketsRightYield",value:function(t,n,o,i,a){for(var s=new Map,u=Date.now();;){if(n>=e._maxRounds){t();break}if(!i){t();break}var c=o.bracketPairs.findNextBracket(i);if(!c){t();break}if(Date.now()-u>e._maxDuration){setTimeout((function(){return e._bracketsRightYield(t,n+1,o,i,a)}));break}if(c.bracketInfo.isOpeningBracket){var l=c.bracketInfo.bracketText,f=s.has(l)?s.get(l):0;s.set(l,f+1)}else{var d=c.bracketInfo.getClosedBrackets()[0].bracketText,h=s.has(d)?s.get(d):0;if(h-=1,s.set(d,Math.max(0,h)),h<0){var p=a.get(d);p||(p=new r.S,a.set(d,p)),p.push(c.range)}}i=c.range.getEndPosition()}}},{key:"_bracketsLeftYield",value:function(t,n,r,o,a,s){for(var u=new Map,c=Date.now();;){if(n>=e._maxRounds&&0===a.size){t();break}if(!o){t();break}var l=r.bracketPairs.findPrevBracket(o);if(!l){t();break}if(Date.now()-c>e._maxDuration){setTimeout((function(){return e._bracketsLeftYield(t,n+1,r,o,a,s)}));break}if(l.bracketInfo.isOpeningBracket){var f=l.bracketInfo.bracketText,d=u.has(f)?u.get(f):0;if(d-=1,u.set(f,Math.max(0,d)),d<0){var h=a.get(f);if(h){var p=h.shift();0===h.size&&a.delete(f);var v=i.e.fromPositions(l.range.getEndPosition(),p.getStartPosition()),g=i.e.fromPositions(l.range.getStartPosition(),p.getEndPosition());s.push({range:v}),s.push({range:g}),e._addBracketLeading(r,g,s)}}}else{var y=l.bracketInfo.getClosedBrackets()[0].bracketText,m=u.has(y)?u.get(y):0;u.set(y,m+1)}o=l.range.getStartPosition()}}},{key:"_addBracketLeading",value:function(e,t,n){if(t.startLineNumber!==t.endLineNumber){var r=t.startLineNumber,a=e.getLineFirstNonWhitespaceColumn(r);0!==a&&a!==t.startColumn&&(n.push({range:i.e.fromPositions(new o.L(r,a),t.getEndPosition())}),n.push({range:i.e.fromPositions(new o.L(r,1),t.getEndPosition())}));var s=r-1;if(s>0){var u=e.getLineFirstNonWhitespaceColumn(s);u===t.startColumn&&u!==e.getLineLastNonWhitespaceColumn(s)&&(n.push({range:i.e.fromPositions(new o.L(s,u),t.getEndPosition())}),n.push({range:i.e.fromPositions(new o.L(s,1),t.getEndPosition())}))}}}}],(n=[{key:"provideSelectionRanges",value:function(t,n){return f(this,void 0,void 0,s().mark((function r(){var o,i,a,c;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=[],i=u(n),r.prev=2,c=s().mark((function n(){var r,i,u;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=a.value,i=[],o.push(i),u=new Map,n.next=6,new Promise((function(n){return e._bracketsRightYield(n,0,t,r,u)}));case 6:return n.next=8,new Promise((function(n){return e._bracketsLeftYield(n,0,t,r,u,i)}));case 8:case"end":return n.stop()}}),n)})),i.s();case 5:if((a=i.n()).done){r.next=9;break}return r.delegateYield(c(),"t0",7);case 7:r.next=5;break;case 9:r.next=14;break;case 11:r.prev=11,r.t1=r.catch(2),i.e(r.t1);case 14:return r.prev=14,i.f(),r.finish(14);case 17:return r.abrupt("return",o);case 18:case"end":return r.stop()}}),r,null,[[2,11,14,17]])})))}}])&&l(t.prototype,n),a&&l(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();d._maxDuration=30,d._maxRounds=2},28297:(e,t,n)=>{n.r(t),n.d(t,{provideSelectionRanges:()=>z});var r=n(86193),o=n(2307),i=n(95835),a=n(18679),s=n(51638),u=n(48466),c=n(85963),l=n(25112),f=n(72977),d=n(46969);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===h(i)?i:String(i)),r)}var o,i}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"provideSelectionRanges",value:function(e,t){var n,r=[],o=p(t);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=[];r.push(a),this._addInWordRanges(a,e,i),this._addWordRanges(a,e,i),this._addWhitespaceLine(a,e,i),a.push({range:e.getFullModelRange()})}}catch(e){o.e(e)}finally{o.f()}return r}},{key:"_addInWordRanges",value:function(e,t,n){var r=t.getWordAtPosition(n);if(r){for(var o=r.word,i=r.startColumn,a=n.column-i,s=a,c=a,l=0;s>=0;s--){var f=o.charCodeAt(s);if(s!==a&&(95===f||45===f))break;if((0,d.mK)(f)&&(0,d.df)(l))break;l=f}for(s+=1;c<o.length;c++){var h=o.charCodeAt(c);if((0,d.df)(h)&&(0,d.mK)(l))break;if(95===h||45===h)break;l=h}s<c&&e.push({range:new u.e(n.lineNumber,i+s,n.lineNumber,i+c)})}}},{key:"_addWordRanges",value:function(e,t,n){var r=t.getWordAtPosition(n);r&&e.push({range:new u.e(n.lineNumber,r.startColumn,n.lineNumber,r.endColumn)})}},{key:"_addWhitespaceLine",value:function(e,t,n){t.getLineLength(n.lineNumber)>0&&0===t.getLineFirstNonWhitespaceColumn(n.lineNumber)&&0===t.getLineLastNonWhitespaceColumn(n.lineNumber)&&e.push({range:new u.e(n.lineNumber,1,n.lineNumber,t.getLineMaxColumn(n.lineNumber))})}}],n&&g(t.prototype,n),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),m=n(18063),b=n(13171),_=n(69349),w=n(31213),S=n(5491),k=n(8401),C=n(83916);function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function R(){R=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==D(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==D(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===D(i)?i:String(i)),r)}var o,i}function A(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}var M=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":D(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},F=function(e,t){return function(n,r){t(n,r,e)}},W=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},H=function(){function e(t,n){T(this,e),this.index=t,this.ranges=n}return A(e,[{key:"mov",value:function(t){var n=this.index+(t?1:-1);if(n<0||n>=this.ranges.length)return this;var r=new e(n,this.ranges);return r.ranges[n].equalsRange(this.ranges[this.index])?r.mov(t):r}}]),e}(),B=function(){function e(t,n){T(this,e),this._editor=t,this._languageFeaturesService=n,this._ignoreSelection=!1}return A(e,[{key:"dispose",value:function(){var e;null===(e=this._selectionListener)||void 0===e||e.dispose()}},{key:"run",value:function(e){return W(this,void 0,void 0,R().mark((function t(){var n,i,a,s=this;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._editor.hasModel()){t.next=2;break}return t.abrupt("return");case 2:if(n=this._editor.getSelections(),i=this._editor.getModel(),this._state){t.next=7;break}return t.next=7,z(this._languageFeaturesService.selectionRangeProvider,i,n.map((function(e){return e.getPosition()})),this._editor.getOption(104),o.T.None).then((function(e){var t;if(r.Of(e)&&e.length===n.length&&s._editor.hasModel()&&r.fS(s._editor.getSelections(),n,(function(e,t){return e.equalsSelection(t)}))){for(var o=function(t){e[t]=e[t].filter((function(e){return e.containsPosition(n[t].getStartPosition())&&e.containsPosition(n[t].getEndPosition())})),e[t].unshift(n[t])},i=0;i<e.length;i++)o(i);s._state=e.map((function(e){return new H(0,e)})),null===(t=s._selectionListener)||void 0===t||t.dispose(),s._selectionListener=s._editor.onDidChangeCursorPosition((function(){var e;s._ignoreSelection||(null===(e=s._selectionListener)||void 0===e||e.dispose(),s._state=void 0)}))}}));case 7:if(this._state){t.next=9;break}return t.abrupt("return");case 9:this._state=this._state.map((function(t){return t.mov(e)})),a=this._state.map((function(e){return c.Y.fromPositions(e.ranges[e.index].getStartPosition(),e.ranges[e.index].getEndPosition())})),this._ignoreSelection=!0;try{this._editor.setSelections(a)}finally{this._ignoreSelection=!1}case 13:case"end":return t.stop()}}),t,this)})))}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();B.ID="editor.contrib.smartSelectController",B=M([F(1,w.p)],B);var G=function(e){O(n,e);var t=P(n);function n(e,r){var o;return T(this,n),(o=t.call(this,r))._forward=e,o}return A(n,[{key:"run",value:function(e,t){return W(this,void 0,void 0,R().mark((function e(){var n;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=B.get(t))){e.next=4;break}return e.next=4,n.run(this._forward);case 4:case"end":return e.stop()}}),e,this)})))}}]),n}(a.R6),V=function(e){O(n,e);var t=P(n);function n(){return T(this,n),t.call(this,!0,{id:"editor.action.smartSelect.expand",label:m.NC("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:l.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:b.eH.MenubarSelectionMenu,group:"1_basic",title:m.NC({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}return A(n)}(G);_.P0.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");var U=function(e){O(n,e);var t=P(n);function n(){return T(this,n),t.call(this,!1,{id:"editor.action.smartSelect.shrink",label:m.NC("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:l.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:b.eH.MenubarSelectionMenu,group:"1_basic",title:m.NC({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}return A(n)}(G);function z(e,t,n,o,a){return W(this,void 0,void 0,R().mark((function c(){var l,d,h,p,v,g;return R().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:1===(l=e.all(t).concat(new y)).length&&l.unshift(new f.x),d=[],h=[],p=x(l);try{for(p.s();!(v=p.n()).done;)g=v.value,d.push(Promise.resolve(g.provideSelectionRanges(t,n,a)).then((function(e){if(r.Of(e)&&e.length===n.length)for(var t=0;t<n.length;t++){h[t]||(h[t]=[]);var o,i=x(e[t]);try{for(i.s();!(o=i.n()).done;){var a=o.value;u.e.isIRange(a.range)&&u.e.containsPosition(a.range,n[t])&&h[t].push(u.e.lift(a.range))}}catch(e){i.e(e)}finally{i.f()}}}),i.Cp))}catch(e){p.e(e)}finally{p.f()}return c.next=8,Promise.all(d);case 8:return c.abrupt("return",h.map((function(e){if(0===e.length)return[];e.sort((function(e,t){return s.L.isBefore(e.getStartPosition(),t.getStartPosition())?1:s.L.isBefore(t.getStartPosition(),e.getStartPosition())||s.L.isBefore(e.getEndPosition(),t.getEndPosition())?-1:s.L.isBefore(t.getEndPosition(),e.getEndPosition())?1:0}));var n,r,i=[],a=x(e);try{for(a.s();!(r=a.n()).done;){var c=r.value;(!n||u.e.containsRange(c,n)&&!u.e.equalsRange(c,n))&&(i.push(c),n=c)}}catch(e){a.e(e)}finally{a.f()}if(!o.selectLeadingAndTrailingWhitespace)return i;for(var l=[i[0]],f=1;f<i.length;f++){var d=i[f-1],h=i[f];if(h.startLineNumber!==d.startLineNumber||h.endLineNumber!==d.endLineNumber){var p=new u.e(d.startLineNumber,t.getLineFirstNonWhitespaceColumn(d.startLineNumber),d.endLineNumber,t.getLineLastNonWhitespaceColumn(d.endLineNumber));p.containsRange(d)&&!p.equalsRange(d)&&h.containsRange(p)&&!h.equalsRange(p)&&l.push(p);var v=new u.e(d.startLineNumber,1,d.endLineNumber,t.getLineMaxColumn(d.endLineNumber));v.containsRange(d)&&!v.equalsRange(p)&&h.containsRange(v)&&!h.equalsRange(v)&&l.push(v)}l.push(h)}return l})));case 9:case"end":return c.stop()}}),c)})))}(0,a._K)(B.ID,B),(0,a.Qr)(V),(0,a.Qr)(U),_.P0.registerCommand("_executeSelectionRangeProvider",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W(this,void 0,void 0,R().mark((function t(){var r,i,a,s;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n[0],i=n[1],(0,k.p_)(C.o.isUri(r)),a=e.get(w.p).selectionRangeProvider,t.next=5,e.get(S.S).createModelReference(r);case 5:return s=t.sent,t.prev=6,t.abrupt("return",z(a,s.object.textEditorModel,i,{selectLeadingAndTrailingWhitespace:!0},o.T.None));case 8:return t.prev=8,s.dispose(),t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[6,,8,11]])})))}))},2507:(e,t,n)=>{n.r(t),n.d(t,{SnippetController2:()=>w,performSnippetEdit:()=>k});var r=n(38709),o=n(8401),i=n(18679),a=n(51638),s=n(85963),u=n(25112),c=n(77846),l=n(31213),f=n(21866),d=n(18063),h=n(73589),p=n(50985),v=n(14086);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===y(i)?i:String(i)),r)}var o,i}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}var m=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":y(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=function(e,t){return function(n,r){t(n,r,e)}},_={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},w=function(){function e(t,n,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._editor=t,this._logService=n,this._languageFeaturesService=o,this._languageConfigurationService=a,this._snippetListener=new r.SL,this._modelVersionId=-1,this._inSnippet=e.InSnippetMode.bindTo(i),this._hasNextTabstop=e.HasNextTabstop.bindTo(i),this._hasPrevTabstop=e.HasPrevTabstop.bindTo(i)}var t,n,i;return t=e,n=[{key:"dispose",value:function(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(e=this._session)||void 0===e||e.dispose(),this._snippetListener.dispose()}},{key:"apply",value:function(e,t){try{this._doInsert(e,void 0===t?_:Object.assign(Object.assign({},_),t))}catch(t){this.cancel(),this._logService.error(t),this._logService.error("snippet_error"),this._logService.error("insert_edits=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}},{key:"insert",value:function(e,t){try{this._doInsert(e,void 0===t?_:Object.assign(Object.assign({},_),t))}catch(t){this.cancel(),this._logService.error(t),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}},{key:"_doInsert",value:function(e,t){var n,r=this;if(this._editor.hasModel()){if(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&"string"!=typeof e&&this.cancel(),this._session?((0,o.p_)("string"==typeof e),this._session.merge(e,t)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new v.l(this._editor,e,t,this._languageConfigurationService),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),null===(n=this._session)||void 0===n?void 0:n.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:function(e,t){if(r._session&&e===r._editor.getModel()&&a.L.equals(r._editor.getPosition(),t)){var n=r._session.activeChoice;if(n&&0!==n.choice.options.length){for(var o=e.getValueInRange(n.range),i=Boolean(n.choice.options.find((function(e){return e.value===o}))),s=[],u=0;u<n.choice.options.length;u++){var c=n.choice.options[u];s.push({kind:13,label:c.value,insertText:c.value,sortText:"a".repeat(u+1),range:n.range,filterText:i?"".concat(o,"_").concat(c.value):void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,d.NC)("next","Go to next placeholder...")}})}return{suggestions:s}}}}};var i=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme},this._choiceCompletionItemProvider);this._snippetListener.add(i)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent((function(e){return e.isFlush&&r.cancel()}))),this._snippetListener.add(this._editor.onDidChangeModel((function(){return r.cancel()}))),this._snippetListener.add(this._editor.onDidChangeCursorSelection((function(){return r._updateState()})))}}},{key:"_updateState",value:function(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}},{key:"_handleChoice",value:function(){var e=this;if(this._session&&this._editor.hasModel()){var t=this._session.activeChoice;t&&this._choiceCompletionItemProvider?this._currentChoice!==t.choice&&(this._currentChoice=t.choice,queueMicrotask((function(){(0,f.i5)(e._editor,e._choiceCompletionItemProvider)}))):this._currentChoice=void 0}else this._currentChoice=void 0}},{key:"finish",value:function(){for(;this._inSnippet.get();)this.next()}},{key:"cancel",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,null===(e=this._session)||void 0===e||e.dispose(),this._session=void 0,this._modelVersionId=-1,t&&this._editor.setSelections([this._editor.getSelection()])}},{key:"prev",value:function(){this._session&&this._session.prev(),this._updateState()}},{key:"next",value:function(){this._session&&this._session.next(),this._updateState()}},{key:"isInSnippet",value:function(){return Boolean(this._inSnippet.get())}}],i=[{key:"get",value:function(t){return t.getContribution(e.ID)}}],n&&g(t.prototype,n),i&&g(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();w.ID="snippetController2",w.InSnippetMode=new h.uy("inSnippetMode",!1,(0,d.NC)("inSnippetMode","Whether the editor in current in snippet mode")),w.HasNextTabstop=new h.uy("hasNextTabstop",!1,(0,d.NC)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),w.HasPrevTabstop=new h.uy("hasPrevTabstop",!1,(0,d.NC)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),w=m([b(1,p.VZ),b(2,l.p),b(3,h.i6),b(4,c.c_)],w),(0,i._K)(w.ID,w);var S=i._l.bindToContribution(w.get);function k(e,t,n){var r=w.get(e);return!!r&&(e.focus(),r.apply(n.map((function(e){return{range:s.Y.liftSelection(e),template:t}}))),r.isInSnippet())}(0,i.fK)(new S({id:"jumpToNextSnippetPlaceholder",precondition:h.Ao.and(w.InSnippetMode,w.HasNextTabstop),handler:function(e){return e.next()},kbOpts:{weight:130,kbExpr:u.u.editorTextFocus,primary:2}})),(0,i.fK)(new S({id:"jumpToPrevSnippetPlaceholder",precondition:h.Ao.and(w.InSnippetMode,w.HasPrevTabstop),handler:function(e){return e.prev()},kbOpts:{weight:130,kbExpr:u.u.editorTextFocus,primary:1026}})),(0,i.fK)(new S({id:"leaveSnippet",precondition:w.InSnippetMode,handler:function(e){return e.cancel(!0)},kbOpts:{weight:130,kbExpr:u.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,i.fK)(new S({id:"acceptSnippet",precondition:w.InSnippetMode,handler:function(e){return e.finish()}}))},51412:(e,t,n)=>{var r;function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=a(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},i.apply(this,arguments)}function a(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=p(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function h(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function b(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}n.d(t,{Lv:()=>L,Vm:()=>x,Yj:()=>R,xv:()=>k,y1:()=>I});var w=function(){function e(){y(this,e),this.value="",this.pos=0}return b(e,[{key:"text",value:function(e){this.value=e,this.pos=0}},{key:"tokenText",value:function(e){return this.value.substr(e.pos,e.len)}},{key:"next",value:function(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};var t,n=this.pos,r=0,o=this.value.charCodeAt(n);if("number"==typeof(t=e._table[o]))return this.pos+=1,{type:t,pos:n,len:1};if(e.isDigitCharacter(o)){t=8;do{r+=1,o=this.value.charCodeAt(n+r)}while(e.isDigitCharacter(o));return this.pos+=r,{type:t,pos:n,len:r}}if(e.isVariableCharacter(o)){t=9;do{o=this.value.charCodeAt(n+ ++r)}while(e.isVariableCharacter(o)||e.isDigitCharacter(o));return this.pos+=r,{type:t,pos:n,len:r}}t=10;do{r+=1,o=this.value.charCodeAt(n+r)}while(!isNaN(o)&&void 0===e._table[o]&&!e.isDigitCharacter(o)&&!e.isVariableCharacter(o));return this.pos+=r,{type:t,pos:n,len:r}}}],[{key:"isDigitCharacter",value:function(e){return e>=48&&e<=57}},{key:"isVariableCharacter",value:function(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90}}]),e}();w._table=(g(r={},36,0),g(r,58,1),g(r,44,2),g(r,123,3),g(r,125,4),g(r,92,5),g(r,47,6),g(r,124,7),g(r,43,11),g(r,45,12),g(r,63,13),r);var S=function(){function e(){y(this,e),this._children=[]}return b(e,[{key:"appendChild",value:function(e){return e instanceof k&&this._children[this._children.length-1]instanceof k?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}},{key:"replace",value:function(e,t){var n=e.parent,r=n.children.indexOf(e),o=n.children.slice(0);o.splice.apply(o,[r,1].concat(h(t))),n._children=o,function e(t,n){var r,o=d(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.parent=n,e(i.children,i)}}catch(e){o.e(e)}finally{o.f()}}(t,n)}},{key:"children",get:function(){return this._children}},{key:"snippet",get:function(){for(var e=this;;){if(!e)return;if(e instanceof I)return e;e=e.parent}}},{key:"toString",value:function(){return this.children.reduce((function(e,t){return e+t.toString()}),"")}},{key:"len",value:function(){return 0}}]),e}(),k=function(e){s(n,e);var t=c(n);function n(e){var r;return y(this,n),(r=t.call(this)).value=e,r}return b(n,[{key:"toString",value:function(){return this.value}},{key:"len",value:function(){return this.value.length}},{key:"clone",value:function(){return new n(this.value)}}]),n}(S),C=function(e){s(n,e);var t=c(n);function n(){return y(this,n),t.apply(this,arguments)}return b(n)}(S),x=function(e){s(n,e);var t=c(n);function n(e){var r;return y(this,n),(r=t.call(this)).index=e,r}return b(n,[{key:"isFinalTabstop",get:function(){return 0===this.index}},{key:"choice",get:function(){return 1===this._children.length&&this._children[0]instanceof L?this._children[0]:void 0}},{key:"clone",value:function(){var e=new n(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((function(e){return e.clone()})),e}}],[{key:"compareByIndex",value:function(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}}]),n}(C),L=function(e){s(n,e);var t=c(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).options=[],e}return b(n,[{key:"appendChild",value:function(e){return e instanceof k&&(e.parent=this,this.options.push(e)),this}},{key:"toString",value:function(){return this.options[0].value}},{key:"len",value:function(){return this.options[0].len()}},{key:"clone",value:function(){var e=new n;return this.options.forEach(e.appendChild,e),e}}]),n}(S),O=function(e){s(n,e);var t=c(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).regexp=new RegExp(""),e}return b(n,[{key:"resolve",value:function(e){var t=this,n=!1,r=e.replace(this.regexp,(function(){return n=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))}));return!n&&this._children.some((function(e){return e instanceof E&&Boolean(e.elseValue)}))&&(r=this._replace([])),r}},{key:"_replace",value:function(e){var t,n="",r=d(this._children);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o instanceof E){var i=e[o.index]||"";n+=i=o.resolve(i)}else n+=o.toString()}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"toString",value:function(){return""}},{key:"clone",value:function(){var e=new n;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map((function(e){return e.clone()})),e}}]),n}(S),E=function(e){s(n,e);var t=c(n);function n(e,r,o,i){var a;return y(this,n),(a=t.call(this)).index=e,a.shorthandName=r,a.ifValue=o,a.elseValue=i,a}return b(n,[{key:"resolve",value:function(e){return"upcase"===this.shorthandName?e?e.toLocaleUpperCase():"":"downcase"===this.shorthandName?e?e.toLocaleLowerCase():"":"capitalize"===this.shorthandName?e?e[0].toLocaleUpperCase()+e.substr(1):"":"pascalcase"===this.shorthandName?e?this._toPascalCase(e):"":"camelcase"===this.shorthandName?e?this._toCamelCase(e):"":Boolean(e)&&"string"==typeof this.ifValue?this.ifValue:Boolean(e)||"string"!=typeof this.elseValue?e||"":this.elseValue}},{key:"_toPascalCase",value:function(e){var t=e.match(/[a-z0-9]+/gi);return t?t.map((function(e){return e.charAt(0).toUpperCase()+e.substr(1)})).join(""):e}},{key:"_toCamelCase",value:function(e){var t=e.match(/[a-z0-9]+/gi);return t?t.map((function(e,t){return 0===t?e.charAt(0).toLowerCase()+e.substr(1):e.charAt(0).toUpperCase()+e.substr(1)})).join(""):e}},{key:"clone",value:function(){return new n(this.index,this.shorthandName,this.ifValue,this.elseValue)}}]),n}(S),P=function(e){s(n,e);var t=c(n);function n(e){var r;return y(this,n),(r=t.call(this)).name=e,r}return b(n,[{key:"resolve",value:function(e){var t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),void 0!==t&&(this._children=[new k(t)],!0)}},{key:"clone",value:function(){var e=new n(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((function(e){return e.clone()})),e}}]),n}(C);function N(e,t){for(var n=h(e);n.length>0;){var r=n.shift();if(!t(r))break;n.unshift.apply(n,h(r.children))}}var I=function(e){s(n,e);var t=c(n);function n(){return y(this,n),t.apply(this,arguments)}return b(n,[{key:"placeholderInfo",get:function(){if(!this._placeholders){var e,t=[];this.walk((function(n){return n instanceof x&&(t.push(n),e=!e||e.index<n.index?n:e),!0})),this._placeholders={all:t,last:e}}return this._placeholders}},{key:"placeholders",get:function(){return this.placeholderInfo.all}},{key:"offset",value:function(e){var t=0,n=!1;return this.walk((function(r){return r===e?(n=!0,!1):(t+=r.len(),!0)})),n?t:-1}},{key:"fullLen",value:function(e){var t=0;return N([e],(function(e){return t+=e.len(),!0})),t}},{key:"enclosingPlaceholders",value:function(e){for(var t=[],n=e.parent;n;)n instanceof x&&t.push(n),n=n.parent;return t}},{key:"resolveVariables",value:function(e){var t=this;return this.walk((function(n){return n instanceof P&&n.resolve(e)&&(t._placeholders=void 0),!0})),this}},{key:"appendChild",value:function(e){return this._placeholders=void 0,i(f(n.prototype),"appendChild",this).call(this,e)}},{key:"replace",value:function(e,t){return this._placeholders=void 0,i(f(n.prototype),"replace",this).call(this,e,t)}},{key:"clone",value:function(){var e=new n;return this._children=this.children.map((function(e){return e.clone()})),e}},{key:"walk",value:function(e){N(this.children,e)}}]),n}(S),R=function(){function e(){y(this,e),this._scanner=new w,this._token={type:14,pos:0,len:0}}return b(e,[{key:"parse",value:function(e,t,n){var r=new I;return this.parseFragment(e,r),this.ensureFinalTabstop(r,null!=n&&n,null!=t&&t),r}},{key:"parseFragment",value:function(e,t){var n=t.children.length;for(this._scanner.text(e),this._token=this._scanner.next();this._parse(t););var r=new Map,o=[];t.walk((function(e){return e instanceof x&&(e.isFinalTabstop?r.set(0,void 0):!r.has(e.index)&&e.children.length>0?r.set(e.index,e.children):o.push(e)),!0}));for(var i=0,a=o;i<a.length;i++){var s=a[i],u=r.get(s.index);if(u){var c=new x(s.index);c.transform=s.transform;var l,f=d(u);try{for(f.s();!(l=f.n()).done;){var h=l.value;c.appendChild(h.clone())}}catch(e){f.e(e)}finally{f.f()}t.replace(s,[c])}}return t.children.slice(n)}},{key:"ensureFinalTabstop",value:function(e,t,n){(t||n&&e.placeholders.length>0)&&(e.placeholders.find((function(e){return 0===e.index}))||e.appendChild(new x(0)))}},{key:"_accept",value:function(e,t){if(void 0===e||this._token.type===e){var n=!t||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),n}return!1}},{key:"_backTo",value:function(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}},{key:"_until",value:function(e){for(var t=this._token;this._token.type!==e;){if(14===this._token.type)return!1;if(5===this._token.type){var n=this._scanner.next();if(0!==n.type&&4!==n.type&&5!==n.type)return!1}this._token=this._scanner.next()}var r=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),r}},{key:"_parse",value:function(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}},{key:"_parseEscaped",value:function(e){var t;return!!(t=this._accept(5,!0))&&(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new k(t)),!0)}},{key:"_parseTabstopOrVariableName",value:function(e){var t,n=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new x(Number(t)):new P(t)),!0):this._backTo(n)}},{key:"_parseComplexPlaceholder",value:function(e){var t,n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(n);var r=new x(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(r),!0;if(!this._parse(r))return e.appendChild(new k("${"+t+":")),r.children.forEach(e.appendChild,e),!0}else{if(!(r.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(r)?(e.appendChild(r),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(r),!0):this._backTo(n);for(var o=new L;;){if(this._parseChoiceElement(o)){if(this._accept(2))continue;if(this._accept(7)&&(r.appendChild(o),this._accept(4)))return e.appendChild(r),!0}return this._backTo(n),!1}}}},{key:"_parseChoiceElement",value:function(e){for(var t=this._token,n=[];2!==this._token.type&&7!==this._token.type;){var r=void 0;if(!(r=(r=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||r:this._accept(void 0,!0)))return this._backTo(t),!1;n.push(r)}return 0===n.length?(this._backTo(t),!1):(e.appendChild(new k(n.join(""))),!0)}},{key:"_parseComplexVariable",value:function(e){var t,n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(n);var r=new P(t);if(!this._accept(1))return this._accept(6)?this._parseTransform(r)?(e.appendChild(r),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(r),!0):this._backTo(n);for(;;){if(this._accept(4))return e.appendChild(r),!0;if(!this._parse(r))return e.appendChild(new k("${"+t+":")),r.children.forEach(e.appendChild,e),!0}}},{key:"_parseTransform",value:function(e){for(var t=new O,n="",r="";!this._accept(6);){var o=void 0;if(o=this._accept(5,!0))n+=o=this._accept(6,!0)||o;else{if(14===this._token.type)return!1;n+=this._accept(void 0,!0)}}for(;!this._accept(6);){var i=void 0;if(i=this._accept(5,!0))i=this._accept(5,!0)||this._accept(6,!0)||i,t.appendChild(new k(i));else if(!this._parseFormatString(t)&&!this._parseAnything(t))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;r+=this._accept(void 0,!0)}try{t.regexp=new RegExp(n,r)}catch(e){return!1}return e.transform=t,!0}},{key:"_parseFormatString",value:function(e){var t=this._token;if(!this._accept(0))return!1;var n=!1;this._accept(3)&&(n=!0);var r=this._accept(8,!0);if(!r)return this._backTo(t),!1;if(!n)return e.appendChild(new E(Number(r))),!0;if(this._accept(4))return e.appendChild(new E(Number(r))),!0;if(!this._accept(1))return this._backTo(t),!1;if(this._accept(6)){var o=this._accept(9,!0);return o&&this._accept(4)?(e.appendChild(new E(Number(r),o)),!0):(this._backTo(t),!1)}if(this._accept(11)){var i=this._until(4);if(i)return e.appendChild(new E(Number(r),void 0,i,void 0)),!0}else if(this._accept(12)){var a=this._until(4);if(a)return e.appendChild(new E(Number(r),void 0,void 0,a)),!0}else if(this._accept(13)){var s=this._until(1);if(s){var u=this._until(4);if(u)return e.appendChild(new E(Number(r),void 0,s,u)),!0}}else{var c=this._until(4);if(c)return e.appendChild(new E(Number(r),void 0,void 0,c)),!0}return this._backTo(t),!1}},{key:"_parseAnything",value:function(e){return 14!==this._token.type&&(e.appendChild(new k(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}],[{key:"escape",value:function(e){return e.replace(/\$|}|\\/g,"\\$&")}},{key:"guessNeedsClipboard",value:function(e){return/\${?CLIPBOARD/.test(e)}}]),e}()},14086:(e,t,n)=>{n.d(t,{l:()=>Y});var r=n(86193),o=n(38709),i=n(46969),a=n(23942),s=n(48466),u=n(85963),c=n(77846),l=n(3817),f=n(51586),d=n(44056),h=n(51412),p=n(75036),v=n(24103),g=n(81993),y=n(76064),m=n(18063);function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===C(i)?i:String(i)),r)}var o,i}function k(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}var x=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":C(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},L=function(e,t){return function(n,r){t(n,r,e)}},O=(Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0}),function(){function e(t){w(this,e),this._delegates=t}return k(e,[{key:"resolve",value:function(e){var t,n=b(this._delegates);try{for(n.s();!(t=n.n()).done;){var r=t.value.resolve(e);if(void 0!==r)return r}}catch(e){n.e(e)}finally{n.f()}}}]),e}()),E=function(){function e(t,n,r,o){w(this,e),this._model=t,this._selection=n,this._selectionIdx=r,this._overtypingCapturer=o}return k(e,[{key:"resolve",value:function(e){var t=e.name;if("SELECTION"===t||"TM_SELECTED_TEXT"===t){var n=this._model.getValueInRange(this._selection)||void 0,r=this._selection.startLineNumber!==this._selection.endLineNumber;if(!n&&this._overtypingCapturer){var o=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);o&&(n=o.value,r=o.multiline)}if(n&&r&&e.snippet){var a=this._model.getLineContent(this._selection.startLineNumber),s=(0,i.V8)(a,0,this._selection.startColumn-1),u=s;e.snippet.walk((function(t){return t!==e&&(t instanceof h.xv&&(u=(0,i.V8)((0,i.uq)(t.value).pop())),!0)}));var c=(0,i.Mh)(u,s);n=n.replace(/(\r\n|\r|\n)(.*)/g,(function(e,t,n){return"".concat(t).concat(u.substr(c)).concat(n)}))}return n}if("TM_CURRENT_LINE"===t)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===t){var l=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return l&&l.word||void 0}return"TM_LINE_INDEX"===t?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===t?String(this._selection.positionLineNumber):"CURSOR_INDEX"===t?String(this._selectionIdx):"CURSOR_NUMBER"===t?String(this._selectionIdx+1):void 0}}]),e}(),P=function(){function e(t,n){w(this,e),this._labelService=t,this._model=n}return k(e,[{key:"resolve",value:function(e){var t=e.name;if("TM_FILENAME"===t)return v.EZ(this._model.uri.fsPath);if("TM_FILENAME_BASE"===t){var n=v.EZ(this._model.uri.fsPath),r=n.lastIndexOf(".");return r<=0?n:n.slice(0,r)}return"TM_DIRECTORY"===t?"."===v.XX(this._model.uri.fsPath)?"":this._labelService.getUriLabel((0,g.XX)(this._model.uri)):"TM_FILEPATH"===t?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===t?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}}]),e}(),N=function(){function e(t,n,r,o){w(this,e),this._readClipboardText=t,this._selectionIdx=n,this._selectionCount=r,this._spread=o}return k(e,[{key:"resolve",value:function(e){if("CLIPBOARD"===e.name){var t=this._readClipboardText();if(t){if(this._spread){var n=t.split(/\r\n|\n|\r/).filter((function(e){return!(0,i.m5)(e)}));if(n.length===this._selectionCount)return n[this._selectionIdx]}return t}}}}]),e}(),I=function(){function e(t,n,r){w(this,e),this._model=t,this._selection=n,this._languageConfigurationService=r}return k(e,[{key:"resolve",value:function(e){var t=e.name,n=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),r=this._languageConfigurationService.getLanguageConfiguration(n).comments;if(r)return"LINE_COMMENT"===t?r.lineCommentToken||void 0:"BLOCK_COMMENT_START"===t?r.blockCommentStartToken||void 0:"BLOCK_COMMENT_END"===t&&r.blockCommentEndToken||void 0}}]),e}();I=x([L(2,c.c_)],I);var R=function(){function e(){w(this,e),this._date=new Date}return k(e,[{key:"resolve",value:function(t){var n=t.name;return"CURRENT_YEAR"===n?String(this._date.getFullYear()):"CURRENT_YEAR_SHORT"===n?String(this._date.getFullYear()).slice(-2):"CURRENT_MONTH"===n?String(this._date.getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===n?String(this._date.getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===n?String(this._date.getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===n?String(this._date.getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===n?String(this._date.getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===n?e.dayNames[this._date.getDay()]:"CURRENT_DAY_NAME_SHORT"===n?e.dayNamesShort[this._date.getDay()]:"CURRENT_MONTH_NAME"===n?e.monthNames[this._date.getMonth()]:"CURRENT_MONTH_NAME_SHORT"===n?e.monthNamesShort[this._date.getMonth()]:"CURRENT_SECONDS_UNIX"===n?String(Math.floor(this._date.getTime()/1e3)):void 0}}]),e}();R.dayNames=[m.NC("Sunday","Sunday"),m.NC("Monday","Monday"),m.NC("Tuesday","Tuesday"),m.NC("Wednesday","Wednesday"),m.NC("Thursday","Thursday"),m.NC("Friday","Friday"),m.NC("Saturday","Saturday")],R.dayNamesShort=[m.NC("SundayShort","Sun"),m.NC("MondayShort","Mon"),m.NC("TuesdayShort","Tue"),m.NC("WednesdayShort","Wed"),m.NC("ThursdayShort","Thu"),m.NC("FridayShort","Fri"),m.NC("SaturdayShort","Sat")],R.monthNames=[m.NC("January","January"),m.NC("February","February"),m.NC("March","March"),m.NC("April","April"),m.NC("May","May"),m.NC("June","June"),m.NC("July","July"),m.NC("August","August"),m.NC("September","September"),m.NC("October","October"),m.NC("November","November"),m.NC("December","December")],R.monthNamesShort=[m.NC("JanuaryShort","Jan"),m.NC("FebruaryShort","Feb"),m.NC("MarchShort","Mar"),m.NC("AprilShort","Apr"),m.NC("MayShort","May"),m.NC("JuneShort","Jun"),m.NC("JulyShort","Jul"),m.NC("AugustShort","Aug"),m.NC("SeptemberShort","Sep"),m.NC("OctoberShort","Oct"),m.NC("NovemberShort","Nov"),m.NC("DecemberShort","Dec")];var T=function(){function e(t){w(this,e),this._workspaceService=t}return k(e,[{key:"resolve",value:function(e){if(this._workspaceService){var t=(0,d.uT)(this._workspaceService.getWorkspace());if(t)return"WORKSPACE_NAME"===e.name?this._resolveWorkspaceName(t):"WORKSPACE_FOLDER"===e.name?this._resoveWorkspacePath(t):void 0}}},{key:"_resolveWorkspaceName",value:function(e){if((0,d.eb)(e))return v.EZ(e.uri.path);var t=v.EZ(e.configPath.path);return t.endsWith(d.A6)&&(t=t.substr(0,t.length-d.A6.length-1)),t}},{key:"_resoveWorkspacePath",value:function(e){if((0,d.eb)(e))return(0,p.D)(e.uri.fsPath);var t=v.EZ(e.configPath.path),n=e.configPath.fsPath;return n.endsWith(t)&&(n=n.substr(0,n.length-t.length-1)),n?(0,p.D)(n):"/"}}]),e}(),j=function(){function e(){w(this,e)}return k(e,[{key:"resolve",value:function(e){var t=e.name;return"RANDOM"===t?Math.random().toString().slice(-6):"RANDOM_HEX"===t?Math.random().toString(16).slice(-6):"UUID"===t?(0,y.R)():void 0}}]),e}();function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=F(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function M(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==V(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===V(i)?i:String(i)),r)}var o,i}function G(e,t,n){return t&&B(e.prototype,t),n&&B(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}var U=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":V(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},z=function(e,t){return function(n,r){t(n,r,e)}},K=function(){function e(t,n,o){H(this,e),this._editor=t,this._snippet=n,this._snippetLineLeadingWhitespace=o,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,r.vM)(n.placeholders,h.Vm.compareByIndex),this._placeholderGroupsIdx=-1}return G(e,[{key:"initialize",value:function(e){this._offset=e.newPosition}},{key:"dispose",value:function(){this._placeholderDecorations&&this._editor.removeDecorations(M(this._placeholderDecorations.values())),this._placeholderGroups.length=0}},{key:"_initDecorations",value:function(){var t=this;if(-1===this._offset)throw new Error("Snippet not initialized!");if(!this._placeholderDecorations){this._placeholderDecorations=new Map;var n=this._editor.getModel();this._editor.changeDecorations((function(r){var o,i=D(t._snippet.placeholders);try{for(i.s();!(o=i.n()).done;){var a=o.value,u=t._snippet.offset(a),c=t._snippet.fullLen(a),l=s.e.fromPositions(n.getPositionAt(t._offset+u),n.getPositionAt(t._offset+u+c)),f=a.isFinalTabstop?e._decor.inactiveFinal:e._decor.inactive,d=r.addDecoration(l,f);t._placeholderDecorations.set(a,d)}}catch(e){i.e(e)}finally{i.f()}}))}}},{key:"move",value:function(t){var n=this;if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){var r,o=[],i=D(this._placeholderGroups[this._placeholderGroupsIdx]);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(s.transform){for(var c=this._placeholderDecorations.get(s),l=this._editor.getModel().getDecorationRange(c),f=this._editor.getModel().getValueInRange(l),d=s.transform.resolve(f).split(/\r\n|\r|\n/),h=1;h<d.length;h++)d[h]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+d[h]);o.push(a.h.replace(l,d.join(this._editor.getModel().getEOL())))}}}catch(e){i.e(e)}finally{i.f()}o.length>0&&this._editor.executeEdits("snippet.placeholderTransform",o)}var p=!1;!0===t&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,p=!0):!1===t&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,p=!0);var v=this._editor.getModel().changeDecorations((function(t){var r,o=new Set,i=[],a=D(n._placeholderGroups[n._placeholderGroupsIdx]);try{for(a.s();!(r=a.n()).done;){var s=r.value,c=n._placeholderDecorations.get(s),l=n._editor.getModel().getDecorationRange(c);i.push(new u.Y(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn)),p=p&&n._hasPlaceholderBeenCollapsed(s),t.changeDecorationOptions(c,s.isFinalTabstop?e._decor.activeFinal:e._decor.active),o.add(s);var f,d=D(n._snippet.enclosingPlaceholders(s));try{for(d.s();!(f=d.n()).done;){var h=f.value,v=n._placeholderDecorations.get(h);t.changeDecorationOptions(v,h.isFinalTabstop?e._decor.activeFinal:e._decor.active),o.add(h)}}catch(e){d.e(e)}finally{d.f()}}}catch(e){a.e(e)}finally{a.f()}var g,y=D(n._placeholderDecorations);try{for(y.s();!(g=y.n()).done;){var m=A(g.value,2),b=m[0],_=m[1];o.has(b)||t.changeDecorationOptions(_,b.isFinalTabstop?e._decor.inactiveFinal:e._decor.inactive)}}catch(e){y.e(e)}finally{y.f()}return i}));return p?this.move(t):null!=v?v:[]}},{key:"_hasPlaceholderBeenCollapsed",value:function(e){for(var t=e;t;){if(t instanceof h.Vm){var n=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(n).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}},{key:"isAtFirstPlaceholder",get:function(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}},{key:"isAtLastPlaceholder",get:function(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}},{key:"hasPlaceholder",get:function(){return this._snippet.placeholders.length>0}},{key:"isTrivialSnippet",get:function(){return 0===this._snippet.placeholders.length||1===this._snippet.placeholders.length&&this._snippet.placeholders[0].isFinalTabstop}},{key:"computePossibleSelections",value:function(){var e,t=new Map,n=D(this._placeholderGroups);try{for(n.s();!(e=n.n()).done;){var r,o=e.value,i=void 0,a=D(o);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(s.isFinalTabstop)break;i||(i=[],t.set(s.index,i));var u=this._placeholderDecorations.get(s),c=this._editor.getModel().getDecorationRange(u);if(!c){t.delete(s.index);break}i.push(c)}}catch(e){a.e(e)}finally{a.f()}}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"activeChoice",get:function(){if(this._placeholderDecorations){var e=this._placeholderGroups[this._placeholderGroupsIdx][0];if(null==e?void 0:e.choice){var t=this._placeholderDecorations.get(e);if(t){var n=this._editor.getModel().getDecorationRange(t);if(n)return{range:n,choice:e.choice}}}}}},{key:"hasChoice",get:function(){var e=!1;return this._snippet.walk((function(t){return!(e=t instanceof h.Lv)})),e}},{key:"merge",value:function(t){var n=this,o=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations((function(i){var a,u=D(n._placeholderGroups[n._placeholderGroupsIdx]);try{for(u.s();!(a=u.n()).done;){var c=a.value,l=t.shift();console.assert(-1!==l._offset),console.assert(!l._placeholderDecorations);var f,d=l._snippet.placeholderInfo.last.index,p=D(l._snippet.placeholderInfo.all);try{for(p.s();!(f=p.n()).done;){var v=f.value;v.isFinalTabstop?v.index=c.index+(d+1)/n._nestingLevel:v.index=c.index+v.index/n._nestingLevel}}catch(e){p.e(e)}finally{p.f()}n._snippet.replace(c,l._snippet.children);var g=n._placeholderDecorations.get(c);i.removeDecoration(g),n._placeholderDecorations.delete(c);var y,m=D(l._snippet.placeholders);try{for(m.s();!(y=m.n()).done;){var b=y.value,_=l._snippet.offset(b),w=l._snippet.fullLen(b),S=s.e.fromPositions(o.getPositionAt(l._offset+_),o.getPositionAt(l._offset+_+w)),k=i.addDecoration(S,e._decor.inactive);n._placeholderDecorations.set(b,k)}}catch(e){m.e(e)}finally{m.f()}}}catch(e){u.e(e)}finally{u.f()}n._placeholderGroups=(0,r.vM)(n._snippet.placeholders,h.Vm.compareByIndex)}))}}]),e}();K._decor={active:l.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:l.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:l.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:l.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};var q={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},Y=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q,o=arguments.length>3?arguments[3]:void 0;H(this,e),this._editor=t,this._template=n,this._options=r,this._languageConfigurationService=o,this._templateMerges=[],this._snippets=[]}return G(e,[{key:"dispose",value:function(){(0,o.B9)(this._snippets)}},{key:"_logInfo",value:function(){return'template="'.concat(this._template,'", merged_templates="').concat(this._templateMerges.join(" -> "),'"')}},{key:"insert",value:function(){var t=this;if(this._editor.hasModel()){var n="string"==typeof this._template?e.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):e.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService),r=n.edits,o=n.snippets;this._snippets=o,this._editor.executeEdits("snippet",r,(function(e){for(var n=e.filter((function(e){return!!e.identifier})),r=0;r<o.length;r++)o[r].initialize(n[r].textChange);return t._snippets[0].hasPlaceholder?t._move(!0):n.map((function(e){return u.Y.fromPositions(e.range.getEndPosition())}))})),this._editor.revealRange(this._editor.getSelections()[0])}}},{key:"merge",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q;if(this._editor.hasModel()){this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,t]);var o=e.createEditsAndSnippetsFromSelections(this._editor,t,r.overwriteBefore,r.overwriteAfter,!0,r.adjustWhitespace,r.clipboardText,r.overtypingCapturer,this._languageConfigurationService),i=o.edits,a=o.snippets;this._editor.executeEdits("snippet",i,(function(e){for(var t=e.filter((function(e){return!!e.identifier})),r=0;r<a.length;r++)a[r].initialize(t[r].textChange);var o=a[0].isTrivialSnippet;if(!o){var i,s=D(n._snippets);try{for(s.s();!(i=s.n()).done;){i.value.merge(a)}}catch(e){s.e(e)}finally{s.f()}console.assert(0===a.length)}return n._snippets[0].hasPlaceholder&&!o?n._move(void 0):t.map((function(e){return u.Y.fromPositions(e.range.getEndPosition())}))}))}}},{key:"next",value:function(){var e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}},{key:"prev",value:function(){var e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}},{key:"_move",value:function(e){var t,n=[],r=D(this._snippets);try{for(r.s();!(t=r.n()).done;){var o=t.value.move(e);n.push.apply(n,M(o))}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"isAtFirstPlaceholder",get:function(){return this._snippets[0].isAtFirstPlaceholder}},{key:"isAtLastPlaceholder",get:function(){return this._snippets[0].isAtLastPlaceholder}},{key:"hasPlaceholder",get:function(){return this._snippets[0].hasPlaceholder}},{key:"hasChoice",get:function(){return this._snippets[0].hasChoice}},{key:"activeChoice",get:function(){return this._snippets[0].activeChoice}},{key:"isSelectionWithinPlaceholders",value:function(){if(!this.hasPlaceholder)return!1;var e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;var t,n=new Map,r=D(this._snippets);try{var o=function(){var r=t.value.computePossibleSelections();if(0===n.size){var o,i=D(r);try{for(i.s();!(o=i.n()).done;){var a=A(o.value,2),u=a[0],c=a[1];c.sort(s.e.compareRangesUsingStarts);var l,f=D(e);try{for(f.s();!(l=f.n()).done;){var d=l.value;if(c[0].containsRange(d)){n.set(u,[]);break}}}catch(e){f.e(e)}finally{f.f()}}}catch(e){i.e(e)}finally{i.f()}}if(0===n.size)return{v:!1};n.forEach((function(e,t){e.push.apply(e,M(r.get(t)))}))};for(r.s();!(t=r.n()).done;){var i=o();if("object"===V(i))return i.v}}catch(e){r.e(e)}finally{r.f()}e.sort(s.e.compareRangesUsingStarts);var a,u=D(n);try{for(u.s();!(a=u.n()).done;){var c=A(a.value,2),l=c[0],f=c[1];if(f.length===e.length){f.sort(s.e.compareRangesUsingStarts);for(var d=0;d<f.length;d++)f[d].containsRange(e[d])||n.delete(l)}else n.delete(l)}}catch(e){u.e(e)}finally{u.f()}return n.size>0}}],[{key:"adjustWhitespace",value:function(e,t,n,r,o){var a,s=e.getLineContent(t.lineNumber),u=(0,i.V8)(s,0,t.column-1);return n.walk((function(t){if(!(t instanceof h.xv)||t.parent instanceof h.Lv)return!0;var o=t.value.split(/\r\n|\r|\n/);if(r){var i=n.offset(t);if(0===i)o[0]=e.normalizeIndentation(o[0]);else{var s=(a=null!=a?a:n.toString()).charCodeAt(i-1);10!==s&&13!==s||(o[0]=e.normalizeIndentation(u+o[0]))}for(var c=1;c<o.length;c++)o[c]=e.normalizeIndentation(u+o[c])}var l=o.join(e.getEOL());return l!==t.value&&(t.parent.replace(t,[new h.xv(l)]),a=void 0),!0})),u}},{key:"adjustSelection",value:function(e,t,n,r){if(0!==n||0!==r){var o=t,i=o.positionLineNumber,a=o.positionColumn,s=a-n,c=a+r,l=e.validateRange({startLineNumber:i,startColumn:s,endLineNumber:i,endColumn:c});t=u.Y.createWithDirection(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn,t.getDirection())}return t}},{key:"createEditsAndSnippetsFromSelections",value:function(t,n,r,o,i,u,c,l,p){var v=[],g=[];if(!t.hasModel())return{edits:v,snippets:g};var y,m=t.getModel(),b=t.invokeWithinContext((function(e){return e.get(d.ec)})),_=t.invokeWithinContext((function(e){return new P(e.get(f.e),m)})),w=function(){return c},S=m.getValueInRange(e.adjustSelection(m,t.getSelection(),r,0)),k=m.getValueInRange(e.adjustSelection(m,t.getSelection(),0,o)),C=m.getLineFirstNonWhitespaceColumn(t.getSelection().positionLineNumber),x=t.getSelections().map((function(e,t){return{selection:e,idx:t}})).sort((function(e,t){return s.e.compareRangesUsingStarts(e.selection,t.selection)})),L=D(x);try{for(L.s();!(y=L.n()).done;){var A=y.value,M=A.selection,F=A.idx,W=e.adjustSelection(m,M,r,0),H=e.adjustSelection(m,M,0,o);S!==m.getValueInRange(W)&&(W=M),k!==m.getValueInRange(H)&&(H=M);var B=M.setStartPosition(W.startLineNumber,W.startColumn).setEndPosition(H.endLineNumber,H.endColumn),G=(new h.Yj).parse(n,!0,i),V=B.getStartPosition(),U=e.adjustWhitespace(m,V,G,u||F>0&&C!==m.getLineFirstNonWhitespaceColumn(M.positionLineNumber),!0);G.resolveVariables(new O([_,new N(w,F,x.length,"spread"===t.getOption(73)),new E(m,M,F,l),new I(m,M,p),new R,new T(b),new j])),v[F]=a.h.replace(B,G.toString()),v[F].identifier={major:F,minor:0},v[F]._isTracked=!0,g[F]=new K(t,G,U)}}catch(e){L.e(e)}finally{L.f()}return{edits:v,snippets:g}}},{key:"createEditsAndSnippetsFromEdits",value:function(e,t,n,r,o,i,u){if(!e.hasModel()||0===t.length)return{edits:[],snippets:[]};var c=[],l=e.getModel(),p=new h.Yj,v=new h.y1,g=new O([e.invokeWithinContext((function(e){return new P(e.get(f.e),l)})),new N((function(){return o}),0,e.getSelections().length,"spread"===e.getOption(73)),new E(l,e.getSelection(),0,i),new I(l,e.getSelection(),u),new R,new T(e.invokeWithinContext((function(e){return e.get(d.ec)}))),new j]);t=t.sort((function(e,t){return s.e.compareRangesUsingStarts(e.range,t.range)}));for(var y=0,m=0;m<t.length;m++){var b=t[m],_=b.range,w=b.template;if(m>0){var S=t[m-1].range,k=s.e.fromPositions(S.getEndPosition(),_.getStartPosition()),C=new h.xv(l.getValueInRange(k));v.appendChild(C),y+=C.value.length}p.parseFragment(w,v),v.resolveVariables(g);var x=v.toString(),L=x.slice(y);y=x.length;var A=a.h.replace(_,L);A.identifier={major:m,minor:0},A._isTracked=!0,c.push(A)}return p.ensureFinalTabstop(v,n,!0),{edits:c,snippets:[new K(e,v,"")]}}}]),e}();Y=U([z(3,c.c_)],Y)},64018:(e,t,n)=>{n.r(t);var r=n(38709),o=n(18679),i=n(31213),a=n(13135),s=n(2307),u=n(32007),c=n(41986),l=n(97592),f=n(29495),d=n(95295),h=n(51638);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(){v=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new L(o||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var g={};u(g,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(O([])));m&&m!==t&&n.call(m,i)&&(g=m);var b=p.prototype=d.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==E(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),u(b,s,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=y(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function y(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===E(i)?i:String(i)),r)}var o,i}function w(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=k(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},S.apply(this,arguments)}function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}var P,N=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":E(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},I=function(e,t){return function(n,r){t(n,r,e)}},R=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(n,e);var t=x(n);function n(e,o){var i;return b(this,n),(i=t.call(this))._sessionStore=new r.SL,i._ranges=[],i._rangesVersionId=0,i._editor=e,i._languageFeaturesService=o,i.stickyScrollWidget=new D(i._editor),i._register(i._editor.onDidChangeConfiguration((function(e){e.hasChanged(34)&&i.onConfigurationChange()}))),i._updateSoon=i._register(new d.pY((function(){return i._update(!0)}),50)),i.onConfigurationChange(),i}return w(n,[{key:"onConfigurationChange",value:function(){var e=this;if(!1===this._editor.getOption(34).stickyScroll.enabled)return this.stickyScrollWidget.emptyRootNode(),this._editor.removeOverlayWidget(this.stickyScrollWidget),void this._sessionStore.clear();this._editor.addOverlayWidget(this.stickyScrollWidget),this._sessionStore.add(this._editor.onDidChangeModel((function(){return e._update(!0)}))),this._sessionStore.add(this._editor.onDidScrollChange((function(){return e._update(!1)}))),this._sessionStore.add(this._editor.onDidChangeHiddenAreas((function(){return e._update(!0)}))),this._sessionStore.add(this._editor.onDidChangeModelTokens((function(t){return e._onTokensChange(t)}))),this._sessionStore.add(this._editor.onDidChangeModelContent((function(){return e._updateSoon.schedule()}))),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange((function(){return e._update(!0)}))),this._update(!0)}},{key:"_needsUpdate",value:function(e){var t,n=g(this.stickyScrollWidget.getCurrentLines());try{for(n.s();!(t=n.n()).done;){var r,o=t.value,i=g(e.ranges);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(o>=a.fromLineNumber&&o<=a.toLineNumber)return!0}}catch(e){i.e(e)}finally{i.f()}}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"_onTokensChange",value:function(e){this._needsUpdate(e)&&this._update(!1)}},{key:"_update",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return R(this,void 0,void 0,v().mark((function r(){var o,i,a,u,c=this;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n){r.next=5;break}return null===(e=this._cts)||void 0===e||e.dispose(!0),this._cts=new s.A,r.next=5,this._updateOutlineModel(this._cts.token);case 5:if(!(o=null===(t=this._editor._getViewModel())||void 0===t?void 0:t.getHiddenAreas())){r.next=23;break}i=g(o),r.prev=8,u=v().mark((function e(){var t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.value,c._ranges=c._ranges.filter((function(e){return!(e[0]>=t.startLineNumber&&e[1]<=t.endLineNumber+1)}));case 2:case"end":return e.stop()}}),e)})),i.s();case 11:if((a=i.n()).done){r.next=15;break}return r.delegateYield(u(),"t0",13);case 13:r.next=11;break;case 15:r.next=20;break;case 17:r.prev=17,r.t1=r.catch(8),i.e(r.t1);case 20:return r.prev=20,i.f(),r.finish(20);case 23:this._renderStickyScroll();case 24:case"end":return r.stop()}}),r,this,[[8,17,20,23]])})))}},{key:"_findLineRanges",value:function(e,t){if(null==e?void 0:e.children.size){var n,r=!1,o=g(null==e?void 0:e.children.values());try{for(o.s();!(n=o.n()).done;){var i=n.value,a=i.symbol.kind;4!==a&&8!==a&&11!==a&&10!==a&&5!==a&&1!==a||(r=!0,this._findLineRanges(i,t+1))}}catch(e){o.e(e)}finally{o.f()}r||this._addOutlineRanges(e,t)}else this._addOutlineRanges(e,t)}},{key:"_addOutlineRanges",value:function(e,t){for(var n=0,r=0;e;){var o=e.symbol.kind;if(4!==o&&8!==o&&11!==o&&10!==o&&5!==o&&1!==o||(n=null==e?void 0:e.symbol.range.startLineNumber,r=null==e?void 0:e.symbol.range.endLineNumber,this._ranges.push([n,r,t]),t--),!(e.parent instanceof a.sT))break;e=e.parent}}},{key:"_updateOutlineModel",value:function(e){return R(this,void 0,void 0,v().mark((function t(){var n,r,o,i,s,u,c,l,f,d,h,y,m,b,_,w;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._editor.hasModel()){t.next=12;break}return n=this._editor.getModel(),r=n.getVersionId(),t.next=5,a.C3.create(this._languageFeaturesService.documentSymbolProvider,n,e);case 5:if(o=t.sent,!e.isCancellationRequested){t.next=8;break}return t.abrupt("return");case 8:this._ranges=[],this._rangesVersionId=r,i=g(o.children.values());try{for(i.s();!(s=i.n()).done;){(u=s.value)instanceof a.sT&&(4===(c=u.symbol.kind)||8===c||11===c||10===c||5===c||1===c?this._findLineRanges(u,1):this._findLineRanges(u,0)),this._ranges=this._ranges.sort((function(e,t){return e[0]!==t[0]?e[0]-t[0]:e[1]!==t[1]?t[1]-e[1]:e[2]-t[2]})),l=[],f=g(this._ranges.entries());try{for(f.s();!(d=f.n()).done;)h=p(d.value,2),y=h[0],m=h[1],b=p(m,3),_=b[0],w=b[1],b[2],l[0]===_&&l[1]===w?this._ranges.splice(y,1):l=m}catch(e){f.e(e)}finally{f.f()}}}catch(e){i.e(e)}finally{i.f()}case 12:case"end":return t.stop()}}),t,this)})))}},{key:"_renderStickyScroll",value:function(){if(this._editor.hasModel()){var e=this._editor.getOption(61),t=this._editor.getModel();if(this._rangesVersionId===t.getVersionId()){var n=this._editor.getScrollTop();this.stickyScrollWidget.emptyRootNode();var r,o=new Set,i=g(this._ranges.entries());try{for(i.s();!(r=i.n()).done;){var a=p(r.value,2),s=a[0],u=p(a[1],3),c=u[0],l=u[1],f=u[2];if(l-c>0&&""!==t.getLineContent(c)){var d=(f-1)*e,h=f*e,v=this._editor.getBottomForLineNumber(c)-n,y=this._editor.getTopForLineNumber(l)-n,m=this._editor.getBottomForLineNumber(l)-n;if(o.has(c))this._ranges.splice(s,1);else{if(d>=y-1&&d<m-2){o.add(c),this.stickyScrollWidget.pushCodeLine(new A(c,f,this._editor,-1,m-h));break}h>v&&h<m-1&&(o.add(c),this.stickyScrollWidget.pushCodeLine(new A(c,f,this._editor,0,0)))}}}}catch(e){i.e(e)}finally{i.f()}this.stickyScrollWidget.updateRootNode()}}}},{key:"dispose",value:function(){S(O(n.prototype),"dispose",this).call(this),this._sessionStore.dispose()}}]),n}(r.JT);T.ID="store.contrib.stickyScrollController",T=N([I(1,i.p)],T);var j=null===(P=window.trustedTypes)||void 0===P?void 0:P.createPolicy("stickyScrollViewLayer",{createHTML:function(e){return e}}),A=function(){function e(t,n,r,o,i){b(this,e),this._lineNumber=t,this._depth=n,this._editor=r,this._zIndex=o,this._relativePosition=i,this.effectiveLineHeight=0,this.effectiveLineHeight=this._editor.getOption(61)+this._relativePosition}return w(e,[{key:"lineNumber",get:function(){return this._lineNumber}},{key:"getDomNode",value:function(){var e,t=this,n=document.createElement("div"),r=this._editor._getViewModel(),o=r.coordinatesConverter.convertModelPositionToViewPosition(new h.L(this._lineNumber,1)).lineNumber,i=r.getViewLineRenderingData(o);try{e=f.Kp.filter(i.inlineDecorations,o,i.minColumn,i.maxColumn)}catch(t){e=[]}var a,s=new l.IJ(!0,!0,i.content,i.continuesWithWrappedLine,i.isBasicASCII,i.containsRTL,0,i.tokens,e,i.tabSize,i.startVisibleColumn,1,1,1,100,"none",!0,!0,null),u=(0,c.l$)(400);(0,l.d1)(s,u),a=j?j.createHTML(u.build()):u.build();var d=document.createElement("span");d.style.backgroundColor="var(--vscode-editorStickyScroll-background)",d.style.overflow="hidden",d.style.whiteSpace="nowrap",d.style.display="inline-block",d.style.lineHeight=this._editor.getOption(61).toString()+"px",d.innerHTML=a;var p=document.createElement("span");p.style.width=this._editor.getLayoutInfo().contentLeft.toString()+"px",p.style.backgroundColor="var(--vscode-editorStickyScroll-background)",p.style.color="var(--vscode-editorLineNumber-foreground)",p.style.display="inline-block",p.style.lineHeight=this._editor.getOption(61).toString()+"px";var v=document.createElement("span");return v.innerText=this._lineNumber.toString(),v.style.paddingLeft=this._editor.getLayoutInfo().lineNumbersLeft.toString()+"px",v.style.width=this._editor.getLayoutInfo().lineNumbersWidth.toString()+"px",v.style.backgroundColor="var(--vscode-editorStickyScroll-background)",v.style.textAlign="right",v.style.float="left",v.style.lineHeight=this._editor.getOption(61).toString()+"px",p.appendChild(v),n.onclick=function(e){e.stopPropagation(),e.preventDefault(),t._editor.revealPosition({lineNumber:t._lineNumber-t._depth+1,column:1})},n.onmouseover=function(e){v.style.background="var(--vscode-editorStickyScrollHover-background)",d.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",p.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",n.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",v.style.cursor="pointer",d.style.cursor="pointer",n.style.cursor="pointer",p.style.cursor="pointer"},n.onmouseleave=function(e){v.style.background="var(--vscode-editorStickyScroll-background)",d.style.backgroundColor="var(--vscode-editorStickyScroll-background)",p.style.backgroundColor="var(--vscode-editorStickyScroll-background)",n.style.backgroundColor="var(--vscode-editorStickyScroll-background)"},this._editor.applyFontInfo(d),this._editor.applyFontInfo(v),n.appendChild(p),n.appendChild(d),n.style.zIndex=this._zIndex.toString(),n.style.backgroundColor="var(--vscode-editorStickyScroll-background)",n.style.overflow="hidden",n.style.whiteSpace="nowrap",n.style.width="100%",n.style.lineHeight=this._editor.getOption(61).toString()+"px",n.style.height=this._editor.getOption(61).toString()+"px",this._relativePosition&&(n.style.position="relative",n.style.top=this._relativePosition+"px",n.style.width="100%"),n}}]),e}(),D=function(){function e(t){b(this,e),this._editor=t,this.arrayOfCodeLines=[],this.rootDomNode=document.createElement("div"),this.rootDomNode=document.createElement("div"),this.rootDomNode.style.width="100%",this.rootDomNode.style.boxShadow="var(--vscode-scrollbar-shadow) 0 6px 6px -6px"}return w(e,[{key:"getCurrentLines",value:function(){var e,t=[],n=g(this.arrayOfCodeLines);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r.lineNumber)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"pushCodeLine",value:function(e){this.arrayOfCodeLines.push(e)}},{key:"updateRootNode",value:function(){var e,t=0,n=g(this.arrayOfCodeLines);try{for(n.s();!(e=n.n()).done;){var r=e.value;t+=r.effectiveLineHeight,this.rootDomNode.appendChild(r.getDomNode())}}catch(e){n.e(e)}finally{n.f()}this.rootDomNode.style.height=t.toString()+"px"}},{key:"emptyRootNode",value:function(){this.arrayOfCodeLines.length=0,u.clearNode(this.rootDomNode)}},{key:"getId",value:function(){return"editor.contrib.stickyScrollWidget"}},{key:"getDomNode",value:function(){return this.rootDomNode.style.zIndex="2",this.rootDomNode.style.backgroundColor="var(--vscode-editorStickyScroll-background)",this.rootDomNode}},{key:"getPosition",value:function(){return{preference:null}}}]),e}();(0,o._K)(T.ID,T)},47290:(e,t,n)=>{n.d(t,{_:()=>p,t:()=>h});var r=n(86193),o=n(63872),i=n(46969);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===a(i)?i:String(i)),r)}var o,i}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=f((function e(t,n){d(this,e),this.leadingLineContent=t,this.characterCountDelta=n})),p=function(){function e(t,n,r,i,a,s){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:o.mX.default,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0;d(this,e),this.clipboardText=c,this._snippetCompareFn=e._compareCompletionItems,this._items=t,this._column=n,this._wordDistance=i,this._options=a,this._refilterKind=1,this._lineContext=r,this._fuzzyScoreOptions=u,"top"===s?this._snippetCompareFn=e._compareCompletionItemsSnippetsUp:"bottom"===s&&(this._snippetCompareFn=e._compareCompletionItemsSnippetsDown)}return f(e,[{key:"lineContext",get:function(){return this._lineContext},set:function(e){this._lineContext.leadingLineContent===e.leadingLineContent&&this._lineContext.characterCountDelta===e.characterCountDelta||(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}},{key:"items",get:function(){return this._ensureCachedState(),this._filteredItems}},{key:"allProvider",get:function(){return this._ensureCachedState(),this._providerInfo.keys()}},{key:"incomplete",get:function(){this._ensureCachedState();var e,t=new Set,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this._providerInfo);try{for(n.s();!(e=n.n()).done;){var r=s(e.value,2),o=r[0];r[1]&&t.add(o)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"adopt",value:function(e){for(var t=[],n=0;n<this._items.length;)e.has(this._items[n].provider)?n++:(t.push(this._items[n]),this._items[n]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}},{key:"stats",get:function(){return this._ensureCachedState(),this._stats}},{key:"_ensureCachedState",value:function(){0!==this._refilterKind&&this._createCachedState()}},{key:"_createCachedState",value:function(){this._providerInfo=new Map;for(var e=[],t=this._lineContext,n=t.leadingLineContent,a=t.characterCountDelta,s="",u="",c=1===this._refilterKind?this._items:this._filteredItems,l=[],f=!this._options.filterGraceful||c.length>2e3?o.EW:o.l7,d=0;d<c.length;d++){var h=c[d];if(!h.isInvalid){this._providerInfo.set(h.provider,Boolean(h.container.incomplete));var p=h.position.column-h.editStart.column,v=p+a-(h.position.column-this._column);if(s.length!==v&&(u=(s=0===v?"":n.slice(-v)).toLowerCase()),h.word=s,0===v)h.score=o.CL.Default;else{for(var g=0;g<p;){var y=s.charCodeAt(g);if(32!==y&&9!==y)break;g+=1}if(g>=v)h.score=o.CL.Default;else if("string"==typeof h.completion.filterText){var m=f(s,u,g,h.completion.filterText,h.filterTextLow,0,this._fuzzyScoreOptions);if(!m)continue;0===(0,i.zY)(h.completion.filterText,h.textLabel)?h.score=m:(h.score=(0,o.jB)(s,u,g,h.textLabel,h.labelLow,0),h.score[0]=m[0])}else{var b=f(s,u,g,h.textLabel,h.labelLow,0,this._fuzzyScoreOptions);if(!b)continue;h.score=b}}h.idx=d,h.distance=this._wordDistance.distance(h.position,h.completion),l.push(h),e.push(h.textLabel.length)}}this._filteredItems=l.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?(0,r.HW)(e.length-.85,e,(function(e,t){return e-t})):0}}}],[{key:"_compareCompletionItems",value:function(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}},{key:"_compareCompletionItemsSnippetsDown",value:function(t,n){if(t.completion.kind!==n.completion.kind){if(27===t.completion.kind)return 1;if(27===n.completion.kind)return-1}return e._compareCompletionItems(t,n)}},{key:"_compareCompletionItemsSnippetsUp",value:function(t,n){if(t.completion.kind!==n.completion.kind){if(27===t.completion.kind)return-1;if(27===n.completion.kind)return 1}return e._compareCompletionItems(t,n)}}]),e}()},21866:(e,t,n)=>{n.d(t,{A9:()=>R,GI:()=>N,ZJ:()=>T,_y:()=>P,i5:()=>W,kL:()=>A,tG:()=>H,wg:()=>F});var r=n(2307),o=n(95835),i=n(63872),a=n(38709),s=n(16769),u=n(8401),c=n(83916),l=n(51638),f=n(48466),d=n(5491),h=n(51412),p=n(18063),v=n(13171),g=n(69349),y=n(73589),m=n(31213),b=n(87994);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(){k=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(E([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==_(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===_(i)?i:String(i)),r)}var o,i}function L(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var O,E=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},P={Visible:b.iX,HasFocusedSuggestion:new y.uy("suggestWidgetHasFocusedSuggestion",!1,(0,p.NC)("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new y.uy("suggestWidgetDetailsVisible",!1,(0,p.NC)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new y.uy("suggestWidgetMultipleSuggestions",!1,(0,p.NC)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new y.uy("suggestionMakesTextEdit",!0,(0,p.NC)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new y.uy("acceptSuggestionOnEnter",!0,(0,p.NC)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new y.uy("suggestionHasInsertAndReplaceRange",!1,(0,p.NC)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new y.uy("suggestionInsertMode",void 0,{type:"string",description:(0,p.NC)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new y.uy("suggestionCanResolve",!1,(0,p.NC)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},N=new v.eH("suggestWidgetStatusBar"),I=function(){function e(t,n,r,o){C(this,e),this.position=t,this.completion=n,this.container=r,this.provider=o,this.isInvalid=!1,this.score=i.CL.Default,this.distance=0,this.textLabel="string"==typeof n.label?n.label:n.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=n.sortText&&n.sortText.toLowerCase(),this.filterTextLow=n.filterText&&n.filterText.toLowerCase(),this.extensionId=n.extensionId,f.e.isIRange(n.range)?(this.editStart=new l.L(n.range.startLineNumber,n.range.startColumn),this.editInsertEnd=new l.L(n.range.endLineNumber,n.range.endColumn),this.editReplaceEnd=new l.L(n.range.endLineNumber,n.range.endColumn),this.isInvalid=this.isInvalid||f.e.spansMultipleLines(n.range)||n.range.startLineNumber!==t.lineNumber):(this.editStart=new l.L(n.range.insert.startLineNumber,n.range.insert.startColumn),this.editInsertEnd=new l.L(n.range.insert.endLineNumber,n.range.insert.endColumn),this.editReplaceEnd=new l.L(n.range.replace.endLineNumber,n.range.replace.endColumn),this.isInvalid=this.isInvalid||f.e.spansMultipleLines(n.range.insert)||f.e.spansMultipleLines(n.range.replace)||n.range.insert.startLineNumber!==t.lineNumber||n.range.replace.startLineNumber!==t.lineNumber||n.range.insert.startColumn!==n.range.replace.startColumn),"function"!=typeof o.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}return L(e,[{key:"isResolved",get:function(){return!!this._isResolved}},{key:"resolve",value:function(e){return E(this,void 0,void 0,k().mark((function t(){var n,r=this;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._resolveCache||(n=e.onCancellationRequested((function(){r._resolveCache=void 0,r._isResolved=!1})),this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then((function(e){Object.assign(r.completion,e),r._isResolved=!0,n.dispose()}),(function(e){(0,o.n2)(e)&&(r._resolveCache=void 0,r._isResolved=!1)}))),t.abrupt("return",this._resolveCache);case 2:case"end":return t.stop()}}),t,this)})))}}]),e}(),R=L((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];C(this,e),this.snippetSortOrder=t,this.kindFilter=n,this.providerFilter=r,this.showDeprecated=o}));function T(){return O}R.default=new R;var j=L((function e(t,n,r,o){C(this,e),this.items=t,this.needsClipboard=n,this.durations=r,this.disposable=o}));function A(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R.default,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{triggerKind:0},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:r.T.None;return E(this,void 0,void 0,k().mark((function r(){var l,d,p,v,g,y,m,b,_,S,C,x,L,P=this;return k().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:l=new s.G(!0),n=n.clone(),d=t.getWordAtPosition(n),p=d?new f.e(n.lineNumber,d.startColumn,n.lineNumber,d.endColumn):f.e.fromPositions(n),v={replace:p,insert:p.setEndPosition(n.lineNumber,n.column)},g=[],y=new a.SL,m=[],b=!1,_=function(e,t,r){var o,s,u,c=!1;if(!t)return c;var l,f=w(t.suggestions);try{for(f.s();!(l=f.n()).done;){var d=l.value;if(!i.kindFilter.has(d.kind)){if(!i.showDeprecated&&(null===(o=null==d?void 0:d.tags)||void 0===o?void 0:o.includes(1)))continue;d.range||(d.range=v),d.sortText||(d.sortText="string"==typeof d.label?d.label:d.label.label),!b&&d.insertTextRules&&4&d.insertTextRules&&(b=h.Yj.guessNeedsClipboard(d.insertText)),g.push(new I(n,d,t,e)),c=!0}}}catch(e){f.e(e)}finally{f.f()}return(0,a.Wf)(t)&&y.add(t),m.push({providerName:null!==(s=e._debugDisplayName)&&void 0!==s?s:"unknown_provider",elapsedProvider:null!==(u=t.duration)&&void 0!==u?u:-1,elapsedOverall:r.elapsed()}),c},S=E(P,void 0,void 0,k().mark((function e(){var r,o;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 2:if(!(i.providerFilter.size>0)||i.providerFilter.has(O)){e.next=4;break}return e.abrupt("return");case 4:return r=new s.G(!0),e.next=7,O.provideCompletionItems(t,n,u,c);case 7:o=e.sent,_(O,o,r);case 9:case"end":return e.stop()}}),e)}))),C=w(e.orderedGroups(t)),r.prev=12,L=k().mark((function e(){var r,a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=x.value,a=!1,e.next=4,Promise.all(r.map((function(e){return E(P,void 0,void 0,k().mark((function r(){var l,f;return k().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(i.providerFilter.size>0)||i.providerFilter.has(e)){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,l=new s.G(!0),r.next=6,e.provideCompletionItems(t,n,u,c);case 6:f=r.sent,a=_(e,f,l)||a,r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(0,o.Cp)(r.t0);case 13:case"end":return r.stop()}}),r,null,[[2,10]])})))})));case 4:if(!a&&!c.isCancellationRequested){e.next=6;break}return e.abrupt("return","break");case 6:case"end":return e.stop()}}),e)})),C.s();case 15:if((x=C.n()).done){r.next=22;break}return r.delegateYield(L(),"t0",17);case 17:if("break"!==r.t0){r.next=20;break}return r.abrupt("break",22);case 20:r.next=15;break;case 22:r.next=27;break;case 24:r.prev=24,r.t1=r.catch(12),C.e(r.t1);case 27:return r.prev=27,C.f(),r.finish(27);case 30:return r.next=32,S;case 32:if(!c.isCancellationRequested){r.next=35;break}return y.dispose(),r.abrupt("return",Promise.reject(new o.FU));case 35:return r.abrupt("return",new j(g.sort(F(i.snippetSortOrder)),b,{entries:m,elapsed:l.elapsed()},y));case 36:case"end":return r.stop()}}),r,null,[[12,24,27,30]])})))}function D(e,t){if(e.sortTextLow&&t.sortTextLow){if(e.sortTextLow<t.sortTextLow)return-1;if(e.sortTextLow>t.sortTextLow)return 1}return e.textLabel<t.textLabel?-1:e.textLabel>t.textLabel?1:e.completion.kind-t.completion.kind}var M=new Map;function F(e){return M.get(e)}function W(e,t){var n;null===(n=e.getContribution("editor.contrib.suggestController"))||void 0===n||n.triggerSuggest((new Set).add(t),void 0,!0)}M.set(0,(function(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return D(e,t)})),M.set(2,(function(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return D(e,t)})),M.set(1,D),g.P0.registerCommand("_executeCompletionItemProvider",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return E(void 0,void 0,void 0,k().mark((function t(){var o,i,a,s,f,h,p,v,g,y,b,_,S;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n[0],i=n[1],a=n[2],s=n[3],(0,u.p_)(c.o.isUri(o)),(0,u.p_)(l.L.isIPosition(i)),(0,u.p_)("string"==typeof a||!a),(0,u.p_)("number"==typeof s||!s),f=e.get(m.p),h=f.completionProvider,t.next=8,e.get(d.S).createModelReference(o);case 8:return p=t.sent,t.prev=9,v={incomplete:!1,suggestions:[]},g=[],t.next=14,A(h,p.object.textEditorModel,l.L.lift(i),void 0,{triggerCharacter:a,triggerKind:a?1:0});case 14:y=t.sent,b=w(y.items);try{for(b.s();!(_=b.n()).done;)S=_.value,g.length<(null!=s?s:0)&&g.push(S.resolve(r.T.None)),v.incomplete=v.incomplete||S.container.incomplete,v.suggestions.push(S.completion)}catch(e){b.e(e)}finally{b.f()}return t.prev=17,t.next=20,Promise.all(g);case 20:return t.abrupt("return",v);case 21:return t.prev=21,setTimeout((function(){return y.disposable.dispose()}),100),t.finish(21);case 24:return t.prev=24,p.dispose(),t.finish(24);case 27:case"end":return t.stop()}}),t,null,[[9,,24,27],[17,,21,24]])})))}));var H=function(){function e(){C(this,e)}return L(e,null,[{key:"isAllOff",value:function(e){return"off"===e.other&&"off"===e.comments&&"off"===e.strings}},{key:"isAllOn",value:function(e){return"on"===e.other&&"on"===e.comments&&"on"===e.strings}},{key:"valueFor",value:function(e,t){switch(t){case 1:return e.comments;case 2:return e.strings;default:return e.other}}}]),e}()},27033:(e,t,n)=>{n.r(t),n.d(t,{SuggestController:()=>sn,TriggerSuggestAction:()=>cn});var r=n(61041),o=n(86193),i=n(95295),a=n(2307),s=n(95835),u=n(82459),c=n(24418),l=n(38709),f=n(71386),d=n(16769),h=n(8401),p=n(86778),v=n(18679),g=n(23942),y=n(51638),m=n(48466),b=n(25112),_=n(2507),w=n(51412),S=n(10894),k=n(73589);function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===x(i)?i:String(i)),r)}var o,i}function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}var L=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":x(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},O=function(e,t){return function(n,r){t(n,r,e)}},E=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._editor=t,this._enabled=!1,this._ckAtEnd=e.AtEnd.bindTo(n),this._configListener=this._editor.onDidChangeConfiguration((function(e){return e.hasChanged(113)&&r._update()})),this._update()}var t,n,r;return t=e,n=[{key:"dispose",value:function(){var e;this._configListener.dispose(),null===(e=this._selectionListener)||void 0===e||e.dispose(),this._ckAtEnd.reset()}},{key:"_update",value:function(){var e=this,t="on"===this._editor.getOption(113);if(this._enabled!==t)if(this._enabled=t,this._enabled){var n=function(){if(e._editor.hasModel()){var t=e._editor.getModel(),n=e._editor.getSelection(),r=t.getWordAtPosition(n.getStartPosition());r?e._ckAtEnd.set(r.endColumn===n.getStartPosition().column):e._ckAtEnd.set(!1)}else e._ckAtEnd.set(!1)};this._selectionListener=this._editor.onDidChangeCursorSelection(n),n()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}}],n&&C(t.prototype,n),r&&C(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();E.AtEnd=new k.uy("atEndOfWord",!1),E=L([O(1,k.i6)],E);var P=n(18063),N=n(69349),I=n(63304),R=n(50985),T=n(21866);function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===A(i)?i:String(i)),r)}var o,i}function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}var D=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":A(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},M=function(e,t){return function(n,r){t(n,r,e)}},F=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._editor=t,this._index=0,this._ckOtherSuggestions=e.OtherSuggestions.bindTo(n)}var t,n,r;return t=e,n=[{key:"dispose",value:function(){this.reset()}},{key:"reset",value:function(){var e;this._ckOtherSuggestions.reset(),null===(e=this._listener)||void 0===e||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}},{key:"set",value:function(t,n){var r=this,o=t.model,i=t.index;0!==o.items.length&&e._moveIndex(!0,o,i)!==i?(this._acceptNext=n,this._model=o,this._index=i,this._listener=this._editor.onDidChangeCursorPosition((function(){r._ignore||r.reset()})),this._ckOtherSuggestions.set(!0)):this.reset()}},{key:"next",value:function(){this._move(!0)}},{key:"prev",value:function(){this._move(!1)}},{key:"_move",value:function(t){if(this._model)try{this._ignore=!0,this._index=e._moveIndex(t,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}}],r=[{key:"_moveIndex",value:function(e,t,n){for(var r=n;(r=(r+t.items.length+(e?1:-1))%t.items.length)!==n&&t.items[r].completion.additionalTextEdits;);return r}}],n&&j(t.prototype,n),r&&j(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();F.OtherSuggestions=new k.uy("hasOtherSuggestions",!1),F=D([M(1,k.i6)],F);var W=n(6742);function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function B(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==H(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===H(i)?i:String(i)),r)}var o,i}var U=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._disposables=new l.SL,this._disposables.add(n.onDidShow((function(){return o._onItem(n.getFocusedItem())}))),this._disposables.add(n.onDidFocus(this._onItem,this)),this._disposables.add(n.onDidHide(this.reset,this)),this._disposables.add(t.onWillType((function(e){if(o._active&&!n.isFrozen()){var i=e.charCodeAt(e.length-1);o._active.acceptCharacters.has(i)&&t.getOption(0)&&r(o._active.item)}})))}var t,n,r;return t=e,(n=[{key:"_onItem",value:function(e){if(e&&(0,o.Of)(e.item.completion.commitCharacters)){if(!this._active||this._active.item.item!==e.item){var t,n=new W.q,r=B(e.item.completion.commitCharacters);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.length>0&&n.add(i.charCodeAt(0))}}catch(e){r.e(e)}finally{r.f()}this._active={acceptCharacters:n,item:e}}}else this.reset()}},{key:"reset",value:function(){this._active=void 0}},{key:"dispose",value:function(){this._disposables.dispose()}}])&&V(t.prototype,n),r&&V(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),z=n(46969),K=n(85963),q=n(71509),Y=n(52683),Q=n(79126),Z=n(4537),$=n(48552),J=n(47290),X=n(31213);function ee(){ee=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==ue(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||re(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=re(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function re(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==ue(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===ue(i)?i:String(i)),r)}var o,i}function se(e,t,n){return t&&ae(e.prototype,t),n&&ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}var ce=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ue(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},le=function(e,t){return function(n,r){t(n,r,e)}},fe=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},de=function(){function e(t,n,r,o,i){ie(this,e),this.leadingLineContent=t.getLineContent(n.lineNumber).substr(0,n.column-1),this.leadingWord=t.getWordUntilPosition(n),this.lineNumber=n.lineNumber,this.column=n.column,this.auto=r,this.shy=o,this.noSelect=i}return se(e,null,[{key:"shouldAutoTrigger",value:function(e){if(!e.hasModel())return!1;var t=e.getModel(),n=e.getPosition();t.tokenization.tokenizeIfCheap(n.lineNumber);var r=t.getWordAtPosition(n);return!!r&&(r.endColumn===n.column&&!!isNaN(Number(r.word)))}}]),e}();var he=function(){function e(t,n,r,o,a,s,c,f){var d=this;ie(this,e),this._editor=t,this._editorWorkerService=n,this._clipboardService=r,this._telemetryService=o,this._logService=a,this._contextKeyService=s,this._configurationService=c,this._languageFeaturesService=f,this._toDispose=new l.SL,this._triggerCharacterListener=new l.SL,this._triggerQuickSuggest=new i._F,this._state=0,this._completionDisposables=new l.SL,this._onDidCancel=new u.Q5,this._onDidTrigger=new u.Q5,this._onDidSuggest=new u.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new K.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel((function(){d._updateTriggerCharacters(),d.cancel()}))),this._toDispose.add(this._editor.onDidChangeModelLanguage((function(){d._updateTriggerCharacters(),d.cancel()}))),this._toDispose.add(this._editor.onDidChangeConfiguration((function(){d._updateTriggerCharacters()}))),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange((function(){d._updateTriggerCharacters(),d._updateActiveSuggestSession()})));var h=!1;this._toDispose.add(this._editor.onDidCompositionStart((function(){h=!0}))),this._toDispose.add(this._editor.onDidCompositionEnd((function(){h=!1,d._onCompositionEnd()}))),this._toDispose.add(this._editor.onDidChangeCursorSelection((function(e){h||d._onCursorChange(e)}))),this._toDispose.add(this._editor.onDidChangeModelContent((function(){h||d._refilterCompletionItems()}))),this._updateTriggerCharacters()}return se(e,[{key:"dispose",value:function(){(0,l.B9)(this._triggerCharacterListener),(0,l.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}},{key:"_updateTriggerCharacters",value:function(){var e=this;if(this._triggerCharacterListener.clear(),!this._editor.getOption(83)&&this._editor.hasModel()&&this._editor.getOption(111)){var t,n=new Map,r=ne(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));try{for(r.s();!(t=r.n()).done;){var o,i=t.value,a=ne(i.triggerCharacters||[]);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=n.get(s);u||((u=new Set).add((0,T.ZJ)()),n.set(s,u)),u.add(i)}}catch(e){a.e(e)}finally{a.f()}}}catch(e){r.e(e)}finally{r.f()}var c=function(t){if(function(e,t,n){if(!Boolean(t.getContextKeyValue("inlineSuggestionVisible")))return!0;var r=n.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return void 0!==r&&Boolean(r)}(e._editor,e._contextKeyService,e._configurationService)&&!de.shouldAutoTrigger(e._editor)){if(!t){var r=e._editor.getPosition();t=e._editor.getModel().getLineContent(r.lineNumber).substr(0,r.column-1)}var o="";(0,z.YK)(t.charCodeAt(t.length-1))?(0,z.ZG)(t.charCodeAt(t.length-2))&&(o=t.substr(t.length-2)):o=t.charAt(t.length-1);var i=n.get(o);if(i){var a=e._completionModel?{items:e._completionModel.adopt(i),clipboardText:e._completionModel.clipboardText}:void 0;e.trigger({auto:!0,shy:!1,noSelect:!1,triggerCharacter:o},Boolean(e._completionModel),i,a)}}};this._triggerCharacterListener.add(this._editor.onDidType(c)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd((function(){return c()})))}}},{key:"state",get:function(){return this._state}},{key:"cancel",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];0!==this._state&&(this._triggerQuickSuggest.cancel(),null===(e=this._requestToken)||void 0===e||e.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:t}))}},{key:"clear",value:function(){this._completionDisposables.clear()}},{key:"_updateActiveSuggestSession",value:function(){0!==this._state&&(this._editor.hasModel()&&this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1,noSelect:!1},!0):this.cancel())}},{key:"_onCursorChange",value:function(e){if(this._editor.hasModel()){var t=this._currentSelection;this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||0!==e.reason&&3!==e.reason||"keyboard"!==e.source&&"deleteLeft"!==e.source?this.cancel():0===this._state&&0===e.reason?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():0!==this._state&&3===e.reason&&this._refilterCompletionItems()}}},{key:"_onCompositionEnd",value:function(){0===this._state?this._doTriggerQuickSuggest():this._refilterCompletionItems()}},{key:"_doTriggerQuickSuggest",value:function(){var e,t=this;T.tG.isAllOff(this._editor.getOption(81))||this._editor.getOption(108).snippetsPreventQuickSuggestions&&(null===(e=_.SnippetController2.get(this._editor))||void 0===e?void 0:e.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet((function(){if(0===t._state&&de.shouldAutoTrigger(t._editor)&&t._editor.hasModel()&&t._editor.hasWidgetFocus()){var e=t._editor.getModel(),n=t._editor.getPosition(),r=t._editor.getOption(81);if(!T.tG.isAllOff(r)){if(!T.tG.isAllOn(r)){e.tokenization.tokenizeIfCheap(n.lineNumber);var o=e.tokenization.getLineTokens(n.lineNumber),i=o.getStandardTokenType(o.findTokenIndexAtOffset(Math.max(n.column-1-1,0)));if("on"!==T.tG.valueFor(r,i))return}(function(e,t,n){if(!Boolean(t.getContextKeyValue("inlineSuggestionVisible")))return!0;var r=n.getValue("editor.inlineSuggest.allowQuickSuggestions");return void 0!==r&&Boolean(r)})(t._editor,t._contextKeyService,t._configurationService)&&t._languageFeaturesService.completionProvider.has(e)&&t.trigger({auto:!0,shy:!1,noSelect:!1})}}}),this._editor.getOption(82)))}},{key:"_refilterCompletionItems",value:function(){var e=this;Promise.resolve().then((function(){if(0!==e._state&&e._editor.hasModel()){var t=e._editor.getModel(),n=e._editor.getPosition(),r=new de(t,n,2===e._state,!1,!1);e._onNewContext(r)}}))}},{key:"trigger",value:function(t){var n,r=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;if(this._editor.hasModel()){var l=this._editor.getModel(),f=t.auto,d=new de(l,this._editor.getPosition(),f,t.shy,t.noSelect);this.cancel(o),this._state=f?2:1,this._onDidTrigger.fire({auto:f,shy:t.shy,position:this._editor.getPosition()}),this._context=d;var h={triggerKind:null!==(n=t.triggerKind)&&void 0!==n?n:0};t.triggerCharacter&&(h={triggerKind:1,triggerCharacter:t.triggerCharacter}),this._requestToken=new a.A;var p=this._editor.getOption(103),v=1;switch(p){case"top":v=0;break;case"bottom":v=2}var g=e._createSuggestFilter(this._editor),y=g.itemKind,m=g.showDeprecated,b=new T.A9(v,c?new Set:y,i,m),_=Y.K.create(this._editorWorkerService,this._editor),w=(0,T.kL)(this._languageFeaturesService.completionProvider,l,this._editor.getPosition(),b,h,this._requestToken.token);Promise.all([w,_]).then((function(e){var n=te(e,2),o=n[0],i=n[1];return fe(r,void 0,void 0,ee().mark((function e(){var n,r,a,s,c,l;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=this._requestToken)||void 0===n||n.dispose(),this._editor.hasModel()){e.next=3;break}return e.abrupt("return");case 3:if((r=null==u?void 0:u.clipboardText)||!o.needsClipboard){e.next=8;break}return e.next=7,this._clipboardService.readText();case 7:r=e.sent;case 8:if(0!==this._state){e.next=10;break}return e.abrupt("return");case 10:a=this._editor.getModel(),s=o.items,u&&(c=(0,T.wg)(v),s=s.concat(u.items).sort(c)),l=new de(a,this._editor.getPosition(),f,t.shy,t.noSelect),this._completionModel=new J._(s,this._context.column,{leadingLineContent:l.leadingLineContent,characterCountDelta:l.column-this._context.column},i,this._editor.getOption(108),this._editor.getOption(103),void 0,r),this._completionDisposables.add(o.disposable),this._onNewContext(l),this._reportDurationsTelemetry(o.durations);case 18:case"end":return e.stop()}}),e,this)})))})).catch(s.dL)}}},{key:"_reportDurationsTelemetry",value:function(e){var t=this;this._telemetryGate++%230==0&&setTimeout((function(){t._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),t._logService.debug("suggest.durations.json",e)}))}},{key:"_onNewContext",value:function(e){if(this._context)if(e.lineNumber===this._context.lineNumber)if((0,z.V8)(e.leadingLineContent)===(0,z.V8)(this._context.leadingLineContent)){if(e.column<this._context.column)e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0):this.cancel();else if(this._completionModel)if(0!==e.leadingWord.word.length&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){var t,n=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel())),r=ne(this._completionModel.allProvider);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.delete(o)}}catch(e){r.e(e)}finally{r.f()}var i=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0,n,{items:i,clipboardText:this._completionModel.clipboardText})}else if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==e.leadingWord.word.length){var a=this._completionModel.incomplete,s=this._completionModel.adopt(a);this.trigger({auto:2===this._state,shy:!1,noSelect:!1,triggerKind:2},!0,a,{items:s,clipboardText:this._completionModel.clipboardText})}else{var u=this._completionModel.lineContext,c=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},0===this._completionModel.items.length){if(de.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=u,(c=this._completionModel.items.length>0)&&0===e.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,noSelect:this._context.noSelect,isFrozen:c})}}else this.cancel();else this.cancel()}}],[{key:"_createSuggestFilter",value:function(e){var t=new Set;"none"===e.getOption(103)&&t.add(27);var n=e.getOption(108);return n.showMethods||t.add(0),n.showFunctions||t.add(1),n.showConstructors||t.add(2),n.showFields||t.add(3),n.showVariables||t.add(4),n.showClasses||t.add(5),n.showStructs||t.add(6),n.showInterfaces||t.add(7),n.showModules||t.add(8),n.showProperties||t.add(9),n.showEvents||t.add(10),n.showOperators||t.add(11),n.showUnits||t.add(12),n.showValues||t.add(13),n.showConstants||t.add(14),n.showEnums||t.add(15),n.showEnumMembers||t.add(16),n.showKeywords||t.add(17),n.showWords||t.add(18),n.showColors||t.add(19),n.showFiles||t.add(20),n.showReferences||t.add(21),n.showColors||t.add(22),n.showFolders||t.add(23),n.showTypeParameters||t.add(24),n.showSnippets||t.add(27),n.showUsers||t.add(25),n.showIssues||t.add(26),{itemKind:t,showDeprecated:n.showDeprecated}}}]),e}();function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==pe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===pe(i)?i:String(i)),r)}var o,i}he=ce([le(1,q.p),le(2,Q.p),le(3,$.b),le(4,R.VZ),le(5,k.i6),le(6,Z.Ui),le(7,X.p)],he);var ge=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._disposables=new l.SL,this._lastOvertyped=[],this._empty=!0,this._disposables.add(t.onWillType((function(){if(r._empty&&t.hasModel()){for(var n=t.getSelections(),o=n.length,i=!1,a=0;a<o;a++)if(!n[a].isEmpty()){i=!0;break}if(i){r._lastOvertyped=[];for(var s=t.getModel(),u=0;u<o;u++){var c=n[u];if(s.getValueLengthInRange(c)>e._maxSelectionLength)return;r._lastOvertyped[u]={value:s.getValueInRange(c),multiline:c.startLineNumber!==c.endLineNumber}}r._empty=!1}}}))),this._disposables.add(n.onDidCancel((function(e){r._empty||e.retrigger||(r._empty=!0)})))}var t,n,r;return t=e,(n=[{key:"getLastOvertypedInfo",value:function(e){if(!this._empty&&e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}},{key:"dispose",value:function(){this._disposables.dispose()}}])&&ve(t.prototype,n),r&&ve(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();ge._maxSelectionLength=51200;var ye=n(32007),me=(n(36932),n(12920)),be=n(31601),_e=n(51307),we=n(13907),Se=n(91127),ke=n(13171);function Ce(e){return function(e){if(Array.isArray(e))return Oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){if(e){if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Me(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Me(i)?i:String(i)),r)}var o,i}function Ne(e,t,n){return t&&Pe(e.prototype,t),n&&Pe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ie(){return Ie="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Re(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Ie.apply(this,arguments)}function Re(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=De(e)););return e}function Te(e,t){return Te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Te(e,t)}function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=De(e);if(t){var o=De(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ae(this,n)}}function Ae(e,t){if(t&&("object"===Me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}var Fe=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Me(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},We=function(e,t){return function(n,r){t(n,r,e)}},He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Te(e,t)}(n,e);var t=je(n);function n(){return Ee(this,n),t.apply(this,arguments)}return Ne(n,[{key:"updateLabel",value:function(){var e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return Ie(De(n.prototype),"updateLabel",this).call(this);this.label&&(this.label.textContent=(0,P.NC)("ddd","{0} ({1})",this._action.label,n.symbolPrintEnter(e)))}}],[{key:"symbolPrintEnter",value:function(e){var t;return null===(t=e.getLabel())||void 0===t?void 0:t.replace(/\benter\b/gi,"⏎")}}]),n}(Se.Mm),Be=function(){function e(t,n,r,o){Ee(this,e),this._menuService=r,this._contextKeyService=o,this._menuDisposables=new l.SL,this.element=ye.append(t,ye.$(".suggest-status-bar"));var i=function(e){return e instanceof ke.U8?n.createInstance(He,e,void 0):void 0};this._leftActions=new we.o(this.element,{actionViewItemProvider:i}),this._rightActions=new we.o(this.element,{actionViewItemProvider:i}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}return Ne(e,[{key:"dispose",value:function(){this._menuDisposables.dispose(),this.element.remove()}},{key:"show",value:function(){var e=this,t=this._menuService.createMenu(T.GI,this._contextKeyService),n=function(){var n,r=[],o=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Le(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(t.getActions());try{for(i.s();!(n=i.n()).done;){var a=xe(n.value,2),s=a[0],u=a[1];"left"===s?r.push.apply(r,Ce(u)):o.push.apply(o,Ce(u))}}catch(e){i.e(e)}finally{i.f()}e._leftActions.clear(),e._leftActions.push(r),e._rightActions.clear(),e._rightActions.push(o)};this._menuDisposables.add(t.onDidChange((function(){return n()}))),this._menuDisposables.add(t)}},{key:"hide",value:function(){this._menuDisposables.clear()}}]),e}();Be=Fe([We(1,I.TG),We(2,ke.co),We(3,k.i6)],Be);n(14739);var Ge=n(41146),Ve=n(41367),Ue=n(63863),ze=n(78554),Ke=n(38656),qe=n(73822),Ye=n(66604),Qe=n(74553),Ze=n(93649),$e=n(44809);function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==tt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===tt(i)?i:String(i)),r)}var o,i}function et(e,t,n){return t&&Xe(e.prototype,t),n&&Xe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tt(e){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tt(e)}var nt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":tt(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},rt=function(e,t){return function(n,r){t(n,r,e)}};function ot(e){return!!e&&Boolean(e.completion.documentation||e.completion.detail&&e.completion.detail!==e.completion.label)}var it=function(){function e(t,n){var r=this;Je(this,e),this._editor=t,this._onDidClose=new u.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new u.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new l.SL,this._renderDisposeable=new l.SL,this._borderWidth=1,this._size=new ye.Dimension(330,0),this.domNode=ye.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=n.createInstance($e.$,{editor:t}),this._body=ye.$(".body"),this._scrollbar=new Ye.s$(this._body,{alwaysConsumeMouseWheel:!0}),ye.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=ye.append(this._body,ye.$(".header")),this._close=ye.append(this._header,ye.$("span"+Qe.lA.close.cssSelector)),this._close.title=P.NC("details.close","Close"),this._type=ye.append(this._header,ye.$("p.type")),this._docs=ye.append(this._body,ye.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration((function(e){e.hasChanged(46)&&r._configureFont()})))}return et(e,[{key:"dispose",value:function(){this._disposables.dispose(),this._renderDisposeable.dispose()}},{key:"_configureFont",value:function(){var e=this._editor.getOptions(),t=e.get(46),n=t.getMassagedFontFamily(),r=e.get(109)||t.fontSize,o=e.get(110)||t.lineHeight,i=t.fontWeight,a="".concat(r,"px"),s="".concat(o,"px");this.domNode.style.fontSize=a,this.domNode.style.lineHeight="".concat(o/r),this.domNode.style.fontWeight=i,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=n,this._close.style.height=s,this._close.style.width=s}},{key:"getLayoutInfo",value:function(){var e=this._editor.getOption(110)||this._editor.getOption(46).lineHeight,t=this._borderWidth;return{lineHeight:e,borderWidth:t,borderHeight:2*t,verticalPadding:22,horizontalPadding:14}}},{key:"renderLoading",value:function(){this._type.textContent=P.NC("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}},{key:"renderItem",value:function(e,t){var n,r,o=this;this._renderDisposeable.clear();var i=e.completion,a=i.detail,s=i.documentation;if(t){var u="";u+="score: ".concat(e.score[0],"\n"),u+="prefix: ".concat(null!==(n=e.word)&&void 0!==n?n:"(no prefix)","\n"),u+="word: ".concat(e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel,"\n"),u+="distance: ".concat(e.distance," (localityBonus-setting)\n"),u+="index: ".concat(e.idx,", based on ").concat(e.completion.sortText&&'sortText: "'.concat(e.completion.sortText,'"')||"label","\n"),u+="commit_chars: ".concat(null===(r=e.completion.commitCharacters)||void 0===r?void 0:r.join(""),"\n"),s=(new Ze.W5).appendCodeblock("empty",u),a="Provider: ".concat(e.provider._debugDisplayName)}if(t||ot(e)){if(this.domNode.classList.remove("no-docs","no-type"),a){var c=a.length>1e5?"".concat(a.substr(0,1e5),"…"):a;this._type.textContent=c,this._type.title=c,ye.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(c))}else ye.clearNode(this._type),this._type.title="",ye.hide(this._type),this.domNode.classList.add("no-type");if(ye.clearNode(this._docs),"string"==typeof s)this._docs.classList.remove("markdown-docs"),this._docs.textContent=s;else if(s){this._docs.classList.add("markdown-docs"),ye.clearNode(this._docs);var l=this._markdownRenderer.render(s);this._docs.appendChild(l.element),this._renderDisposeable.add(l),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync((function(){o.layout(o._size.width,o._type.clientHeight+o._docs.clientHeight),o._onDidChangeContents.fire(o)})))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=function(e){e.preventDefault(),e.stopPropagation()},this._close.onclick=function(e){e.preventDefault(),e.stopPropagation(),o._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}},{key:"clearContents",value:function(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}},{key:"size",get:function(){return this._size}},{key:"layout",value:function(e,t){var n=new ye.Dimension(e,t);ye.Dimension.equals(n,this._size)||(this._size=n,ye.size(this.domNode,e,t)),this._scrollbar.scanDomNode()}},{key:"scrollDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;this._body.scrollTop+=e}},{key:"scrollUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;this._body.scrollTop-=e}},{key:"scrollTop",value:function(){this._body.scrollTop=0}},{key:"scrollBottom",value:function(){this._body.scrollTop=this._body.scrollHeight}},{key:"pageDown",value:function(){this.scrollDown(80)}},{key:"pageUp",value:function(){this.scrollUp(80)}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(e){this._borderWidth=e}}]),e}();it=nt([rt(1,I.TG)],it);var at=function(){function e(t,n){var r,o,i=this;Je(this,e),this.widget=t,this._editor=n,this._disposables=new l.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new qe.f,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(t.domNode),this._resizable.enableSashes(!1,!0,!0,!1);var a=0,s=0;this._disposables.add(this._resizable.onDidWillResize((function(){r=i._topLeft,o=i._resizable.size}))),this._disposables.add(this._resizable.onDidResize((function(e){if(r&&o){i.widget.layout(e.dimension.width,e.dimension.height);var t=!1;e.west&&(s=o.width-e.dimension.width,t=!0),e.north&&(a=o.height-e.dimension.height,t=!0),t&&i._applyTopLeft({top:r.top+a,left:r.left+s})}e.done&&(r=void 0,o=void 0,a=0,s=0,i._userSize=e.dimension)}))),this._disposables.add(this.widget.onDidChangeContents((function(){var e;i._anchorBox&&i._placeAtAnchor(i._anchorBox,null!==(e=i._userSize)&&void 0!==e?e:i.widget.size,i._preferAlignAtTop)})))}return et(e,[{key:"dispose",value:function(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}},{key:"getId",value:function(){return"suggest.details"}},{key:"getDomNode",value:function(){return this._resizable.domNode}},{key:"getPosition",value:function(){return null}},{key:"show",value:function(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}},{key:"placeAtAnchor",value:function(e,t){var n,r=e.getBoundingClientRect();this._anchorBox=r,this._preferAlignAtTop=t,this._placeAtAnchor(this._anchorBox,null!==(n=this._userSize)&&void 0!==n?n:this.widget.size,t)}},{key:"_placeAtAnchor",value:function(e,t,n){var r,o,i,a,s,u,c,l=ye.getClientArea(document.body),f=this.widget.getLayoutInfo(),d=new ye.Dimension(220,2*f.lineHeight),h=e.top,p=(o=l.width-(e.left+e.width+f.borderWidth+f.horizontalPadding),i=-f.borderWidth+e.left+e.width,a=new ye.Dimension(o,l.height-e.top-f.borderHeight-f.verticalPadding),s=a.with(void 0,e.top+e.height-f.borderHeight-f.verticalPadding),{top:h,left:i,fit:o-t.width,maxSizeTop:a,maxSizeBottom:s,minSize:d.with(Math.min(o,d.width))}),v=function(){var n=e.left-f.borderWidth-f.horizontalPadding,r=Math.max(f.horizontalPadding,e.left-t.width-f.borderWidth),o=new ye.Dimension(n,l.height-e.top-f.borderHeight-f.verticalPadding),i=o.with(void 0,e.top+e.height-f.borderHeight-f.verticalPadding);return{top:h,left:r,fit:n-t.width,maxSizeTop:o,maxSizeBottom:i,minSize:d.with(Math.min(n,d.width))}}(),g=function(){var n=e.left,r=-f.borderWidth+e.top+e.height,o=new ye.Dimension(e.width-f.borderHeight,l.height-e.top-e.height-f.verticalPadding);return{top:r,left:n,fit:o.height-t.height,maxSizeBottom:o,maxSizeTop:o,minSize:d.with(o.width)}}(),y=[p,v,g],m=null!==(r=y.find((function(e){return e.fit>=0})))&&void 0!==r?r:y.sort((function(e,t){return t.fit-e.fit}))[0],b=e.top+e.height-f.borderHeight,_=t.height,w=Math.max(m.maxSizeTop.height,m.maxSizeBottom.height);_>w&&(_=w),n?_<=m.maxSizeTop.height?(u=!0,c=m.maxSizeTop):(u=!1,c=m.maxSizeBottom):_<=m.maxSizeBottom.height?(u=!1,c=m.maxSizeBottom):(u=!0,c=m.maxSizeTop),this._applyTopLeft({left:m.left,top:u?m.top:b-_}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!u,m===p,u,m!==p),this._resizable.minSize=m.minSize,this._resizable.maxSize=c,this._resizable.layout(_,Math.min(c.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}},{key:"_applyTopLeft",value:function(e){this._topLeft=e,this.getDomNode().style.left="".concat(this._topLeft.left,"px"),this.getDomNode().style.top="".concat(this._topLeft.top,"px")}}]),e}(),st=n(97155),ut=n(63872),ct=n(83916),lt=n(87116),ft=n(80105),dt=n(76758),ht=n(71919),pt=n(63833);function vt(e){return function(e){if(Array.isArray(e))return gt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==_t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===_t(i)?i:String(i)),r)}var o,i}function bt(e,t,n){return t&&mt(e.prototype,t),n&&mt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _t(e){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(e)}var wt,St=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":_t(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},kt=function(e,t){return function(n,r){t(n,r,e)}};function Ct(e){return"suggest-aria-id:".concat(e)}var xt=(0,n(44674).q5)("suggest-more-info",Qe.lA.chevronRight,P.NC("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),Lt=new((wt=function(){function e(){yt(this,e)}return bt(e,[{key:"extract",value:function(t,n){if(t.textLabel.match(e._regexStrict))return n[0]=t.textLabel,!0;if(t.completion.detail&&t.completion.detail.match(e._regexStrict))return n[0]=t.completion.detail,!0;if("string"==typeof t.completion.documentation){var r=e._regexRelaxed.exec(t.completion.documentation);if(r&&(0===r.index||r.index+r[0].length===t.completion.documentation.length))return n[0]=r[0],!0}return!1}}]),e}())._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,wt._regexStrict=new RegExp("^".concat(wt._regexRelaxed.source,"$"),"i"),wt),Ot=function(){function e(t,n,r,o){yt(this,e),this._editor=t,this._modelService=n,this._languageService=r,this._themeService=o,this._onDidToggleDetails=new u.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}return bt(e,[{key:"dispose",value:function(){this._onDidToggleDetails.dispose()}},{key:"renderTemplate",value:function(e){var t=this,n=Object.create(null);n.disposables=new l.SL,n.root=e,n.root.classList.add("show-file-icons"),n.icon=(0,ye.append)(e,(0,ye.$)(".icon")),n.colorspan=(0,ye.append)(n.icon,(0,ye.$)("span.colorspan"));var r=(0,ye.append)(e,(0,ye.$)(".contents")),o=(0,ye.append)(r,(0,ye.$)(".main"));n.iconContainer=(0,ye.append)(o,(0,ye.$)(".icon-label.codicon")),n.left=(0,ye.append)(o,(0,ye.$)("span.left")),n.right=(0,ye.append)(o,(0,ye.$)("span.right")),n.iconLabel=new st.g(n.left,{supportHighlights:!0,supportIcons:!0}),n.disposables.add(n.iconLabel),n.parametersLabel=(0,ye.append)(n.left,(0,ye.$)("span.signature-label")),n.qualifierLabel=(0,ye.append)(n.left,(0,ye.$)("span.qualifier-label")),n.detailsLabel=(0,ye.append)(n.right,(0,ye.$)("span.details-label")),n.readMore=(0,ye.append)(n.right,(0,ye.$)("span.readMore"+Ke.kS.asCSSSelector(xt))),n.readMore.title=P.NC("readMore","Read More");var i=function(){var e=t._editor.getOptions(),r=e.get(46),i=r.getMassagedFontFamily(),a=r.fontFeatureSettings,s=e.get(109)||r.fontSize,u=e.get(110)||r.lineHeight,c=r.fontWeight,l=r.letterSpacing,f="".concat(s,"px"),d="".concat(u,"px"),h="".concat(l,"px");n.root.style.fontSize=f,n.root.style.fontWeight=c,n.root.style.letterSpacing=h,o.style.fontFamily=i,o.style.fontFeatureSettings=a,o.style.lineHeight=d,n.icon.style.height=d,n.icon.style.width=d,n.readMore.style.height=d,n.readMore.style.width=d};return i(),n.disposables.add(this._editor.onDidChangeConfiguration((function(e){(e.hasChanged(46)||e.hasChanged(109)||e.hasChanged(110))&&i()}))),n}},{key:"renderElement",value:function(e,t,n){var r=this,o=e.completion;n.root.id=Ct(t),n.colorspan.style.backgroundColor="";var i={labelEscapeNewLines:!0,matches:(0,ut.mB)(e.score)},a=[];if(19===o.kind&&Lt.extract(e,a))n.icon.className="icon customcolor",n.iconContainer.className="icon hide",n.colorspan.style.backgroundColor=a[0];else if(20===o.kind&&this._themeService.getFileIconTheme().hasFileIcons){n.icon.className="icon hide",n.iconContainer.className="icon hide";var s=(0,ft.r)(this._modelService,this._languageService,ct.o.from({scheme:"fake",path:e.textLabel}),pt.R.FILE),u=(0,ft.r)(this._modelService,this._languageService,ct.o.from({scheme:"fake",path:o.detail}),pt.R.FILE);i.extraClasses=s.length>u.length?s:u}else if(23===o.kind&&this._themeService.getFileIconTheme().hasFolderIcons)n.icon.className="icon hide",n.iconContainer.className="icon hide",i.extraClasses=[(0,ft.r)(this._modelService,this._languageService,ct.o.from({scheme:"fake",path:e.textLabel}),pt.R.FOLDER),(0,ft.r)(this._modelService,this._languageService,ct.o.from({scheme:"fake",path:o.detail}),pt.R.FOLDER)].flat();else{var c;n.icon.className="icon hide",n.iconContainer.className="",(c=n.iconContainer.classList).add.apply(c,["suggest-icon"].concat(vt(Qe.dT.asClassNameArray(lt.gX.toIcon(o.kind)))))}o.tags&&o.tags.indexOf(1)>=0&&(i.extraClasses=(i.extraClasses||[]).concat(["deprecated"]),i.matches=[]),n.iconLabel.setLabel(e.textLabel,void 0,i),"string"==typeof o.label?(n.parametersLabel.textContent="",n.detailsLabel.textContent=Et(o.detail||""),n.root.classList.add("string-label")):(n.parametersLabel.textContent=Et(o.label.detail||""),n.detailsLabel.textContent=Et(o.label.description||""),n.root.classList.remove("string-label")),this._editor.getOption(108).showInlineDetails?(0,ye.show)(n.detailsLabel):(0,ye.hide)(n.detailsLabel),ot(e)?(n.right.classList.add("can-expand-details"),(0,ye.show)(n.readMore),n.readMore.onmousedown=function(e){e.stopPropagation(),e.preventDefault()},n.readMore.onclick=function(e){e.stopPropagation(),e.preventDefault(),r._onDidToggleDetails.fire()}):(n.right.classList.remove("can-expand-details"),(0,ye.hide)(n.readMore),n.readMore.onmousedown=null,n.readMore.onclick=null)}},{key:"disposeTemplate",value:function(e){e.disposables.dispose()}}]),e}();function Et(e){return e.replace(/\r\n|\r|\n/g,"")}function Pt(){Pt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==Tt(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Tt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Tt(i)?i:String(i)),r)}var o,i}function Rt(e,t,n){return t&&It(e.prototype,t),n&&It(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}Ot=St([kt(1,dt.q),kt(2,ht.O),kt(3,Ke.XE)],Ot);var jt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Tt(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},At=function(e,t){return function(n,r){t(n,r,e)}},Dt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Mt=((0,Ve.P6G)("editorSuggestWidget.background",{dark:Ve.D0T,light:Ve.D0T,hcDark:Ve.D0T,hcLight:Ve.D0T},P.NC("editorSuggestWidgetBackground","Background color of the suggest widget.")),(0,Ve.P6G)("editorSuggestWidget.border",{dark:Ve.D1_,light:Ve.D1_,hcDark:Ve.D1_,hcLight:Ve.D1_},P.NC("editorSuggestWidgetBorder","Border color of the suggest widget.")),(0,Ve.P6G)("editorSuggestWidget.foreground",{dark:Ve.NOs,light:Ve.NOs,hcDark:Ve.NOs,hcLight:Ve.NOs},P.NC("editorSuggestWidgetForeground","Foreground color of the suggest widget."))),Ft=((0,Ve.P6G)("editorSuggestWidget.selectedForeground",{dark:Ve.NPS,light:Ve.NPS,hcDark:Ve.NPS,hcLight:Ve.NPS},P.NC("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),(0,Ve.P6G)("editorSuggestWidget.selectedIconForeground",{dark:Ve.cbQ,light:Ve.cbQ,hcDark:Ve.cbQ,hcLight:Ve.cbQ},P.NC("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),(0,Ve.P6G)("editorSuggestWidget.selectedBackground",{dark:Ve.Vqd,light:Ve.Vqd,hcDark:Ve.Vqd,hcLight:Ve.Vqd},P.NC("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."))),Wt=((0,Ve.P6G)("editorSuggestWidget.highlightForeground",{dark:Ve.Gwp,light:Ve.Gwp,hcDark:Ve.Gwp,hcLight:Ve.Gwp},P.NC("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),(0,Ve.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:Ve.PX0,light:Ve.PX0,hcDark:Ve.PX0,hcLight:Ve.PX0},P.NC("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),(0,Ve.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,Ve.ZnX)(Mt,.5),light:(0,Ve.ZnX)(Mt,.5),hcDark:(0,Ve.ZnX)(Mt,.5),hcLight:(0,Ve.ZnX)(Mt,.5)},P.NC("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status.")),function(){function e(t,n){Nt(this,e),this._service=t,this._key="suggestWidget.size/".concat(n.getEditorType(),"/").concat(n instanceof _e.H)}return Rt(e,[{key:"restore",value:function(){var e,t=null!==(e=this._service.get(this._key,0))&&void 0!==e?e:"";try{var n=JSON.parse(t);if(ye.Dimension.is(n))return ye.Dimension.lift(n)}catch(e){}}},{key:"store",value:function(e){this._service.store(this._key,JSON.stringify(e),0,1)}},{key:"reset",value:function(){this._service.remove(this._key,0)}}]),e}()),Ht=function(){function e(t,n,r,o,a){var s=this;Nt(this,e),this.editor=t,this._storageService=n,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new i._F,this._disposables=new l.SL,this._onDidSelect=new u.Q5,this._onDidFocus=new u.Q5,this._onDidHide=new u.Q5,this._onDidShow=new u.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new u.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new qe.f,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Bt(this,t),this._persistedSize=new Wt(n,t);var c,f=Rt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Nt(this,e),this.persistedSize=t,this.currentSize=n,this.persistHeight=r,this.persistWidth=o}));this._disposables.add(this.element.onDidWillResize((function(){s._contentWidget.lockPreference(),c=new f(s._persistedSize.restore(),s.element.size)}))),this._disposables.add(this.element.onDidResize((function(e){var t,n,r,o;if(s._resize(e.dimension.width,e.dimension.height),c&&(c.persistHeight=c.persistHeight||!!e.north||!!e.south,c.persistWidth=c.persistWidth||!!e.east||!!e.west),e.done){if(c){var i=s.getLayoutInfo(),a=i.itemHeight,u=i.defaultSize,l=Math.round(a/2),f=s.element.size,d=f.width,h=f.height;(!c.persistHeight||Math.abs(c.currentSize.height-h)<=l)&&(h=null!==(n=null===(t=c.persistedSize)||void 0===t?void 0:t.height)&&void 0!==n?n:u.height),(!c.persistWidth||Math.abs(c.currentSize.width-d)<=l)&&(d=null!==(o=null===(r=c.persistedSize)||void 0===r?void 0:r.width)&&void 0!==o?o:u.width),s._persistedSize.store(new ye.Dimension(d,h))}s._contentWidget.unlockPreference(),c=void 0}}))),this._messageElement=ye.append(this.element.domNode,ye.$(".message")),this._listElement=ye.append(this.element.domNode,ye.$(".tree"));var d=a.createInstance(it,this.editor);d.onDidClose(this.toggleDetails,this,this._disposables),this._details=new at(d,this.editor);var h=function(){return s.element.domNode.classList.toggle("no-icons",!s.editor.getOption(108).showIcons)};h();var p=a.createInstance(Ot,this.editor);this._disposables.add(p),this._disposables.add(p.onDidToggleDetails((function(){return s.toggleDetails()}))),this._list=new me.aV("SuggestWidget",this._listElement,{getHeight:function(e){return s.getLayoutInfo().itemHeight},getTemplateId:function(e){return"suggestion"}},[p],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:function(){return"option"},getWidgetAriaLabel:function(){return P.NC("suggest","Suggest")},getWidgetRole:function(){return"listbox"},getAriaLabel:function(e){var t=e.textLabel;if("string"!=typeof e.completion.label){var n=e.completion.label,r=n.detail,o=n.description;r&&o?t=P.NC("label.full","{0}{1}, {2}",t,r,o):r?t=P.NC("label.detail","{0}{1}",t,r):o&&(t=P.NC("label.desc","{0}, {1}",t,o))}if(!e.isResolved||!s._isDetailsVisible())return t;var i=e.completion,a=i.documentation,u=i.detail,c=z.WU("{0}{1}",u||"",a?"string"==typeof a?a:a.value:"");return P.NC("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",t,c)}}}),this._status=a.createInstance(Be,this.element.domNode);var v=function(){return s.element.domNode.classList.toggle("with-status-bar",s.editor.getOption(108).showStatusBar)};v(),this._disposables.add((0,Ue.Jl)(this._list,o,{listInactiveFocusBackground:Ft,listInactiveFocusOutline:Ve.xL1})),this._disposables.add(o.onDidColorThemeChange((function(e){return s._onThemeChange(e)}))),this._onThemeChange(o.getColorTheme()),this._disposables.add(this._list.onMouseDown((function(e){return s._onListMouseDownOrTap(e)}))),this._disposables.add(this._list.onTap((function(e){return s._onListMouseDownOrTap(e)}))),this._disposables.add(this._list.onDidChangeSelection((function(e){return s._onListSelection(e)}))),this._disposables.add(this._list.onDidChangeFocus((function(e){return s._onListFocus(e)}))),this._disposables.add(this.editor.onDidChangeCursorSelection((function(){return s._onCursorSelectionChanged()}))),this._disposables.add(this.editor.onDidChangeConfiguration((function(e){e.hasChanged(108)&&(v(),h())}))),this._ctxSuggestWidgetVisible=T._y.Visible.bindTo(r),this._ctxSuggestWidgetDetailsVisible=T._y.DetailsVisible.bindTo(r),this._ctxSuggestWidgetMultipleSuggestions=T._y.MultipleSuggestions.bindTo(r),this._ctxSuggestWidgetHasFocusedSuggestion=T._y.HasFocusedSuggestion.bindTo(r),this._disposables.add(ye.addStandardDisposableListener(this._details.widget.domNode,"keydown",(function(e){s._onDetailsKeydown.fire(e)}))),this._disposables.add(this.editor.onMouseDown((function(e){return s._onEditorMouseDown(e)})))}return Rt(e,[{key:"dispose",value:function(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}},{key:"_onEditorMouseDown",value:function(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}},{key:"_onCursorSelectionChanged",value:function(){0!==this._state&&this._contentWidget.layout()}},{key:"_onListMouseDownOrTap",value:function(e){void 0!==e.element&&void 0!==e.index&&(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}},{key:"_onListSelection",value:function(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}},{key:"_select",value:function(e,t){var n=this._completionModel;n&&(this._onDidSelect.fire({item:e,index:t,model:n}),this.editor.focus())}},{key:"_onThemeChange",value:function(e){this._details.widget.borderWidth=(0,ze.c3)(e.type)?2:1}},{key:"_onListFocus",value:function(e){var t,n=this;if(!this._ignoreFocusEvents){if(!e.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),void this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);if(this._completionModel){this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);var r=e.elements[0],o=e.indexes[0];r!==this._focusedItem&&(null===(t=this._currentSuggestionDetails)||void 0===t||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=r,this._list.reveal(o),this._currentSuggestionDetails=(0,i.PG)((function(e){return Dt(n,void 0,void 0,Pt().mark((function t(){var n,o,a,s=this;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,i.Vg)((function(){s._isDetailsVisible()&&s.showDetails(!0)}),250),o=e.onCancellationRequested((function(){return n.dispose()})),t.next=4,r.resolve(e);case 4:return a=t.sent,n.dispose(),o.dispose(),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})))})),this._currentSuggestionDetails.then((function(){o>=n._list.length||r!==n._list.element(o)||(n._ignoreFocusEvents=!0,n._list.splice(o,1,[r]),n._list.setFocus([o]),n._ignoreFocusEvents=!1,n._isDetailsVisible()?n.showDetails(!1):n.element.domNode.classList.remove("docs-side"),n.editor.setAriaOptions({activeDescendant:Ct(o)}))})).catch(s.dL)),this._onDidFocus.fire({item:r,index:o,model:this._completionModel})}}}},{key:"_setState",value:function(t){if(this._state!==t)switch(this._state=t,this.element.domNode.classList.toggle("frozen",4===t),this.element.domNode.classList.remove("message"),t){case 0:ye.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=e.LOADING_MESSAGE,ye.hide(this._listElement,this._status.element),ye.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=e.NO_SUGGESTIONS_MESSAGE,ye.hide(this._listElement,this._status.element),ye.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:case 4:ye.hide(this._messageElement),ye.show(this._listElement,this._status.element),this._show();break;case 5:ye.hide(this._messageElement),ye.show(this._listElement,this._status.element),this._details.show(),this._show()}}},{key:"_show",value:function(){var e=this;this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet((function(){e.element.domNode.classList.add("visible"),e._onDidShow.fire(e)}),100)}},{key:"showTriggered",value:function(e,t){var n=this;0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=(0,i.Vg)((function(){return n._setState(1)}),t)))}},{key:"showSuggestions",value:function(e,t,n,r){var o,i;if(this._contentWidget.setPosition(this.editor.getPosition()),null===(o=this._loadingTimeout)||void 0===o||o.dispose(),null===(i=this._currentSuggestionDetails)||void 0===i||i.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),n&&2!==this._state&&0!==this._state)this._setState(4);else{var a=this._completionModel.items.length,s=0===a;if(this._ctxSuggestWidgetMultipleSuggestions.set(a>1),s)return this._setState(r?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(n?4:3),t>=0&&(this._list.reveal(t,0),this._list.setFocus([t])),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}}},{key:"selectNextPage",value:function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}},{key:"selectNext",value:function(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}},{key:"selectLast",value:function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}},{key:"selectPreviousPage",value:function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}},{key:"selectPrevious",value:function(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}},{key:"selectFirst",value:function(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}},{key:"getFocusedItem",value:function(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}},{key:"toggleDetailsFocus",value:function(){5===this._state?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}},{key:"toggleDetails",value:function(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):!ot(this._list.getFocusedElements()[0])&&!this._explainMode||3!==this._state&&5!==this._state&&4!==this._state||(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}},{key:"showDetails",value:function(e){this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}},{key:"toggleExplainMode",value:function(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}},{key:"resetPersistedSize",value:function(){this._persistedSize.reset()}},{key:"hideWidget",value:function(){var e;null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();var t=this._persistedSize.restore(),n=Math.ceil(4.3*this.getLayoutInfo().itemHeight);t&&t.height<n&&this._persistedSize.store(t.with(void 0,n))}},{key:"isFrozen",value:function(){return 4===this._state}},{key:"_afterRender",value:function(e){null!==e?2!==this._state&&1!==this._state&&(this._isDetailsVisible()&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}},{key:"_layout",value:function(e){var t,n,r;if(this.editor.hasModel()&&this.editor.getDomNode()){var o=ye.getClientArea(document.body),i=this.getLayoutInfo();e||(e=i.defaultSize);var a=e.height,s=e.width;if(this._status.element.style.lineHeight="".concat(i.itemHeight,"px"),2===this._state||1===this._state)a=i.itemHeight+i.borderHeight,s=i.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new ye.Dimension(s,a),this._contentWidget.setPreference(2);else{var u=o.width-i.borderHeight-2*i.horizontalPadding;s>u&&(s=u);var c=this._completionModel?this._completionModel.stats.pLabelLen*i.typicalHalfwidthCharacterWidth:s,l=i.statusBarHeight+this._list.contentHeight+i.borderHeight,f=i.itemHeight+i.statusBarHeight,d=ye.getDomNodePagePosition(this.editor.getDomNode()),h=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),p=d.top+h.top+h.height,v=Math.min(o.height-p-i.verticalPadding,l),g=d.top+h.top-i.verticalPadding,y=Math.min(g,l),m=Math.min(Math.max(y,v)+i.borderHeight,l);a===(null===(t=this._cappedHeight)||void 0===t?void 0:t.capped)&&(a=this._cappedHeight.wanted),a<f&&(a=f),a>m&&(a=m);a>v||this._forceRenderingAbove&&g>150?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),m=y):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),m=v),this.element.preferredSize=new ye.Dimension(c,i.defaultSize.height),this.element.maxSize=new ye.Dimension(u,m),this.element.minSize=new ye.Dimension(220,f),this._cappedHeight=a===l?{wanted:null!==(r=null===(n=this._cappedHeight)||void 0===n?void 0:n.wanted)&&void 0!==r?r:e.height,capped:a}:void 0}this._resize(s,a)}}},{key:"_resize",value:function(e,t){var n=this.element.maxSize,r=n.width,o=n.height;e=Math.min(r,e),t=Math.min(o,t);var i=this.getLayoutInfo().statusBarHeight;this._list.layout(t-i,e),this._listElement.style.height="".concat(t-i,"px"),this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}},{key:"_positionDetails",value:function(){var e;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,2===(null===(e=this._contentWidget.getPosition())||void 0===e?void 0:e.preference[0]))}},{key:"getLayoutInfo",value:function(){var e=this.editor.getOption(46),t=(0,be.uZ)(this.editor.getOption(110)||e.lineHeight,8,1e3),n=this.editor.getOption(108).showStatusBar&&2!==this._state&&1!==this._state?t:0,r=this._details.widget.borderWidth,o=2*r;return{itemHeight:t,statusBarHeight:n,borderWidth:r,borderHeight:o,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new ye.Dimension(430,n+12*t+o)}}},{key:"_isDetailsVisible",value:function(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}},{key:"_setDetailsVisible",value:function(e){this._storageService.store("expandSuggestionDocs",e,0,0)}},{key:"forceRenderingAbove",value:function(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}},{key:"stopForceRenderingAbove",value:function(){this._forceRenderingAbove=!1}}]),e}();Ht.LOADING_MESSAGE=P.NC("suggestWidget.loading","Loading..."),Ht.NO_SUGGESTIONS_MESSAGE=P.NC("suggestWidget.noSuggestions","No suggestions."),Ht=jt([At(1,Ge.Uy),At(2,k.i6),At(3,Ke.XE),At(4,I.TG)],Ht);var Bt=function(){function e(t,n){Nt(this,e),this._widget=t,this._editor=n,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}return Rt(e,[{key:"dispose",value:function(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}},{key:"getId",value:function(){return"editor.widget.suggestWidget"}},{key:"getDomNode",value:function(){return this._widget.element.domNode}},{key:"show",value:function(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}},{key:"hide",value:function(){this._hidden||(this._hidden=!0,this.layout())}},{key:"layout",value:function(){this._editor.layoutContentWidget(this)}},{key:"getPosition",value:function(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}},{key:"beforeRender",value:function(){var e=this._widget.element.size,t=e.height,n=e.width,r=this._widget.getLayoutInfo(),o=r.borderWidth,i=r.horizontalPadding;return new ye.Dimension(n+2*o+i,t+2*o)}},{key:"afterRender",value:function(e){this._widget._afterRender(e)}},{key:"setPreference",value:function(e){this._preferenceLocked||(this._preference=e)}},{key:"lockPreference",value:function(){this._preferenceLocked=!0}},{key:"unlockPreference",value:function(){this._preferenceLocked=!1}},{key:"setPosition",value:function(e){this._position=e}}]),e}(),Gt=n(81993),Vt=n(42800);function Ut(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zt(e,t)}function zt(e,t){return zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zt(e,t)}function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yt(e);if(t){var o=Yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qt(this,n)}}function qt(e,t){if(t&&("object"===nn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Yt(e){return Yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yt(e)}function Qt(e){return function(e){if(Array.isArray(e))return Jt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=$t(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function $t(e,t){if(e){if("string"==typeof e)return Jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jt(e,t):void 0}}function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function en(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==nn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===nn(i)?i:String(i)),r)}var o,i}function tn(e,t,n){return t&&en(e.prototype,t),n&&en(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nn(e){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nn(e)}var rn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":nn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},on=function(e,t){return function(n,r){t(n,r,e)}},an=function(){function e(t,n){if(Xt(this,e),this._model=t,this._position=n,t.getLineMaxColumn(n.lineNumber)!==n.column){var r=t.getOffsetAt(n),o=t.getPositionAt(r+1);this._marker=t.deltaDecorations([],[{range:m.e.fromPositions(n,o),options:{description:"suggest-line-suffix",stickiness:1}}])}}return tn(e,[{key:"dispose",value:function(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}},{key:"delta",value:function(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){var t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}return this._model.getLineMaxColumn(e.lineNumber)-e.column}}]),e}(),sn=function(){function e(t,n,r,o,a,s,u){var d=this;Xt(this,e),this._memoryService=n,this._commandService=r,this._contextKeyService=o,this._instantiationService=a,this._logService=s,this._telemetryService=u,this._lineSuffix=new l.XK,this._toDispose=new l.SL,this._selectors=new un((function(e){return e.priority})),this._telemetryGate=0,this.editor=t,this.model=a.createInstance(he,this.editor);var h=T._y.InsertMode.bindTo(o);h.set(t.getOption(108).insertMode),this.model.onDidTrigger((function(){return h.set(t.getOption(108).insertMode)})),this.widget=this._toDispose.add(new i.Ue((function(){var e=d._instantiationService.createInstance(Ht,d.editor);d._toDispose.add(e),d._toDispose.add(e.onDidSelect((function(e){return d._insertSuggestion(e,0)}),d));var t=new U(d.editor,e,(function(e){return d._insertSuggestion(e,2)}));d._toDispose.add(t),d._toDispose.add(d.model.onDidSuggest((function(e){0===e.completionModel.items.length&&t.reset()})));var n=T._y.MakesTextEdit.bindTo(d._contextKeyService),r=T._y.HasInsertAndReplaceRange.bindTo(d._contextKeyService),o=T._y.CanResolve.bindTo(d._contextKeyService);return d._toDispose.add((0,l.OF)((function(){n.reset(),r.reset(),o.reset()}))),d._toDispose.add(e.onDidFocus((function(e){var t=e.item,i=d.editor.getPosition(),a=t.editStart.column,s=i.column,u=!0;"smart"!==d.editor.getOption(1)||2!==d.model.state||t.completion.additionalTextEdits||4&t.completion.insertTextRules||s-a!==t.completion.insertText.length||(u=d.editor.getModel().getValueInRange({startLineNumber:i.lineNumber,startColumn:a,endLineNumber:i.lineNumber,endColumn:s})!==t.completion.insertText);n.set(u),r.set(!y.L.equals(t.editInsertEnd,t.editReplaceEnd)),o.set(Boolean(t.provider.resolveCompletionItem)||Boolean(t.completion.documentation)||t.completion.detail!==t.completion.label)}))),d._toDispose.add(e.onDetailsKeyDown((function(e){e.toKeybinding().equals(new c.QC(!0,!1,!1,!1,33))||f.dz&&e.toKeybinding().equals(new c.QC(!1,!1,!1,!0,33))?e.stopPropagation():e.toKeybinding().isModifierKey()||d.editor.focus()}))),e}))),this._overtypingCapturer=this._toDispose.add(new i.Ue((function(){return d._toDispose.add(new ge(d.editor,d.model))}))),this._alternatives=this._toDispose.add(new i.Ue((function(){return d._toDispose.add(new F(d.editor,d._contextKeyService))}))),this._toDispose.add(a.createInstance(E,t)),this._toDispose.add(this.model.onDidTrigger((function(e){d.widget.value.showTriggered(e.auto,e.shy?250:50),d._lineSuffix.value=new an(d.editor.getModel(),e.position)}))),this._toDispose.add(this.model.onDidSuggest((function(e){if(!e.shy){var t=-1;if(!e.noSelect){var n,r=Zt(d._selectors.itemsOrderedByPriorityDesc);try{for(r.s();!(n=r.n()).done;){if(-1!==(t=n.value.select(d.editor.getModel(),d.editor.getPosition(),e.completionModel.items)))break}}catch(e){r.e(e)}finally{r.f()}-1===t&&(t=d._memoryService.select(d.editor.getModel(),d.editor.getPosition(),e.completionModel.items))}d.widget.value.showSuggestions(e.completionModel,t,e.isFrozen,e.auto)}}))),this._toDispose.add(this.model.onDidCancel((function(e){e.retrigger||d.widget.value.hideWidget()}))),this._toDispose.add(this.editor.onDidBlurEditorWidget((function(){d.model.cancel(),d.model.clear()})));var p=T._y.AcceptSuggestionsOnEnter.bindTo(o),v=function(){var e=d.editor.getOption(1);p.set("on"===e||"smart"===e)};this._toDispose.add(this.editor.onDidChangeConfiguration((function(){return v()}))),v()}return tn(e,[{key:"dispose",value:function(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}},{key:"_insertSuggestion",value:function(e,t){var n=this;if(!e||!e.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(this.editor.hasModel()){var r=_.SnippetController2.get(this.editor);if(r){var o=this.editor.getModel(),i=o.getAlternativeVersionId(),u=e.item,c=[],l=new a.A;1&t||this.editor.pushUndoStop();var f=this.getOverwriteInfo(u,Boolean(8&t));if(this._memoryService.memorize(o,this.editor.getPosition(),u),Array.isArray(u.completion.additionalTextEdits)){var h=p.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",u.completion.additionalTextEdits.map((function(e){return g.h.replaceMove(m.e.lift(e.range),e.text)}))),h.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!u.isResolved){var v,b=new d.G(!0),S=o.onDidChangeContent((function(e){if(e.isFlush)return l.cancel(),void S.dispose();var t,n=Zt(e.changes);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=m.e.getEndPosition(r.range);v&&!y.L.isBefore(o,v)||(v=o)}}catch(e){n.e(e)}finally{n.f()}})),k=t;t|=2;var C=!1,x=this.editor.onWillType((function(){x.dispose(),C=!0,2&k||n.editor.pushUndoStop()}));c.push(u.resolve(l.token).then((function(){if(!u.completion.additionalTextEdits||l.token.isCancellationRequested)return!1;if(v&&u.completion.additionalTextEdits.some((function(e){return y.L.isBefore(v,m.e.getStartPosition(e.range))})))return!1;C&&n.editor.pushUndoStop();var e=p.Z.capture(n.editor);return n.editor.executeEdits("suggestController.additionalTextEdits.async",u.completion.additionalTextEdits.map((function(e){return g.h.replaceMove(m.e.lift(e.range),e.text)}))),e.restoreRelativeVerticalPositionOfCursor(n.editor),!C&&2&k||n.editor.pushUndoStop(),!0})).then((function(e){n._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",b.elapsed(),e),S.dispose(),x.dispose()})))}var L=u.completion.insertText;if(4&u.completion.insertTextRules||(L=w.Yj.escape(L)),r.insert(L,{overwriteBefore:f.overwriteBefore,overwriteAfter:f.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&u.completion.insertTextRules),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&t||this.editor.pushUndoStop(),u.completion.command)if(u.completion.command.id===cn.id)this.model.trigger({auto:!0,shy:!1,noSelect:!1},!0);else{var O;c.push((O=this._commandService).executeCommand.apply(O,[u.completion.command.id].concat(Qt(u.completion.command.arguments?Qt(u.completion.command.arguments):[]))).catch(s.dL)),this.model.cancel()}else this.model.cancel();4&t&&this._alternatives.value.set(e,(function(e){for(l.cancel();o.canUndo();){i!==o.getAlternativeVersionId()&&o.undo(),n._insertSuggestion(e,3|(8&t?8:0));break}})),this._alertCompletionItem(u),Promise.all(c).finally((function(){n._reportSuggestionAcceptedTelemetry(u,o,e),n.model.clear(),l.dispose()}))}}}},{key:"_reportSuggestionAcceptedTelemetry",value:function(e,t,n){var r;if(this._telemetryGate++%100==0){var o=e.extensionId?e.extensionId.value:(null!==(r=n.item.provider._debugDisplayName)&&void 0!==r?r:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:o,kind:e.completion.kind,basenameHash:(0,Vt.vp)((0,Gt.EZ)(t.uri)).toString(16),languageId:t.getLanguageId(),fileExtension:(0,Gt.DZ)(t.uri)})}}},{key:"getOverwriteInfo",value:function(e,t){(0,h.p_)(this.editor.hasModel());var n="replace"===this.editor.getOption(108).insertMode;t&&(n=!n);var r=e.position.column-e.editStart.column,o=(n?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column;return{overwriteBefore:r+(this.editor.getPosition().column-e.position.column),overwriteAfter:o+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}},{key:"_alertCompletionItem",value:function(e){if((0,o.Of)(e.completion.additionalTextEdits)){var t=P.NC("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);(0,r.Z9)(t)}}},{key:"triggerSuggest",value:function(e,t,n,r){this.editor.hasModel()&&(this.model.trigger({auto:null!=t&&t,shy:!1,noSelect:null!=r&&r},!1,e,void 0,n),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}},{key:"triggerSuggestAndAcceptBest",value:function(e){var t=this;if(this.editor.hasModel()){var n=this.editor.getPosition(),r=function(){n.equals(t.editor.getPosition())&&t._commandService.executeCommand(e.fallback)};u.ju.once(this.model.onDidTrigger)((function(e){var n=[];u.ju.any(t.model.onDidTrigger,t.model.onDidCancel)((function(){(0,l.B9)(n),r()}),void 0,n),t.model.onDidSuggest((function(e){var o=e.completionModel;if((0,l.B9)(n),0!==o.items.length){var i=t._memoryService.select(t.editor.getModel(),t.editor.getPosition(),o.items),a=o.items[i];!function(e){if(4&e.completion.insertTextRules||e.completion.additionalTextEdits)return!0;var n=t.editor.getPosition(),r=e.editStart.column,o=n.column;return o-r!==e.completion.insertText.length||t.editor.getModel().getValueInRange({startLineNumber:n.lineNumber,startColumn:r,endLineNumber:n.lineNumber,endColumn:o})!==e.completion.insertText}(a)?r():(t.editor.pushUndoStop(),t._insertSuggestion({index:i,item:a,model:o},7))}else r()}),void 0,n)})),this.model.trigger({auto:!1,shy:!0,noSelect:!1}),this.editor.revealPosition(n,0),this.editor.focus()}}},{key:"acceptSelectedSuggestion",value:function(e,t){var n=this.widget.value.getFocusedItem(),r=0;e&&(r|=4),t&&(r|=8),this._insertSuggestion(n,r)}},{key:"acceptNextSuggestion",value:function(){this._alternatives.value.next()}},{key:"acceptPrevSuggestion",value:function(){this._alternatives.value.prev()}},{key:"cancelSuggestWidget",value:function(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}},{key:"selectNextSuggestion",value:function(){this.widget.value.selectNext()}},{key:"selectNextPageSuggestion",value:function(){this.widget.value.selectNextPage()}},{key:"selectLastSuggestion",value:function(){this.widget.value.selectLast()}},{key:"selectPrevSuggestion",value:function(){this.widget.value.selectPrevious()}},{key:"selectPrevPageSuggestion",value:function(){this.widget.value.selectPreviousPage()}},{key:"selectFirstSuggestion",value:function(){this.widget.value.selectFirst()}},{key:"toggleSuggestionDetails",value:function(){this.widget.value.toggleDetails()}},{key:"toggleExplainMode",value:function(){this.widget.value.toggleExplainMode()}},{key:"toggleSuggestionFocus",value:function(){this.widget.value.toggleDetailsFocus()}},{key:"resetWidgetSize",value:function(){this.widget.value.resetPersistedSize()}},{key:"forceRenderingAbove",value:function(){this.widget.value.forceRenderingAbove()}},{key:"stopForceRenderingAbove",value:function(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}},{key:"registerSelector",value:function(e){return this._selectors.register(e)}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();sn.ID="editor.contrib.suggestController",sn=rn([on(1,S.Fh),on(2,N.Hy),on(3,k.i6),on(4,I.TG),on(5,R.VZ),on(6,$.b)],sn);var un=function(){function e(t){Xt(this,e),this.prioritySelector=t,this._items=new Array}return tn(e,[{key:"register",value:function(e){var t=this;if(-1!==this._items.indexOf(e))throw new Error("Value is already registered");return this._items.push(e),this._items.sort((function(e,n){return t.prioritySelector(n)-t.prioritySelector(e)})),{dispose:function(){var n=t._items.indexOf(e);n>=0&&t._items.splice(n,1)}}}},{key:"itemsOrderedByPriorityDesc",get:function(){return this._items}}]),e}(),cn=function(e){Ut(n,e);var t=Kt(n);function n(){return Xt(this,n),t.call(this,{id:n.id,label:P.NC("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:k.Ao.and(b.u.writable,b.u.hasCompletionItemProvider),kbOpts:{kbExpr:b.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}return tn(n,[{key:"run",value:function(e,t,n){var r,o,i=sn.get(t);i&&(n&&"object"===nn(n)&&(!0===n.auto&&(r=!0),!0===n.noSelection&&(o=!0)),i.triggerSuggest(void 0,r,void 0,o))}}]),n}(v.R6);cn.id="editor.action.triggerSuggest",(0,v._K)(sn.ID,sn),(0,v.Qr)(cn);var ln=190,fn=v._l.bindToContribution(sn.get);(0,v.fK)(new fn({id:"acceptSelectedSuggestion",precondition:k.Ao.and(T._y.Visible,T._y.HasFocusedSuggestion),handler:function(e){e.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:k.Ao.and(T._y.Visible,b.u.textInputFocus),weight:ln},{primary:3,kbExpr:k.Ao.and(T._y.Visible,b.u.textInputFocus,T._y.AcceptSuggestionsOnEnter,T._y.MakesTextEdit),weight:ln}],menuOpts:[{menuId:T.GI,title:P.NC("accept.insert","Insert"),group:"left",order:1,when:T._y.HasInsertAndReplaceRange.toNegated()},{menuId:T.GI,title:P.NC("accept.insert","Insert"),group:"left",order:1,when:k.Ao.and(T._y.HasInsertAndReplaceRange,T._y.InsertMode.isEqualTo("insert"))},{menuId:T.GI,title:P.NC("accept.replace","Replace"),group:"left",order:1,when:k.Ao.and(T._y.HasInsertAndReplaceRange,T._y.InsertMode.isEqualTo("replace"))}]})),(0,v.fK)(new fn({id:"acceptAlternativeSelectedSuggestion",precondition:k.Ao.and(T._y.Visible,b.u.textInputFocus,T._y.HasFocusedSuggestion),kbOpts:{weight:ln,kbExpr:b.u.textInputFocus,primary:1027,secondary:[1026]},handler:function(e){e.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:T.GI,group:"left",order:2,when:k.Ao.and(T._y.HasInsertAndReplaceRange,T._y.InsertMode.isEqualTo("insert")),title:P.NC("accept.replace","Replace")},{menuId:T.GI,group:"left",order:2,when:k.Ao.and(T._y.HasInsertAndReplaceRange,T._y.InsertMode.isEqualTo("replace")),title:P.NC("accept.insert","Insert")}]})),N.P0.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,v.fK)(new fn({id:"hideSuggestWidget",precondition:T._y.Visible,handler:function(e){return e.cancelSuggestWidget()},kbOpts:{weight:ln,kbExpr:b.u.textInputFocus,primary:9,secondary:[1033]}})),(0,v.fK)(new fn({id:"selectNextSuggestion",precondition:k.Ao.and(T._y.Visible,T._y.MultipleSuggestions),handler:function(e){return e.selectNextSuggestion()},kbOpts:{weight:ln,kbExpr:b.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,v.fK)(new fn({id:"selectNextPageSuggestion",precondition:k.Ao.and(T._y.Visible,T._y.MultipleSuggestions),handler:function(e){return e.selectNextPageSuggestion()},kbOpts:{weight:ln,kbExpr:b.u.textInputFocus,primary:12,secondary:[2060]}})),(0,v.fK)(new fn({id:"selectLastSuggestion",precondition:k.Ao.and(T._y.Visible,T._y.MultipleSuggestions),handler:function(e){return e.selectLastSuggestion()}})),(0,v.fK)(new fn({id:"selectPrevSuggestion",precondition:k.Ao.and(T._y.Visible,T._y.MultipleSuggestions),handler:function(e){return e.selectPrevSuggestion()},kbOpts:{weight:ln,kbExpr:b.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,v.fK)(new fn({id:"selectPrevPageSuggestion",precondition:k.Ao.and(T._y.Visible,T._y.MultipleSuggestions),handler:function(e){return e.selectPrevPageSuggestion()},kbOpts:{weight:ln,kbExpr:b.u.textInputFocus,primary:11,secondary:[2059]}})),(0,v.fK)(new fn({id:"selectFirstSuggestion",precondition:k.Ao.and(T._y.Visible,T._y.MultipleSuggestions),handler:function(e){return e.selectFirstSuggestion()}})),(0,v.fK)(new fn({id:"toggleSuggestionDetails",precondition:T._y.Visible,handler:function(e){return e.toggleSuggestionDetails()},kbOpts:{weight:ln,kbExpr:b.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:T.GI,group:"right",order:1,when:k.Ao.and(T._y.DetailsVisible,T._y.CanResolve),title:P.NC("detail.more","show less")},{menuId:T.GI,group:"right",order:1,when:k.Ao.and(T._y.DetailsVisible.toNegated(),T._y.CanResolve),title:P.NC("detail.less","show more")}]})),(0,v.fK)(new fn({id:"toggleExplainMode",precondition:T._y.Visible,handler:function(e){return e.toggleExplainMode()},kbOpts:{weight:100,primary:2133}})),(0,v.fK)(new fn({id:"toggleSuggestionFocus",precondition:T._y.Visible,handler:function(e){return e.toggleSuggestionFocus()},kbOpts:{weight:ln,kbExpr:b.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,v.fK)(new fn({id:"insertBestCompletion",precondition:k.Ao.and(b.u.textInputFocus,k.Ao.equals("config.editor.tabCompletion","on"),E.AtEnd,T._y.Visible.toNegated(),F.OtherSuggestions.toNegated(),_.SnippetController2.InSnippetMode.toNegated()),handler:function(e,t){e.triggerSuggestAndAcceptBest((0,h.Kn)(t)?Object.assign({fallback:"tab"},t):{fallback:"tab"})},kbOpts:{weight:ln,primary:2}})),(0,v.fK)(new fn({id:"insertNextSuggestion",precondition:k.Ao.and(b.u.textInputFocus,k.Ao.equals("config.editor.tabCompletion","on"),F.OtherSuggestions,T._y.Visible.toNegated(),_.SnippetController2.InSnippetMode.toNegated()),handler:function(e){return e.acceptNextSuggestion()},kbOpts:{weight:ln,kbExpr:b.u.textInputFocus,primary:2}})),(0,v.fK)(new fn({id:"insertPrevSuggestion",precondition:k.Ao.and(b.u.textInputFocus,k.Ao.equals("config.editor.tabCompletion","on"),F.OtherSuggestions,T._y.Visible.toNegated(),_.SnippetController2.InSnippetMode.toNegated()),handler:function(e){return e.acceptPrevSuggestion()},kbOpts:{weight:ln,kbExpr:b.u.textInputFocus,primary:1026}})),(0,v.Qr)(function(e){Ut(n,e);var t=Kt(n);function n(){return Xt(this,n),t.call(this,{id:"editor.action.resetSuggestSize",label:P.NC("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}return tn(n,[{key:"run",value:function(e,t){var n;null===(n=sn.get(t))||void 0===n||n.resetWidgetSize()}}]),n}(v.R6))},76006:(e,t,n)=>{n.r(t),n.d(t,{SuggestInlineCompletions:()=>j});var r=n(2307),o=n(63872),i=n(42654),a=n(38709),s=n(18679),u=n(37845),c=n(48466),l=n(31213),f=n(85391),d=n(47290),h=n(21866),p=n(10894),v=n(52683),g=n(79126),y=n(63304);function m(){m=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new L(o||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(O([])));y&&y!==t&&n.call(y,i)&&(v=y);var b=p.prototype=d.prototype=Object.create(v);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==E(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),u(b,s,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===E(i)?i:String(i)),r)}var o,i}function L(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}var P=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":E(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},N=function(e,t){return function(n,r){t(n,r,e)}},I=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},R=L((function e(t,n,r,o,i,a){O(this,e),this.range=t,this.insertText=n,this.filterText=r,this.additionalTextEdits=o,this.command=i,this.completion=a})),T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(n,e);var t=S(n);function n(e,r,o,i,a,s){var u;return O(this,n),(u=t.call(this,a.disposable)).model=e,u.line=r,u.word=o,u.completionModel=i,u._suggestMemoryService=s,u}return L(n,[{key:"canBeReused",value:function(e,t,n){return this.model===e&&this.line===t&&this.word.word.length>0&&this.word.startColumn===n.startColumn&&this.word.endColumn<n.endColumn&&0===this.completionModel.incomplete.size}},{key:"items",get:function(){var e,t,n=[],a=this.completionModel.items,s=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},a),u=i.$.slice(a,s),l=i.$.slice(a,0,s),d=5,h=b(i.$.concat(u,l));try{for(h.s();!(t=h.n()).done;){var p=t.value;if(p.score!==o.CL.Default){var v=new c.e(p.editStart.lineNumber,p.editStart.column,p.editInsertEnd.lineNumber,p.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),g=p.completion.insertTextRules&&p.completion.insertTextRules&f.a7.InsertAsSnippet?{snippet:p.completion.insertText}:p.completion.insertText;n.push(new R(v,g,null!==(e=p.filterTextLow)&&void 0!==e?e:p.labelLow,p.completion.additionalTextEdits,p.completion.command,p)),d-- >=0&&p.resolve(r.T.None)}}}catch(e){h.e(e)}finally{h.f()}return n}}]),n}(a.L6);T=P([N(5,p.Fh)],T);var j=function(){function e(t,n,r,o){O(this,e),this._getEditorOption=t,this._languageFeatureService=n,this._clipboardService=r,this._suggestMemoryService=o}return L(e,[{key:"provideInlineCompletions",value:function(e,t,n,r){var o;return I(this,void 0,void 0,m().mark((function i(){var a,s,u,l,f,p,g,y,b,_,w;return m().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!n.selectedSuggestionInfo){i.next=2;break}return i.abrupt("return");case 2:if(a=this._getEditorOption(81,e),!h.tG.isAllOff(a)){i.next=5;break}return i.abrupt("return");case 5:if(e.tokenization.tokenizeIfCheap(t.lineNumber),s=e.tokenization.getLineTokens(t.lineNumber),u=s.getStandardTokenType(s.findTokenIndexAtOffset(Math.max(t.column-1-1,0))),"inline"===h.tG.valueFor(a,u)){i.next=10;break}return i.abrupt("return",void 0);case 10:if((null==(l=e.getWordAtPosition(t))?void 0:l.word)||(f=this._getTriggerCharacterInfo(e,t)),(null==l?void 0:l.word)||f){i.next=14;break}return i.abrupt("return");case 14:if(l||(l=e.getWordUntilPosition(t)),l.endColumn===t.column){i.next=17;break}return i.abrupt("return");case 17:if(g=e.getValueInRange(new c.e(t.lineNumber,1,t.lineNumber,t.column)),f||!(null===(o=this._lastResult)||void 0===o?void 0:o.canBeReused(e,t.lineNumber,l))){i.next=25;break}y=new d.t(g,t.column-this._lastResult.word.endColumn),this._lastResult.completionModel.lineContext=y,this._lastResult.acquire(),p=this._lastResult,i.next=34;break;case 25:return i.next=27,(0,h.kL)(this._languageFeatureService.completionProvider,e,t,new h.A9(void 0,void 0,null==f?void 0:f.providers),f&&{triggerKind:1,triggerCharacter:f.ch},r);case 27:if(!(b=i.sent).needsClipboard){i.next=32;break}return i.next=31,this._clipboardService.readText();case 31:_=i.sent;case 32:w=new d._(b.items,t.column,new d.t(g,0),v.K.None,this._getEditorOption(108,e),this._getEditorOption(103,e),{boostFullMatch:!1,firstMatchCanBeWeak:!1},_),p=new T(e,t.lineNumber,l,w,b,this._suggestMemoryService);case 34:return this._lastResult=p,i.abrupt("return",p);case 36:case"end":return i.stop()}}),i,this)})))}},{key:"handleItemDidShow",value:function(e,t){t.completion.resolve(r.T.None)}},{key:"freeInlineCompletions",value:function(e){e.release()}},{key:"_getTriggerCharacterInfo",value:function(e,t){var n,r,o=e.getValueInRange(c.e.fromPositions({lineNumber:t.lineNumber,column:t.column-1},t)),i=new Set,a=b(this._languageFeatureService.completionProvider.all(e));try{for(a.s();!(r=a.n()).done;){var s=r.value;(null===(n=s.triggerCharacters)||void 0===n?void 0:n.includes(o))&&i.add(s)}}catch(e){a.e(e)}finally{a.f()}if(0!==i.size)return{providers:i,ch:o}}}]),e}();j=P([N(1,l.p),N(2,g.p),N(3,p.Fh)],j);var A=function(){function e(t,n,r,o){if(O(this,e),1==++e._counter){var i=o.createInstance(j,(function(e,n){var o;return(null!==(o=r.listCodeEditors().find((function(e){return e.getModel()===n})))&&void 0!==o?o:t).getOption(e)}));e._disposable=n.inlineCompletionsProvider.register("*",i)}}return L(e,[{key:"dispose",value:function(){var t;0==--e._counter&&(null===(t=e._disposable)||void 0===t||t.dispose(),e._disposable=void 0)}}]),e}();A._counter=0,A=P([N(1,l.p),N(2,u.$),N(3,y.TG)],A),(0,s._K)("suggest.inlineCompletionsProvider",A)},10894:(e,t,n)=>{n.d(t,{Fh:()=>T});var r=n(95295),o=n(38709),i=n(85006),a=n(87116),s=n(4537),u=n(47123),c=n(63304),l=n(41146);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function h(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=g(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},v.apply(this,arguments)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===x(i)?i:String(i)),r)}var o,i}function C(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}var L=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":x(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},O=function(e,t){return function(n,r){t(n,r,e)}},E=function(){function e(t){S(this,e),this.name=t}return C(e,[{key:"select",value:function(e,t,n){if(0===n.length)return 0;for(var r=n[0].score[0],o=0;o<n.length;o++){var i=n[o],a=i.score,s=i.completion;if(a[0]!==r)break;if(s.preselect)return o}return 0}}]),e}(),P=function(e){y(n,e);var t=b(n);function n(){return S(this,n),t.call(this,"first")}return C(n,[{key:"memorize",value:function(e,t,n){}},{key:"toJSON",value:function(){}},{key:"fromJSON",value:function(){}}]),n}(E),N=function(e){y(n,e);var t=b(n);function n(){var e;return S(this,n),(e=t.call(this,"recentlyUsed"))._cache=new i.z6(300,.66),e._seq=0,e}return C(n,[{key:"memorize",value:function(e,t,n){var r="".concat(e.getLanguageId(),"/").concat(n.textLabel);this._cache.set(r,{touch:this._seq++,type:n.completion.kind,insertText:n.completion.insertText})}},{key:"select",value:function(e,t,r){if(0===r.length)return 0;var o=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(o))return v(w(n.prototype),"select",this).call(this,e,t,r);for(var i=r[0].score[0],a=-1,s=-1,u=-1,c=0;c<r.length&&r[c].score[0]===i;c++){var l="".concat(e.getLanguageId(),"/").concat(r[c].textLabel),f=this._cache.peek(l);if(f&&f.touch>u&&f.type===r[c].completion.kind&&f.insertText===r[c].completion.insertText&&(u=f.touch,s=c),r[c].completion.preselect&&-1===a)return c}return-1!==s?s:-1!==a?a:0}},{key:"toJSON",value:function(){return this._cache.toJSON()}},{key:"fromJSON",value:function(e){this._cache.clear();var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),o=r[0],i=r[1];i.touch=0,i.type="number"==typeof i.type?i.type:a.gX.fromString(i.type),this._cache.set(o,i)}}catch(e){n.e(e)}finally{n.f()}this._seq=this._cache.size}}]),n}(E),I=function(e){y(n,e);var t=b(n);function n(){var e;return S(this,n),(e=t.call(this,"recentlyUsedByPrefix"))._trie=i.Id.forStrings(),e._seq=0,e}return C(n,[{key:"memorize",value:function(e,t,n){var r=e.getWordUntilPosition(t).word,o="".concat(e.getLanguageId(),"/").concat(r);this._trie.set(o,{type:n.completion.kind,insertText:n.completion.insertText,touch:this._seq++})}},{key:"select",value:function(e,t,r){var o=e.getWordUntilPosition(t).word;if(!o)return v(w(n.prototype),"select",this).call(this,e,t,r);var i="".concat(e.getLanguageId(),"/").concat(o),a=this._trie.get(i);if(a||(a=this._trie.findSubstr(i)),a)for(var s=0;s<r.length;s++){var u=r[s].completion,c=u.kind,l=u.insertText;if(c===a.type&&l===a.insertText)return s}return v(w(n.prototype),"select",this).call(this,e,t,r)}},{key:"toJSON",value:function(){var e=[];return this._trie.forEach((function(t,n){return e.push([n,t])})),e.sort((function(e,t){return-(e[1].touch-t[1].touch)})).forEach((function(e,t){return e[1].touch=t})),e.slice(0,200)}},{key:"fromJSON",value:function(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),o=r[0],i=r[1];i.type="number"==typeof i.type?i.type:a.gX.fromString(i.type),this._trie.set(o,i)}}catch(e){n.e(e)}finally{n.f()}}}}]),n}(E),R=function(){function e(t,n){var i=this;S(this,e),this._storageService=t,this._configService=n,this._disposables=new o.SL,this._persistSoon=new r.pY((function(){return i._saveState()}),500),this._disposables.add(t.onWillSaveState((function(e){e.reason===l.fk.SHUTDOWN&&i._saveState()})))}return C(e,[{key:"dispose",value:function(){this._disposables.dispose(),this._persistSoon.dispose()}},{key:"memorize",value:function(e,t,n){this._withStrategy(e,t).memorize(e,t,n),this._persistSoon.schedule()}},{key:"select",value:function(e,t,n){return this._withStrategy(e,t).select(e,t,n)}},{key:"_withStrategy",value:function(t,n){var r,o=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:t.getLanguageIdAtPosition(n.lineNumber,n.column),resource:t.uri});if((null===(r=this._strategy)||void 0===r?void 0:r.name)!==o){this._saveState();var i=e._strategyCtors.get(o)||P;this._strategy=new i;try{var a=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,s=this._storageService.get("".concat(e._storagePrefix,"/").concat(o),a);s&&this._strategy.fromJSON(JSON.parse(s))}catch(e){}}return this._strategy}},{key:"_saveState",value:function(){if(this._strategy){var t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,n=JSON.stringify(this._strategy);this._storageService.store("".concat(e._storagePrefix,"/").concat(this._strategy.name),n,t,1)}}}]),e}();R._strategyCtors=new Map([["recentlyUsedByPrefix",I],["recentlyUsed",N],["first",P]]),R._storagePrefix="suggest/memories",R=L([O(0,l.Uy),O(1,s.Ui)],R);var T=(0,c.yh)("ISuggestMemories");(0,u.z)(T,R,!0)},52683:(e,t,n)=>{n.d(t,{K:()=>w});var r=n(86193),o=n(48466),i=n(72977);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:k(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function g(){}var y={};l(y,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(E([])));b&&b!==t&&n.call(b,i)&&(y=b);var _=g.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function o(r,i,s,u){var c=d(e[r],e,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,s,u)}),(function(e){o("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return o("throw",e,s,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=g,r(_,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(f(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),l(_,c,"Generator"),l(_,i,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=v(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===a(i)?i:String(i)),r)}var o,i}function b(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var _=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},w=function(){function e(){y(this,e)}return b(e,null,[{key:"create",value:function(t,n){return _(this,void 0,void 0,s().mark((function a(){var l,d,h,v,g,m,_;return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.getOption(108).localityBonus){a.next=2;break}return a.abrupt("return",e.None);case 2:if(n.hasModel()){a.next=4;break}return a.abrupt("return",e.None);case 4:if(l=n.getModel(),d=n.getPosition(),t.canComputeWordRanges(l.uri)){a.next=8;break}return a.abrupt("return",e.None);case 8:return a.next=10,(new i.x).provideSelectionRanges(l,[d]);case 10:if(h=a.sent,v=p(h,1),0!==(g=v[0]).length){a.next=15;break}return a.abrupt("return",e.None);case 15:return a.next=17,t.computeWordRanges(l.uri,g[0].range);case 17:if(m=a.sent){a.next=20;break}return a.abrupt("return",e.None);case 20:return _=l.getWordUntilPosition(d),delete m[_.word],a.abrupt("return",new(function(e){c(i,e);var t=f(i);function i(){return y(this,i),t.apply(this,arguments)}return b(i,[{key:"distance",value:function(e,t){if(!d.equals(n.getPosition()))return 0;if(17===t.kind)return 2<<20;var i="string"==typeof t.label?t.label:t.label.label,a=m[i];if((0,r.XY)(a))return 2<<20;var s,c=(0,r.ry)(a,o.e.fromPositions(e),o.e.compareRangesUsingStarts),l=c>=0?a[c]:a[Math.max(0,~c-1)],f=g.length,h=u(g);try{for(h.s();!(s=h.n()).done;){var p=s.value;if(!o.e.containsRange(p.range,l))break;f-=1}}catch(e){h.e(e)}finally{h.f()}return f}}]),i}(e)));case 23:case"end":return a.stop()}}),a)})))}}]),e}();w.None=new(function(e){c(n,e);var t=f(n);function n(){return y(this,n),t.apply(this,arguments)}return b(n,[{key:"distance",value:function(){return 0}}]),n}(w))},14739:(e,t,n)=>{var r=n(74553),o=n(18063),i=n(41367),a=n(38656),s=(0,i.P6G)("symbolIcon.arrayForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),u=(0,i.P6G)("symbolIcon.booleanForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),c=(0,i.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,o.NC)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),l=(0,i.P6G)("symbolIcon.colorForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),f=(0,i.P6G)("symbolIcon.constantForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),d=(0,i.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,o.NC)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),h=(0,i.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,o.NC)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),p=(0,i.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,o.NC)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),v=(0,i.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,o.NC)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),g=(0,i.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,o.NC)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),y=(0,i.P6G)("symbolIcon.fileForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),m=(0,i.P6G)("symbolIcon.folderForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),b=(0,i.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,o.NC)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_=(0,i.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,o.NC)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),w=(0,i.P6G)("symbolIcon.keyForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),S=(0,i.P6G)("symbolIcon.keywordForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),k=(0,i.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,o.NC)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C=(0,i.P6G)("symbolIcon.moduleForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),x=(0,i.P6G)("symbolIcon.namespaceForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L=(0,i.P6G)("symbolIcon.nullForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),O=(0,i.P6G)("symbolIcon.numberForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E=(0,i.P6G)("symbolIcon.objectForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),P=(0,i.P6G)("symbolIcon.operatorForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),N=(0,i.P6G)("symbolIcon.packageForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I=(0,i.P6G)("symbolIcon.propertyForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),R=(0,i.P6G)("symbolIcon.referenceForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),T=(0,i.P6G)("symbolIcon.snippetForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),j=(0,i.P6G)("symbolIcon.stringForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),A=(0,i.P6G)("symbolIcon.structForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),D=(0,i.P6G)("symbolIcon.textForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),M=(0,i.P6G)("symbolIcon.typeParameterForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),F=(0,i.P6G)("symbolIcon.unitForeground",{dark:i.dRz,light:i.dRz,hcDark:i.dRz,hcLight:i.dRz},(0,o.NC)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),W=(0,i.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,o.NC)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,a.Ic)((function(e,t){var n=e.getColor(s);n&&t.addRule("".concat(r.lA.symbolArray.cssSelector," { color: ").concat(n,"; }"));var o=e.getColor(u);o&&t.addRule("".concat(r.lA.symbolBoolean.cssSelector," { color: ").concat(o,"; }"));var i=e.getColor(c);i&&t.addRule("".concat(r.lA.symbolClass.cssSelector," { color: ").concat(i,"; }"));var a=e.getColor(k);a&&t.addRule("".concat(r.lA.symbolMethod.cssSelector," { color: ").concat(a,"; }"));var H=e.getColor(l);H&&t.addRule("".concat(r.lA.symbolColor.cssSelector," { color: ").concat(H,"; }"));var B=e.getColor(f);B&&t.addRule("".concat(r.lA.symbolConstant.cssSelector," { color: ").concat(B,"; }"));var G=e.getColor(d);G&&t.addRule("".concat(r.lA.symbolConstructor.cssSelector," { color: ").concat(G,"; }"));var V=e.getColor(h);V&&t.addRule("\n\t\t\t".concat(r.lA.symbolValue.cssSelector,",").concat(r.lA.symbolEnum.cssSelector," { color: ").concat(V,"; }"));var U=e.getColor(p);U&&t.addRule("".concat(r.lA.symbolEnumMember.cssSelector," { color: ").concat(U,"; }"));var z=e.getColor(v);z&&t.addRule("".concat(r.lA.symbolEvent.cssSelector," { color: ").concat(z,"; }"));var K=e.getColor(g);K&&t.addRule("".concat(r.lA.symbolField.cssSelector," { color: ").concat(K,"; }"));var q=e.getColor(y);q&&t.addRule("".concat(r.lA.symbolFile.cssSelector," { color: ").concat(q,"; }"));var Y=e.getColor(m);Y&&t.addRule("".concat(r.lA.symbolFolder.cssSelector," { color: ").concat(Y,"; }"));var Q=e.getColor(b);Q&&t.addRule("".concat(r.lA.symbolFunction.cssSelector," { color: ").concat(Q,"; }"));var Z=e.getColor(_);Z&&t.addRule("".concat(r.lA.symbolInterface.cssSelector," { color: ").concat(Z,"; }"));var $=e.getColor(w);$&&t.addRule("".concat(r.lA.symbolKey.cssSelector," { color: ").concat($,"; }"));var J=e.getColor(S);J&&t.addRule("".concat(r.lA.symbolKeyword.cssSelector," { color: ").concat(J,"; }"));var X=e.getColor(C);X&&t.addRule("".concat(r.lA.symbolModule.cssSelector," { color: ").concat(X,"; }"));var ee=e.getColor(x);ee&&t.addRule("".concat(r.lA.symbolNamespace.cssSelector," { color: ").concat(ee,"; }"));var te=e.getColor(L);te&&t.addRule("".concat(r.lA.symbolNull.cssSelector," { color: ").concat(te,"; }"));var ne=e.getColor(O);ne&&t.addRule("".concat(r.lA.symbolNumber.cssSelector," { color: ").concat(ne,"; }"));var re=e.getColor(E);re&&t.addRule("".concat(r.lA.symbolObject.cssSelector," { color: ").concat(re,"; }"));var oe=e.getColor(P);oe&&t.addRule("".concat(r.lA.symbolOperator.cssSelector," { color: ").concat(oe,"; }"));var ie=e.getColor(N);ie&&t.addRule("".concat(r.lA.symbolPackage.cssSelector," { color: ").concat(ie,"; }"));var ae=e.getColor(I);ae&&t.addRule("".concat(r.lA.symbolProperty.cssSelector," { color: ").concat(ae,"; }"));var se=e.getColor(R);se&&t.addRule("".concat(r.lA.symbolReference.cssSelector," { color: ").concat(se,"; }"));var ue=e.getColor(T);ue&&t.addRule("".concat(r.lA.symbolSnippet.cssSelector," { color: ").concat(ue,"; }"));var ce=e.getColor(j);ce&&t.addRule("".concat(r.lA.symbolString.cssSelector," { color: ").concat(ce,"; }"));var le=e.getColor(A);le&&t.addRule("".concat(r.lA.symbolStruct.cssSelector," { color: ").concat(le,"; }"));var fe=e.getColor(D);fe&&t.addRule("".concat(r.lA.symbolText.cssSelector," { color: ").concat(fe,"; }"));var de=e.getColor(M);de&&t.addRule("".concat(r.lA.symbolTypeParameter.cssSelector," { color: ").concat(de,"; }"));var he=e.getColor(F);he&&t.addRule("".concat(r.lA.symbolUnit.cssSelector," { color: ").concat(he,"; }"));var pe=e.getColor(W);pe&&t.addRule("".concat(r.lA.symbolVariable.cssSelector," { color: ").concat(pe,"; }"))}))},38948:(e,t,n)=>{n.r(t),n.d(t,{ToggleTabFocusModeAction:()=>h});var r=n(61041),o=n(81410),i=n(18679),a=n(18063);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===s(i)?i:String(i)),r)}var o,i}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(f,e);var t,n,i,s=l(f);function f(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),s.call(this,{id:f.ID,label:a.NC({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}return t=f,(n=[{key:"run",value:function(e,t){var n=!o.n.getTabFocusMode();o.n.setTabFocusMode(n),n?(0,r.Z9)(a.NC("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):(0,r.Z9)(a.NC("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}])&&u(t.prototype,n),i&&u(t,i),Object.defineProperty(t,"prototype",{writable:!1}),f}(i.R6);h.ID="editor.action.toggleTabFocusMode",(0,i.Qr)(h)},66913:(e,t,n)=>{n.r(t);var r=n(16769),o=n(18679),i=n(18063);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===a(i)?i:String(i)),r)}var o,i}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(l,e);var t,n,o,a=c(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.call(this,{id:"editor.action.forceRetokenize",label:i.NC("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}return t=l,(n=[{key:"run",value:function(e,t){if(t.hasModel()){var n=t.getModel();n.tokenization.resetTokenization();var o=new r.G(!0);n.tokenization.forceTokenization(n.getLineCount()),o.stop(),console.log("tokenization took ".concat(o.elapsed()))}}}])&&s(t.prototype,n),o&&s(t,o),Object.defineProperty(t,"prototype",{writable:!1}),l}(o.R6);(0,o.Qr)(d)},66517:(e,t,n)=>{n.r(t),n.d(t,{DisableHighlightingInCommentsAction:()=>me,DisableHighlightingInStringsAction:()=>be,DisableHighlightingOfAmbiguousCharactersAction:()=>_e,DisableHighlightingOfInvisibleCharactersAction:()=>we,DisableHighlightingOfNonBasicAsciiCharactersAction:()=>Se,ShowExcludeOptions:()=>ke,UnicodeHighlighter:()=>le,UnicodeHighlighterHoverParticipant:()=>he,warningIcon:()=>ce});var r=n(95295),o=n(74553),i=n(93649),a=n(38709),s=n(71386),u=n(46969),c=n(18679),l=n(97277),f=n(3817),d=n(76761),h=n(71509),p=n(71919),v=n(84633),g=n(52115),y=n(32274),m=n(32007),b=n(13907),_=n(89704),w=n(44809),S=n(63304),k=n(29610),C=n(44674),x=n(38656);function L(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==D(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===D(i)?i:String(i)),r)}var o,i}function N(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}var M=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":D(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},F=function(e,t){return function(n,r){t(n,r,e)}},W=function(e){I(n,e);var t=T(n);function n(e,r){var o;return E(this,n),(o=t.call(this))._editor=e,o.instantiationService=r,o.banner=o._register(o.instantiationService.createInstance(H)),o}return N(n,[{key:"hide",value:function(){this._editor.setBanner(null,0),this.banner.clear()}},{key:"show",value:function(e){var t=this;this.banner.show(Object.assign(Object.assign({},e),{onClose:function(){var n;t.hide(),null===(n=e.onClose)||void 0===n||n.call(e)}})),this._editor.setBanner(this.banner.element,26)}}]),n}(a.JT);W=M([F(1,S.TG)],W);var H=function(e){I(n,e);var t=T(n);function n(e){var r;return E(this,n),(r=t.call(this)).instantiationService=e,r.markdownRenderer=r.instantiationService.createInstance(w.$,{}),r.element=(0,m.$)("div.editor-banner"),r.element.tabIndex=0,r}return N(n,[{key:"getAriaLabel",value:function(e){return e.ariaLabel?e.ariaLabel:"string"==typeof e.message?e.message:void 0}},{key:"getBannerMessage",value:function(e){if("string"==typeof e){var t=(0,m.$)("span");return t.innerText=e,t}return this.markdownRenderer.render(e).element}},{key:"clear",value:function(){(0,m.clearNode)(this.element)}},{key:"show",value:function(e){(0,m.clearNode)(this.element);var t=this.getAriaLabel(e);t&&this.element.setAttribute("aria-label",t);var n=(0,m.append)(this.element,(0,m.$)("div.icon-container"));n.setAttribute("aria-hidden","true"),e.icon&&n.appendChild((0,m.$)("div".concat(x.kS.asCSSSelector(e.icon))));var r=(0,m.append)(this.element,(0,m.$)("div.message-container"));if(r.setAttribute("aria-hidden","true"),r.appendChild(this.getBannerMessage(e.message)),this.messageActionsContainer=(0,m.append)(this.element,(0,m.$)("div.message-actions-container")),e.actions){var o,i=L(e.actions);try{for(i.s();!(o=i.n()).done;){var a=o.value;this._register(this.instantiationService.createInstance(k.r,this.messageActionsContainer,Object.assign(Object.assign({},a),{tabIndex:-1}),{}))}}catch(e){i.e(e)}finally{i.f()}}var s=(0,m.append)(this.element,(0,m.$)("div.action-container"));this.actionBar=this._register(new b.o(s)),this.actionBar.push(this._register(new _.aU("banner.close","Close Banner",x.kS.asClassName(C.s_),!0,(function(){"function"==typeof e.onClose&&e.onClose()}))),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}}]),n}(a.JT);H=M([F(0,S.TG)],H);var B=n(18063),G=n(4537),V=n(53920),U=n(39425),z=n(82838);function K(){K=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==t&&n.call(y,i)&&(v=y);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,s){var u=l(e[r],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==ie(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function q(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==ie(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===ie(i)?i:String(i)),r)}var o,i}function $(e,t,n){return t&&Z(e.prototype,t),n&&Z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function J(){return J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=X(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},J.apply(this,arguments)}function X(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oe(e)););return e}function ee(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&te(e,t)}function te(e,t){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},te(e,t)}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe(e);if(t){var o=oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re(this,n)}}function re(e,t){if(t&&("object"===ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function oe(e){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oe(e)}function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}var ae=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ie(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},se=function(e,t){return function(n,r){t(n,r,e)}},ue=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},ce=(0,C.q5)("extensions-warning-message",o.lA.warning,B.NC("warningIcon","Icon shown with a warning message in the extensions editor.")),le=function(e){ee(n,e);var t=ne(n);function n(e,r,o,i){var a;return Q(this,n),(a=t.call(this))._editor=e,a._editorWorkerService=r,a._workspaceTrustService=o,a._highlighter=null,a._bannerClosed=!1,a._updateState=function(e){if(e&&e.hasMore){if(a._bannerClosed)return;var t,n=Math.max(e.ambiguousCharacterCount,e.nonBasicAsciiCharacterCount,e.invisibleCharacterCount);if(e.nonBasicAsciiCharacterCount>=n)t={message:B.NC("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new Se};else if(e.ambiguousCharacterCount>=n)t={message:B.NC("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new _e};else{if(!(e.invisibleCharacterCount>=n))throw new Error("Unreachable");t={message:B.NC("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new we}}a._bannerController.show({id:"unicodeHighlightBanner",message:t.message,icon:ce,actions:[{label:t.command.shortLabel,href:"command:".concat(t.command.id)}],onClose:function(){a._bannerClosed=!0}})}else a._bannerController.hide()},a._bannerController=a._register(i.createInstance(W,e)),a._register(a._editor.onDidChangeModel((function(){a._bannerClosed=!1,a._updateHighlighter()}))),a._options=e.getOption(115),a._register(o.onDidChangeTrust((function(e){a._updateHighlighter()}))),a._register(e.onDidChangeConfiguration((function(t){t.hasChanged(115)&&(a._options=e.getOption(115),a._updateHighlighter())}))),a._updateHighlighter(),a}return $(n,[{key:"dispose",value:function(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),J(oe(n.prototype),"dispose",this).call(this)}},{key:"_updateHighlighter",value:function(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),this._editor.hasModel()){var e=function(e,t){return{nonBasicASCII:t.nonBasicASCII===l.Av?!e:t.nonBasicASCII,ambiguousCharacters:t.ambiguousCharacters,invisibleCharacters:t.invisibleCharacters,includeComments:t.includeComments===l.Av?!e:t.includeComments,includeStrings:t.includeStrings===l.Av?!e:t.includeStrings,allowedCharacters:t.allowedCharacters,allowedLocales:t.allowedLocales}}(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if(![e.nonBasicASCII,e.ambiguousCharacters,e.invisibleCharacters].every((function(e){return!1===e}))){var t={nonBasicASCII:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments,includeStrings:e.includeStrings,allowedCodePoints:Object.keys(e.allowedCharacters).map((function(e){return e.codePointAt(0)})),allowedLocales:Object.keys(e.allowedLocales).map((function(e){return"_os"===e?(new Intl.NumberFormat).resolvedOptions().locale:"_vscode"===e?s.dK:e}))};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new fe(this._editor,t,this._updateState,this._editorWorkerService):this._highlighter=new de(this._editor,t,this._updateState)}}}},{key:"getDecorationInfo",value:function(e){return this._highlighter?this._highlighter.getDecorationInfo(e):null}}]),n}(a.JT);le.ID="editor.contrib.unicodeHighlighter",le=ae([se(1,h.p),se(2,z.Y),se(3,S.TG)],le);var fe=function(e){ee(n,e);var t=ne(n);function n(e,o,i,a){var s;return Q(this,n),(s=t.call(this))._editor=e,s._options=o,s._updateState=i,s._editorWorkerService=a,s._model=s._editor.getModel(),s._decorations=s._editor.createDecorationsCollection(),s._updateSoon=s._register(new r.pY((function(){return s._update()}),250)),s._register(s._editor.onDidChangeModelContent((function(){s._updateSoon.schedule()}))),s._updateSoon.schedule(),s}return $(n,[{key:"dispose",value:function(){this._decorations.clear(),J(oe(n.prototype),"dispose",this).call(this)}},{key:"_update",value:function(){var e=this;if(!this._model.isDisposed())if(this._model.mightContainNonBasicASCII()){var t=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then((function(n){if(!e._model.isDisposed()&&e._model.getVersionId()===t){e._updateState(n);var r=[];if(!n.hasMore){var o,i=q(n.ranges);try{for(i.s();!(o=i.n()).done;){var a=o.value;r.push({range:a,options:ye.instance.getDecorationFromOptions(e._options)})}}catch(e){i.e(e)}finally{i.f()}}e._decorations.set(r)}}))}else this._decorations.clear()}},{key:"getDecorationInfo",value:function(e){if(!this._decorations.has(e))return null;var t=this._editor.getModel();return(0,v.Fd)(t,e)?{reason:ge(t.getValueInRange(e.range),this._options),inComment:(0,v.$t)(t,e),inString:(0,v.zg)(t,e)}:null}}]),n}(a.JT);fe=ae([se(3,h.p)],fe);var de=function(e){ee(n,e);var t=ne(n);function n(e,o,i){var a;return Q(this,n),(a=t.call(this))._editor=e,a._options=o,a._updateState=i,a._model=a._editor.getModel(),a._decorations=a._editor.createDecorationsCollection(),a._updateSoon=a._register(new r.pY((function(){return a._update()}),250)),a._register(a._editor.onDidLayoutChange((function(){a._updateSoon.schedule()}))),a._register(a._editor.onDidScrollChange((function(){a._updateSoon.schedule()}))),a._register(a._editor.onDidChangeHiddenAreas((function(){a._updateSoon.schedule()}))),a._register(a._editor.onDidChangeModelContent((function(){a._updateSoon.schedule()}))),a._updateSoon.schedule(),a}return $(n,[{key:"dispose",value:function(){this._decorations.clear(),J(oe(n.prototype),"dispose",this).call(this)}},{key:"_update",value:function(){if(!this._model.isDisposed())if(this._model.mightContainNonBasicASCII()){var e,t=[],n={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1},r=q(this._editor.getVisibleRanges());try{for(r.s();!(e=r.n()).done;){var o,i=e.value,a=d.a.computeUnicodeHighlights(this._model,this._options,i),s=q(a.ranges);try{for(s.s();!(o=s.n()).done;){var u=o.value;n.ranges.push(u)}}catch(e){s.e(e)}finally{s.f()}n.ambiguousCharacterCount+=n.ambiguousCharacterCount,n.invisibleCharacterCount+=n.invisibleCharacterCount,n.nonBasicAsciiCharacterCount+=n.nonBasicAsciiCharacterCount,n.hasMore=n.hasMore||a.hasMore}}catch(e){r.e(e)}finally{r.f()}if(!n.hasMore){var c,l=q(n.ranges);try{for(l.s();!(c=l.n()).done;){var f=c.value;t.push({range:f,options:ye.instance.getDecorationFromOptions(this._options)})}}catch(e){l.e(e)}finally{l.f()}}this._updateState(n),this._decorations.set(t)}else this._decorations.clear()}},{key:"getDecorationInfo",value:function(e){if(!this._decorations.has(e))return null;var t=this._editor.getModel(),n=t.getValueInRange(e.range);return(0,v.Fd)(t,e)?{reason:ge(n,this._options),inComment:(0,v.$t)(t,e),inString:(0,v.zg)(t,e)}:null}}]),n}(a.JT),he=function(){function e(t,n,r){Q(this,e),this._editor=t,this._languageService=n,this._openerService=r,this.hoverOrdinal=4}return $(e,[{key:"computeSync",value:function(e,t){if(!this._editor.hasModel()||1!==e.type)return[];var n=this._editor.getModel(),r=this._editor.getContribution(le.ID);if(!r)return[];var o,a=[],s=300,u=q(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=r.getDecorationInfo(c);if(l){var f=n.getValueInRange(c.range).codePointAt(0),d=ve(f),h=void 0;switch(l.reason.kind){case 0:h=B.NC("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",d,ve(l.reason.confusableWith.codePointAt(0)));break;case 1:h=B.NC("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",d);break;case 2:h=B.NC("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",d)}var p={codePoint:f,reason:l.reason,inComment:l.inComment,inString:l.inString},v=B.NC("unicodeHighlight.adjustSettings","Adjust settings"),g="command:".concat(ke.ID,"?").concat(encodeURIComponent(JSON.stringify(p))),m=new i.W5("",!0).appendMarkdown(h).appendText(" ").appendLink(g,v);a.push(new y.hU(this,c.range,[m],s++))}}}catch(e){u.e(e)}finally{u.f()}return a}},{key:"renderHoverParts",value:function(e,t){return(0,y.c)(e,t,this._editor,this._languageService,this._openerService)}}]),e}();function pe(e){return"U+".concat(e.toString(16).padStart(4,"0"))}function ve(e){var t="`".concat(pe(e),"`");return u.vU.isInvisibleCharacter(e)||(t+=' "'.concat("".concat(function(e){if(96===e)return"`` ` ``";return"`"+String.fromCodePoint(e)+"`"}(e)),'"')),t}function ge(e,t){return d.a.computeUnicodeHighlightReason(e,t)}he=ae([se(1,p.O),se(2,V.v4)],he);var ye=function(){function e(){Q(this,e),this.map=new Map}return $(e,[{key:"getDecorationFromOptions",value:function(e){return this.getDecoration(!e.includeComments,!e.includeStrings)}},{key:"getDecoration",value:function(e,t){var n="".concat(e).concat(t),r=this.map.get(n);return r||(r=f.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:e,hideInStringTokens:t}),this.map.set(n,r)),r}}]),e}();ye.instance=new ye;var me=function(e){ee(n,e);var t=ne(n);function n(){var e;return Q(this,n),(e=t.call(this,{id:_e.ID,label:B.NC("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0})).shortLabel=B.NC("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments"),e}return $(n,[{key:"run",value:function(e,t,n){return ue(this,void 0,void 0,K().mark((function t(){var n;return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=null==e?void 0:e.get(G.Ui))&&this.runAction(n);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"runAction",value:function(e){return ue(this,void 0,void 0,K().mark((function t(){return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateValue(l.qt.includeComments,!1,2);case 2:case"end":return t.stop()}}),t)})))}}]),n}(c.R6),be=function(e){ee(n,e);var t=ne(n);function n(){var e;return Q(this,n),(e=t.call(this,{id:_e.ID,label:B.NC("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0})).shortLabel=B.NC("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings"),e}return $(n,[{key:"run",value:function(e,t,n){return ue(this,void 0,void 0,K().mark((function t(){var n;return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=null==e?void 0:e.get(G.Ui))&&this.runAction(n);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"runAction",value:function(e){return ue(this,void 0,void 0,K().mark((function t(){return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateValue(l.qt.includeStrings,!1,2);case 2:case"end":return t.stop()}}),t)})))}}]),n}(c.R6),_e=function(e){ee(n,e);var t=ne(n);function n(){var e;return Q(this,n),(e=t.call(this,{id:n.ID,label:B.NC("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0})).shortLabel=B.NC("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight"),e}return $(n,[{key:"run",value:function(e,t,n){return ue(this,void 0,void 0,K().mark((function t(){var n;return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=null==e?void 0:e.get(G.Ui))&&this.runAction(n);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"runAction",value:function(e){return ue(this,void 0,void 0,K().mark((function t(){return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateValue(l.qt.ambiguousCharacters,!1,2);case 2:case"end":return t.stop()}}),t)})))}}]),n}(c.R6);_e.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";var we=function(e){ee(n,e);var t=ne(n);function n(){var e;return Q(this,n),(e=t.call(this,{id:n.ID,label:B.NC("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0})).shortLabel=B.NC("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight"),e}return $(n,[{key:"run",value:function(e,t,n){return ue(this,void 0,void 0,K().mark((function t(){var n;return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=null==e?void 0:e.get(G.Ui))&&this.runAction(n);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"runAction",value:function(e){return ue(this,void 0,void 0,K().mark((function t(){return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateValue(l.qt.invisibleCharacters,!1,2);case 2:case"end":return t.stop()}}),t)})))}}]),n}(c.R6);we.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";var Se=function(e){ee(n,e);var t=ne(n);function n(){var e;return Q(this,n),(e=t.call(this,{id:n.ID,label:B.NC("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0})).shortLabel=B.NC("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight"),e}return $(n,[{key:"run",value:function(e,t,n){return ue(this,void 0,void 0,K().mark((function t(){var n;return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=null==e?void 0:e.get(G.Ui))&&this.runAction(n);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"runAction",value:function(e){return ue(this,void 0,void 0,K().mark((function t(){return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateValue(l.qt.nonBasicASCII,!1,2);case 2:case"end":return t.stop()}}),t)})))}}]),n}(c.R6);Se.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";var ke=function(e){ee(n,e);var t=ne(n);function n(){return Q(this,n),t.call(this,{id:n.ID,label:B.NC("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}return $(n,[{key:"run",value:function(e,t,n){return ue(this,void 0,void 0,K().mark((function t(){var r,o,i,a,s,c,l,f,d,h,p,v,g,y,m,b,_,w,S=this;return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f=function(e){return u.vU.isInvisibleCharacter(e)?B.NC("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",pe(e)):B.NC("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted","".concat(pe(e),' "').concat(s,'"'))},r=n.codePoint,o=n.reason,i=n.inString,a=n.inComment,s=String.fromCodePoint(r),c=e.get(U.eJ),l=e.get(G.Ui),d=[],0!==o.kind){t.next=23;break}h=q(o.notAmbiguousInLocales),t.prev=8,v=K().mark((function e(){var t;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=p.value,d.push({label:B.NC("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',t),run:function(){return ue(S,void 0,void 0,K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xe(l,[t]);case 1:case"end":return e.stop()}}),e)})))}});case 2:case"end":return e.stop()}}),e)})),h.s();case 11:if((p=h.n()).done){t.next=15;break}return t.delegateYield(v(),"t0",13);case 13:t.next=11;break;case 15:t.next=20;break;case 17:t.prev=17,t.t1=t.catch(8),h.e(t.t1);case 20:return t.prev=20,h.f(),t.finish(20);case 23:return d.push({label:f(r),run:function(){return Ce(l,[r])}}),a?(g=new me,d.push({label:g.label,run:function(){return ue(S,void 0,void 0,K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g.runAction(l));case 1:case"end":return e.stop()}}),e)})))}})):i&&(y=new be,d.push({label:y.label,run:function(){return ue(S,void 0,void 0,K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y.runAction(l));case 1:case"end":return e.stop()}}),e)})))}})),0===o.kind?(m=new _e,d.push({label:m.label,run:function(){return ue(S,void 0,void 0,K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.runAction(l));case 1:case"end":return e.stop()}}),e)})))}})):1===o.kind?(b=new we,d.push({label:b.label,run:function(){return ue(S,void 0,void 0,K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.runAction(l));case 1:case"end":return e.stop()}}),e)})))}})):2===o.kind?(_=new Se,d.push({label:_.label,run:function(){return ue(S,void 0,void 0,K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.runAction(l));case 1:case"end":return e.stop()}}),e)})))}})):Le(o),t.next=28,c.pick(d,{title:B.NC("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});case 28:if(!(w=t.sent)){t.next=32;break}return t.next=32,w.run();case 32:case"end":return t.stop()}}),t,null,[[8,17,20,23]])})))}}]),n}(c.R6);function Ce(e,t){return ue(this,void 0,void 0,K().mark((function n(){var r,o,i,a,s;return K().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.getValue(l.qt.allowedCharacters),o="object"===ie(r)&&r?r:{},i=q(t);try{for(i.s();!(a=i.n()).done;)s=a.value,o[String.fromCodePoint(s)]=!0}catch(e){i.e(e)}finally{i.f()}return n.next=6,e.updateValue(l.qt.allowedCharacters,o,2);case 6:case"end":return n.stop()}}),n)})))}function xe(e,t){var n;return ue(this,void 0,void 0,K().mark((function r(){var o,i,a,s,u;return K().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=null===(n=e.inspect(l.qt.allowedLocales).user)||void 0===n?void 0:n.value,i="object"===ie(o)&&o?Object.assign({},o):{},a=q(t);try{for(a.s();!(s=a.n()).done;)u=s.value,i[u]=!0}catch(e){a.e(e)}finally{a.f()}return r.next=6,e.updateValue(l.qt.allowedLocales,i,2);case 6:case"end":return r.stop()}}),r)})))}function Le(e){throw new Error("Unexpected value: ".concat(e))}ke.ID="editor.action.unicodeHighlight.showExcludeOptions",(0,c.Qr)(_e),(0,c.Qr)(we),(0,c.Qr)(Se),(0,c.Qr)(ke),(0,c._K)(le.ID,le),g.Ae.register(he)},99685:(e,t,n)=>{n.r(t),n.d(t,{UnusualLineTerminatorsDetector:()=>S});var r=n(38709),o=n(81993),i=n(18679),a=n(37845),s=n(18063),u=n(1519);function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),s=new O(o||[]);return r(a,"_invoke",{value:k(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function p(){}function g(){}var y={};u(y,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(E([])));b&&b!==t&&n.call(b,i)&&(y=b);var _=g.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function o(r,i,a,s){var u=f(e[r],e,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==v(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=f(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=g,r(_,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:p,configurable:!0}),p.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),u(_,s,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===v(i)?i:String(i)),r)}var o,i}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}var g=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":v(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=function(e,t){return function(n,r){t(n,r,e)}},m=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},b="ignoreUnusualLineTerminators";function _(e,t,n){e.setModelProperty(t.uri,b,n)}function w(e,t){return e.getModelProperty(t.uri,b)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(a,e);var t,n,r,i=d(a);function a(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this))._editor=e,r._dialogService=t,r._codeEditorService=n,r._config=r._editor.getOption(116),r._register(r._editor.onDidChangeConfiguration((function(e){e.hasChanged(116)&&(r._config=r._editor.getOption(116),r._checkForUnusualLineTerminators())}))),r._register(r._editor.onDidChangeModel((function(){r._checkForUnusualLineTerminators()}))),r._register(r._editor.onDidChangeModelContent((function(e){e.isUndoing||r._checkForUnusualLineTerminators()}))),r}return t=a,(n=[{key:"_checkForUnusualLineTerminators",value:function(){return m(this,void 0,void 0,c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("off"!==this._config){e.next=2;break}return e.abrupt("return");case 2:if(this._editor.hasModel()){e.next=4;break}return e.abrupt("return");case 4:if((t=this._editor.getModel()).mightContainUnusualLineTerminators()){e.next=7;break}return e.abrupt("return");case 7:if(!0!==w(this._codeEditorService,t)){e.next=10;break}return e.abrupt("return");case 10:if(!this._editor.getOption(83)){e.next=12;break}return e.abrupt("return");case 12:if("auto"!==this._config){e.next=15;break}return t.removeUnusualLineTerminators(this._editor.getSelections()),e.abrupt("return");case 15:return e.next=17,this._dialogService.confirm({title:s.NC("unusualLineTerminators.title","Unusual Line Terminators"),message:s.NC("unusualLineTerminators.message","Detected unusual line terminators"),detail:s.NC("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,o.EZ)(t.uri)),primaryButton:s.NC("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:s.NC("unusualLineTerminators.ignore","Ignore")});case 17:if(e.sent.confirmed){e.next=21;break}return _(this._codeEditorService,t,!0),e.abrupt("return");case 21:t.removeUnusualLineTerminators(this._editor.getSelections());case 22:case"end":return e.stop()}}),e,this)})))}}])&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.JT);S.ID="editor.contrib.unusualLineTerminatorsDetector",S=g([y(1,u.S),y(2,a.$)],S),(0,i._K)(S.ID,S)},41209:(e,t,n)=>{n.r(t);var r=n(95295),o=n(38709),i=n(18679),a=n(72013),s=n(76758),u=n(2545),c=n(3634),l=n(4537),f=n(38656),d=n(75758),h=n(16769),p=n(31213);function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===S(i)?i:String(i)),r)}var o,i}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}var k=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":S(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},C=function(e,t){return function(n,r){t(n,r,e)}},x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(s,e);var t,n,o,i=b(s);function s(e,t,n,o,a,c){var l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(l=i.call(this))._modelService=t,l._themeService=n,l._configurationService=o,l._editor=e,l._provider=c.documentRangeSemanticTokensProvider,l._debounceInformation=a.for(l._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),l._tokenizeViewport=l._register(new r.pY((function(){return l._tokenizeViewportNow()}),100)),l._outstandingRequests=[];var f=function(){l._editor.hasModel()&&l._tokenizeViewport.schedule(l._debounceInformation.get(l._editor.getModel()))};return l._register(l._editor.onDidScrollChange((function(){f()}))),l._register(l._editor.onDidChangeModel((function(){l._cancelAll(),f()}))),l._register(l._editor.onDidChangeModelContent((function(e){l._cancelAll(),f()}))),l._register(l._provider.onDidChange((function(){l._cancelAll(),f()}))),l._register(l._configurationService.onDidChangeConfiguration((function(e){e.affectsConfiguration(u.e3)&&(l._cancelAll(),f())}))),l._register(l._themeService.onDidColorThemeChange((function(){l._cancelAll(),f()}))),l}return t=s,(n=[{key:"_cancelAll",value:function(){var e,t=v(this._outstandingRequests);try{for(t.s();!(e=t.n()).done;)e.value.cancel()}catch(e){t.e(e)}finally{t.f()}this._outstandingRequests=[]}},{key:"_removeOutstandingRequest",value:function(e){for(var t=0,n=this._outstandingRequests.length;t<n;t++)if(this._outstandingRequests[t]===e)return void this._outstandingRequests.splice(t,1)}},{key:"_tokenizeViewportNow",value:function(){var e=this;if(this._editor.hasModel()){var t=this._editor.getModel();if(!t.tokenization.hasCompleteSemanticTokens())if((0,u.tw)(t,this._themeService,this._configurationService))if((0,a.KO)(this._provider,t)){var n=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(n.map((function(n){return e._requestRange(t,n)})))}else t.tokenization.hasSomeSemanticTokens()&&t.tokenization.setSemanticTokens(null,!1);else t.tokenization.hasSomeSemanticTokens()&&t.tokenization.setSemanticTokens(null,!1)}}},{key:"_requestRange",value:function(e,t){var n=this,o=e.getVersionId(),i=(0,r.PG)((function(r){return Promise.resolve((0,a.OG)(n._provider,e,t,r))})),s=new h.G(!1);return i.then((function(r){if(n._debounceInformation.update(e,s.elapsed()),r&&r.tokens&&!e.isDisposed()&&e.getVersionId()===o){var i=r.provider,a=r.tokens,u=n._modelService.getSemanticTokensProviderStyling(i);e.tokenization.setPartialSemanticTokens(t,(0,c.h)(a,u,e.getLanguageId()))}})).then((function(){return n._removeOutstandingRequest(i)}),(function(){return n._removeOutstandingRequest(i)})),i}}])&&y(t.prototype,n),o&&y(t,o),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.JT);x.ID="editor.contrib.viewportSemanticTokens",x=k([C(1,s.q),C(2,f.XE),C(3,l.Ui),C(4,d.A),C(5,p.p)],x),(0,i._K)(x.ID,x)},92463:(e,t,n)=>{n.r(t),n.d(t,{getOccurrencesAtPosition:()=>V});var r=n(61041),o=n(86193),i=n(95295),a=n(2307),s=n(95835),u=n(38709),c=n(18679),l=n(48466),f=n(25112),d=n(65498),h=n(3817),p=n(87116),v=n(18063),g=n(73589),y=n(41367),m=n(38656),b=n(31213),_=n(78554);function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=C(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},k.apply(this,arguments)}function C(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===T(i)?i:String(i)),r)}var o,i}function R(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}var j=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":T(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},A=function(e,t){return function(n,r){t(n,r,e)}},D=(0,y.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},v.NC("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),M=(0,y.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},v.NC("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),F=(0,y.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:y.xL1,hcLight:y.xL1},v.NC("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),W=(0,y.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:y.xL1,hcLight:y.xL1},v.NC("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),H=(0,y.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},v.NC("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),B=(0,y.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},v.NC("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),G=new g.uy("hasWordHighlights",!1);function V(e,t,n,r){var a=e.ordered(t);return(0,i.Ps)(a.map((function(e){return function(){return Promise.resolve(e.provideDocumentHighlights(t,n,r)).then(void 0,s.Cp)}})),o.Of)}var U=function(){function e(t,n,r){N(this,e),this._model=t,this._selection=n,this._wordSeparators=r,this._wordRange=this._getCurrentWordRange(t,n),this._result=null}return R(e,[{key:"result",get:function(){var e=this;return this._result||(this._result=(0,i.PG)((function(t){return e._compute(e._model,e._selection,e._wordSeparators,t)}))),this._result}},{key:"_getCurrentWordRange",value:function(e,t){var n=e.getWordAtPosition(t.getPosition());return n?new l.e(t.startLineNumber,n.startColumn,t.startLineNumber,n.endColumn):null}},{key:"isValid",value:function(e,t,n){for(var r=t.startLineNumber,o=t.startColumn,i=t.endColumn,a=this._getCurrentWordRange(e,t),s=Boolean(this._wordRange&&this._wordRange.equalsRange(a)),u=0,c=n.length;!s&&u<c;u++){var l=n.getRange(u);l&&l.startLineNumber===r&&l.startColumn<=o&&l.endColumn>=i&&(s=!0)}return s}},{key:"cancel",value:function(){this.result.cancel()}}]),e}(),z=function(e){x(n,e);var t=O(n);function n(e,r,o,i){var a;return N(this,n),(a=t.call(this,e,r,o))._providers=i,a}return R(n,[{key:"_compute",value:function(e,t,n,r){return V(this._providers,e,t.getPosition(),r).then((function(e){return e||[]}))}}]),n}(U),K=function(e){x(n,e);var t=O(n);function n(e,r,o){var i;return N(this,n),(i=t.call(this,e,r,o))._selectionIsEmpty=r.isEmpty(),i}return R(n,[{key:"_compute",value:function(e,t,n,r){return(0,i.Vs)(250,r).then((function(){if(!t.isEmpty())return[];var r=e.getWordAtPosition(t.getPosition());return!r||r.word.length>1e3?[]:e.findMatches(r.word,!0,!1,!0,n,!1).map((function(e){return{range:e.range,kind:p.MY.Text}}))}))}},{key:"isValid",value:function(e,t,r){var o=t.isEmpty();return this._selectionIsEmpty===o&&k(P(n.prototype),"isValid",this).call(this,e,t,r)}}]),n}(U);(0,c.sb)("_executeDocumentHighlights",(function(e,t,n){return V(e.get(b.p).documentHighlightProvider,t,n,a.T.None)}));var q=function(){function e(t,n,r){var o=this;N(this,e),this.toUnhook=new u.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=t,this.providers=n,this._hasWordHighlights=G.bindTo(r),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(74),this.model=this.editor.getModel(),this.toUnhook.add(t.onDidChangeCursorPosition((function(e){o._ignorePositionChangeEvent||o.occurrencesHighlight&&o._onPositionChanged(e)}))),this.toUnhook.add(t.onDidChangeModelContent((function(e){o._stopAll()}))),this.toUnhook.add(t.onDidChangeConfiguration((function(e){var t=o.editor.getOption(74);o.occurrencesHighlight!==t&&(o.occurrencesHighlight=t,o._stopAll())}))),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}return R(e,[{key:"hasDecorations",value:function(){return this.decorations.length>0}},{key:"restore",value:function(){this.occurrencesHighlight&&this._run()}},{key:"_getSortedHighlights",value:function(){return this.decorations.getRanges().sort(l.e.compareRangesUsingStarts)}},{key:"moveNext",value:function(){var e=this,t=this._getSortedHighlights(),n=(t.findIndex((function(t){return t.containsPosition(e.editor.getPosition())}))+1)%t.length,o=t[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o);var i=this._getWord();if(i){var a=this.editor.getModel().getLineContent(o.startLineNumber);(0,r.Z9)("".concat(a,", ").concat(n+1," of ").concat(t.length," for '").concat(i.word,"'"))}}finally{this._ignorePositionChangeEvent=!1}}},{key:"moveBack",value:function(){var e=this,t=this._getSortedHighlights(),n=(t.findIndex((function(t){return t.containsPosition(e.editor.getPosition())}))-1+t.length)%t.length,o=t[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o);var i=this._getWord();if(i){var a=this.editor.getModel().getLineContent(o.startLineNumber);(0,r.Z9)("".concat(a,", ").concat(n+1," of ").concat(t.length," for '").concat(i.word,"'"))}}finally{this._ignorePositionChangeEvent=!1}}},{key:"_removeDecorations",value:function(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}},{key:"_stopAll",value:function(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}},{key:"_onPositionChanged",value:function(e){this.occurrencesHighlight&&3===e.reason?this._run():this._stopAll()}},{key:"_getWord",value:function(){var e=this.editor.getSelection(),t=e.startLineNumber,n=e.startColumn;return this.model.getWordAtPosition({lineNumber:t,column:n})}},{key:"_run",value:function(){var e=this,t=this.editor.getSelection();if(t.startLineNumber===t.endLineNumber){var n=t.startColumn,r=t.endColumn,o=this._getWord();if(!o||o.startColumn>n||o.endColumn<r)this._stopAll();else{var i,a,u,c,l=this.workerRequest&&this.workerRequest.isValid(this.model,t,this.decorations);if(this.lastCursorPositionChangeTime=(new Date).getTime(),l)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();var f=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=(i=this.providers,a=this.model,u=this.editor.getSelection(),c=this.editor.getOption(119),i.has(a)?new z(a,u,c,i):new K(a,u,c)),this.workerRequest.result.then((function(t){f===e.workerRequestTokenId&&(e.workerRequestCompleted=!0,e.workerRequestValue=t||[],e._beginRenderDecorations())}),s.dL)}}}else this._stopAll()}},{key:"_beginRenderDecorations",value:function(){var e=this,t=(new Date).getTime(),n=this.lastCursorPositionChangeTime+250;t>=n?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout((function(){e.renderDecorations()}),n-t)}},{key:"renderDecorations",value:function(){this.renderDecorationsTimer=-1;var t,n=[],r=w(this.workerRequestValue);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.range&&n.push({range:o.range,options:e._getDecorationOptions(o.kind)})}}catch(e){r.e(e)}finally{r.f()}this.decorations.set(n),this._hasWordHighlights.set(this.hasDecorations())}},{key:"dispose",value:function(){this._stopAll(),this.toUnhook.dispose()}}],[{key:"_getDecorationOptions",value:function(e){return e===p.MY.Write?this._WRITE_OPTIONS:e===p.MY.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}}]),e}();q._WRITE_OPTIONS=h.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,m.EN)(B),position:d.sh.Center},minimap:{color:(0,m.EN)(y.IYc),position:d.F5.Inline}}),q._TEXT_OPTIONS=h.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,m.EN)(y.SPM),position:d.sh.Center},minimap:{color:(0,m.EN)(y.IYc),position:d.F5.Inline}}),q._REGULAR_OPTIONS=h.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,m.EN)(H),position:d.sh.Center},minimap:{color:(0,m.EN)(y.IYc),position:d.F5.Inline}});var Y=function(e){x(n,e);var t=O(n);function n(e,r,o){var i;N(this,n),(i=t.call(this)).wordHighlighter=null;var a=function(){e.hasModel()&&(i.wordHighlighter=new q(e,o.documentHighlightProvider,r))};return i._register(e.onDidChangeModel((function(e){i.wordHighlighter&&(i.wordHighlighter.dispose(),i.wordHighlighter=null),a()}))),a(),i}return R(n,[{key:"saveViewState",value:function(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}},{key:"moveNext",value:function(){this.wordHighlighter&&this.wordHighlighter.moveNext()}},{key:"moveBack",value:function(){this.wordHighlighter&&this.wordHighlighter.moveBack()}},{key:"restoreViewState",value:function(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}},{key:"dispose",value:function(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),k(P(n.prototype),"dispose",this).call(this)}}],[{key:"get",value:function(e){return e.getContribution(n.ID)}}]),n}(u.JT);Y.ID="editor.contrib.wordHighlighter",Y=j([A(1,g.i6),A(2,b.p)],Y);var Q=function(e){x(n,e);var t=O(n);function n(e,r){var o;return N(this,n),(o=t.call(this,r))._isNext=e,o}return R(n,[{key:"run",value:function(e,t){var n=Y.get(t);n&&(this._isNext?n.moveNext():n.moveBack())}}]),n}(c.R6),Z=function(e){x(n,e);var t=O(n);function n(){return N(this,n),t.call(this,!0,{id:"editor.action.wordHighlight.next",label:v.NC("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:G,kbOpts:{kbExpr:f.u.editorTextFocus,primary:65,weight:100}})}return R(n)}(Q),$=function(e){x(n,e);var t=O(n);function n(){return N(this,n),t.call(this,!1,{id:"editor.action.wordHighlight.prev",label:v.NC("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:G,kbOpts:{kbExpr:f.u.editorTextFocus,primary:1089,weight:100}})}return R(n)}(Q),J=function(e){x(n,e);var t=O(n);function n(){return N(this,n),t.call(this,{id:"editor.action.wordHighlight.trigger",label:v.NC("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:G.toNegated(),kbOpts:{kbExpr:f.u.editorTextFocus,primary:0,weight:100}})}return R(n,[{key:"run",value:function(e,t,n){var r=Y.get(t);r&&r.restoreViewState(!0)}}]),n}(c.R6);(0,c._K)(Y.ID,Y),(0,c.Qr)(Z),(0,c.Qr)($),(0,c.Qr)(J),(0,m.Ic)((function(e,t){var n=e.getColor(y.Rzx);n&&(t.addRule(".monaco-editor .focused .selectionHighlight { background-color: ".concat(n,"; }")),t.addRule(".monaco-editor .selectionHighlight { background-color: ".concat(n.transparent(.5),"; }")));var r=e.getColor(D);r&&t.addRule(".monaco-editor .wordHighlight { background-color: ".concat(r,"; }"));var o=e.getColor(M);o&&t.addRule(".monaco-editor .wordHighlightStrong { background-color: ".concat(o,"; }"));var i=e.getColor(y.g_n);i&&t.addRule(".monaco-editor .selectionHighlight { border: 1px ".concat((0,_.c3)(e.type)?"dotted":"solid"," ").concat(i,"; box-sizing: border-box; }"));var a=e.getColor(F);a&&t.addRule(".monaco-editor .wordHighlight { border: 1px ".concat((0,_.c3)(e.type)?"dashed":"solid"," ").concat(a,"; box-sizing: border-box; }"));var s=e.getColor(W);s&&t.addRule(".monaco-editor .wordHighlightStrong { border: 1px ".concat((0,_.c3)(e.type)?"dashed":"solid"," ").concat(s,"; box-sizing: border-box; }"))}))},74026:(e,t,n)=>{n.r(t),n.d(t,{CursorWordAccessibilityLeft:()=>F,CursorWordAccessibilityLeftSelect:()=>W,CursorWordAccessibilityRight:()=>K,CursorWordAccessibilityRightSelect:()=>q,CursorWordEndLeft:()=>T,CursorWordEndLeftSelect:()=>D,CursorWordEndRight:()=>B,CursorWordEndRightSelect:()=>U,CursorWordLeft:()=>j,CursorWordLeftSelect:()=>M,CursorWordRight:()=>G,CursorWordRightSelect:()=>z,CursorWordStartLeft:()=>R,CursorWordStartLeftSelect:()=>A,CursorWordStartRight:()=>H,CursorWordStartRightSelect:()=>V,DeleteInsideWord:()=>re,DeleteWordCommand:()=>Y,DeleteWordEndLeft:()=>J,DeleteWordEndRight:()=>te,DeleteWordLeft:()=>X,DeleteWordLeftCommand:()=>Q,DeleteWordRight:()=>ne,DeleteWordRightCommand:()=>Z,DeleteWordStartLeft:()=>$,DeleteWordStartRight:()=>ee,MoveWordCommand:()=>P,WordLeftCommand:()=>N,WordRightCommand:()=>I});var r=n(18679),o=n(25099),i=n(97277),a=n(95272),s=n(69304),u=n(14966),c=n(51638),l=n(48466),f=n(85963),d=n(25112),h=n(77846),p=n(18063),v=n(43238),g=n(73589),y=n(57236);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=_(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},b.apply(this,arguments)}function _(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===m(i)?i:String(i)),r)}var o,i}function k(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var P=function(e){C(n,e);var t=L(n);function n(e){var r;return w(this,n),(r=t.call(this,e))._inSelectionMode=e.inSelectionMode,r._wordNavigationType=e.wordNavigationType,r}return k(n,[{key:"runEditorCommand",value:function(e,t,n){var r=this;if(t.hasModel()){var o=(0,u.u)(t.getOption(119)),i=t.getModel(),s=t.getSelections().map((function(e){var t=new c.L(e.positionLineNumber,e.positionColumn),n=r._move(o,i,t,r._wordNavigationType);return r._moveTo(e,n,r._inSelectionMode)}));if(i.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,s.map((function(e){return a.Vi.fromModelSelection(e)}))),1===s.length){var l=new c.L(s[0].positionLineNumber,s[0].positionColumn);t.revealPosition(l,0)}}}},{key:"_moveTo",value:function(e,t,n){return n?new f.Y(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new f.Y(t.lineNumber,t.column,t.lineNumber,t.column)}}]),n}(r._l),N=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.apply(this,arguments)}return k(n,[{key:"_move",value:function(e,t,n,r){return s.w.moveWordLeft(e,t,n,r)}}]),n}(P),I=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.apply(this,arguments)}return k(n,[{key:"_move",value:function(e,t,n,r){return s.w.moveWordRight(e,t,n,r)}}]),n}(P),R=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}return k(n)}(N),T=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}return k(n)}(N),j=function(e){C(n,e);var t=L(n);function n(){var e;return w(this,n),t.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:g.Ao.and(d.u.textInputFocus,null===(e=g.Ao.and(v.U,y.cv))||void 0===e?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}return k(n)}(N),A=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}return k(n)}(N),D=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}return k(n)}(N),M=function(e){C(n,e);var t=L(n);function n(){var e;return w(this,n),t.call(this,{inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:g.Ao.and(d.u.textInputFocus,null===(e=g.Ao.and(v.U,y.cv))||void 0===e?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}return k(n)}(N),F=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}return k(n,[{key:"_move",value:function(e,t,r,o){return b(E(n.prototype),"_move",this).call(this,(0,u.u)(i.BH.wordSeparators.defaultValue),t,r,o)}}]),n}(N),W=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}return k(n,[{key:"_move",value:function(e,t,r,o){return b(E(n.prototype),"_move",this).call(this,(0,u.u)(i.BH.wordSeparators.defaultValue),t,r,o)}}]),n}(N),H=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}return k(n)}(I),B=function(e){C(n,e);var t=L(n);function n(){var e;return w(this,n),t.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:g.Ao.and(d.u.textInputFocus,null===(e=g.Ao.and(v.U,y.cv))||void 0===e?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}return k(n)}(I),G=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}return k(n)}(I),V=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}return k(n)}(I),U=function(e){C(n,e);var t=L(n);function n(){var e;return w(this,n),t.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:g.Ao.and(d.u.textInputFocus,null===(e=g.Ao.and(v.U,y.cv))||void 0===e?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}return k(n)}(I),z=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}return k(n)}(I),K=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}return k(n,[{key:"_move",value:function(e,t,r,o){return b(E(n.prototype),"_move",this).call(this,(0,u.u)(i.BH.wordSeparators.defaultValue),t,r,o)}}]),n}(I),q=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}return k(n,[{key:"_move",value:function(e,t,r,o){return b(E(n.prototype),"_move",this).call(this,(0,u.u)(i.BH.wordSeparators.defaultValue),t,r,o)}}]),n}(I),Y=function(e){C(n,e);var t=L(n);function n(e){var r;return w(this,n),(r=t.call(this,e))._whitespaceHeuristics=e.whitespaceHeuristics,r._wordNavigationType=e.wordNavigationType,r}return k(n,[{key:"runEditorCommand",value:function(e,t,n){var r=this,i=e.get(h.c_);if(t.hasModel()){var a=(0,u.u)(t.getOption(119)),s=t.getModel(),c=t.getSelections(),l=t.getOption(5),f=t.getOption(8),d=i.getLanguageConfiguration(s.getLanguageId()).getAutoClosingPairs(),p=t._getViewModel(),v=c.map((function(e){var n=r._delete({wordSeparators:a,model:s,selection:e,whitespaceHeuristics:r._whitespaceHeuristics,autoClosingDelete:t.getOption(6),autoClosingBrackets:l,autoClosingQuotes:f,autoClosingPairs:d,autoClosedCharacters:p.getCursorAutoClosedCharacters()},r._wordNavigationType);return new o.T4(n,"")}));t.pushUndoStop(),t.executeCommands(this.id,v),t.pushUndoStop()}}}]),n}(r._l),Q=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.apply(this,arguments)}return k(n,[{key:"_delete",value:function(e,t){var n=s.w.deleteWordLeft(e,t);return n||new l.e(1,1,1,1)}}]),n}(Y),Z=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.apply(this,arguments)}return k(n,[{key:"_delete",value:function(e,t){var n=s.w.deleteWordRight(e,t);if(n)return n;var r=e.model.getLineCount(),o=e.model.getLineMaxColumn(r);return new l.e(r,o,r,o)}}]),n}(Y),$=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:d.u.writable})}return k(n)}(Q),J=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:d.u.writable})}return k(n)}(Q),X=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:d.u.writable,kbOpts:{kbExpr:d.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}return k(n)}(Q),ee=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:d.u.writable})}return k(n)}(Z),te=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:d.u.writable})}return k(n)}(Z),ne=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:d.u.writable,kbOpts:{kbExpr:d.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}return k(n)}(Z),re=function(e){C(n,e);var t=L(n);function n(){return w(this,n),t.call(this,{id:"deleteInsideWord",precondition:d.u.writable,label:p.NC("deleteInsideWord","Delete Word"),alias:"Delete Word"})}return k(n,[{key:"run",value:function(e,t,n){if(t.hasModel()){var r=(0,u.u)(t.getOption(119)),i=t.getModel(),a=t.getSelections().map((function(e){var t=s.w.deleteInsideWord(r,i,e);return new o.T4(t,"")}));t.pushUndoStop(),t.executeCommands(this.id,a),t.pushUndoStop()}}}]),n}(r.R6);(0,r.fK)(new R),(0,r.fK)(new T),(0,r.fK)(new j),(0,r.fK)(new A),(0,r.fK)(new D),(0,r.fK)(new M),(0,r.fK)(new H),(0,r.fK)(new B),(0,r.fK)(new G),(0,r.fK)(new V),(0,r.fK)(new U),(0,r.fK)(new z),(0,r.fK)(new F),(0,r.fK)(new W),(0,r.fK)(new K),(0,r.fK)(new q),(0,r.fK)(new $),(0,r.fK)(new J),(0,r.fK)(new X),(0,r.fK)(new ee),(0,r.fK)(new te),(0,r.fK)(new ne),(0,r.Qr)(re)},10693:(e,t,n)=>{n.r(t),n.d(t,{CursorWordPartLeft:()=>w,CursorWordPartLeftSelect:()=>S,CursorWordPartRight:()=>C,CursorWordPartRightSelect:()=>x,DeleteWordPartLeft:()=>m,DeleteWordPartRight:()=>b,WordPartLeftCommand:()=>_,WordPartRightCommand:()=>k});var r=n(18679),o=n(69304),i=n(48466),a=n(25112),s=n(74026),u=n(69349);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===c(i)?i:String(i)),r)}var o,i}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var m=function(e){h(n,e);var t=v(n);function n(){return l(this,n),t.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:a.u.writable,kbOpts:{kbExpr:a.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}return d(n,[{key:"_delete",value:function(e,t){var n=o.L.deleteWordPartLeft(e);return n||new i.e(1,1,1,1)}}]),n}(s.DeleteWordCommand),b=function(e){h(n,e);var t=v(n);function n(){return l(this,n),t.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:a.u.writable,kbOpts:{kbExpr:a.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}return d(n,[{key:"_delete",value:function(e,t){var n=o.L.deleteWordPartRight(e);if(n)return n;var r=e.model.getLineCount(),a=e.model.getLineMaxColumn(r);return new i.e(r,a,r,a)}}]),n}(s.DeleteWordCommand),_=function(e){h(n,e);var t=v(n);function n(){return l(this,n),t.apply(this,arguments)}return d(n,[{key:"_move",value:function(e,t,n,r){return o.L.moveWordPartLeft(e,t,n)}}]),n}(s.MoveWordCommand),w=function(e){h(n,e);var t=v(n);function n(){return l(this,n),t.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:a.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}return d(n)}(_);u.P0.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");var S=function(e){h(n,e);var t=v(n);function n(){return l(this,n),t.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:a.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}return d(n)}(_);u.P0.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");var k=function(e){h(n,e);var t=v(n);function n(){return l(this,n),t.apply(this,arguments)}return d(n,[{key:"_move",value:function(e,t,n,r){return o.L.moveWordPartRight(e,t,n)}}]),n}(s.MoveWordCommand),C=function(e){h(n,e);var t=v(n);function n(){return l(this,n),t.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:a.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}return d(n)}(k),x=function(e){h(n,e);var t=v(n);function n(){return l(this,n),t.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:a.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}return d(n)}(k);(0,r.fK)(new m),(0,r.fK)(new b),(0,r.fK)(new w),(0,r.fK)(new S),(0,r.fK)(new C),(0,r.fK)(new x)}}]);