"use strict";(self.webpackChunkmy_webpack_project=self.webpackChunkmy_webpack_project||[]).push([[712],{11829:(e,t,n)=>{e.exports=n(62101)},62101:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var d=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),h=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||d(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.BrowserMessageWriter=t.BrowserMessageReader=void 0,n(70095).default.install();var p=n(21687);h(n(21687),t);var v=function(e){s(n,e);var t=c(n);function n(e){var r;return i(this,n),(r=t.call(this))._onData=new p.Emitter,r._messageListener=function(e){r._onData.fire(e.data)},e.addEventListener("error",(function(e){return r.fireError(e)})),e.onmessage=r._messageListener,r}return a(n,[{key:"listen",value:function(e){return this._onData.event(e)}}]),n}(p.AbstractMessageReader);t.BrowserMessageReader=v;var y=function(e){s(n,e);var t=c(n);function n(e){var r;return i(this,n),(r=t.call(this)).context=e,r.errorCount=0,e.addEventListener("error",(function(e){return r.fireError(e)})),r}return a(n,[{key:"write",value:function(e){try{return this.context.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}},{key:"handleError",value:function(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}},{key:"end",value:function(){}}]),n}(p.AbstractMessageWriter);t.BrowserMessageWriter=y,t.createMessageConnection=function(e,t,n,r){return void 0===n&&(n=p.NullLogger),p.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,p.createMessageConnection)(e,t,n,r)}},70095:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}Object.defineProperty(t,"__esModule",{value:!0});var f=n(55935),d=n(23761),h=n(68368),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(n,e);var t=u(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8";return i(this,n),(e=t.call(this,r)).asciiDecoder=new TextDecoder("ascii"),e}return a(n,[{key:"emptyBuffer",value:function(){return n.emptyBuffer}},{key:"fromString",value:function(e,t){return(new TextEncoder).encode(e)}},{key:"toString",value:function(e,t){return"ascii"===t?this.asciiDecoder.decode(e):new TextDecoder(t).decode(e)}},{key:"asNative",value:function(e,t){return void 0===t?e:e.slice(0,t)}},{key:"allocNative",value:function(e){return new Uint8Array(e)}}]),n}(n(73196).AbstractMessageBuffer);p.emptyBuffer=new Uint8Array(0);var v=function(){function e(t){var n=this;i(this,e),this.socket=t,this._onData=new h.Emitter,this._messageListener=function(e){e.data.arrayBuffer().then((function(e){n._onData.fire(new Uint8Array(e))}),(function(){(0,f.default)().console.error("Converting blob to array buffer failed.")}))},this.socket.addEventListener("message",this._messageListener)}return a(e,[{key:"onClose",value:function(e){var t=this;return this.socket.addEventListener("close",e),d.Disposable.create((function(){return t.socket.removeEventListener("close",e)}))}},{key:"onError",value:function(e){var t=this;return this.socket.addEventListener("error",e),d.Disposable.create((function(){return t.socket.removeEventListener("error",e)}))}},{key:"onEnd",value:function(e){var t=this;return this.socket.addEventListener("end",e),d.Disposable.create((function(){return t.socket.removeEventListener("end",e)}))}},{key:"onData",value:function(e){return this._onData.event(e)}}]),e}(),y=function(){function e(t){i(this,e),this.socket=t}return a(e,[{key:"onClose",value:function(e){var t=this;return this.socket.addEventListener("close",e),d.Disposable.create((function(){return t.socket.removeEventListener("close",e)}))}},{key:"onError",value:function(e){var t=this;return this.socket.addEventListener("error",e),d.Disposable.create((function(){return t.socket.removeEventListener("error",e)}))}},{key:"onEnd",value:function(e){var t=this;return this.socket.addEventListener("end",e),d.Disposable.create((function(){return t.socket.removeEventListener("end",e)}))}},{key:"write",value:function(e,t){if("string"==typeof e){if(void 0!==t&&"utf-8"!==t)throw new Error("In a Browser environments only utf-8 text encoding is supported. But got encoding: ".concat(t));this.socket.send(e)}else this.socket.send(e);return Promise.resolve()}},{key:"end",value:function(){this.socket.close()}}]),e}(),g=new TextEncoder,m=Object.freeze({messageBuffer:Object.freeze({create:function(e){return new p(e)}}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:function(e,t){if("utf-8"!==t.charset)throw new Error("In a Browser environments only utf-8 text encoding is supported. But got encoding: ".concat(t.charset));return Promise.resolve(g.encode(JSON.stringify(e,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:function(e,t){if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(t.charset).decode(e)))}})}),stream:Object.freeze({asReadableStream:function(e){return new v(e)},asWritableStream:function(e){return new y(e)}}),console,timer:Object.freeze({setTimeout:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=setTimeout.apply(void 0,[e,t].concat(r));return{dispose:function(){return clearTimeout(o)}}})),setImmediate:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=setTimeout.apply(void 0,[e,0].concat(n));return{dispose:function(){return clearTimeout(i)}}},setInterval:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=setInterval.apply(void 0,[e,t].concat(r));return{dispose:function(){return clearInterval(o)}}}))})});function b(){return m}!function(e){e.install=function(){f.default.install(m)}}(b||(b={})),t.default=b},21687:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFormat=t.TraceValues=t.Trace=t.ProgressType=t.ProgressToken=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.LRUCache=t.Touch=t.LinkedMap=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.Message=t.RAL=void 0,t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=void 0;var r=n(139);Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return r.Message}}),Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return r.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return r.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return r.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return r.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return r.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return r.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return r.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return r.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return r.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return r.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return r.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return r.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return r.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return r.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return r.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return r.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return r.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return r.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return r.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return r.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return r.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return r.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return r.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return r.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return r.ParameterStructures}});var i=n(28896);Object.defineProperty(t,"LinkedMap",{enumerable:!0,get:function(){return i.LinkedMap}}),Object.defineProperty(t,"LRUCache",{enumerable:!0,get:function(){return i.LRUCache}}),Object.defineProperty(t,"Touch",{enumerable:!0,get:function(){return i.Touch}});var o=n(23761);Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return o.Disposable}});var a=n(68368);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return a.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return a.Emitter}});var s=n(73225);Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return s.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return s.CancellationToken}});var u=n(74181);Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return u.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return u.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return u.ReadableStreamMessageReader}});var c=n(65527);Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return c.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return c.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return c.WriteableStreamMessageWriter}});var l=n(76979);Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return l.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return l.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return l.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return l.createMessageConnection}}),Object.defineProperty(t,"ProgressToken",{enumerable:!0,get:function(){return l.ProgressToken}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return l.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return l.Trace}}),Object.defineProperty(t,"TraceValues",{enumerable:!0,get:function(){return l.TraceValues}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return l.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return l.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return l.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return l.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return l.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return l.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return l.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return l.CancellationStrategy}});var f=n(55935);t.RAL=f.default},73225:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.CancellationToken=void 0;var s,u=n(55935),c=n(78360),l=n(68368);!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:l.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:l.Event.None}),e.is=function(t){var n=t;return n&&(n===e.None||n===e.Cancelled||c.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(s=t.CancellationToken||(t.CancellationToken={}));var f=Object.freeze((function(e,t){var n=(0,u.default)().timer.setTimeout(e.bind(t),0);return{dispose:function(){n.dispose()}}})),d=function(){function e(){i(this,e),this._isCancelled=!1}return a(e,[{key:"cancel",value:function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}},{key:"isCancellationRequested",get:function(){return this._isCancelled}},{key:"onCancellationRequested",get:function(){return this._isCancelled?f:(this._emitter||(this._emitter=new l.Emitter),this._emitter.event)}},{key:"dispose",value:function(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}]),e}(),h=function(){function e(){i(this,e)}return a(e,[{key:"token",get:function(){return this._token||(this._token=new d),this._token}},{key:"cancel",value:function(){this._token?this._token.cancel():this._token=s.Cancelled}},{key:"dispose",value:function(){this._token?this._token instanceof d&&this._token.dispose():this._token=s.None}}]),e}();t.CancellationTokenSource=h},76979:(e,t,n)=>{function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function y(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,s)&&(g=b);var w=y.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,s,u){var c=d(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==o(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var a;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,i(w,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function i(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){var t="function"==typeof Map?new Map:void 0;return f=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return d(e,arguments,v(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)},f(e)}function d(e,t,n){return d=h()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&p(i,n.prototype),i},d.apply(null,arguments)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,a=void 0,a=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===o(a)?a:String(a)),r)}var i,a}function g(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=t.NullLogger=t.ProgressType=t.ProgressToken=void 0;var b,w,_,k=n(55935),S=n(78360),x=n(139),C=n(28896),E=n(68368),D=n(73225);!function(e){e.type=new x.NotificationType("$/cancelRequest")}(b||(b={})),function(e){e.is=function(e){return"string"==typeof e||"number"==typeof e}}(w=t.ProgressToken||(t.ProgressToken={})),function(e){e.type=new x.NotificationType("$/progress")}(_||(_={}));var T,P,O,R,I,L,j=g((function e(){m(this,e)}));t.ProgressType=j,function(e){e.is=function(e){return S.func(e)}}(T||(T={})),t.NullLogger=Object.freeze({error:function(){},warn:function(){},info:function(){},log:function(){}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"}(P=t.Trace||(t.Trace={})),function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"}(t.TraceValues||(t.TraceValues={})),function(e){e.fromString=function(t){if(!S.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":default:return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}}(P=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return S.string(t)&&"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(O=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new x.NotificationType("$/setTrace")}(R=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new x.NotificationType("$/logTrace")}(I=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(L=t.ConnectionErrors||(t.ConnectionErrors={}));var A,N,F,M,q,H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(i,e);var t,n,r=(t=i,n=h(),function(){var e,r=v(t);if(n){var i=v(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return c(this,e)});function i(e,t){var n;return m(this,i),(n=r.call(this,t)).code=e,Object.setPrototypeOf(l(n),i.prototype),n}return g(i)}(f(Error));t.ConnectionError=H,function(e){e.is=function(e){var t=e;return t&&S.func(t.cancelUndispatched)}}(A=t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e.Message=Object.freeze({createCancellationTokenSource:function(e){return new D.CancellationTokenSource}}),e.is=function(e){var t=e;return t&&S.func(t.createCancellationTokenSource)}}(N=t.CancellationReceiverStrategy||(t.CancellationReceiverStrategy={})),function(e){e.Message=Object.freeze({sendCancellation:function(e,t){return e.sendNotification(b.type,{id:t})},cleanup:function(e){}}),e.is=function(e){var t=e;return t&&S.func(t.sendCancellation)&&S.func(t.cleanup)}}(F=t.CancellationSenderStrategy||(t.CancellationSenderStrategy={})),function(e){e.Message=Object.freeze({receiver:N.Message,sender:F.Message}),e.is=function(e){var t=e;return t&&N.is(t.receiver)&&F.is(t.sender)}}(M=t.CancellationStrategy||(t.CancellationStrategy={})),function(e){e.is=function(e){var t=e;return t&&(M.is(t.cancellationStrategy)||A.is(t.connectionStrategy))}}(t.ConnectionOptions||(t.ConnectionOptions={})),function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(q||(q={})),t.createMessageConnection=function(e,n,u,c){var l,f,d=void 0!==u?u:t.NullLogger,h=0,p=0,v=0,y="2.0",g=void 0,m=new Map,j=void 0,A=new Map,N=new Map,F=new C.LinkedMap,W=new Map,U=new Set,K=new Map,$=P.Off,B=O.Text,V=q.New,z=new E.Emitter,G=new E.Emitter,J=new E.Emitter,Y=new E.Emitter,Q=new E.Emitter,Z=c&&c.cancellationStrategy?c.cancellationStrategy:M.Message;function X(e){if(null===e)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+e.toString()}function ee(e,t){var n;x.Message.isRequest(t)?e.set(X(t.id),t):x.Message.isResponse(t)?e.set(null===(n=t.id)?"res-unknown-"+(++v).toString():"res-"+n.toString(),t):e.set("not-"+(++p).toString(),t)}function te(e){}function ne(){return V===q.Listening}function re(){return V===q.Closed}function ie(){return V===q.Disposed}function oe(){V!==q.New&&V!==q.Listening||(V=q.Closed,G.fire(void 0))}function ae(){l||0===F.size||(l=(0,k.default)().timer.setImmediate((function(){l=void 0,function(){if(0===F.size)return;var e=F.shift();try{x.Message.isRequest(e)?function(e){if(ie())return;function t(t,r,i){var o={jsonrpc:y,id:e.id};t instanceof x.ResponseError?o.error=t.toJson():o.result=void 0===t?null:t,fe(o,r,i),n.write(o).catch((function(){return d.error("Sending response failed.")}))}function r(t,r,i){var o={jsonrpc:y,id:e.id,error:t.toJson()};fe(o,r,i),n.write(o).catch((function(){return d.error("Sending response failed.")}))}function i(t,r,i){void 0===t&&(t=null);var o={jsonrpc:y,id:e.id,result:t};fe(o,r,i),n.write(o).catch((function(){return d.error("Sending response failed.")}))}!function(e){if($===P.Off||!f)return;if(B===O.Text){var t=void 0;$!==P.Verbose&&$!==P.Compact||!e.params||(t="Params: ".concat(ue(e.params),"\n\n")),f.log("Received request '".concat(e.method," - (").concat(e.id,")'."),t)}else he("receive-request",e)}(e);var o,s,u=m.get(e.method);u&&(o=u.type,s=u.handler);var c=Date.now();if(s||g){var l,h=null!==(l=e.id)&&void 0!==l?l:String(Date.now()),p=Z.receiver.createCancellationTokenSource(h);null!==e.id&&U.has(e.id)&&p.cancel(),null!==e.id&&K.set(h,p);try{var v;if(s)if(void 0===e.params){if(void 0!==o&&0!==o.numberOfParams)return void r(new x.ResponseError(x.ErrorCodes.InvalidParams,"Request ".concat(e.method," defines ").concat(o.numberOfParams," params but received none.")),e.method,c);v=s(p.token)}else if(Array.isArray(e.params)){if(void 0!==o&&o.parameterStructures===x.ParameterStructures.byName)return void r(new x.ResponseError(x.ErrorCodes.InvalidParams,"Request ".concat(e.method," defines parameters by name but received parameters by position")),e.method,c);v=s.apply(void 0,a(e.params).concat([p.token]))}else{if(void 0!==o&&o.parameterStructures===x.ParameterStructures.byPosition)return void r(new x.ResponseError(x.ErrorCodes.InvalidParams,"Request ".concat(e.method," defines parameters by position but received parameters by name")),e.method,c);v=s(e.params,p.token)}else g&&(v=g(e.method,e.params,p.token));var b=v;v?b.then?b.then((function(n){K.delete(h),t(n,e.method,c)}),(function(t){K.delete(h),t instanceof x.ResponseError?r(t,e.method,c):t&&S.string(t.message)?r(new x.ResponseError(x.ErrorCodes.InternalError,"Request ".concat(e.method," failed with message: ").concat(t.message)),e.method,c):r(new x.ResponseError(x.ErrorCodes.InternalError,"Request ".concat(e.method," failed unexpectedly without providing any details.")),e.method,c)})):(K.delete(h),t(v,e.method,c)):(K.delete(h),i(v,e.method,c))}catch(n){K.delete(h),n instanceof x.ResponseError?t(n,e.method,c):n&&S.string(n.message)?r(new x.ResponseError(x.ErrorCodes.InternalError,"Request ".concat(e.method," failed with message: ").concat(n.message)),e.method,c):r(new x.ResponseError(x.ErrorCodes.InternalError,"Request ".concat(e.method," failed unexpectedly without providing any details.")),e.method,c)}}else r(new x.ResponseError(x.ErrorCodes.MethodNotFound,"Unhandled method ".concat(e.method)),e.method,c)}(e):x.Message.isNotification(e)?function(e){if(ie())return;var t,n=void 0;if(e.method===b.type.method){var r=e.params.id;return U.delete(r),void de(e)}var i=A.get(e.method);i&&(t=i.handler,n=i.type);if(t||j)try{if(de(e),t)if(void 0===e.params)void 0!==n&&0!==n.numberOfParams&&n.parameterStructures!==x.ParameterStructures.byName&&d.error("Notification ".concat(e.method," defines ").concat(n.numberOfParams," params but received none.")),t();else if(Array.isArray(e.params)){var o=e.params;e.method===_.type.method&&2===o.length&&w.is(o[0])?t({token:o[0],value:o[1]}):(void 0!==n&&(n.parameterStructures===x.ParameterStructures.byName&&d.error("Notification ".concat(e.method," defines parameters by name but received parameters by position")),n.numberOfParams!==e.params.length&&d.error("Notification ".concat(e.method," defines ").concat(n.numberOfParams," params but received ").concat(o.length," arguments"))),t.apply(void 0,a(o)))}else void 0!==n&&n.parameterStructures===x.ParameterStructures.byPosition&&d.error("Notification ".concat(e.method," defines parameters by position but received parameters by name")),t(e.params);else j&&j(e.method,e.params)}catch(t){t.message?d.error("Notification handler '".concat(e.method,"' failed with message: ").concat(t.message)):d.error("Notification handler '".concat(e.method,"' failed unexpectedly."))}else J.fire(e)}(e):x.Message.isResponse(e)?function(e){if(ie())return;if(null===e.id)e.error?d.error("Received response message without id: Error is: \n".concat(JSON.stringify(e.error,void 0,4))):d.error("Received response message without id. No further error information provided.");else{var t=e.id,n=W.get(t);if(function(e,t){if($===P.Off||!f)return;if(B===O.Text){var n=void 0;if($!==P.Verbose&&$!==P.Compact||(e.error&&e.error.data?n="Error data: ".concat(ue(e.error.data),"\n\n"):e.result?n="Result: ".concat(ue(e.result),"\n\n"):void 0===e.error&&(n="No result returned.\n\n")),t){var r=e.error?" Request failed: ".concat(e.error.message," (").concat(e.error.code,")."):"";f.log("Received response '".concat(t.method," - (").concat(e.id,")' in ").concat(Date.now()-t.timerStart,"ms.").concat(r),n)}else f.log("Received response ".concat(e.id," without active response promise."),n)}else he("receive-response",e)}(e,n),void 0!==n){W.delete(t);try{if(e.error){var r=e.error;n.reject(new x.ResponseError(r.code,r.message,r.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(r){r.message?d.error("Response handler '".concat(n.method,"' failed with message: ").concat(r.message)):d.error("Response handler '".concat(n.method,"' failed unexpectedly."))}}}}(e):function(e){if(!e)return void d.error("Received empty message.");d.error("Received message which is neither a response nor a notification message:\n".concat(JSON.stringify(e,null,4)));var t=e;if(S.string(t.id)||S.number(t.id)){var n=t.id,r=W.get(n);r&&r.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{ae()}}()})))}e.onClose(oe),e.onError((function(e){z.fire([e,void 0,void 0])})),n.onClose(oe),n.onError((function(e){z.fire(e)}));var se=function(e){try{if(x.Message.isNotification(e)&&e.method===b.type.method){var t=e.params.id,r=X(t),i=F.get(r);if(x.Message.isRequest(i)){var o=null==c?void 0:c.connectionStrategy,a=o&&o.cancelUndispatched?o.cancelUndispatched(i,te):void 0;if(a&&(void 0!==a.error||void 0!==a.result))return F.delete(r),K.delete(t),a.id=i.id,fe(a,e.method,Date.now()),void n.write(a).catch((function(){return d.error("Sending response for canceled message failed.")}))}var s=K.get(t);if(void 0!==s)return s.cancel(),void de(e);U.add(t)}ee(F,e)}finally{ae()}};function ue(e){if(null!=e)switch($){case P.Verbose:return JSON.stringify(e,null,4);case P.Compact:return JSON.stringify(e);default:return}}function ce(e){if($!==P.Off&&f)if(B===O.Text){var t=void 0;$!==P.Verbose&&$!==P.Compact||!e.params||(t="Params: ".concat(ue(e.params),"\n\n")),f.log("Sending request '".concat(e.method," - (").concat(e.id,")'."),t)}else he("send-request",e)}function le(e){if($!==P.Off&&f)if(B===O.Text){var t=void 0;$!==P.Verbose&&$!==P.Compact||(t=e.params?"Params: ".concat(ue(e.params),"\n\n"):"No parameters provided.\n\n"),f.log("Sending notification '".concat(e.method,"'."),t)}else he("send-notification",e)}function fe(e,t,n){if($!==P.Off&&f)if(B===O.Text){var r=void 0;$!==P.Verbose&&$!==P.Compact||(e.error&&e.error.data?r="Error data: ".concat(ue(e.error.data),"\n\n"):e.result?r="Result: ".concat(ue(e.result),"\n\n"):void 0===e.error&&(r="No result returned.\n\n")),f.log("Sending response '".concat(t," - (").concat(e.id,")'. Processing request took ").concat(Date.now()-n,"ms"),r)}else he("send-response",e)}function de(e){if($!==P.Off&&f&&e.method!==I.type.method)if(B===O.Text){var t=void 0;$!==P.Verbose&&$!==P.Compact||(t=e.params?"Params: ".concat(ue(e.params),"\n\n"):"No parameters provided.\n\n"),f.log("Received notification '".concat(e.method,"'."),t)}else he("receive-notification",e)}function he(e,t){if(f&&$!==P.Off){var n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};f.log(n)}}function pe(){if(re())throw new H(L.Closed,"Connection is closed.");if(ie())throw new H(L.Disposed,"Connection is disposed.")}function ve(){if(!ne())throw new Error("Call listen() first.")}function ye(e){return void 0===e?null:e}function ge(e){return null===e?void 0:e}function me(e){return null!=e&&!Array.isArray(e)&&"object"===o(e)}function be(e,t){switch(e){case x.ParameterStructures.auto:return me(t)?ge(t):[ye(t)];case x.ParameterStructures.byName:if(!me(t))throw new Error("Received parameters by name but param is not an object literal.");return ge(t);case x.ParameterStructures.byPosition:return[ye(t)];default:throw new Error("Unknown parameter structure ".concat(e.toString()))}}function we(e,t){var n,r=e.numberOfParams;switch(r){case 0:n=void 0;break;case 1:n=be(e.parameterStructures,t[0]);break;default:n=[];for(var i=0;i<t.length&&i<r;i++)n.push(ye(t[i]));if(t.length<r)for(var o=t.length;o<r;o++)n.push(null)}return n}var _e,ke,Se={sendNotification:function(e){var t,r;pe();for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(S.string(e)){t=e;var s=o[0],u=0,c=x.ParameterStructures.auto;x.ParameterStructures.is(s)&&(u=1,c=s);var l=o.length,f=l-u;switch(f){case 0:r=void 0;break;case 1:r=be(c,o[u]);break;default:if(c===x.ParameterStructures.byName)throw new Error("Received ".concat(f," parameters for 'by Name' notification parameter structure."));r=o.slice(u,l).map((function(e){return ye(e)}))}}else{var h=o;t=e.method,r=we(e,h)}var p={jsonrpc:y,method:t,params:r};return le(p),n.write(p).catch((function(){return d.error("Sending notification failed.")}))},onNotification:function(e,t){var n;return pe(),S.func(e)?j=e:t&&(S.string(e)?(n=e,A.set(e,{type:void 0,handler:t})):(n=e.method,A.set(e.method,{type:e,handler:t}))),{dispose:function(){void 0!==n?A.delete(n):j=void 0}}},onProgress:function(e,t,n){if(N.has(t))throw new Error("Progress handler for token ".concat(t," already registered"));return N.set(t,n),{dispose:function(){N.delete(t)}}},sendProgress:function(e,t,n){return Se.sendNotification(_.type,{token:t,value:n})},onUnhandledProgress:Y.event,sendRequest:function(e){var t,r;pe(),ve();for(var i=void 0,o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];if(S.string(e)){t=e;var u=a[0],c=a[a.length-1],l=0,f=x.ParameterStructures.auto;x.ParameterStructures.is(u)&&(l=1,f=u);var p=a.length;D.CancellationToken.is(c)&&(p-=1,i=c);var v=p-l;switch(v){case 0:r=void 0;break;case 1:r=be(f,a[l]);break;default:if(f===x.ParameterStructures.byName)throw new Error("Received ".concat(v," parameters for 'by Name' request parameter structure."));r=a.slice(l,p).map((function(e){return ye(e)}))}}else{var g=a;t=e.method,r=we(e,g);var m=e.numberOfParams;i=D.CancellationToken.is(g[m])?g[m]:void 0}var b,w=h++;i&&(b=i.onCancellationRequested((function(){var e=Z.sender.sendCancellation(Se,w);return void 0===e?(d.log("Received no promise from cancellation strategy when cancelling id ".concat(w)),Promise.resolve()):e.catch((function(){d.log("Sending cancellation messages for id ".concat(w," failed"))}))})));var _=new Promise((function(e,i){var o={jsonrpc:y,id:w,method:t,params:r},a={method:t,timerStart:Date.now(),resolve:function(t){var n;e(t),Z.sender.cleanup(w),null===(n=b)||void 0===n||n.dispose()},reject:function(e){var t;i(e),Z.sender.cleanup(w),null===(t=b)||void 0===t||t.dispose()}};ce(o);try{n.write(o).catch((function(){return d.error("Sending request failed.")}))}catch(e){a.reject(new x.ResponseError(x.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),a=null}a&&W.set(w,a)}));return _},onRequest:function(e,t){pe();var n=null;return T.is(e)?(n=void 0,g=e):S.string(e)?(n=null,void 0!==t&&(n=e,m.set(e,{handler:t,type:void 0}))):void 0!==t&&(n=e.method,m.set(e.method,{type:e,handler:t})),{dispose:function(){null!==n&&(void 0!==n?m.delete(n):g=void 0)}}},hasPendingResponse:function(){return W.size>0},trace:(_e=r().mark((function e(t,n,i){var o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!1,a=O.Text,void 0!==i&&(S.boolean(i)?o=i:(o=i.sendNotification||!1,a=i.traceFormat||O.Text)),B=a,f=($=t)===P.Off?void 0:n,!o||re()||ie()){e.next=9;break}return e.next=9,Se.sendNotification(R.type,{value:P.toString(t)});case 9:case"end":return e.stop()}}),e)})),ke=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=_e.apply(e,t);function a(e){i(o,n,r,a,s,"next",e)}function s(e){i(o,n,r,a,s,"throw",e)}a(void 0)}))},function(e,t,n){return ke.apply(this,arguments)}),onError:z.event,onClose:G.event,onUnhandledNotification:J.event,onDispose:Q.event,end:function(){n.end()},dispose:function(){if(!ie()){V=q.Disposed,Q.fire(void 0);var t,r=new x.ResponseError(x.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed"),i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(W.values());try{for(i.s();!(t=i.n()).done;){t.value.reject(r)}}catch(e){i.e(e)}finally{i.f()}W=new Map,K=new Map,U=new Set,F=new C.LinkedMap,S.func(n.dispose)&&n.dispose(),S.func(e.dispose)&&e.dispose()}},listen:function(){pe(),function(){if(ne())throw new H(L.AlreadyListening,"Connection is already listening")}(),V=q.Listening,e.listen(se)},inspect:function(){(0,k.default)().console.log("inspect")}};return Se.onNotification(I.type,(function(e){if($!==P.Off&&f){var t=$===P.Verbose||$===P.Compact;f.log(e.message,t?e.verbose:void 0)}})),Se.onNotification(_.type,(function(e){var t=N.get(e.token);t?t(e.value):Y.fire(e)})),Se}},23761:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Disposable=void 0,function(e){e.create=function(e){return{dispose:e}}}(t.Disposable||(t.Disposable={}))},68368:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;var s=n(55935);!function(e){var t={dispose:function(){}};e.None=function(){return t}}(t.Event||(t.Event={}));var u=function(){function e(){i(this,e)}return a(e,[{key:"add",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:function(){return t.remove(e,n)}})}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this._callbacks){for(var n=!1,r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}}},{key:"invoke",value:function(){if(!this._callbacks)return[];for(var e=[],t=this._callbacks.slice(0),n=this._contexts.slice(0),r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];for(var a=0,u=t.length;a<u;a++)try{e.push(t[a].apply(n[a],i))}catch(e){(0,s.default)().console.error(e)}return e}},{key:"isEmpty",value:function(){return!this._callbacks||0===this._callbacks.length}},{key:"dispose",value:function(){this._callbacks=void 0,this._contexts=void 0}}]),e}(),c=function(){function e(t){i(this,e),this._options=t}return a(e,[{key:"event",get:function(){var t=this;return this._event||(this._event=function(n,r,i){t._callbacks||(t._callbacks=new u),t._options&&t._options.onFirstListenerAdd&&t._callbacks.isEmpty()&&t._options.onFirstListenerAdd(t),t._callbacks.add(n,r);var o={dispose:function(){t._callbacks&&(t._callbacks.remove(n,r),o.dispose=e._noop,t._options&&t._options.onLastListenerRemove&&t._callbacks.isEmpty()&&t._options.onLastListenerRemove(t))}};return Array.isArray(i)&&i.push(o),o}),this._event}},{key:"fire",value:function(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}},{key:"dispose",value:function(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}]),e}();t.Emitter=c,c._noop=function(){}},78360:(e,t)=>{function n(e){return"string"==typeof e||e instanceof String}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=r,t.stringArray=function(e){return r(e)&&e.every((function(e){return n(e)}))}},28896:(e,t)=>{function n(){return n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},n.apply(this,arguments)}function r(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function v(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}var g,m;Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=t.LinkedMap=t.Touch=void 0,function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last}(m=t.Touch||(t.Touch={}));var b=function(e){function t(){h(this,t),this[g]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}return v(t,[{key:"clear",value:function(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}},{key:"isEmpty",value:function(){return!this._head&&!this._tail}},{key:"size",get:function(){return this._size}},{key:"first",get:function(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}},{key:"last",get:function(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}},{key:"has",value:function(e){return this._map.has(e)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.None,n=this._map.get(e);if(n)return t!==m.None&&this.touch(n,t),n.value}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.None,r=this._map.get(e);if(r)r.value=t,n!==m.None&&this.touch(r,n);else{switch(r={key:e,value:t,next:void 0,previous:void 0},n){case m.None:this.addItemLast(r);break;case m.First:this.addItemFirst(r);break;case m.Last:default:this.addItemLast(r)}this._map.set(e,r),this._size++}return this}},{key:"delete",value:function(e){return!!this.remove(e)}},{key:"remove",value:function(e){var t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}},{key:"shift",value:function(){if(this._head||this._tail){if(!this._head||!this._tail)throw new Error("Invalid list");var e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}}},{key:"forEach",value:function(e,t){for(var n=this._state,r=this._head;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}},{key:"keys",value:function(){var e,t=this,n=this._state,r=this._head,i=(d(e={},Symbol.iterator,(function(){return i})),d(e,"next",(function(){if(t._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){var e={value:r.key,done:!1};return r=r.next,e}return{value:void 0,done:!0}})),e);return i}},{key:"values",value:function(){var e,t=this,n=this._state,r=this._head,i=(d(e={},Symbol.iterator,(function(){return i})),d(e,"next",(function(){if(t._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){var e={value:r.value,done:!1};return r=r.next,e}return{value:void 0,done:!0}})),e);return i}},{key:"entries",value:function(){var e,t=this,n=this._state,r=this._head,i=(d(e={},Symbol.iterator,(function(){return i})),d(e,"next",(function(){if(t._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){var e={value:[r.key,r.value],done:!1};return r=r.next,e}return{value:void 0,done:!0}})),e);return i}},{key:e,value:function(){return this.entries()}},{key:"trimOld",value:function(e){if(!(e>=this.size))if(0!==e){for(var t=this._head,n=this.size;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}else this.clear()}},{key:"addItemFirst",value:function(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}},{key:"addItemLast",value:function(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}},{key:"removeItem",value:function(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{var t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}},{key:"touch",value:function(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===m.First||t===m.Last)if(t===m.First){if(e===this._head)return;var n=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(n.previous=r,r.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===m.Last){if(e===this._tail)return;var i=e.next,o=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=o,o.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}},{key:"toJSON",value:function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),e}},{key:"fromJSON",value:function(e){this.clear();var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(e);try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],o=r[1];this.set(i,o)}}catch(e){n.e(e)}finally{n.f()}}}]),t}((g=Symbol.toStringTag,Symbol.iterator));t.LinkedMap=b;var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(r,e);var t=o(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return h(this,r),(n=t.call(this))._limit=e,n._ratio=Math.min(Math.max(0,i),1),n}return v(r,[{key:"limit",get:function(){return this._limit},set:function(e){this._limit=e,this.checkTrim()}},{key:"ratio",get:function(){return this._ratio},set:function(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.AsNew;return n(s(r.prototype),"get",this).call(this,e,t)}},{key:"peek",value:function(e){return n(s(r.prototype),"get",this).call(this,e,m.None)}},{key:"set",value:function(e,t){return n(s(r.prototype),"set",this).call(this,e,t,m.Last),this.checkTrim(),this}},{key:"checkTrim",value:function(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}]),r}(b);t.LRUCache=w},73196:(e,t)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===n(a)?a:String(a)),i)}var o,a}Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractMessageBuffer=void 0;var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8";r(this,e),this._encoding=t,this._chunks=[],this._totalLength=0}var t,n,o;return t=e,(n=[{key:"encoding",get:function(){return this._encoding}},{key:"append",value:function(e){var t="string"==typeof e?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}},{key:"tryReadHeaders",value:function(){if(0!==this._chunks.length){var e=0,t=0,n=0,r=0;e:for(;t<this._chunks.length;){var i=this._chunks[t];for(n=0;n<i.length;){switch(i[n]){case 13:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case 10:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}r+=i.byteLength,t++}if(4===e){var o=this._read(r+n),a=new Map,s=this.toString(o,"ascii").split("\r\n");if(s.length<2)return a;for(var u=0;u<s.length-2;u++){var c=s[u],l=c.indexOf(":");if(-1===l)throw new Error("Message header must separate key and value using :");var f=c.substr(0,l),d=c.substr(l+1).trim();a.set(f,d)}return a}}}},{key:"tryReadBody",value:function(e){if(!(this._totalLength<e))return this._read(e)}},{key:"numberOfBytes",get:function(){return this._totalLength}},{key:"_read",value:function(e){if(0===e)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){var t=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(t)}if(this._chunks[0].byteLength>e){var n=this._chunks[0],r=this.asNative(n,e);return this._chunks[0]=n.slice(e),this._totalLength-=e,r}for(var i=this.allocNative(e),o=0;e>0;){var a=this._chunks[0];if(a.byteLength>e){var s=a.slice(0,e);i.set(s,o),o+=e,this._chunks[0]=a.slice(e),this._totalLength-=e,e-=e}else i.set(a,o),o+=a.byteLength,this._chunks.shift(),this._totalLength-=a.byteLength,e-=a.byteLength}return i}}])&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.AbstractMessageBuffer=o},74181:(e,t,n)=>{function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}function o(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===c(o)?o:String(o)),r)}var i,o}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=void 0;var h=n(55935),p=n(78360),v=n(68368);!function(e){e.is=function(e){var t=e;return t&&p.func(t.listen)&&p.func(t.dispose)&&p.func(t.onError)&&p.func(t.onClose)&&p.func(t.onPartialMessage)}}(t.MessageReader||(t.MessageReader={}));var y,g=function(){function e(){l(this,e),this.errorEmitter=new v.Emitter,this.closeEmitter=new v.Emitter,this.partialMessageEmitter=new v.Emitter}return d(e,[{key:"dispose",value:function(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}},{key:"onError",get:function(){return this.errorEmitter.event}},{key:"fireError",value:function(e){this.errorEmitter.fire(this.asError(e))}},{key:"onClose",get:function(){return this.closeEmitter.event}},{key:"fireClose",value:function(){this.closeEmitter.fire(void 0)}},{key:"onPartialMessage",get:function(){return this.partialMessageEmitter.event}},{key:"firePartialMessage",value:function(e){this.partialMessageEmitter.fire(e)}},{key:"asError",value:function(e){return e instanceof Error?e:new Error("Reader received error. Reason: ".concat(p.string(e.message)?e.message:"unknown"))}}]),e}();t.AbstractMessageReader=g,function(e){e.fromOptions=function(e){var t,n,r,i=new Map,o=new Map;if(void 0===e||"string"==typeof e)t=null!=e?e:"utf-8";else{var a;if(t=null!==(a=e.charset)&&void 0!==a?a:"utf-8",void 0!==e.contentDecoder&&(n=e.contentDecoder,i.set(n.name,n)),void 0!==e.contentDecoders){var u,c=s(e.contentDecoders);try{for(c.s();!(u=c.n()).done;){var l=u.value;i.set(l.name,l)}}catch(e){c.e(e)}finally{c.f()}}if(void 0!==e.contentTypeDecoder&&(r=e.contentTypeDecoder,o.set(r.name,r)),void 0!==e.contentTypeDecoders){var f,d=s(e.contentTypeDecoders);try{for(d.s();!(f=d.n()).done;){var p=f.value;o.set(p.name,p)}}catch(e){d.e(e)}finally{d.f()}}}return void 0===r&&(r=(0,h.default)().applicationJson.decoder,o.set(r.name,r)),{charset:t,contentDecoder:n,contentDecoders:i,contentTypeDecoder:r,contentTypeDecoders:o}}}(y||(y={}));var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}(n,e);var t=i(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).readable=e,i.options=y.fromOptions(r),i.buffer=(0,h.default)().messageBuffer.create(i.options.charset),i._partialMessageTimeout=1e4,i.nextMessageLength=-1,i.messageToken=0,i}return d(n,[{key:"partialMessageTimeout",get:function(){return this._partialMessageTimeout},set:function(e){this._partialMessageTimeout=e}},{key:"listen",value:function(e){var t=this;this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;var n=this.readable.onData((function(e){t.onData(e)}));return this.readable.onError((function(e){return t.fireError(e)})),this.readable.onClose((function(){return t.fireClose()})),n}},{key:"onData",value:function(e){var t=this;for(this.buffer.append(e);;){if(-1===this.nextMessageLength){var n=this.buffer.tryReadHeaders();if(!n)return;var r=n.get("Content-Length");if(!r)throw new Error("Header must provide a Content-Length property.");var i=parseInt(r);if(isNaN(i))throw new Error("Content-Length value must be a number.");this.nextMessageLength=i}var o=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===o)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1;(void 0!==this.options.contentDecoder?this.options.contentDecoder.decode(o):Promise.resolve(o)).then((function(e){t.options.contentTypeDecoder.decode(e,t.options).then((function(e){t.callback(e)}),(function(e){t.fireError(e)}))}),(function(e){t.fireError(e)}))}}},{key:"clearPartialMessageTimer",value:function(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}},{key:"setPartialMessageTimer",value:function(){var e=this;this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=(0,h.default)().timer.setTimeout((function(t,n){e.partialMessageTimer=void 0,t===e.messageToken&&(e.firePartialMessage({messageToken:t,waitingTime:n}),e.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}]),n}(g);t.ReadableStreamMessageReader=m},65527:(e,t,n)=>{function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function y(){}var g={};c(g,a,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=y.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,o,a,s){var u=d(e[i],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==l(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return o=o?o.then(i,i):i()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,i(w,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(k.prototype),c(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),c(w,u,"Generator"),c(w,a,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function i(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,u,"next",e)}function u(e){i(a,r,o,s,u,"throw",e)}s(void 0)}))}}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===l(o)?o:String(o)),r)}var i,o}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=void 0;var p=n(55935),v=n(78360),y=n(1340),g=n(68368);!function(e){e.is=function(e){var t=e;return t&&v.func(t.dispose)&&v.func(t.onClose)&&v.func(t.onError)&&v.func(t.write)}}(t.MessageWriter||(t.MessageWriter={}));var m,b=function(){function e(){f(this,e),this.errorEmitter=new g.Emitter,this.closeEmitter=new g.Emitter}return h(e,[{key:"dispose",value:function(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}},{key:"onError",get:function(){return this.errorEmitter.event}},{key:"fireError",value:function(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}},{key:"onClose",get:function(){return this.closeEmitter.event}},{key:"fireClose",value:function(){this.closeEmitter.fire(void 0)}},{key:"asError",value:function(e){return e instanceof Error?e:new Error("Writer received error. Reason: ".concat(v.string(e.message)?e.message:"unknown"))}}]),e}();t.AbstractMessageWriter=b,function(e){e.fromOptions=function(e){return void 0===e||"string"==typeof e?{charset:null!=e?e:"utf-8",contentTypeEncoder:(0,p.default)().applicationJson.encoder}:{charset:null!==(t=e.charset)&&void 0!==t?t:"utf-8",contentEncoder:e.contentEncoder,contentTypeEncoder:null!==(n=e.contentTypeEncoder)&&void 0!==n?n:(0,p.default)().applicationJson.encoder};var t,n}}(m||(m={}));var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(u,e);var t,n,i=s(u);function u(e,t){var n;return f(this,u),(n=i.call(this)).writable=e,n.options=m.fromOptions(t),n.errorCount=0,n.writeSemaphore=new y.Semaphore(1),n.writable.onError((function(e){return n.fireError(e)})),n.writable.onClose((function(){return n.fireClose()})),n}return h(u,[{key:"write",value:(n=o(r().mark((function e(t){var n=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.writeSemaphore.lock(o(r().mark((function e(){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.options.contentTypeEncoder.encode(t,n.options).then((function(e){return void 0!==n.options.contentEncoder?n.options.contentEncoder.encode(e):e})),e.abrupt("return",i.then((function(e){var r=[];return r.push("Content-Length: ",e.byteLength.toString(),"\r\n"),r.push("\r\n"),n.doWrite(t,r,e)}),(function(e){throw n.fireError(e),e})));case 2:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"doWrite",value:(t=o(r().mark((function e(t,n,i){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.writable.write(n.join(""),"ascii");case 3:return e.abrupt("return",this.writable.write(i));case 6:return e.prev=6,e.t0=e.catch(0),this.handleError(e.t0,t),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e,n,r){return t.apply(this,arguments)})},{key:"handleError",value:function(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}},{key:"end",value:function(){this.writable.end()}}]),u}(b);t.WriteableStreamMessageWriter=w},139:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function u(e){var t=h();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){var t="function"==typeof Map?new Map:void 0;return f=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return d(e,arguments,v(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)},f(e)}function d(e,t,n){return d=h()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&p(i,n.prototype),i},d.apply(null,arguments)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Message=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType=t.RequestType0=t.AbstractMessageSignature=t.ParameterStructures=t.ResponseError=t.ErrorCodes=void 0;var y,g=n(78360);!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3}(y=t.ErrorCodes||(t.ErrorCodes={}));var m=function(e){s(n,e);var t=u(n);function n(e,r,o){var a;return i(this,n),(a=t.call(this,r)).code=g.number(e)?e:y.UnknownErrorCode,a.data=o,Object.setPrototypeOf(l(a),n.prototype),a}return a(n,[{key:"toJson",value:function(){var e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),e}}]),n}(f(Error));t.ResponseError=m;var b=function(){function e(t){i(this,e),this.kind=t}return a(e,[{key:"toString",value:function(){return this.kind}}],[{key:"is",value:function(t){return t===e.auto||t===e.byName||t===e.byPosition}}]),e}();t.ParameterStructures=b,b.auto=new b("auto"),b.byPosition=new b("byPosition"),b.byName=new b("byName");var w=function(){function e(t,n){i(this,e),this.method=t,this.numberOfParams=n}return a(e,[{key:"parameterStructures",get:function(){return b.auto}}]),e}();t.AbstractMessageSignature=w;var _=function(e){s(n,e);var t=u(n);function n(e){return i(this,n),t.call(this,e,0)}return a(n)}(w);t.RequestType0=_;var k=function(e){s(n,e);var t=u(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.auto;return i(this,n),(r=t.call(this,e,1))._parameterStructures=o,r}return a(n,[{key:"parameterStructures",get:function(){return this._parameterStructures}}]),n}(w);t.RequestType=k;var S=function(e){s(n,e);var t=u(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.auto;return i(this,n),(r=t.call(this,e,1))._parameterStructures=o,r}return a(n,[{key:"parameterStructures",get:function(){return this._parameterStructures}}]),n}(w);t.RequestType1=S;var x=function(e){s(n,e);var t=u(n);function n(e){return i(this,n),t.call(this,e,2)}return a(n)}(w);t.RequestType2=x;var C=function(e){s(n,e);var t=u(n);function n(e){return i(this,n),t.call(this,e,3)}return a(n)}(w);t.RequestType3=C;var E=function(e){s(n,e);var t=u(n);function n(e){return i(this,n),t.call(this,e,4)}return a(n)}(w);t.RequestType4=E;var D=function(e){s(n,e);var t=u(n);function n(e){return i(this,n),t.call(this,e,5)}return a(n)}(w);t.RequestType5=D;var T=function(e){s(n,e);var t=u(n);function n(e){return i(this,n),t.call(this,e,6)}return a(n)}(w);t.RequestType6=T;var P=function(e){s(n,e);var t=u(n);function n(e){return i(this,n),t.call(this,e,7)}return a(n)}(w);t.RequestType7=P;var O=function(e){s(n,e);var t=u(n);function n(e){return i(this,n),t.call(this,e,8)}return a(n)}(w);t.RequestType8=O;var R=function(e){s(n,e);var t=u(n);function n(e){return i(this,n),t.call(this,e,9)}return a(n)}(w);t.RequestType9=R;var I=function(e){s(n,e);var t=u(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.auto;return i(this,n),(r=t.call(this,e,1))._parameterStructures=o,r}return a(n,[{key:"parameterStructures",get:function(){return this._parameterStructures}}]),n}(w);t.NotificationType=I;var L=function(e){s(n,e);var t=u(n);function n(e){return i(this,n),t.call(this,e,0)}return a(n)}(w);t.NotificationType0=L;var j=function(e){s(n,e);var t=u(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.auto;return i(this,n),(r=t.call(this,e,1))._parameterStructures=o,r}return a(n,[{key:"parameterStructures",get:function(){return this._parameterStructures}}]),n}(w);t.NotificationType1=j;var A=function(e){s(n,e);var t=u(n);function n(e){return i(this,n),t.call(this,e,2)}return a(n)}(w);t.NotificationType2=A;var N=function(e){s(n,e);var t=u(n);function n(e){return i(this,n),t.call(this,e,3)}return a(n)}(w);t.NotificationType3=N;var F=function(e){s(n,e);var t=u(n);function n(e){return i(this,n),t.call(this,e,4)}return a(n)}(w);t.NotificationType4=F;var M=function(e){s(n,e);var t=u(n);function n(e){return i(this,n),t.call(this,e,5)}return a(n)}(w);t.NotificationType5=M;var q=function(e){s(n,e);var t=u(n);function n(e){return i(this,n),t.call(this,e,6)}return a(n)}(w);t.NotificationType6=q;var H=function(e){s(n,e);var t=u(n);function n(e){return i(this,n),t.call(this,e,7)}return a(n)}(w);t.NotificationType7=H;var W=function(e){s(n,e);var t=u(n);function n(e){return i(this,n),t.call(this,e,8)}return a(n)}(w);t.NotificationType8=W;var U=function(e){s(n,e);var t=u(n);function n(e){return i(this,n),t.call(this,e,9)}return a(n)}(w);t.NotificationType9=U,function(e){e.isRequest=function(e){var t=e;return t&&g.string(t.method)&&(g.string(t.id)||g.number(t.id))},e.isNotification=function(e){var t=e;return t&&g.string(t.method)&&void 0===e.id},e.isResponse=function(e){var t=e;return t&&(void 0!==t.result||!!t.error)&&(g.string(t.id)||g.number(t.id)||null===t.id)}}(t.Message||(t.Message={}))},55935:(e,t)=>{var n;function r(){if(void 0===n)throw new Error("No runtime abstraction layer installed");return n}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");n=e}}(r||(r={})),t.default=r},1340:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}Object.defineProperty(t,"__esModule",{value:!0}),t.Semaphore=void 0;var a=n(55935),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(i(this,e),t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}var t,n,r;return t=e,(n=[{key:"lock",value:function(e){var t=this;return new Promise((function(n,r){t._waiting.push({thunk:e,resolve:n,reject:r}),t.runNext()}))}},{key:"active",get:function(){return this._active}},{key:"runNext",value:function(){var e=this;0!==this._waiting.length&&this._active!==this._capacity&&(0,a.default)().timer.setImmediate((function(){return e.doRunNext()}))}},{key:"doRunNext",value:function(){var e=this;if(0!==this._waiting.length&&this._active!==this._capacity){var t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{var n=t.thunk();n instanceof Promise?n.then((function(n){e._active--,t.resolve(n),e.runNext()}),(function(n){e._active--,t.reject(n),e.runNext()})):(this._active--,t.resolve(n),this.runNext())}catch(e){this._active--,t.reject(e),this.runNext()}}}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.Semaphore=s},94372:(e,t,n)=>{function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===c(o)?o:String(o)),r)}var i,o}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyFeature=void 0;var h=n(23576),p=n(1358),v=n(68210),y=function(){function e(t){l(this,e),this.client=t,this.middleware=t.middleware}return d(e,[{key:"prepareCallHierarchy",value:function(e,t,n){var r=this.client,i=this.middleware,o=function(e,t,n){var i=r.code2ProtocolConverter.asTextDocumentPositionParams(e,t);return r.sendRequest(p.CallHierarchyPrepareRequest.type,i,n).then((function(e){return n.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyItems(e,n)}),(function(e){return r.handleFailedRequest(p.CallHierarchyPrepareRequest.type,n,e,null)}))};return i.prepareCallHierarchy?i.prepareCallHierarchy(e,t,n,o):o(e,t,n)}},{key:"provideCallHierarchyIncomingCalls",value:function(e,t){var n=this.client,r=this.middleware,i=function(e,t){var r={item:n.code2ProtocolConverter.asCallHierarchyItem(e)};return n.sendRequest(p.CallHierarchyIncomingCallsRequest.type,r,t).then((function(e){return t.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(e,t)}),(function(e){return n.handleFailedRequest(p.CallHierarchyIncomingCallsRequest.type,t,e,null)}))};return r.provideCallHierarchyIncomingCalls?r.provideCallHierarchyIncomingCalls(e,t,i):i(e,t)}},{key:"provideCallHierarchyOutgoingCalls",value:function(e,t){var n=this.client,r=this.middleware,i=function(e,t){var r={item:n.code2ProtocolConverter.asCallHierarchyItem(e)};return n.sendRequest(p.CallHierarchyOutgoingCallsRequest.type,r,t).then((function(e){return t.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(e,t)}),(function(e){return n.handleFailedRequest(p.CallHierarchyOutgoingCallsRequest.type,t,e,null)}))};return r.provideCallHierarchyOutgoingCalls?r.provideCallHierarchyOutgoingCalls(e,t,i):i(e,t)}}]),e}(),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(n,e);var t=a(n);function n(e){return l(this,n),t.call(this,e,p.CallHierarchyPrepareRequest.type)}return d(n,[{key:"fillClientCapabilities",value:function(e){var t=e;(0,v.ensure)((0,v.ensure)(t,"textDocument"),"callHierarchy").dynamicRegistration=!0}},{key:"initialize",value:function(e,t){var n=r(this.getRegistration(t,e.callHierarchyProvider),2),i=n[0],o=n[1];i&&o&&this.register({id:i,registerOptions:o})}},{key:"registerLanguageProvider",value:function(e){var t=this._client,n=new y(t);return[h.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}}]),n}(v.TextDocumentLanguageFeature);t.CallHierarchyFeature=g},79501:(e,t,n)=>{function r(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(){u=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new D(i||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var h={};function p(){}function v(){}function y(){}var g={};c(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,o)&&(g=b);var w=y.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(r,o,a,s){var u=d(e[r],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==f(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,r(w,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(k.prototype),c(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),c(w,s,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===f(o)?o:String(o)),r)}var i,o}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"X$",{value:!0}),t.Fy=t.dp=t.c8=t.Z6=t.ZM=t.UY=t._X=t.xP=void 0;var v,y,g,m,b=n(23576),w=n(1358),_=n(70589),k=n(73222),S=n(17945),x=n(60132),C=n(30276),E=n(47589),D=n(68210),T=n(26974),P=n(88570),O=n(76048),R=n(68248),I=n(38162),L=n(75054),j=n(96e3),A=n(25523),N=n(19714),F=n(84096),M=n(88572),q=n(69610),H=n(66658),W=n(64112),U=n(20462),K=n(88961),$=n(56717),B=n(87121),V=n(62068),z=n(31412),G=n(98127),J=n(19010),Y=n(70968),Q=n(20010),Z=n(15655),X=n(95604),ee=n(7629),te=n(94372),ne=n(51279),re=n(25215),ie=n(95881),oe=n(68813),ae=n(94671),se=n(45118);!function(e){e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Never=4]="Never"}(v=t.xP||(t.xP={})),function(e){e[e.Continue=1]="Continue",e[e.Shutdown=2]="Shutdown"}(y=t._X||(t._X={})),function(e){e[e.DoNotRestart=1]="DoNotRestart",e[e.Restart=2]="Restart"}(g=t.UY||(t.UY={})),function(e){e[e.Stopped=1]="Stopped",e[e.Starting=3]="Starting",e[e.Running=2]="Running"}(m=t.ZM||(t.ZM={})),function(e){e.off="off",e.on="on"}(t.Z6||(t.Z6={}));var ue,ce=function(){function e(t,n){d(this,e),this.client=t,this.maxRestartCount=n,this.restarts=[]}return p(e,[{key:"error",value:function(e,t,n){return n&&n<=3?{action:y.Continue}:{action:y.Shutdown}}},{key:"closed",value:function(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:g.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=18e4?{action:g.DoNotRestart,message:"The ".concat(this.client.name," server crashed ").concat(this.maxRestartCount+1," times in the last 3 minutes. The server will not be restarted. See the output for more information.")}:(this.restarts.shift(),{action:g.Restart})}}]),e}();!function(e){e.Initial="initial",e.Starting="starting",e.StartFailed="startFailed",e.Running="running",e.Stopping="stopping",e.Stopped="stopped"}(ue||(ue={})),function(e){e.is=function(e){return e&&w.MessageReader.is(e.reader)&&w.MessageWriter.is(e.writer)}}(t.c8||(t.c8={}));var le=function(){function e(t,n,r){var i,o,a,s,u,c,l,f,h,p,y=this;d(this,e),this._traceFormat=w.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new x.Semaphore(1),this._id=t,this._name=n;var g={isTrusted:!1,supportHtml:!1};void 0!==(r=r||{}).markdown&&(g.isTrusted=!0===r.markdown.isTrusted,g.supportHtml=!0===r.markdown.supportHtml),this._clientOptions={documentSelector:null!==(i=r.documentSelector)&&void 0!==i?i:[],synchronize:null!==(o=r.synchronize)&&void 0!==o?o:{},diagnosticCollectionName:r.diagnosticCollectionName,outputChannelName:null!==(a=r.outputChannelName)&&void 0!==a?a:this._name,revealOutputChannelOn:null!==(s=r.revealOutputChannelOn)&&void 0!==s?s:v.Error,stdioEncoding:null!==(u=r.stdioEncoding)&&void 0!==u?u:"utf8",initializationOptions:r.initializationOptions,initializationFailedHandler:r.initializationFailedHandler,progressOnInitialization:!!r.progressOnInitialization,errorHandler:null!==(c=r.errorHandler)&&void 0!==c?c:this.createDefaultErrorHandler(null===(l=r.connectionOptions)||void 0===l?void 0:l.maxRestartCount),middleware:null!==(f=r.middleware)&&void 0!==f?f:{},uriConverters:r.uriConverters,workspaceFolder:r.workspaceFolder,connectionOptions:r.connectionOptions,markdown:g,diagnosticPullOptions:null!==(h=r.diagnosticPullOptions)&&void 0!==h?h:{onChange:!0,onSave:!1},notebookDocumentOptions:null!==(p=r.notebookDocumentOptions)&&void 0!==p?p:{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=ue.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,r.outputChannel?(this._outputChannel=r.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=r.traceOutputChannel,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new x.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new w.Emitter,this._stateChangeEmitter=new w.Emitter,this._trace=w.Trace.Off,this._tracer={log:function(e,t){S.string(e)?y.logTrace(e,t):y.logObjectTrace(e)}},this._c2p=_.createConverter(r.uriConverters?r.uriConverters.code2Protocol:void 0),this._p2c=k.createConverter(r.uriConverters?r.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}var t,n,a,s,c,f,h,le,de,pe,ve,ye,ge,me;return p(e,[{key:"name",get:function(){return this._name}},{key:"middleware",get:function(){var e;return null!==(e=this._clientOptions.middleware)&&void 0!==e?e:Object.create(null)}},{key:"clientOptions",get:function(){return this._clientOptions}},{key:"protocol2CodeConverter",get:function(){return this._p2c}},{key:"code2ProtocolConverter",get:function(){return this._c2p}},{key:"onTelemetry",get:function(){return this._telemetryEmitter.event}},{key:"onDidChangeState",get:function(){return this._stateChangeEmitter.event}},{key:"outputChannel",get:function(){return this._outputChannel||(this._outputChannel=b.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}},{key:"traceOutputChannel",get:function(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}},{key:"diagnostics",get:function(){return this._diagnostics}},{key:"state",get:function(){return this.getPublicState()}},{key:"$state",get:function(){return this._state},set:function(e){var t=this.getPublicState();this._state=e;var n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}},{key:"getPublicState",value:function(){switch(this.$state){case ue.Starting:return m.Starting;case ue.Running:return m.Running;default:return m.Stopped}}},{key:"initializeResult",get:function(){return this._initializeResult}},{key:"sendRequest",value:(me=l(u().mark((function e(t){var n,r,i,o,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.$state!==ue.StartFailed&&this.$state!==ue.Stopping&&this.$state!==ue.Stopped){e.next=2;break}return e.abrupt("return",Promise.reject(new w.ResponseError(w.ErrorCodes.ConnectionInactive,"Client is not running")));case 2:return e.prev=2,e.next=5,this.$start();case 5:return n=e.sent,e.next=8,this.forceDocumentSync();case 8:for(r=a.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=a[o];return e.abrupt("return",n.sendRequest.apply(n,[t].concat(i)));case 12:throw e.prev=12,e.t0=e.catch(2),this.error("Sending request ".concat(S.string(t)?t:t.method," failed."),e.t0),e.t0;case 16:case"end":return e.stop()}}),e,this,[[2,12]])}))),function(e){return me.apply(this,arguments)})},{key:"onRequest",value:function(e,t){var n=this,r="string"==typeof e?e:e.method;this._requestHandlers.set(r,t);var i,o=this.activeConnection();return void 0!==o?(this._requestDisposables.set(r,o.onRequest(e,t)),i={dispose:function(){var e=n._requestDisposables.get(r);void 0!==e&&(e.dispose(),n._requestDisposables.delete(r))}}):(this._pendingRequestHandlers.set(r,t),i={dispose:function(){n._pendingRequestHandlers.delete(r);var e=n._requestDisposables.get(r);void 0!==e&&(e.dispose(),n._requestDisposables.delete(r))}}),{dispose:function(){n._requestHandlers.delete(r),i.dispose()}}}},{key:"sendNotification",value:(ge=l(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.$state!==ue.StartFailed&&this.$state!==ue.Stopping&&this.$state!==ue.Stopped){e.next=2;break}return e.abrupt("return",Promise.reject(new w.ResponseError(w.ErrorCodes.ConnectionInactive,"Client is not running")));case 2:return e.prev=2,e.next=5,this.$start();case 5:return r=e.sent,e.next=8,this.forceDocumentSync();case 8:return e.abrupt("return",r.sendNotification(t,n));case 11:throw e.prev=11,e.t0=e.catch(2),this.error("Sending notification ".concat(S.string(t)?t:t.method," failed."),e.t0),e.t0;case 15:case"end":return e.stop()}}),e,this,[[2,11]])}))),function(e,t){return ge.apply(this,arguments)})},{key:"onNotification",value:function(e,t){var n=this,r="string"==typeof e?e:e.method;this._notificationHandlers.set(r,t);var i,o=this.activeConnection();return void 0!==o?(this._notificationDisposables.set(r,o.onNotification(e,t)),i={dispose:function(){var e=n._notificationDisposables.get(r);void 0!==e&&(e.dispose(),n._notificationDisposables.delete(r))}}):(this._pendingNotificationHandlers.set(r,t),i={dispose:function(){n._pendingNotificationHandlers.delete(r);var e=n._notificationDisposables.get(r);void 0!==e&&(e.dispose(),n._notificationDisposables.delete(r))}}),{dispose:function(){n._notificationHandlers.delete(r),i.dispose()}}}},{key:"sendProgress",value:(ye=l(u().mark((function e(t,n,r){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.$state!==ue.StartFailed&&this.$state!==ue.Stopping&&this.$state!==ue.Stopped){e.next=2;break}return e.abrupt("return",Promise.reject(new w.ResponseError(w.ErrorCodes.ConnectionInactive,"Client is not running")));case 2:return e.prev=2,e.next=5,this.$start();case 5:return i=e.sent,e.abrupt("return",i.sendProgress(t,n,r));case 9:throw e.prev=9,e.t0=e.catch(2),this.error("Sending progress for token ".concat(n," failed."),e.t0),e.t0;case 13:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e,t,n){return ye.apply(this,arguments)})},{key:"onProgress",value:function(e,t,n){var r,i=this;this._progressHandlers.set(t,{type:e,handler:n});var o,a=this.activeConnection(),s=null===(r=this._clientOptions.middleware)||void 0===r?void 0:r.handleWorkDoneProgress,u=w.WorkDoneProgress.is(e)&&void 0!==s?function(e){s(t,e,(function(){return n(e)}))}:n;return void 0!==a?(this._progressDisposables.set(t,a.onProgress(e,t,u)),o={dispose:function(){var e=i._progressDisposables.get(t);void 0!==e&&(e.dispose(),i._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:n}),o={dispose:function(){i._pendingProgressHandlers.delete(t);var e=i._progressDisposables.get(t);void 0!==e&&(e.dispose(),i._progressDisposables.delete(t))}}),{dispose:function(){i._progressHandlers.delete(t),o.dispose()}}}},{key:"createDefaultErrorHandler",value:function(e){if(void 0!==e&&e<0)throw new Error("Invalid maxRestartCount: ".concat(e));return new ce(this,null!=e?e:4)}},{key:"setTrace",value:(ve=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._trace=t,void 0===(n=this.activeConnection())){e.next=5;break}return e.next=5,n.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return ve.apply(this,arguments)})},{key:"data2String",value:function(e){if(e instanceof w.ResponseError){var t=e;return"  Message: ".concat(t.message,"\n  Code: ").concat(t.code," ").concat(t.data?"\n"+t.data.toString():"")}return e instanceof Error?S.string(e.stack)?e.stack:e.message:S.string(e)?e:e.toString()}},{key:"info",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.outputChannel.appendLine("[Info  - ".concat((new Date).toLocaleTimeString(),"] ").concat(e)),null!=t&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=v.Info&&this.showNotificationMessage(w.MessageType.Info,e)}},{key:"warn",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.outputChannel.appendLine("[Warn  - ".concat((new Date).toLocaleTimeString(),"] ").concat(e)),null!=t&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=v.Warn&&this.showNotificationMessage(w.MessageType.Warning,e)}},{key:"error",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.outputChannel.appendLine("[Error - ".concat((new Date).toLocaleTimeString(),"] ").concat(e)),null!=t&&this.outputChannel.appendLine(this.data2String(t)),("force"===n||n&&this._clientOptions.revealOutputChannelOn<=v.Error)&&this.showNotificationMessage(w.MessageType.Error,e)}},{key:"showNotificationMessage",value:function(e,t){var n,r=this;t=null!==(n=t)&&void 0!==n?n:"A request has failed. See the output for more information.",(e===w.MessageType.Error?b.window.showErrorMessage:e===w.MessageType.Warning?b.window.showWarningMessage:b.window.showInformationMessage)(t,"Go to output").then((function(e){void 0!==e&&r.outputChannel.show(!0)}))}},{key:"logTrace",value:function(e,t){this.traceOutputChannel.appendLine("[Trace - ".concat((new Date).toLocaleTimeString(),"] ").concat(e)),t&&this.traceOutputChannel.appendLine(this.data2String(t))}},{key:"logObjectTrace",value:function(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append("[LSP   - ".concat((new Date).toLocaleTimeString(),"] ")):this.traceOutputChannel.append("[Trace - ".concat((new Date).toLocaleTimeString(),"] ")),e&&this.traceOutputChannel.appendLine("".concat(JSON.stringify(e)))}},{key:"needsStart",value:function(){return this.$state===ue.Initial||this.$state===ue.Stopping||this.$state===ue.Stopped}},{key:"needsStop",value:function(){return this.$state===ue.Starting||this.$state===ue.Running}},{key:"activeConnection",value:function(){return this.$state===ue.Running&&void 0!==this._connection?this._connection:void 0}},{key:"isRunning",value:function(){return this.$state===ue.Running}},{key:"start",value:(pe=l(u().mark((function e(){var t,n,a,s,c,f,d,h,p,v,y,g,m,_,k,S,x,C,E,D,T,P=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("disposing"!==this._disposed&&"disposed"!==this._disposed){e.next=2;break}throw new Error("Client got disposed and can't be restarted.");case 2:if(this.$state!==ue.Stopping){e.next=4;break}throw new Error("Client is currently stopping. Can only restart a full stopped client");case 4:if(void 0===this._onStart){e.next=6;break}return e.abrupt("return",this._onStart);case 6:t=this.createOnStartPromise(),n=o(t,3),a=n[0],s=n[1],c=n[2],this._onStart=a,void 0===this._diagnostics&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?b.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):b.languages.createDiagnosticCollection()),f=i(this._notificationHandlers);try{for(f.s();!(d=f.n()).done;)h=o(d.value,2),p=h[0],v=h[1],this._pendingNotificationHandlers.has(p)||this._pendingNotificationHandlers.set(p,v)}catch(e){f.e(e)}finally{f.f()}y=i(this._requestHandlers);try{for(y.s();!(g=y.n()).done;)m=o(g.value,2),_=m[0],k=m[1],this._pendingRequestHandlers.has(_)||this._pendingRequestHandlers.set(_,k)}catch(e){y.e(e)}finally{y.f()}S=i(this._progressHandlers);try{for(S.s();!(x=S.n()).done;)C=o(x.value,2),E=C[0],D=C[1],this._pendingProgressHandlers.has(E)||this._pendingProgressHandlers.set(E,D)}catch(e){S.e(e)}finally{S.f()}return this.$state=ue.Starting,e.prev=16,e.next=19,this.createConnection();case 19:return(T=e.sent).onNotification(w.LogMessageNotification.type,(function(e){switch(e.type){case w.MessageType.Error:P.error(e.message,void 0,!1);break;case w.MessageType.Warning:P.warn(e.message,void 0,!1);break;case w.MessageType.Info:P.info(e.message,void 0,!1);break;default:P.outputChannel.appendLine(e.message)}})),T.onNotification(w.ShowMessageNotification.type,(function(e){switch(e.type){case w.MessageType.Error:b.window.showErrorMessage(e.message);break;case w.MessageType.Warning:b.window.showWarningMessage(e.message);break;case w.MessageType.Info:default:b.window.showInformationMessage(e.message)}})),T.onRequest(w.ShowMessageRequest.type,(function(e){var t;switch(e.type){case w.MessageType.Error:t=b.window.showErrorMessage;break;case w.MessageType.Warning:t=b.window.showWarningMessage;break;case w.MessageType.Info:default:t=b.window.showInformationMessage}var n=e.actions||[];return t.apply(void 0,[e.message].concat(r(n)))})),T.onNotification(w.TelemetryEventNotification.type,(function(e){P._telemetryEmitter.fire(e)})),T.onRequest(w.ShowDocumentRequest.type,function(){var e=l(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(){var e=l(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=P.protocol2CodeConverter.asUri(t.uri),e.prev=1,!0!==t.external){e.next=9;break}return e.next=5,b.env.openExternal(n);case 5:return r=e.sent,e.abrupt("return",{success:r});case 9:return i={},void 0!==t.selection&&(i.selection=P.protocol2CodeConverter.asRange(t.selection)),void 0===t.takeFocus||!1===t.takeFocus?i.preserveFocus=!0:!0===t.takeFocus&&(i.preserveFocus=!1),e.next=14,b.window.showTextDocument(n,i);case 14:return e.abrupt("return",{success:!0});case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(1),e.abrupt("return",{success:!1});case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),void 0===(i=null===(n=P._clientOptions.middleware.window)||void 0===n?void 0:n.showDocument)){e.next=6;break}return e.abrupt("return",i(t,r));case 6:return e.abrupt("return",r(t));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T.listen(),e.next=28,this.initialize(T);case 28:s(),e.next=36;break;case 31:e.prev=31,e.t0=e.catch(16),this.$state=ue.StartFailed,this.error("".concat(this._name," client: couldn't create connection to server."),e.t0,"force"),c(e.t0);case 36:return e.abrupt("return",this._onStart);case 37:case"end":return e.stop()}}),e,this,[[16,31]])}))),function(){return pe.apply(this,arguments)})},{key:"createOnStartPromise",value:function(){var e,t;return[new Promise((function(n,r){e=n,t=r})),e,t]}},{key:"initialize",value:(de=l(u().mark((function e(t){var n,r,i,a,s,c,l,f,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.refreshTrace(t,!1),n=this._clientOptions.initializationOptions,r=void 0!==this._clientOptions.workspaceFolder?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],i=o(r,2),a=i[0],s=i[1],c={processId:null,clientInfo:{name:b.env.appName,version:b.version},locale:this.getLocale(),rootPath:a||null,rootUri:a?this._c2p.asUri(b.Uri.file(a)):null,capabilities:this.computeClientCapabilities(),initializationOptions:S.func(n)?n():n,trace:w.Trace.toString(this._trace),workspaceFolders:s},this.fillInitializeParams(c),!this._clientOptions.progressOnInitialization){e.next=23;break}return l=C.generateUuid(),f=new E.ProgressPart(t,l),c.workDoneToken=l,e.prev=9,e.next=12,this.doInitialize(t,c);case 12:return d=e.sent,f.done(),e.abrupt("return",d);case 17:throw e.prev=17,e.t0=e.catch(9),f.cancel(),e.t0;case 21:e.next=24;break;case 23:return e.abrupt("return",this.doInitialize(t,c));case 24:case"end":return e.stop()}}),e,this,[[9,17]])}))),function(e){return de.apply(this,arguments)})},{key:"doInitialize",value:(le=l(u().mark((function e(t,n){var r,a,s,c,l,f,d,h,p,v,y,g,m,_,k,x,C,E=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.initialize(n);case 3:if(void 0===(r=e.sent).capabilities.positionEncoding||r.capabilities.positionEncoding===w.PositionEncodingKind.UTF16){e.next=6;break}throw new Error("Unsupported position encoding (".concat(r.capabilities.positionEncoding,") received from server ").concat(this.name));case 6:this._initializeResult=r,this.$state=ue.Running,a=void 0,S.number(r.capabilities.textDocumentSync)?a=r.capabilities.textDocumentSync===w.TextDocumentSyncKind.None?{openClose:!1,change:w.TextDocumentSyncKind.None,save:void 0}:{openClose:!0,change:r.capabilities.textDocumentSync,save:{includeText:!1}}:void 0!==r.capabilities.textDocumentSync&&null!==r.capabilities.textDocumentSync&&(a=r.capabilities.textDocumentSync),this._capabilities=Object.assign({},r.capabilities,{resolvedTextDocumentSync:a}),t.onNotification(w.PublishDiagnosticsNotification.type,(function(e){return E.handleDiagnostics(e)})),t.onRequest(w.RegistrationRequest.type,(function(e){return E.handleRegistrationRequest(e)})),t.onRequest("client/registerFeature",(function(e){return E.handleRegistrationRequest(e)})),t.onRequest(w.UnregistrationRequest.type,(function(e){return E.handleUnregistrationRequest(e)})),t.onRequest("client/unregisterFeature",(function(e){return E.handleUnregistrationRequest(e)})),t.onRequest(w.ApplyWorkspaceEditRequest.type,(function(e){return E.handleApplyWorkspaceEdit(e)})),s=i(this._pendingNotificationHandlers);try{for(s.s();!(c=s.n()).done;)l=o(c.value,2),f=l[0],d=l[1],this._notificationDisposables.set(f,t.onNotification(f,d))}catch(e){s.e(e)}finally{s.f()}this._pendingNotificationHandlers.clear(),h=i(this._pendingRequestHandlers);try{for(h.s();!(p=h.n()).done;)v=o(p.value,2),y=v[0],g=v[1],this._requestDisposables.set(y,t.onRequest(y,g))}catch(e){h.e(e)}finally{h.f()}this._pendingRequestHandlers.clear(),m=i(this._pendingProgressHandlers);try{for(m.s();!(_=m.n()).done;)k=o(_.value,2),x=k[0],C=k[1],this._progressDisposables.set(x,t.onProgress(C.type,x,C.handler))}catch(e){m.e(e)}finally{m.f()}return this._pendingProgressHandlers.clear(),e.next=28,t.sendNotification(w.InitializedNotification.type,{});case 28:return this.hookFileEvents(t),this.hookConfigurationChanged(t),this.initializeFeatures(t),e.abrupt("return",r);case 34:throw e.prev=34,e.t0=e.catch(0),this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(e.t0)?this.initialize(t):this.stop():e.t0 instanceof w.ResponseError&&e.t0.data&&e.t0.data.retry?b.window.showErrorMessage(e.t0.message,{title:"Retry",id:"retry"}).then((function(e){e&&"retry"===e.id?E.initialize(t):E.stop()})):(e.t0&&e.t0.message&&b.window.showErrorMessage(e.t0.message),this.error("Server initialization failed.",e.t0),this.stop()),e.t0;case 38:case"end":return e.stop()}}),e,this,[[0,34]])}))),function(e,t){return le.apply(this,arguments)})},{key:"_clientGetRootPath",value:function(){var e=b.workspace.workspaceFolders;if(e&&0!==e.length){var t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;return this.shutdown("stop",e)}},{key:"dispose",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}},{key:"shutdown",value:(h=l(u().mark((function e(t,n){var r,i,o,a=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.$state!==ue.Stopped&&this.$state!==ue.Initial){e.next=2;break}return e.abrupt("return");case 2:if(this.$state!==ue.Stopping){e.next=8;break}if(void 0===this._onStop){e.next=7;break}return e.abrupt("return",this._onStop);case 7:throw new Error("Client is stopping but no stop promise available.");case 8:if(void 0!==(r=this.activeConnection())&&this.$state===ue.Running){e.next=11;break}throw new Error("Client is not running and can't be stopped. It's current state is: ".concat(this.$state));case 11:return this._initializeResult=void 0,this.$state=ue.Stopping,this.cleanUp(t),i=new Promise((function(e){(0,w.RAL)().timer.setTimeout(e,n)})),o=function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.shutdown();case 2:return e.next=4,t.exit();case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r),e.abrupt("return",this._onStop=Promise.race([i,o]).then((function(e){if(void 0===e)throw a.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out");e.end(),e.dispose()}),(function(e){throw a.error("Stopping server failed",e,!1),e})).finally((function(){a.$state=ue.Stopped,"stop"===t&&a.cleanUpChannel(),a._onStart=void 0,a._onStop=void 0,a._connection=void 0,a._ignoredRegistrations.clear()})));case 17:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"cleanUp",value:function(e){this._fileEvents=[],this._fileEventDelayer.cancel();var t,n=i(this._listeners.splice(0,this._listeners.length));try{for(n.s();!(t=n.n()).done;){t.value.dispose()}}catch(e){n.e(e)}finally{n.f()}this._syncedDocuments&&this._syncedDocuments.clear();var r,o=i(Array.from(this._features.entries()).map((function(e){return e[1]})).reverse());try{for(o.s();!(r=o.n()).done;){r.value.dispose()}}catch(e){o.e(e)}finally{o.f()}"stop"===e&&void 0!==this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0),void 0!==this._idleInterval&&(this._idleInterval.dispose(),this._idleInterval=void 0)}},{key:"cleanUpChannel",value:function(){void 0!==this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}},{key:"notifyFileEvent",value:function(e){var t,n=this;function r(e){return i.apply(this,arguments)}function i(){return i=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n._fileEvents.push(t),e.abrupt("return",n._fileEventDelayer.trigger(l(u().mark((function e(){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$start();case 2:return t=e.sent,e.next=5,n.forceDocumentSync();case 5:return r=t.sendNotification(w.DidChangeWatchedFilesNotification.type,{changes:n._fileEvents}),n._fileEvents=[],e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}var o=null===(t=this.clientOptions.middleware)||void 0===t?void 0:t.workspace;(null!=o&&o.didChangeWatchedFile?o.didChangeWatchedFile(e,r):r(e)).catch((function(e){n.error("Notify file events failed.",e)}))}},{key:"forceDocumentSync",value:(f=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===this._didChangeTextDocumentFeature&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(w.DidChangeTextDocumentNotification.type.method)),e.abrupt("return",this._didChangeTextDocumentFeature.forceDelivery());case 2:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"handleDiagnostics",value:function(e){if(this._diagnostics){var t=e.uri;"busy"===this._diagnosticQueueState.state&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}}},{key:"triggerDiagnosticQueue",value:function(){var e=this;(0,w.RAL)().timer.setImmediate((function(){e.workDiagnosticQueue()}))}},{key:"workDiagnosticQueue",value:function(){var e=this;if("busy"!==this._diagnosticQueueState.state){var t=this._diagnosticQueue.entries().next();if(!0!==t.done){var n=o(t.value,2),r=n[0],i=n[1];this._diagnosticQueue.delete(r);var a=new b.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:r,tokenSource:a},this._p2c.asDiagnostics(i,a.token).then((function(t){if(!a.token.isCancellationRequested){var n=e._p2c.asUri(r),i=e.clientOptions.middleware;i.handleDiagnostics?i.handleDiagnostics(n,t,(function(t,n){return e.setDiagnostics(t,n)})):e.setDiagnostics(n,t)}})).finally((function(){e._diagnosticQueueState={state:"idle"},e.triggerDiagnosticQueue()}))}}}},{key:"setDiagnostics",value:function(e,t){this._diagnostics&&this._diagnostics.set(e,t)}},{key:"$start",value:(c=l(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.$state!==ue.StartFailed){e.next=2;break}throw new Error("Previous start failed. Can't restart server.");case 2:return e.next=4,this.start();case 4:if(void 0!==(t=this.activeConnection())){e.next=7;break}throw new Error("Starting server failed");case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"createConnection",value:(s=l(u().mark((function e(){var t,n,r,i=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e,t,n){i.handleConnectionError(e,t,n)},n=function(){i.handleConnectionClosed()},e.next=4,this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");case 4:return r=e.sent,this._connection=he(r.reader,r.writer,t,n,this._clientOptions.connectionOptions),e.abrupt("return",this._connection);case 7:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"handleConnectionClosed",value:function(){var e=this;if(this.$state!==ue.Stopped){try{void 0!==this._connection&&this._connection.dispose()}catch(e){}var t,n={action:g.DoNotRestart};if(this.$state!==ue.Stopping)try{n=this._clientOptions.errorHandler.closed()}catch(e){}if(this._connection=void 0,n.action===g.DoNotRestart)this.error(null!==(t=n.message)&&void 0!==t?t:"Connection to server got closed. Server will not be restarted.",void 0,"force"),this.cleanUp("stop"),this.$state===ue.Starting?this.$state=ue.StartFailed:this.$state=ue.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0;else if(n.action===g.Restart){var r;this.info(null!==(r=n.message)&&void 0!==r?r:"Connection to server got closed. Server will restart."),this.cleanUp("restart"),this.$state=ue.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch((function(t){return e.error("Restarting server failed",t,"force")}))}}}},{key:"handleConnectionError",value:function(e,t,n){var r,i=this,o=this._clientOptions.errorHandler.error(e,t,n);o.action===y.Shutdown&&(this.error(null!==(r=o.message)&&void 0!==r?r:"Client ".concat(this._name,": connection to server is erroring. Shutting down server."),void 0,"force"),this.stop().catch((function(e){i.error("Stopping server failed",e,!1)})))}},{key:"hookConfigurationChanged",value:function(e){var t=this;this._listeners.push(b.workspace.onDidChangeConfiguration((function(){t.refreshTrace(e,!0)})))}},{key:"refreshTrace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=b.workspace.getConfiguration(this._id),i=w.Trace.Off,o=w.TraceFormat.Text;if(r){var a=r.get("trace.server","off");"string"==typeof a?i=w.Trace.fromString(a):(i=w.Trace.fromString(r.get("trace.server.verbosity","off")),o=w.TraceFormat.fromString(r.get("trace.server.format","text")))}this._trace=i,this._traceFormat=o,e.trace(this._trace,this._tracer,{sendNotification:n,traceFormat:this._traceFormat}).catch((function(e){t.error("Updating trace failed with error",e,!1)}))}},{key:"hookFileEvents",value:function(e){var t,n=this._clientOptions.synchronize.fileEvents;n&&((t=S.array(n)?n:[n])&&this._dynamicFeatures.get(w.DidChangeWatchedFilesNotification.type.method).registerRaw(C.generateUuid(),t))}},{key:"registerFeatures",value:function(e){var t,n=i(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.registerFeature(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"registerFeature",value:function(e){if(this._features.push(e),D.DynamicFeature.is(e)){var t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}},{key:"getFeature",value:function(e){return this._dynamicFeatures.get(e)}},{key:"hasDedicatedTextSynchronizationFeature",value:function(e){var t=this.getFeature(w.NotebookDocumentSyncRegistrationType.method);return void 0!==t&&t instanceof P.NotebookDocumentSyncFeature&&t.handles(e)}},{key:"registerBuiltinFeatures",value:function(){var e=this;this.registerFeature(new O.ConfigurationFeature(this)),this.registerFeature(new R.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new R.DidChangeTextDocumentFeature(this)),this.registerFeature(new R.WillSaveFeature(this)),this.registerFeature(new R.WillSaveWaitUntilFeature(this)),this.registerFeature(new R.DidSaveTextDocumentFeature(this)),this.registerFeature(new R.DidCloseTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new V.FileSystemWatcherFeature(this,(function(t){return e.notifyFileEvent(t)}))),this.registerFeature(new I.CompletionItemFeature(this)),this.registerFeature(new L.HoverFeature(this)),this.registerFeature(new A.SignatureHelpFeature(this)),this.registerFeature(new j.DefinitionFeature(this)),this.registerFeature(new q.ReferencesFeature(this)),this.registerFeature(new N.DocumentHighlightFeature(this)),this.registerFeature(new F.DocumentSymbolFeature(this)),this.registerFeature(new M.WorkspaceSymbolFeature(this)),this.registerFeature(new H.CodeActionFeature(this)),this.registerFeature(new W.CodeLensFeature(this)),this.registerFeature(new U.DocumentFormattingFeature(this)),this.registerFeature(new U.DocumentRangeFormattingFeature(this)),this.registerFeature(new U.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new K.RenameFeature(this)),this.registerFeature(new $.DocumentLinkFeature(this)),this.registerFeature(new B.ExecuteCommandFeature(this)),this.registerFeature(new O.SyncConfigurationFeature(this)),this.registerFeature(new J.TypeDefinitionFeature(this)),this.registerFeature(new G.ImplementationFeature(this)),this.registerFeature(new z.ColorProviderFeature(this)),void 0===this.clientOptions.workspaceFolder&&this.registerFeature(new Y.WorkspaceFoldersFeature(this)),this.registerFeature(new Q.FoldingRangeFeature(this)),this.registerFeature(new Z.DeclarationFeature(this)),this.registerFeature(new X.SelectionRangeFeature(this)),this.registerFeature(new ee.ProgressFeature(this)),this.registerFeature(new te.CallHierarchyFeature(this)),this.registerFeature(new ne.SemanticTokensFeature(this)),this.registerFeature(new ie.LinkedEditingFeature(this)),this.registerFeature(new re.DidCreateFilesFeature(this)),this.registerFeature(new re.DidRenameFilesFeature(this)),this.registerFeature(new re.DidDeleteFilesFeature(this)),this.registerFeature(new re.WillCreateFilesFeature(this)),this.registerFeature(new re.WillRenameFilesFeature(this)),this.registerFeature(new re.WillDeleteFilesFeature(this)),this.registerFeature(new oe.TypeHierarchyFeature(this)),this.registerFeature(new ae.InlineValueFeature(this)),this.registerFeature(new se.InlayHintsFeature(this)),this.registerFeature(new T.DiagnosticFeature(this)),this.registerFeature(new P.NotebookDocumentSyncFeature(this))}},{key:"registerProposedFeatures",value:function(){this.registerFeatures(fe.createAll(this))}},{key:"fillInitializeParams",value:function(e){var t,n=i(this._features);try{for(n.s();!(t=n.n()).done;){var r=t.value;S.func(r.fillInitializeParams)&&r.fillInitializeParams(e)}}catch(e){n.e(e)}finally{n.f()}}},{key:"computeClientCapabilities",value:function(){var t={};(0,D.ensure)(t,"workspace").applyEdit=!0;var n=(0,D.ensure)((0,D.ensure)(t,"workspace"),"workspaceEdit");n.documentChanges=!0,n.resourceOperations=[w.ResourceOperationKind.Create,w.ResourceOperationKind.Rename,w.ResourceOperationKind.Delete],n.failureHandling=w.FailureHandlingKind.TextOnlyTransactional,n.normalizesLineEndings=!0,n.changeAnnotationSupport={groupsOnLabel:!0};var r=(0,D.ensure)((0,D.ensure)(t,"textDocument"),"publishDiagnostics");r.relatedInformation=!0,r.versionSupport=!1,r.tagSupport={valueSet:[w.DiagnosticTag.Unnecessary,w.DiagnosticTag.Deprecated]},r.codeDescriptionSupport=!0,r.dataSupport=!0;var o=(0,D.ensure)(t,"window");(0,D.ensure)(o,"showMessage").messageActionItem={additionalPropertiesSupport:!0},(0,D.ensure)(o,"showDocument").support=!0;var a=(0,D.ensure)(t,"general");a.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(e.RequestsToCancelOnContentModified)},a.regularExpressions={engine:"ECMAScript",version:"ES2020"},a.markdown={parser:"marked",version:"1.1.0"},a.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(a.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);var s,u=i(this._features);try{for(u.s();!(s=u.n()).done;){s.value.fillClientCapabilities(t)}}catch(e){u.e(e)}finally{u.f()}return t}},{key:"initializeFeatures",value:function(e){var t,n=this._clientOptions.documentSelector,r=i(this._features);try{for(r.s();!(t=r.n()).done;){var o=t.value;S.func(o.preInitialize)&&o.preInitialize(this._capabilities,n)}}catch(e){r.e(e)}finally{r.f()}var a,s=i(this._features);try{for(s.s();!(a=s.n()).done;){a.value.initialize(this._capabilities,n)}}catch(e){s.e(e)}finally{s.f()}}},{key:"handleRegistrationRequest",value:(a=l(u().mark((function e(t){var n,r,o,a,s,c,l,f,d,h,p;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isRunning()){e.next=4;break}n=i(t.registrations);try{for(n.s();!(r=n.n()).done;)o=r.value,this._ignoredRegistrations.add(o.id)}catch(e){n.e(e)}finally{n.f()}return e.abrupt("return");case 4:a=i(t.registrations),e.prev=5,a.s();case 7:if((s=a.n()).done){e.next=24;break}if(f=s.value,void 0!==(d=this._dynamicFeatures.get(f.method))){e.next=12;break}return e.abrupt("return",Promise.reject(new Error("No feature implementation for ".concat(f.method," found. Registration failed."))));case 12:(h=null!==(c=f.registerOptions)&&void 0!==c?c:{}).documentSelector=null!==(l=h.documentSelector)&&void 0!==l?l:this._clientOptions.documentSelector,p={id:f.id,registerOptions:h},e.prev=15,d.register(p),e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(15),e.abrupt("return",Promise.reject(e.t0));case 22:e.next=7;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(5),a.e(e.t1);case 29:return e.prev=29,a.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,this,[[5,26,29,32],[15,19]])}))),function(e){return a.apply(this,arguments)})},{key:"handleUnregistrationRequest",value:(n=l(u().mark((function e(t){var n,r,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=i(t.unregisterations),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=13;break}if(o=r.value,!this._ignoredRegistrations.has(o.id)){e.next=7;break}return e.abrupt("continue",11);case 7:if(a=this._dynamicFeatures.get(o.method)){e.next=10;break}return e.abrupt("return",Promise.reject(new Error("No feature implementation for ".concat(o.method," found. Unregistration failed."))));case 10:a.unregister(o.id);case 11:e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[1,15,18,21]])}))),function(e){return n.apply(this,arguments)})},{key:"handleApplyWorkspaceEdit",value:(t=l(u().mark((function e(t){var n,r,o,a,s,c,l,f,d=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.edit,e.next=3,this.workspaceEditLock.lock((function(){return d._p2c.asWorkspaceEdit(n)}));case 3:if(r=e.sent,o=new Map,b.workspace.textDocuments.forEach((function(e){return o.set(e.uri.toString(),e)})),a=!1,!n.documentChanges){e.next=28;break}s=i(n.documentChanges),e.prev=9,s.s();case 11:if((c=s.n()).done){e.next=20;break}if(l=c.value,!(w.TextDocumentEdit.is(l)&&l.textDocument.version&&l.textDocument.version>=0)){e.next=18;break}if(!(f=o.get(l.textDocument.uri))||f.version===l.textDocument.version){e.next=18;break}return a=!0,e.abrupt("break",20);case 18:e.next=11;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(9),s.e(e.t0);case 25:return e.prev=25,s.f(),e.finish(25);case 28:if(!a){e.next=30;break}return e.abrupt("return",Promise.resolve({applied:!1}));case 30:return e.abrupt("return",S.asPromise(b.workspace.applyEdit(r).then((function(e){return{applied:e}}))));case 31:case"end":return e.stop()}}),e,this,[[9,22,25,28]])}))),function(e){return t.apply(this,arguments)})},{key:"handleFailedRequest",value:function(t,n,r,i){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(r instanceof w.ResponseError){if(r.code===w.ErrorCodes.PendingResponseRejected||r.code===w.ErrorCodes.ConnectionInactive)return i;if(r.code===w.LSPErrorCodes.RequestCancelled||r.code===w.LSPErrorCodes.ServerCancelled){if(void 0!==n&&n.isCancellationRequested)return i;throw void 0!==r.data?new D.LSPCancellationError(r.data):new b.CancellationError}if(r.code===w.LSPErrorCodes.ContentModified){if(e.RequestsToCancelOnContentModified.has(t.method))throw new b.CancellationError;return i}}throw this.error("Request ".concat(t.method," failed."),r,o),r}}]),e}();t.dp=le,le.RequestsToCancelOnContentModified=new Set([w.SemanticTokensRequest.method,w.SemanticTokensRangeRequest.method,w.SemanticTokensDeltaRequest.method]);var fe,de=function(){function e(){d(this,e)}return p(e,[{key:"error",value:function(e){(0,w.RAL)().console.error(e)}},{key:"warn",value:function(e){(0,w.RAL)().console.warn(e)}},{key:"info",value:function(e){(0,w.RAL)().console.info(e)}},{key:"log",value:function(e){(0,w.RAL)().console.log(e)}}]),e}();function he(e,t,n,r,i){var o=-1,a=new de,s=(0,w.createProtocolConnection)(e,t,a,i);s.onError((function(e){n(e[0],e[1],e[2])})),s.onClose(r);var u={get lastUsed(){return o},resetLastUsed:function(){o=-1},listen:function(){return s.listen()},sendRequest:function(e){o=Date.now();for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s.sendRequest.apply(s,[e].concat(n))},onRequest:function(e,t){return s.onRequest(e,t)},hasPendingResponse:function(){return s.hasPendingResponse()},sendNotification:function(e,t){return o=Date.now(),s.sendNotification(e,t)},onNotification:function(e,t){return s.onNotification(e,t)},onProgress:s.onProgress,sendProgress:s.sendProgress,trace:function(e,t,n){var r={sendNotification:!1,traceFormat:w.TraceFormat.Text};return void 0===n?s.trace(e,t,r):(S.boolean(n),s.trace(e,t,n))},initialize:function(e){return o=Date.now(),s.sendRequest(w.InitializeRequest.type,e)},shutdown:function(){return o=Date.now(),s.sendRequest(w.ShutdownRequest.type,void 0)},exit:function(){return o=Date.now(),s.sendNotification(w.ExitNotification.type)},end:function(){return s.end()},dispose:function(){return s.dispose()}};return u}!function(e){e.createAll=function(e){return[]}}(fe=t.Fy||(t.Fy={}))},66658:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new D(r||[]);return o(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function y(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,s)&&(g=b);var w=y.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(o,a,s,u){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,o(w,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CodeActionFeature=void 0;var d=n(23576),h=n(1358),p=n(30276),v=n(68210),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(l,e);var t,n,r,o=c(l);function l(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),o.call(this,e,h.CodeActionRequest.type)}return t=l,n=[{key:"fillClientCapabilities",value:function(e){var t=(0,v.ensure)((0,v.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[h.CodeActionKind.Empty,h.CodeActionKind.QuickFix,h.CodeActionKind.Refactor,h.CodeActionKind.RefactorExtract,h.CodeActionKind.RefactorInline,h.CodeActionKind.RefactorRewrite,h.CodeActionKind.Source,h.CodeActionKind.SourceOrganizeImports]}},t.honorsChangeAnnotations=!1}},{key:"initialize",value:function(e,t){var n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register({id:p.generateUuid(),registerOptions:n})}},{key:"registerLanguageProvider",value:function(e){var t=this,n=e.documentSelector,r={provideCodeActions:function(e,n,r,o){var s=t._client,u=function(){var e=a(i().mark((function e(t,n,r,o){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s.code2ProtocolConverter.asTextDocumentIdentifier(t),e.t1=s.code2ProtocolConverter.asRange(n),e.next=4,s.code2ProtocolConverter.asCodeActionContext(r,o);case 4:return e.t2=e.sent,a={textDocument:e.t0,range:e.t1,context:e.t2},e.abrupt("return",s.sendRequest(h.CodeActionRequest.type,a,o).then((function(e){return o.isCancellationRequested||null==e?null:s.protocol2CodeConverter.asCodeActionResult(e,o)}),(function(e){return s.handleFailedRequest(h.CodeActionRequest.type,o,e,null)})));case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),c=s.middleware;return c.provideCodeActions?c.provideCodeActions(e,n,r,o,u):u(e,n,r,o)},resolveCodeAction:e.resolveProvider?function(e,n){var r=t._client,o=t._client.middleware,s=function(){var e=a(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=h.CodeActionResolveRequest.type,e.next=4,r.code2ProtocolConverter.asCodeAction(t,n);case 4:return e.t2=e.sent,e.t3=n,e.abrupt("return",e.t0.sendRequest.call(e.t0,e.t1,e.t2,e.t3).then((function(e){return n.isCancellationRequested?t:r.protocol2CodeConverter.asCodeAction(e,n)}),(function(e){return r.handleFailedRequest(h.CodeActionResolveRequest.type,n,e,t)})));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return o.resolveCodeAction?o.resolveCodeAction(e,n,s):s(e,n)}:void 0};return[d.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),r]}}],n&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(v.TextDocumentLanguageFeature);t.CodeActionFeature=y},70589:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new D(r||[]);return o(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function y(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,s)&&(g=b);var w=y.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(o,a,s,u){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,o(w,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.createConverter=void 0;var c,l=n(23576),f=n(1358),d=n(17945),h=n(60132),p=n(53122),v=n(32672),y=n(74442),g=n(87532),m=n(64939),b=n(11994),w=n(25527),_=n(25197),k=n(29983);!function(e){e.is=function(e){var t=e;return t&&!!t.inserting&&!!t.replacing}}(c||(c={})),t.createConverter=function(e){var t=e||function(e){return e.toString()};function n(e){return t(e)}function r(e){return{uri:t(e.uri)}}function o(e){return{uri:t(e.uri),languageId:e.languageId,version:e.version,text:e.getText()}}function u(e){switch(e){case l.TextDocumentSaveReason.Manual:return f.TextDocumentSaveReason.Manual;case l.TextDocumentSaveReason.AfterDelay:return f.TextDocumentSaveReason.AfterDelay;case l.TextDocumentSaveReason.FocusOut:return f.TextDocumentSaveReason.FocusOut}return f.TextDocumentSaveReason.Manual}function S(e){switch(e){case l.CompletionTriggerKind.TriggerCharacter:return f.CompletionTriggerKind.TriggerCharacter;case l.CompletionTriggerKind.TriggerForIncompleteCompletions:return f.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return f.CompletionTriggerKind.Invoked}}function x(e){switch(e){case l.SignatureHelpTriggerKind.Invoke:return f.SignatureHelpTriggerKind.Invoked;case l.SignatureHelpTriggerKind.TriggerCharacter:return f.SignatureHelpTriggerKind.TriggerCharacter;case l.SignatureHelpTriggerKind.ContentChange:return f.SignatureHelpTriggerKind.ContentChange}}function C(e){return{label:e.label}}function E(e){return{label:e.label,parameters:(t=e.parameters,t.map(C))};var t}function D(e){return{line:e.line,character:e.character}}function T(e){return null==e?e:{line:e.line>f.uinteger.MAX_VALUE?f.uinteger.MAX_VALUE:e.line,character:e.character>f.uinteger.MAX_VALUE?f.uinteger.MAX_VALUE:e.character}}function P(e){return null==e?e:{start:T(e.start),end:T(e.end)}}function O(e){return null==e?e:f.Location.create(n(e.uri),P(e.range))}function R(e){switch(e){case l.DiagnosticSeverity.Error:return f.DiagnosticSeverity.Error;case l.DiagnosticSeverity.Warning:return f.DiagnosticSeverity.Warning;case l.DiagnosticSeverity.Information:return f.DiagnosticSeverity.Information;case l.DiagnosticSeverity.Hint:return f.DiagnosticSeverity.Hint}}function I(e){switch(e){case l.DiagnosticTag.Unnecessary:return f.DiagnosticTag.Unnecessary;case l.DiagnosticTag.Deprecated:return f.DiagnosticTag.Deprecated;default:return}}function L(e){return{message:e.message,location:O(e.location)}}function j(e){var t=f.Diagnostic.create(P(e.range),e.message),r=e instanceof m.ProtocolDiagnostic?e:void 0;void 0!==r&&void 0!==r.data&&(t.data=r.data);var i=function(e){if(null!=e)return d.number(e)||d.string(e)?e:{value:e.value,target:n(e.target)}}(e.code);return m.DiagnosticCode.is(i)?void 0!==r&&r.hasDiagnosticCode?t.code=i:(t.code=i.value,t.codeDescription={href:i.target}):t.code=i,d.number(e.severity)&&(t.severity=R(e.severity)),Array.isArray(e.tags)&&(t.tags=function(e){if(e){var t,n=[],r=s(e);try{for(r.s();!(t=r.n()).done;){var i=I(t.value);void 0!==i&&n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n.length>0?n:void 0}}(e.tags)),e.relatedInformation&&(t.relatedInformation=e.relatedInformation.map(L)),e.source&&(t.source=e.source),t}function A(e,t){return null==e?e:h.map(e,j,t)}function N(e,t){switch(e){case"$string":return t;case f.MarkupKind.PlainText:return{kind:e,value:t};case f.MarkupKind.Markdown:return{kind:e,value:t.value};default:return"Unsupported Markup content received. Kind is: ".concat(e)}}function F(e){if(e===l.CompletionItemTag.Deprecated)return f.CompletionItemTag.Deprecated}function M(e){if(void 0===e)return e;var t,n=[],r=s(e);try{for(r.s();!(t=r.n()).done;){var i=F(t.value);void 0!==i&&n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n}function q(e,t){return void 0!==t?t:e+1}function H(e,t){var n=f.InsertTextFormat.PlainText,r=void 0,i=void 0;t.textEdit?(r=t.textEdit.newText,i=t.textEdit.range):t.insertText instanceof l.SnippetString?(n=f.InsertTextFormat.Snippet,r=t.insertText.value):r=t.insertText,t.range&&(i=t.range),e.insertTextFormat=n,t.fromEdit&&void 0!==r&&void 0!==i?e.textEdit=function(e,t){return c.is(t)?f.InsertReplaceEdit.create(e,P(t.inserting),P(t.replacing)):{newText:e,range:P(t)}}(r,i):e.insertText=r}function W(e){return{range:P(e.range),newText:e.newText}}function U(e){return null==e?e:e.map(W)}function K(e){return e<=l.SymbolKind.TypeParameter?e+1:f.SymbolKind.Property}function $(e){return e}function B(e){return e.map($)}function V(){return(V=a(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.CodeAction.create(t.title),t instanceof g.default&&void 0!==t.data&&(r.data=t.data),void 0!==t.kind&&(r.kind=J(t.kind)),void 0===t.diagnostics){e.next=7;break}return e.next=6,A(t.diagnostics,n);case 6:r.diagnostics=e.sent;case 7:if(void 0===t.edit){e.next=9;break}throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");case 9:return void 0!==t.command&&(r.command=Y(t.command)),void 0!==t.isPreferred&&(r.isPreferred=t.isPreferred),void 0!==t.disabled&&(r.disabled={reason:t.disabled.reason}),e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=a(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",t);case 2:return t.only&&d.string(t.only.value)&&(r=[t.only.value]),e.t0=f.CodeActionContext,e.next=6,A(t.diagnostics,n);case 6:return e.t1=e.sent,e.t2=r,e.t3=G(t.triggerKind),e.abrupt("return",e.t0.create.call(e.t0,e.t1,e.t2,e.t3));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){switch(e){case l.CodeActionTriggerKind.Invoke:return f.CodeActionTriggerKind.Invoked;case l.CodeActionTriggerKind.Automatic:return f.CodeActionTriggerKind.Automatic;default:return}}function J(e){if(null!=e)return e.value}function Y(e){var t=f.Command.create(e.title,e.command);return e.arguments&&(t.arguments=e.arguments),t}function Q(e){var t=f.InlayHintLabelPart.create(e.value);return void 0!==e.location&&(t.location=O(e.location)),void 0!==e.command&&(t.command=Y(e.command)),void 0!==e.tooltip&&(t.tooltip=Z(e.tooltip)),t}function Z(e){return"string"==typeof e?e:{kind:f.MarkupKind.Markdown,value:e.value}}return{asUri:n,asTextDocumentIdentifier:r,asTextDocumentItem:o,asVersionedTextDocumentIdentifier:function(e){return{uri:t(e.uri),version:e.version}},asOpenTextDocumentParams:function(e){return{textDocument:o(e)}},asChangeTextDocumentParams:function(e){var n;if((n=e).uri&&n.version)return{textDocument:{uri:t(e.uri),version:e.version},contentChanges:[{text:e.getText()}]};if(function(e){var t=e;return!!t.document&&!!t.contentChanges}(e)){var r=e.document;return{textDocument:{uri:t(r.uri),version:r.version},contentChanges:e.contentChanges.map((function(e){var t=e.range;return{range:{start:{line:t.start.line,character:t.start.character},end:{line:t.end.line,character:t.end.character}},rangeLength:e.rangeLength,text:e.text}}))}}throw Error("Unsupported text document change parameter")},asCloseTextDocumentParams:function(e){return{textDocument:r(e)}},asSaveTextDocumentParams:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={textDocument:r(e)};return t&&(n.text=e.getText()),n},asWillSaveTextDocumentParams:function(e){return{textDocument:r(e.document),reason:u(e.reason)}},asDidCreateFilesParams:function(e){return{files:e.files.map((function(e){return{uri:t(e)}}))}},asDidRenameFilesParams:function(e){return{files:e.files.map((function(e){return{oldUri:t(e.oldUri),newUri:t(e.newUri)}}))}},asDidDeleteFilesParams:function(e){return{files:e.files.map((function(e){return{uri:t(e)}}))}},asWillCreateFilesParams:function(e){return{files:e.files.map((function(e){return{uri:t(e)}}))}},asWillRenameFilesParams:function(e){return{files:e.files.map((function(e){return{oldUri:t(e.oldUri),newUri:t(e.newUri)}}))}},asWillDeleteFilesParams:function(e){return{files:e.files.map((function(e){return{uri:t(e)}}))}},asTextDocumentPositionParams:function(e,t){return{textDocument:r(e),position:D(t)}},asCompletionParams:function(e,t,n){return{textDocument:r(e),position:D(t),context:{triggerKind:S(n.triggerKind),triggerCharacter:n.triggerCharacter}}},asSignatureHelpParams:function(e,t,n){return{textDocument:r(e),position:D(t),context:{isRetrigger:n.isRetrigger,triggerCharacter:n.triggerCharacter,triggerKind:x(n.triggerKind),activeSignatureHelp:(i=n.activeSignatureHelp,void 0===i?i:{signatures:(o=i.signatures,o.map(E)),activeSignature:i.activeSignature,activeParameter:i.activeParameter})}};var i,o},asWorkerPosition:D,asRange:P,asPosition:T,asPositions:function(e,t){return h.map(e,T,t)},asLocation:O,asDiagnosticSeverity:R,asDiagnosticTag:I,asDiagnostic:j,asDiagnostics:A,asCompletionItem:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];d.string(e.label)?t=e.label:(t=e.label.label,!r||void 0===e.label.detail&&void 0===e.label.description||(n={detail:e.label.detail,description:e.label.description}));var i={label:t};void 0!==n&&(i.labelDetails=n);var o=e instanceof p.default?e:void 0;e.detail&&(i.detail=e.detail),e.documentation&&(o&&"$string"!==o.documentationFormat?i.documentation=N(o.documentationFormat,e.documentation):i.documentation=e.documentation),e.filterText&&(i.filterText=e.filterText),H(i,e),d.number(e.kind)&&(i.kind=q(e.kind,o&&o.originalItemKind)),e.sortText&&(i.sortText=e.sortText),e.additionalTextEdits&&(i.additionalTextEdits=U(e.additionalTextEdits)),e.commitCharacters&&(i.commitCharacters=e.commitCharacters.slice()),e.command&&(i.command=Y(e.command)),!0!==e.preselect&&!1!==e.preselect||(i.preselect=e.preselect);var a=M(e.tags);if(o){if(void 0!==o.data&&(i.data=o.data),!0===o.deprecated||!1===o.deprecated){if(!0===o.deprecated&&void 0!==a&&a.length>0){var s=a.indexOf(l.CompletionItemTag.Deprecated);-1!==s&&a.splice(s,1)}i.deprecated=o.deprecated}void 0!==o.insertTextMode&&(i.insertTextMode=o.insertTextMode)}return void 0!==a&&a.length>0&&(i.tags=a),void 0===i.insertTextMode&&!0===e.keepWhitespace&&(i.insertTextMode=f.InsertTextMode.adjustIndentation),i},asTextEdit:W,asSymbolKind:K,asSymbolTag:$,asSymbolTags:B,asReferenceParams:function(e,t,n){return{textDocument:r(e),position:D(t),context:{includeDeclaration:n.includeDeclaration}}},asCodeAction:function(e,t){return V.apply(this,arguments)},asCodeActionContext:function(e,t){return z.apply(this,arguments)},asInlineValueContext:function(e){return null==e?e:f.InlineValueContext.create(e.frameId,P(e.stoppedLocation))},asCommand:Y,asCodeLens:function(e){var t=f.CodeLens.create(P(e.range));return e.command&&(t.command=Y(e.command)),e instanceof v.default&&e.data&&(t.data=e.data),t},asFormattingOptions:function(e,t){var n={tabSize:e.tabSize,insertSpaces:e.insertSpaces};return t.trimTrailingWhitespace&&(n.trimTrailingWhitespace=!0),t.trimFinalNewlines&&(n.trimFinalNewlines=!0),t.insertFinalNewline&&(n.insertFinalNewline=!0),n},asDocumentSymbolParams:function(e){return{textDocument:r(e)}},asCodeLensParams:function(e){return{textDocument:r(e)}},asDocumentLink:function(e){var t=f.DocumentLink.create(P(e.range));e.target&&(t.target=n(e.target)),void 0!==e.tooltip&&(t.tooltip=e.tooltip);var r=e instanceof y.default?e:void 0;return r&&r.data&&(t.data=r.data),t},asDocumentLinkParams:function(e){return{textDocument:r(e)}},asCallHierarchyItem:function(e){var t={name:e.name,kind:K(e.kind),uri:n(e.uri),range:P(e.range),selectionRange:P(e.selectionRange)};return void 0!==e.detail&&e.detail.length>0&&(t.detail=e.detail),void 0!==e.tags&&(t.tags=B(e.tags)),e instanceof b.default&&void 0!==e.data&&(t.data=e.data),t},asTypeHierarchyItem:function(e){var t={name:e.name,kind:K(e.kind),uri:n(e.uri),range:P(e.range),selectionRange:P(e.selectionRange)};return void 0!==e.detail&&e.detail.length>0&&(t.detail=e.detail),void 0!==e.tags&&(t.tags=B(e.tags)),e instanceof w.default&&void 0!==e.data&&(t.data=e.data),t},asInlayHint:function(e){var t="string"==typeof e.label?e.label:e.label.map(Q),n=f.InlayHint.create(T(e.position),t);return void 0!==e.kind&&(n.kind=e.kind),void 0!==e.textEdits&&(n.textEdits=U(e.textEdits)),void 0!==e.tooltip&&(n.tooltip=Z(e.tooltip)),void 0!==e.paddingLeft&&(n.paddingLeft=e.paddingLeft),void 0!==e.paddingRight&&(n.paddingRight=e.paddingRight),e instanceof k.default&&void 0!==e.data&&(n.data=e.data),n},asWorkspaceSymbol:function(e){var n=e instanceof _.default?{name:e.name,kind:K(e.kind),location:e.hasRange?O(e.location):{uri:t(e.location.uri)},data:e.data}:{name:e.name,kind:K(e.kind),location:O(e.location)};return void 0!==e.tags&&(n.tags=B(e.tags)),""!==e.containerName&&(n.containerName=e.containerName),n}}}},64112:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new D(r||[]);return o(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function y(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,s)&&(g=b);var w=y.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(o,a,s,u){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,o(w,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))}}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CodeLensFeature=void 0;var p=n(23576),v=n(1358),y=n(30276),g=n(68210),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(s,e);var t,n,r,a=f(s);function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,e,v.CodeLensRequest.type)}return t=s,(n=[{key:"fillClientCapabilities",value:function(e){(0,g.ensure)((0,g.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,g.ensure)((0,g.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}},{key:"initialize",value:function(e,t){var n=this;this._client.onRequest(v.CodeLensRefreshRequest.type,u(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o(n.getAllProviders());try{for(t.s();!(r=t.n()).done;)r.value.onDidChangeCodeLensEmitter.fire()}catch(e){t.e(e)}finally{t.f()}case 2:case"end":return e.stop()}}),e)}))));var r=this.getRegistrationOptions(t,e.codeLensProvider);r&&this.register({id:y.generateUuid(),registerOptions:r})}},{key:"registerLanguageProvider",value:function(e){var t=this,n=e.documentSelector,r=new p.EventEmitter,i={onDidChangeCodeLenses:r.event,provideCodeLenses:function(e,n){var r=t._client,i=function(e,t){return r.sendRequest(v.CodeLensRequest.type,r.code2ProtocolConverter.asCodeLensParams(e),t).then((function(e){return t.isCancellationRequested?null:r.protocol2CodeConverter.asCodeLenses(e,t)}),(function(e){return r.handleFailedRequest(v.CodeLensRequest.type,t,e,null)}))},o=r.middleware;return o.provideCodeLenses?o.provideCodeLenses(e,n,i):i(e,n)},resolveCodeLens:e.resolveProvider?function(e,n){var r=t._client,i=function(e,t){return r.sendRequest(v.CodeLensResolveRequest.type,r.code2ProtocolConverter.asCodeLens(e),t).then((function(n){return t.isCancellationRequested?e:r.protocol2CodeConverter.asCodeLens(n)}),(function(n){return r.handleFailedRequest(v.CodeLensResolveRequest.type,t,n,e)}))},o=r.middleware;return o.resolveCodeLens?o.resolveCodeLens(e,n,i):i(e,n)}:void 0};return[p.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),{provider:i,onDidChangeCodeLensEmitter:r}]}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(g.TextDocumentLanguageFeature);t.CodeLensFeature=m},31412:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorProviderFeature=void 0;var f=n(23576),d=n(1358),h=n(68210),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(c,e);var t,n,r,o=u(c);function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),o.call(this,e,d.DocumentColorRequest.type)}return t=c,(n=[{key:"fillClientCapabilities",value:function(e){(0,h.ensure)((0,h.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}},{key:"initialize",value:function(e,t){var n=i(this.getRegistration(t,e.colorProvider),2),r=n[0],o=n[1];r&&o&&this.register({id:r,registerOptions:o})}},{key:"registerLanguageProvider",value:function(e){var t=this,n=e.documentSelector,r={provideColorPresentations:function(e,n,r){var i=t._client,o=function(e,n,r){var o={color:e,textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(n.document),range:i.code2ProtocolConverter.asRange(n.range)};return i.sendRequest(d.ColorPresentationRequest.type,o,r).then((function(e){return r.isCancellationRequested?null:t._client.protocol2CodeConverter.asColorPresentations(e,r)}),(function(e){return i.handleFailedRequest(d.ColorPresentationRequest.type,r,e,null)}))},a=i.middleware;return a.provideColorPresentations?a.provideColorPresentations(e,n,r,o):o(e,n,r)},provideDocumentColors:function(e,n){var r=t._client,i=function(e,n){var i={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e)};return r.sendRequest(d.DocumentColorRequest.type,i,n).then((function(e){return n.isCancellationRequested?null:t._client.protocol2CodeConverter.asColorInformations(e,n)}),(function(e){return r.handleFailedRequest(d.DocumentColorRequest.type,n,e,null)}))},o=r.middleware;return o.provideDocumentColors?o.provideDocumentColors(e,n,i):i(e,n)}};return[f.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(h.TextDocumentLanguageFeature);t.ColorProviderFeature=p},38162:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CompletionItemFeature=void 0;var f=n(23576),d=n(1358),h=n(68210),p=n(30276),v=[d.CompletionItemKind.Text,d.CompletionItemKind.Method,d.CompletionItemKind.Function,d.CompletionItemKind.Constructor,d.CompletionItemKind.Field,d.CompletionItemKind.Variable,d.CompletionItemKind.Class,d.CompletionItemKind.Interface,d.CompletionItemKind.Module,d.CompletionItemKind.Property,d.CompletionItemKind.Unit,d.CompletionItemKind.Value,d.CompletionItemKind.Enum,d.CompletionItemKind.Keyword,d.CompletionItemKind.Snippet,d.CompletionItemKind.Color,d.CompletionItemKind.File,d.CompletionItemKind.Reference,d.CompletionItemKind.Folder,d.CompletionItemKind.EnumMember,d.CompletionItemKind.Constant,d.CompletionItemKind.Struct,d.CompletionItemKind.Event,d.CompletionItemKind.Operator,d.CompletionItemKind.TypeParameter],y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(c,e);var t,n,r,o=u(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e,d.CompletionRequest.type)).labelDetailsSupport=new Map,t}return t=c,(n=[{key:"fillClientCapabilities",value:function(e){var t=(0,h.ensure)((0,h.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[d.MarkupKind.Markdown,d.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[d.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[d.InsertTextMode.asIs,d.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=d.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:v},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode"]}}},{key:"initialize",value:function(e,t){var n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register({id:p.generateUuid(),registerOptions:n})}},{key:"registerLanguageProvider",value:function(e,t){var n,r,o,a=this;this.labelDetailsSupport.set(t,!(null===(n=e.completionItem)||void 0===n||!n.labelDetailsSupport));var s=null!==(r=e.triggerCharacters)&&void 0!==r?r:[],u=e.allCommitCharacters,c=e.documentSelector,l={provideCompletionItems:function(e,t,n,r){var i=a._client,o=a._client.middleware,s=function(e,t,n,r){return i.sendRequest(d.CompletionRequest.type,i.code2ProtocolConverter.asCompletionParams(e,t,n),r).then((function(e){return r.isCancellationRequested?null:i.protocol2CodeConverter.asCompletionResult(e,u,r)}),(function(e){return i.handleFailedRequest(d.CompletionRequest.type,r,e,null)}))};return o.provideCompletionItem?o.provideCompletionItem(e,t,r,n,s):s(e,t,r,n)},resolveCompletionItem:e.resolveProvider?function(e,n){var r=a._client,i=a._client.middleware,o=function(e,n){return r.sendRequest(d.CompletionResolveRequest.type,r.code2ProtocolConverter.asCompletionItem(e,!!a.labelDetailsSupport.get(t)),n).then((function(e){return n.isCancellationRequested?null:r.protocol2CodeConverter.asCompletionItem(e)}),(function(t){return r.handleFailedRequest(d.CompletionResolveRequest.type,n,t,e)}))};return i.resolveCompletionItem?i.resolveCompletionItem(e,n,o):o(e,n)}:void 0};return[(o=f.languages).registerCompletionItemProvider.apply(o,[this._client.protocol2CodeConverter.asDocumentSelector(c),l].concat(i(s))),l]}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(h.TextDocumentLanguageFeature);t.CompletionItemFeature=y},76048:(e,t,n)=>{function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function y(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,s)&&(g=b);var w=y.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,s,u){var c=d(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==o(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var a;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,i(w,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function i(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,a=void 0,a=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===o(a)?a:String(a)),r)}var i,a}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.SyncConfigurationFeature=t.toJSONObject=t.ConfigurationFeature=void 0;var f=n(23576),d=n(1358),h=n(17945),p=n(30276),v=n(68210),y=function(){function e(t){u(this,e),this._client=t}return l(e,[{key:"getState",value:function(){return{kind:"static"}}},{key:"fillClientCapabilities",value:function(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}},{key:"initialize",value:function(){var e=this,t=this._client;t.onRequest(d.ConfigurationRequest.type,(function(n,r){var i=function(t){var n,r=[],i=a(t.items);try{for(i.s();!(n=i.n()).done;){var o=n.value,s=void 0!==o.scopeUri&&null!==o.scopeUri?e._client.protocol2CodeConverter.asUri(o.scopeUri):void 0;r.push(e.getConfiguration(s,null!==o.section?o.section:void 0))}}catch(e){i.e(e)}finally{i.f()}return r},o=t.middleware.workspace;return o&&o.configuration?o.configuration(n,r,i):i(n)}))}},{key:"getConfiguration",value:function(e,t){var n=null;if(t){var r=t.lastIndexOf(".");if(-1===r)n=g(f.workspace.getConfiguration(void 0,e).get(t));else{var i=f.workspace.getConfiguration(t.substr(0,r),e);i&&(n=g(i.get(t.substr(r+1))))}}else{var o=f.workspace.getConfiguration(void 0,e);n={};for(var a=0,s=Object.keys(o);a<s.length;a++){var u=s[a];o.has(u)&&(n[u]=g(o.get(u)))}}return void 0===n&&(n=null),n}},{key:"dispose",value:function(){}}]),e}();function g(e){if(e){if(Array.isArray(e))return e.map(g);if("object"===o(e)){var t=Object.create(null);for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=g(e[n]));return t}}return e}t.ConfigurationFeature=y,t.toJSONObject=g;var m=function(){function e(t){u(this,e),this._client=t,this._listeners=new Map}return l(e,[{key:"getState",value:function(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}},{key:"registrationType",get:function(){return d.DidChangeConfigurationNotification.type}},{key:"fillClientCapabilities",value:function(e){(0,v.ensure)((0,v.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}},{key:"initialize",value:function(){var e,t=null===(e=this._client.clientOptions.synchronize)||void 0===e?void 0:e.configurationSection;void 0!==t&&this.register({id:p.generateUuid(),registerOptions:{section:t}})}},{key:"register",value:function(e){var t=this,n=f.workspace.onDidChangeConfiguration((function(n){t.onDidChangeConfiguration(e.registerOptions.section,n)}));this._listeners.set(e.id,n),void 0!==e.registerOptions.section&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}},{key:"unregister",value:function(e){var t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}},{key:"dispose",value:function(){var e,t=a(this._listeners.values());try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(e){t.e(e)}finally{t.f()}this._listeners.clear()}},{key:"onDidChangeConfiguration",value:function(e,t){var n,o,a=this;if(void 0!==(o=h.string(e)?[e]:e)&&void 0!==t&&!o.some((function(e){return t.affectsConfiguration(e)})))return;var s=function(){var e,t=(e=r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=4;break}return e.abrupt("return",a._client.sendNotification(d.DidChangeConfigurationNotification.type,{settings:null}));case 4:return e.abrupt("return",a._client.sendNotification(d.DidChangeConfigurationNotification.type,{settings:a.extractSettingsInformation(t)}));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,u,"next",e)}function u(e){i(a,r,o,s,u,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}(),u=null===(n=this._client.middleware.workspace)||void 0===n?void 0:n.didChangeConfiguration;(u?u(o,s):s(o)).catch((function(e){a._client.error("Sending notification ".concat(d.DidChangeConfigurationNotification.type.method," failed"),e)}))}},{key:"extractSettingsInformation",value:function(e){function t(e,t){for(var n=e,r=0;r<t.length-1;r++){var i=n[t[r]];i||(i=Object.create(null),n[t[r]]=i),n=i}return n}for(var n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,r=Object.create(null),i=0;i<e.length;i++){var o=e[i],a=o.indexOf("."),s=null;if(s=a>=0?f.workspace.getConfiguration(o.substr(0,a),n).get(o.substr(a+1)):f.workspace.getConfiguration(void 0,n).get(o)){var u=e[i].split(".");t(r,u)[u[u.length-1]]=g(s)}}return r}}]),e}();t.SyncConfigurationFeature=m},15655:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationFeature=void 0;var f=n(23576),d=n(1358),h=n(68210),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(c,e);var t,n,r,o=u(c);function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),o.call(this,e,d.DeclarationRequest.type)}return t=c,(n=[{key:"fillClientCapabilities",value:function(e){var t=(0,h.ensure)((0,h.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}},{key:"initialize",value:function(e,t){var n=i(this.getRegistration(t,e.declarationProvider),2),r=n[0],o=n[1];r&&o&&this.register({id:r,registerOptions:o})}},{key:"registerLanguageProvider",value:function(e){var t=this,n=e.documentSelector,r={provideDeclaration:function(e,n,r){var i=t._client,o=function(e,t,n){return i.sendRequest(d.DeclarationRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((function(e){return n.isCancellationRequested?null:i.protocol2CodeConverter.asDeclarationResult(e,n)}),(function(e){return i.handleFailedRequest(d.DeclarationRequest.type,n,e,null)}))},a=i.middleware;return a.provideDeclaration?a.provideDeclaration(e,n,r,o):o(e,n,r)}};return[this.registerProvider(n,r),r]}},{key:"registerProvider",value:function(e,t){return f.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(h.TextDocumentLanguageFeature);t.DeclarationFeature=p},96e3:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DefinitionFeature=void 0;var c=n(23576),l=n(1358),f=n(68210),d=n(30276),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,e);var t,n,r,s=a(u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),s.call(this,e,l.DefinitionRequest.type)}return t=u,(n=[{key:"fillClientCapabilities",value:function(e){var t=(0,f.ensure)((0,f.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}},{key:"initialize",value:function(e,t){var n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register({id:d.generateUuid(),registerOptions:n})}},{key:"registerLanguageProvider",value:function(e){var t=this,n=e.documentSelector,r={provideDefinition:function(e,n,r){var i=t._client,o=function(e,t,n){return i.sendRequest(l.DefinitionRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((function(e){return n.isCancellationRequested?null:i.protocol2CodeConverter.asDefinitionResult(e,n)}),(function(e){return i.handleFailedRequest(l.DefinitionRequest.type,n,e,null)}))},a=i.middleware;return a.provideDefinition?a.provideDefinition(e,n,r,o):o(e,n,r)}};return[this.registerProvider(n,r),r]}},{key:"registerProvider",value:function(e,t){return c.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(f.TextDocumentLanguageFeature);t.DefinitionFeature=h},26974:(e,t,n)=>{function r(){return r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=i(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},r.apply(this,arguments)}function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new D(i||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function p(){}function v(){}function y(){}var g={};u(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,o)&&(g=b);var w=y.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(r,o,a,s){var u=f(e[r],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==h(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,r(w,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:v,configurable:!0}),v.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),u(w,s,"Generator"),u(w,o,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function l(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,s,"next",e)}function s(e){l(o,r,i,a,s,"throw",e)}a(void 0)}))}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=v(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function v(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===h(o)?o:String(o)),r)}var i,o}function b(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticFeature=t.DiagnosticPullMode=t.vsdiag=void 0;var w,_,k,S=n(91171),x=n(23576),C=n(1358),E=n(30276),D=n(68210);function T(e,t){return void 0===e[t]&&(e[t]={}),e[t]}!function(e){!function(e){e.full="full",e.unChanged="unChanged"}(e.DocumentDiagnosticReportKind||(e.DocumentDiagnosticReportKind={}))}(w=t.vsdiag||(t.vsdiag={})),function(e){e.onType="onType",e.onSave="onSave"}(_=t.DiagnosticPullMode||(t.DiagnosticPullMode={})),function(e){e.active="open",e.reschedule="reschedule",e.outDated="drop"}(k||(k={}));var P,O=function(){function e(){var t=this;g(this,e),this.open=new Set,this._onOpen=new x.EventEmitter,this._onClose=new x.EventEmitter,e.fillTabResources(this.open);void 0!==x.window.tabGroups.onDidChangeTabs?this.disposable=x.window.tabGroups.onDidChangeTabs((function(n){if(0!==n.closed.length||0!==n.opened.length){var r=t.open,i=new Set;e.fillTabResources(i);var o,a=new Set,s=new Set(i),u=p(r.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;i.has(c)?s.delete(c):a.add(c)}}catch(e){u.e(e)}finally{u.f()}if(t.open=i,a.size>0){var l,f=new Set,d=p(a);try{for(d.s();!(l=d.n()).done;){var h=l.value;f.add(x.Uri.parse(h))}}catch(e){d.e(e)}finally{d.f()}t._onClose.fire(f)}if(s.size>0){var v,y=new Set,g=p(s);try{for(g.s();!(v=g.n()).done;){var m=v.value;y.add(x.Uri.parse(m))}}catch(e){g.e(e)}finally{g.f()}t._onOpen.fire(y)}}})):this.disposable={dispose:function(){}}}return b(e,[{key:"onClose",get:function(){return this._onClose.event}},{key:"onOpen",get:function(){return this._onOpen.event}},{key:"dispose",value:function(){this.disposable.dispose()}},{key:"isActive",value:function(e){var t,n;return e instanceof x.Uri?(null===(t=x.window.activeTextEditor)||void 0===t?void 0:t.document.uri)===e:(null===(n=x.window.activeTextEditor)||void 0===n?void 0:n.document)===e}},{key:"isVisible",value:function(e){var t=e instanceof x.Uri?e:e.uri;return this.open.has(t.toString())}},{key:"getTabResources",value:function(){var t=new Set;return e.fillTabResources(new Set,t),t}}],[{key:"fillTabResources",value:function(e,t){var n,r=null!=e?e:new Set,i=p(x.window.tabGroups.all);try{for(i.s();!(n=i.n()).done;){var o,a=p(n.value.tabs);try{for(a.s();!(o=a.n()).done;){var s=o.value.input,u=void 0;s instanceof x.TabInputText?u=s.uri:s instanceof x.TabInputTextDiff&&(u=s.modified),void 0===u||r.has(u.toString())||(r.add(u.toString()),void 0!==t&&t.add(u))}}catch(e){a.e(e)}finally{a.f()}}}catch(e){i.e(e)}finally{i.f()}}}]),e}();!function(e){e[e.document=1]="document",e[e.workspace=2]="workspace"}(P||(P={}));var R=function(){function e(){g(this,e),this.documentPullStates=new Map,this.workspacePullStates=new Map}return b(e,[{key:"track",value:function(e,t,n){var r=e===P.document?this.documentPullStates:this.workspacePullStates,i=d(t instanceof x.Uri?[t.toString(),t,n]:[t.uri.toString(),t.uri,t.version],3),o=i[0],a=i[1],s=i[2],u=r.get(o);return void 0===u&&(u={document:a,pulledVersion:s,resultId:void 0},r.set(o,u)),u}},{key:"update",value:function(e,t,n,r){var i=e===P.document?this.documentPullStates:this.workspacePullStates,o=d(t instanceof x.Uri?[t.toString(),t,n,r]:[t.uri.toString(),t.uri,t.version,n],4),a=o[0],s=o[1],u=o[2],c=o[3],l=i.get(a);void 0===l?(l={document:s,pulledVersion:u,resultId:c},i.set(a,l)):(l.pulledVersion=u,l.resultId=c)}},{key:"unTrack",value:function(e,t){var n=t instanceof x.Uri?t.toString():t.uri.toString();(e===P.document?this.documentPullStates:this.workspacePullStates).delete(n)}},{key:"tracks",value:function(e,t){var n=t instanceof x.Uri?t.toString():t.uri.toString();return(e===P.document?this.documentPullStates:this.workspacePullStates).has(n)}},{key:"getResultId",value:function(e,t){var n,r=t instanceof x.Uri?t.toString():t.uri.toString();return null===(n=(e===P.document?this.documentPullStates:this.workspacePullStates).get(r))||void 0===n?void 0:n.resultId}},{key:"getAllResultIds",value:function(){var e,t=[],n=p(this.workspacePullStates);try{for(n.s();!(e=n.n()).done;){var r=d(e.value,2),i=r[0],o=r[1];this.documentPullStates.has(i)&&(o=this.documentPullStates.get(i)),void 0!==o.resultId&&t.push({uri:i,value:o.resultId})}}catch(e){n.e(e)}finally{n.f()}return t}}]),e}(),I=function(){function e(t,n,r){g(this,e),this.client=t,this.tabs=n,this.options=r,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new x.EventEmitter,this.provider=this.createProvider(),this.diagnostics=x.languages.createDiagnosticCollection(r.identifier),this.openRequests=new Map,this.documentStates=new R,this.workspaceErrorCounter=0}var t,n;return b(e,[{key:"knows",value:function(e,t){return this.documentStates.tracks(e,t)}},{key:"forget",value:function(e,t){this.documentStates.unTrack(e,t)}},{key:"pull",value:function(e,t){var n=this;if(!this.isDisposed){var r=e instanceof x.Uri?e:e.uri;this.pullAsync(e).then((function(){t&&t()}),(function(e){n.client.error("Document pull failed for text document ".concat(r.toString()),e,!1)}))}}},{key:"pullAsync",value:(n=f(c().mark((function e(t,n){var r,i,o,a,s,u,l,f,d,h;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isDisposed){e.next=2;break}return e.abrupt("return");case 2:if(r=t instanceof x.Uri,i=r?t:t.uri,o=i.toString(),n=r?n:t.version,a=this.openRequests.get(o),s=r?this.documentStates.track(P.document,t,n):this.documentStates.track(P.document,t),void 0!==a){e.next=49;break}return l=new x.CancellationTokenSource,this.openRequests.set(o,{state:k.active,document:t,version:n,tokenSource:l}),e.prev=11,e.next=14,this.provider.provideDiagnostics(t,s.resultId,l.token);case 14:if(e.t1=h=e.sent,e.t0=null!==e.t1,!e.t0){e.next=18;break}e.t0=void 0!==h;case 18:if(!e.t0){e.next=22;break}e.t2=h,e.next=23;break;case 22:e.t2={kind:w.DocumentDiagnosticReportKind.full,items:[]};case 23:f=e.t2,e.next=34;break;case 26:if(e.prev=26,e.t3=e.catch(11),e.t3 instanceof D.LSPCancellationError&&C.DiagnosticServerCancellationData.is(e.t3.data)&&!1===e.t3.data.retriggerRequest&&(d={state:k.outDated,document:t}),!(void 0===d&&e.t3 instanceof x.CancellationError)){e.next=33;break}d={state:k.reschedule,document:t},e.next=34;break;case 33:throw e.t3;case 34:if(void 0!==(d=null!==(u=d)&&void 0!==u?u:this.openRequests.get(o))){e.next=39;break}return this.client.error("Lost request state in diagnostic pull model. Clearing diagnostics for ".concat(o)),this.diagnostics.delete(i),e.abrupt("return");case 39:if(this.openRequests.delete(o),this.tabs.isVisible(t)){e.next=43;break}return this.documentStates.unTrack(P.document,t),e.abrupt("return");case 43:if(d.state!==k.outDated){e.next=45;break}return e.abrupt("return");case 45:void 0!==f&&(f.kind===w.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,f.items),s.pulledVersion=n,s.resultId=f.resultId),d.state===k.reschedule&&this.pull(t),e.next=50;break;case 49:a.state===k.active?(a.tokenSource.cancel(),this.openRequests.set(o,{state:k.reschedule,document:a.document})):a.state===k.outDated&&this.openRequests.set(o,{state:k.reschedule,document:a.document});case 50:case"end":return e.stop()}}),e,this,[[11,26]])}))),function(e,t){return n.apply(this,arguments)})},{key:"forgetDocument",value:function(e){var t=this,n=e instanceof x.Uri?e:e.uri,r=n.toString(),i=this.openRequests.get(r);this.options.workspaceDiagnostics?void 0!==i?this.openRequests.set(r,{state:k.reschedule,document:e}):this.pull(e,(function(){t.forget(P.document,e)})):(void 0!==i&&(i.state===k.active&&i.tokenSource.cancel(),this.openRequests.set(r,{state:k.outDated,document:e})),this.diagnostics.delete(n),this.forget(P.document,e))}},{key:"pullWorkspace",value:function(){var e=this;this.isDisposed||this.pullWorkspaceAsync().then((function(){e.workspaceTimeout=(0,C.RAL)().timer.setTimeout((function(){e.pullWorkspace()}),2e3)}),(function(t){t instanceof D.LSPCancellationError||C.DiagnosticServerCancellationData.is(t.data)||(e.client.error("Workspace diagnostic pull failed.",t,!1),e.workspaceErrorCounter++),e.workspaceErrorCounter<=5&&(e.workspaceTimeout=(0,C.RAL)().timer.setTimeout((function(){e.pullWorkspace()}),2e3))}))}},{key:"pullWorkspaceAsync",value:(t=f(c().mark((function e(){var t,n=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.provider.provideWorkspaceDiagnostics&&!this.isDisposed){e.next=2;break}return e.abrupt("return");case 2:return void 0!==this.workspaceCancellation&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new x.CancellationTokenSource,t=this.documentStates.getAllResultIds().map((function(e){return{uri:n.client.protocol2CodeConverter.asUri(e.uri),value:e.value}})),e.next=7,this.provider.provideWorkspaceDiagnostics(t,this.workspaceCancellation.token,(function(e){if(e&&!n.isDisposed){var t,r=p(e.items);try{for(r.s();!(t=r.n()).done;){var i,o=t.value;o.kind===w.DocumentDiagnosticReportKind.full&&(n.documentStates.tracks(P.document,o.uri)||n.diagnostics.set(o.uri,o.items)),n.documentStates.update(P.workspace,o.uri,null!==(i=o.version)&&void 0!==i?i:void 0,o.resultId)}}catch(e){r.e(e)}finally{r.f()}}}));case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"createProvider",value:function(){var e=this,t={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:function(t,n,r){var i=function(t,n,r){var i={identifier:e.options.identifier,textDocument:{uri:e.client.code2ProtocolConverter.asUri(t instanceof x.Uri?t:t.uri)},previousResultId:n};return!0!==e.isDisposed&&e.client.isRunning()?e.client.sendRequest(C.DocumentDiagnosticRequest.type,i,r).then(function(){var t=f(c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=n&&!e.isDisposed&&!r.isCancellationRequested){t.next=2;break}return t.abrupt("return",{kind:w.DocumentDiagnosticReportKind.full,items:[]});case 2:if(n.kind!==C.DocumentDiagnosticReportKind.Full){t.next=11;break}return t.t0=w.DocumentDiagnosticReportKind.full,t.t1=n.resultId,t.next=7,e.client.protocol2CodeConverter.asDiagnostics(n.items,r);case 7:return t.t2=t.sent,t.abrupt("return",{kind:t.t0,resultId:t.t1,items:t.t2});case 11:return t.abrupt("return",{kind:w.DocumentDiagnosticReportKind.unChanged,resultId:n.resultId});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){return e.client.handleFailedRequest(C.DocumentDiagnosticRequest.type,r,t,{kind:w.DocumentDiagnosticReportKind.full,items:[]})})):{kind:w.DocumentDiagnosticReportKind.full,items:[]}},o=e.client.middleware;return o.provideDiagnostics?o.provideDiagnostics(t,n,r,i):i(t,n,r)}};return this.options.workspaceDiagnostics&&(t.provideWorkspaceDiagnostics=function(t,n,r){var i=function(){var t=f(c().mark((function t(r){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.kind!==C.DocumentDiagnosticReportKind.Full){t.next=11;break}return t.t0=w.DocumentDiagnosticReportKind.full,t.t1=e.client.protocol2CodeConverter.asUri(r.uri),t.t2=r.resultId,t.t3=r.version,t.next=7,e.client.protocol2CodeConverter.asDiagnostics(r.items,n);case 7:return t.t4=t.sent,t.abrupt("return",{kind:t.t0,uri:t.t1,resultId:t.t2,version:t.t3,items:t.t4});case 11:return t.abrupt("return",{kind:w.DocumentDiagnosticReportKind.unChanged,uri:e.client.protocol2CodeConverter.asUri(r.uri),resultId:r.resultId,version:r.version});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(t){var n,r=[],i=p(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push({uri:e.client.code2ProtocolConverter.asUri(o.uri),value:o.value})}}catch(e){i.e(e)}finally{i.f()}return r},a=function(t,n){var a=(0,E.generateUuid)(),s=e.client.onProgress(C.WorkspaceDiagnosticRequest.partialResult,a,function(){var t=f(c().mark((function t(n){var o,a,s,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=n){t.next=3;break}return r(null),t.abrupt("return");case 3:o={items:[]},a=p(n.items),t.prev=5,a.s();case 7:if((s=a.n()).done){t.next=22;break}return u=s.value,t.prev=9,t.t0=o.items,t.next=13,i(u);case 13:t.t1=t.sent,t.t0.push.call(t.t0,t.t1),t.next=20;break;case 17:t.prev=17,t.t2=t.catch(9),e.client.error("Converting workspace diagnostics failed.",t.t2);case 20:t.next=7;break;case 22:t.next=27;break;case 24:t.prev=24,t.t3=t.catch(5),a.e(t.t3);case 27:return t.prev=27,a.f(),t.finish(27);case 30:r(o);case 31:case"end":return t.stop()}}),t,null,[[5,24,27,30],[9,17]])})));return function(e){return t.apply(this,arguments)}}()),u={identifier:e.options.identifier,previousResultIds:o(t),partialResultToken:a};return!0!==e.isDisposed&&e.client.isRunning()?e.client.sendRequest(C.WorkspaceDiagnosticRequest.type,u,n).then(function(){var e=f(c().mark((function e(t){var o,a,u,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isCancellationRequested){e.next=2;break}return e.abrupt("return",{items:[]});case 2:o={items:[]},a=p(t.items),e.prev=4,a.s();case 6:if((u=a.n()).done){e.next=15;break}return l=u.value,e.t0=o.items,e.next=11,i(l);case 11:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t2=e.catch(4),a.e(e.t2);case 20:return e.prev=20,a.f(),e.finish(20);case 23:return s.dispose(),r(o),e.abrupt("return",{items:[]});case 26:case"end":return e.stop()}}),e,null,[[4,17,20,23]])})));return function(t){return e.apply(this,arguments)}}(),(function(t){return s.dispose(),e.client.handleFailedRequest(C.DocumentDiagnosticRequest.type,n,t,{items:[]})})):{items:[]}},s=e.client.middleware;return s.provideWorkspaceDiagnostics?s.provideWorkspaceDiagnostics(t,n,r,a):a(t,n)}),t}},{key:"dispose",value:function(){var e,t;this.isDisposed=!0,null===(e=this.workspaceCancellation)||void 0===e||e.cancel(),null===(t=this.workspaceTimeout)||void 0===t||t.dispose();var n,r=p(this.openRequests);try{for(r.s();!(n=r.n()).done;){var i=d(n.value,2),o=i[0],a=i[1];a.state===k.active&&a.tokenSource.cancel(),this.openRequests.set(o,{state:k.outDated,document:a.document})}}catch(e){r.e(e)}finally{r.f()}this.diagnostics.dispose()}}]),e}(),L=function(){function e(t){g(this,e),this.diagnosticRequestor=t,this.documents=new C.LinkedMap,this.isDisposed=!1}return b(e,[{key:"add",value:function(e){if(!0!==this.isDisposed){var t=e instanceof x.Uri?e.toString():e.uri.toString();this.documents.has(t)||(this.documents.set(t,e,C.Touch.Last),this.trigger())}}},{key:"remove",value:function(e){var t=e instanceof x.Uri?e.toString():e.uri.toString();this.documents.has(t)&&(this.documents.delete(t),this.diagnosticRequestor.pull(e)),0===this.documents.size?this.stop():e===this.endDocument&&(this.endDocument=this.documents.last)}},{key:"trigger",value:function(){var e=this;!0!==this.isDisposed&&(void 0===this.intervalHandle?(this.endDocument=this.documents.last,this.intervalHandle=(0,C.RAL)().timer.setInterval((function(){var t=e.documents.first;if(void 0!==t){var n=t instanceof x.Uri?t.toString():t.uri.toString();e.diagnosticRequestor.pull(t),e.documents.set(n,t,C.Touch.Last),t===e.endDocument&&e.stop()}}),200)):this.endDocument=this.documents.last)}},{key:"dispose",value:function(){this.isDisposed=!0,this.stop(),this.documents.clear()}},{key:"stop",value:function(){var e;null===(e=this.intervalHandle)||void 0===e||e.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}}]),e}(),j=function(){function e(t,n,r){var i,o,a,s=this;g(this,e);var u=null!==(i=t.clientOptions.diagnosticPullOptions)&&void 0!==i?i:{onChange:!0,onSave:!1},l=t.protocol2CodeConverter.asDocumentSelector(r.documentSelector),d=[],h=function(e){return e instanceof x.Uri?function(e){var t=r.documentSelector;if(void 0!==u.match)return u.match(t,e);var n,i=p(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(C.TextDocumentFilter.is(o)){if("string"==typeof o)return!1;if(void 0!==o.language&&"*"!==o.language)return!1;if(void 0!==o.scheme&&"*"!==o.scheme&&o.scheme!==e.scheme)return!1;if(void 0!==o.pattern){var a=new S.Minimatch(o.pattern,{noext:!0});if(!a.makeRe())return!1;if(!a.match(e.fsPath))return!1}}}}catch(e){i.e(e)}finally{i.f()}return!0}(e):x.languages.match(l,e)>0&&n.isVisible(e)};this.diagnosticRequestor=new I(t,n,r),this.backgroundScheduler=new L(this.diagnosticRequestor);var v=function(e){h(e)&&r.interFileDependencies&&!function(e){var t;return e instanceof x.Uri?(null===(t=s.activeTextDocument)||void 0===t?void 0:t.uri.toString())===e.toString():s.activeTextDocument===e}(e)&&s.backgroundScheduler.add(e)};this.activeTextDocument=null===(o=x.window.activeTextEditor)||void 0===o?void 0:o.document,x.window.onDidChangeActiveTextEditor((function(e){var t=s.activeTextDocument;s.activeTextDocument=null==e?void 0:e.document,void 0!==t&&v(t),void 0!==s.activeTextDocument&&s.backgroundScheduler.remove(s.activeTextDocument)}));var y=t.getFeature(C.DidOpenTextDocumentNotification.method);d.push(y.onNotificationSent((function(e){var t=e.original;h(t)&&s.diagnosticRequestor.pull(t,(function(){v(t)}))})));var m,b=new Set,w=p(x.workspace.textDocuments);try{var k=function(){var e=m.value;h(e)&&(s.diagnosticRequestor.pull(e,(function(){v(e)})),b.add(e.uri.toString()))};for(w.s();!(m=w.n()).done;)k()}catch(e){w.e(e)}finally{w.f()}if(!0===u.onTabs){var E,D=p(n.getTabResources());try{var T=function(){var e=E.value;!b.has(e.toString())&&h(e)&&s.diagnosticRequestor.pull(e,(function(){v(e)}))};for(D.s();!(E=D.n()).done;)T()}catch(e){D.e(e)}finally{D.f()}}if(n.onOpen((function(e){var t,n=p(e);try{var r=function(){var e=t.value;h(e)&&!s.diagnosticRequestor.knows(P.document,e)&&s.diagnosticRequestor.pull(e,(function(){v(e)}))};for(n.s();!(t=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}})),!0===u.onChange){var O=t.getFeature(C.DidChangeTextDocumentNotification.method);d.push(O.onNotificationSent(function(){var e=f(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.original.document,(void 0===u.filter||!u.filter(n,_.onType))&&s.diagnosticRequestor.knows(P.document,n)&&t.original.contentChanges.length>0&&s.diagnosticRequestor.pull(n,(function(){s.backgroundScheduler.trigger()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}if(!0===u.onSave){var R=t.getFeature(C.DidSaveTextDocumentNotification.method);d.push(R.onNotificationSent((function(e){var t=e.original;void 0!==u.filter&&u.filter(t,_.onSave)||!s.diagnosticRequestor.knows(P.document,t)||s.diagnosticRequestor.pull(e.original,(function(){s.backgroundScheduler.trigger()}))})))}var j=t.getFeature(C.DidCloseTextDocumentNotification.method);d.push(j.onNotificationSent((function(e){s.cleanUpDocument(e.original)}))),n.onClose((function(e){var t,n=p(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;s.cleanUpDocument(r)}}catch(e){n.e(e)}finally{n.f()}})),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event((function(){var e,t=p(x.workspace.textDocuments);try{for(t.s();!(e=t.n()).done;){var n=e.value;h(n)&&s.diagnosticRequestor.pull(n)}}catch(e){t.e(e)}finally{t.f()}})),!0===r.workspaceDiagnostics&&"da348dc5-c30a-4515-9d98-31ff3be38d14"!==r.identifier&&this.diagnosticRequestor.pullWorkspace(),this.disposable=(a=x.Disposable).from.apply(a,d.concat([this.backgroundScheduler,this.diagnosticRequestor]))}return b(e,[{key:"onDidChangeDiagnosticsEmitter",get:function(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}},{key:"diagnostics",get:function(){return this.diagnosticRequestor.provider}},{key:"cleanUpDocument",value:function(e){this.diagnosticRequestor.knows(P.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}}]),e}(),A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(n,e);var t=a(n);function n(e){return g(this,n),t.call(this,e,C.DocumentDiagnosticRequest.type)}return b(n,[{key:"fillClientCapabilities",value:function(e){var t=T(T(e,"textDocument"),"diagnostic");t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,T(T(e,"workspace"),"diagnostics").refreshSupport=!0}},{key:"initialize",value:function(e,t){var n=this;this._client.onRequest(C.DiagnosticRefreshRequest.type,f(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=p(n.getAllProviders());try{for(t.s();!(r=t.n()).done;)r.value.onDidChangeDiagnosticsEmitter.fire()}catch(e){t.e(e)}finally{t.f()}case 2:case"end":return e.stop()}}),e)}))));var r=d(this.getRegistration(t,e.diagnosticProvider),2),i=r[0],o=r[1];i&&o&&this.register({id:i,registerOptions:o})}},{key:"dispose",value:function(){void 0!==this.tabs&&(this.tabs.dispose(),this.tabs=void 0),r(u(n.prototype),"dispose",this).call(this)}},{key:"registerLanguageProvider",value:function(e){void 0===this.tabs&&(this.tabs=new O);var t=new j(this._client,this.tabs,e);return[t.disposable,t]}}]),n}(D.TextDocumentLanguageFeature);t.DiagnosticFeature=A},19714:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentHighlightFeature=void 0;var c=n(23576),l=n(1358),f=n(68210),d=n(30276),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,e);var t,n,r,s=a(u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),s.call(this,e,l.DocumentHighlightRequest.type)}return t=u,(n=[{key:"fillClientCapabilities",value:function(e){(0,f.ensure)((0,f.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}},{key:"initialize",value:function(e,t){var n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register({id:d.generateUuid(),registerOptions:n})}},{key:"registerLanguageProvider",value:function(e){var t=this,n=e.documentSelector,r={provideDocumentHighlights:function(e,n,r){var i=t._client,o=function(e,t,n){return i.sendRequest(l.DocumentHighlightRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((function(e){return n.isCancellationRequested?null:i.protocol2CodeConverter.asDocumentHighlights(e,n)}),(function(e){return i.handleFailedRequest(l.DocumentHighlightRequest.type,n,e,null)}))},a=i.middleware;return a.provideDocumentHighlights?a.provideDocumentHighlights(e,n,r,o):o(e,n,r)}};return[c.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(f.TextDocumentLanguageFeature);t.DocumentHighlightFeature=h},56717:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentLinkFeature=void 0;var c=n(23576),l=n(1358),f=n(68210),d=n(30276),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,e);var t,n,r,s=a(u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),s.call(this,e,l.DocumentLinkRequest.type)}return t=u,(n=[{key:"fillClientCapabilities",value:function(e){var t=(0,f.ensure)((0,f.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}},{key:"initialize",value:function(e,t){var n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register({id:d.generateUuid(),registerOptions:n})}},{key:"registerLanguageProvider",value:function(e){var t=this,n=e.documentSelector,r={provideDocumentLinks:function(e,n){var r=t._client,i=function(e,t){return r.sendRequest(l.DocumentLinkRequest.type,r.code2ProtocolConverter.asDocumentLinkParams(e),t).then((function(e){return t.isCancellationRequested?null:r.protocol2CodeConverter.asDocumentLinks(e,t)}),(function(e){return r.handleFailedRequest(l.DocumentLinkRequest.type,t,e,null)}))},o=r.middleware;return o.provideDocumentLinks?o.provideDocumentLinks(e,n,i):i(e,n)},resolveDocumentLink:e.resolveProvider?function(e,n){var r=t._client,i=function(e,t){return r.sendRequest(l.DocumentLinkResolveRequest.type,r.code2ProtocolConverter.asDocumentLink(e),t).then((function(n){return t.isCancellationRequested?e:r.protocol2CodeConverter.asDocumentLink(n)}),(function(n){return r.handleFailedRequest(l.DocumentLinkResolveRequest.type,t,n,e)}))},o=r.middleware;return o.resolveDocumentLink?o.resolveDocumentLink(e,n,i):i(e,n)}:void 0};return[c.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(f.TextDocumentLanguageFeature);t.DocumentLinkFeature=h},84096:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new D(r||[]);return o(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function y(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,s)&&(g=b);var w=y.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(o,a,s,u){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,o(w,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentSymbolFeature=t.SupportedSymbolTags=t.SupportedSymbolKinds=void 0;var f=n(23576),d=n(1358),h=n(68210),p=n(30276);t.SupportedSymbolKinds=[d.SymbolKind.File,d.SymbolKind.Module,d.SymbolKind.Namespace,d.SymbolKind.Package,d.SymbolKind.Class,d.SymbolKind.Method,d.SymbolKind.Property,d.SymbolKind.Field,d.SymbolKind.Constructor,d.SymbolKind.Enum,d.SymbolKind.Interface,d.SymbolKind.Function,d.SymbolKind.Variable,d.SymbolKind.Constant,d.SymbolKind.String,d.SymbolKind.Number,d.SymbolKind.Boolean,d.SymbolKind.Array,d.SymbolKind.Object,d.SymbolKind.Key,d.SymbolKind.Null,d.SymbolKind.EnumMember,d.SymbolKind.Struct,d.SymbolKind.Event,d.SymbolKind.Operator,d.SymbolKind.TypeParameter],t.SupportedSymbolTags=[d.SymbolTag.Deprecated];var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(v,e);var n,r,c,l=u(v);function v(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),l.call(this,e,d.DocumentSymbolRequest.type)}return n=v,r=[{key:"fillClientCapabilities",value:function(e){var n=(0,h.ensure)((0,h.ensure)(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:t.SupportedSymbolKinds},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:t.SupportedSymbolTags},n.labelSupport=!0}},{key:"initialize",value:function(e,t){var n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register({id:p.generateUuid(),registerOptions:n})}},{key:"registerLanguageProvider",value:function(e){var t=this,n=e.documentSelector,r={provideDocumentSymbols:function(e,n){var r=t._client,a=function(e,t){return r.sendRequest(d.DocumentSymbolRequest.type,r.code2ProtocolConverter.asDocumentSymbolParams(e),t).then(function(){var e,n=(e=i().mark((function e(n){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isCancellationRequested&&null!=n){e.next=2;break}return e.abrupt("return",null);case 2:if(0!==n.length){e.next=6;break}return e.abrupt("return",[]);case 6:if(o=n[0],!d.DocumentSymbol.is(o)){e.next=13;break}return e.next=10,r.protocol2CodeConverter.asDocumentSymbols(n,t);case 10:case 15:return e.abrupt("return",e.sent);case 13:return e.next=15,r.protocol2CodeConverter.asSymbolInformations(n,t);case 16:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))});return function(e){return n.apply(this,arguments)}}(),(function(e){return r.handleFailedRequest(d.DocumentSymbolRequest.type,t,e,null)}))},s=r.middleware;return s.provideDocumentSymbols?s.provideDocumentSymbols(e,n,a):a(e,n)}},a=void 0!==e.label?{label:e.label}:void 0;return[f.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r,a),r]}}],r&&a(n.prototype,r),c&&a(n,c),Object.defineProperty(n,"prototype",{writable:!1}),v}(h.TextDocumentLanguageFeature);t.DocumentSymbolFeature=v},87121:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}Object.defineProperty(t,"__esModule",{value:!0}),t.ExecuteCommandFeature=void 0;var s=n(23576),u=n(1358),c=n(30276),l=n(68210),f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._client=t,this._commands=new Map}var t,n,r;return t=e,n=[{key:"getState",value:function(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}},{key:"registrationType",get:function(){return u.ExecuteCommandRequest.type}},{key:"fillClientCapabilities",value:function(e){(0,l.ensure)((0,l.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}},{key:"initialize",value:function(e){e.executeCommandProvider&&this.register({id:c.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}},{key:"register",value:function(e){var t=this._client,n=t.middleware,r=function(e,n){var r={command:e,arguments:n};return t.sendRequest(u.ExecuteCommandRequest.type,r).then(void 0,(function(e){return t.handleFailedRequest(u.ExecuteCommandRequest.type,void 0,e,void 0)}))};if(e.registerOptions.commands){var o,a=[],c=i(e.registerOptions.commands);try{var l=function(){var e=o.value;a.push(s.commands.registerCommand(e,(function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return n.executeCommand?n.executeCommand(e,i,r):r(e,i)})))};for(c.s();!(o=c.n()).done;)l()}catch(e){c.e(e)}finally{c.f()}this._commands.set(e.id,a)}}},{key:"unregister",value:function(e){var t=this._commands.get(e);t&&t.forEach((function(e){return e.dispose()}))}},{key:"dispose",value:function(){this._commands.forEach((function(e){e.forEach((function(e){return e.dispose()}))})),this._commands.clear()}}],n&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.ExecuteCommandFeature=f},68210:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new D(r||[]);return o(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function y(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,s)&&(g=b);var w=y.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(o,a,s,u){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,o(w,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFeature=t.TextDocumentLanguageFeature=t.TextDocumentEventFeature=t.DynamicDocumentFeature=t.DynamicFeature=t.StaticFeature=t.ensure=t.LSPCancellationError=void 0;var g=n(23576),m=n(1358),b=n(17945),w=n(30276),_=function(e){d(n,e);var t=p(n);function n(e){var r;return f(this,n),(r=t.call(this)).data=e,r}return l(n)}(g.CancellationError);t.LSPCancellationError=_,t.ensure=function(e,t){return void 0===e[t]&&(e[t]={}),e[t]},function(e){e.is=function(e){var t=e;return null!=t&&b.func(t.fillClientCapabilities)&&b.func(t.initialize)&&b.func(t.getState)&&b.func(t.dispose)&&(void 0===t.fillInitializeParams||b.func(t.fillInitializeParams))}}(t.StaticFeature||(t.StaticFeature={})),function(e){e.is=function(e){var t=e;return null!=t&&b.func(t.fillClientCapabilities)&&b.func(t.initialize)&&b.func(t.getState)&&b.func(t.dispose)&&(void 0===t.fillInitializeParams||b.func(t.fillInitializeParams))&&b.func(t.register)&&b.func(t.unregister)&&void 0!==t.registrationType}}(t.DynamicFeature||(t.DynamicFeature={}));var k=function(){function e(t){f(this,e),this._client=t}return l(e,[{key:"getState",value:function(){var e,t=0,n=s(this.getDocumentSelectors());try{for(n.s();!(e=n.n()).done;){var r=e.value;t++;var i,o=s(g.workspace.textDocuments);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(g.languages.match(r,a)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}}catch(e){o.e(e)}finally{o.f()}}}catch(e){n.e(e)}finally{n.f()}var u=t>0;return{kind:"document",id:this.registrationType.method,registrations:u,matches:!1}}}]),e}();t.DynamicDocumentFeature=k;var S=function(e){d(r,e);var t,n=p(r);function r(e,t,i,o,a,s,u){var c;return f(this,r),(c=n.call(this,e))._event=t,c._type=i,c._middleware=o,c._createParams=a,c._textDocument=s,c._selectorFilter=u,c._selectors=new Map,c._onNotificationSent=new g.EventEmitter,c}return l(r,[{key:"getStateInfo",value:function(){return[this._selectors.values(),!1]}},{key:"getDocumentSelectors",value:function(){return this._selectors.values()}},{key:"register",value:function(e){var t=this;e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event((function(e){t.callback(e).catch((function(e){t._client.error("Sending document notification ".concat(t._type.method," failed."),e)}))}))),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}},{key:"callback",value:(t=a(i().mark((function e(t){var n,r,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(){var e=a(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o._createParams(t),e.next=3,o._client.sendNotification(o._type,n).catch();case 3:o.notificationSent(t,o._type,n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!this.matches(t)){e.next=4;break}return r=this._middleware(),e.abrupt("return",r?r(t,(function(e){return n(e)})):n(t));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"matches",value:function(e){return!this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))&&(!this._selectorFilter||this._selectorFilter(this._selectors.values(),e))}},{key:"onNotificationSent",get:function(){return this._onNotificationSent.event}},{key:"notificationSent",value:function(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}},{key:"unregister",value:function(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}},{key:"dispose",value:function(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}},{key:"getProvider",value:function(e){var t,n=this,r=s(this._selectors.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;if(g.languages.match(i,e)>0)return{send:function(e){return n.callback(e)}}}}catch(e){r.e(e)}finally{r.f()}}}],[{key:"textDocumentFilter",value:function(e,t){var n,r=s(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(g.languages.match(i,t)>0)return!0}}catch(e){r.e(e)}finally{r.f()}return!1}}]),r}(k);t.TextDocumentEventFeature=S;var x=function(e){d(n,e);var t=p(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e))._registrationType=r,i._registrations=new Map,i}return l(n,[{key:"getDocumentSelectors",value:i().mark((function e(){var t,n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=s(this._registrations.values()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}if(r=n.value,null!==(o=r.data.registerOptions.documentSelector)){e.next=8;break}return e.abrupt("continue",10);case 8:return e.next=10,this._client.protocol2CodeConverter.asDocumentSelector(o);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))},{key:"registrationType",get:function(){return this._registrationType}},{key:"register",value:function(e){if(e.registerOptions.documentSelector){var t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}}},{key:"unregister",value:function(e){var t=this._registrations.get(e);void 0!==t&&t.disposable.dispose()}},{key:"dispose",value:function(){this._registrations.forEach((function(e){e.disposable.dispose()})),this._registrations.clear()}},{key:"getRegistration",value:function(e,t){if(!t)return[void 0,void 0];if(m.TextDocumentRegistrationOptions.is(t)){var n=m.StaticRegistrationOptions.hasId(t)?t.id:w.generateUuid(),r=t.documentSelector||e;if(r)return[n,Object.assign({},t,{documentSelector:r})]}else if(b.boolean(t)&&!0===t||m.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];var i=b.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[w.generateUuid(),i]}return[void 0,void 0]}},{key:"getRegistrationOptions",value:function(e,t){if(e&&t)return b.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}},{key:"getProvider",value:function(e){var t,n=s(this._registrations.values());try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.data.registerOptions.documentSelector;if(null!==i&&g.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(i),e)>0)return r.provider}}catch(e){n.e(e)}finally{n.f()}}},{key:"getAllProviders",value:function(){var e,t=[],n=s(this._registrations.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r.provider)}}catch(e){n.e(e)}finally{n.f()}return t}}]),n}(k);t.TextDocumentLanguageFeature=x;var C=function(){function e(t,n){f(this,e),this._client=t,this._registrationType=n,this._registrations=new Map}return l(e,[{key:"getState",value:function(){var e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}},{key:"registrationType",get:function(){return this._registrationType}},{key:"register",value:function(e){var t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}},{key:"unregister",value:function(e){var t=this._registrations.get(e);void 0!==t&&t.disposable.dispose()}},{key:"dispose",value:function(){this._registrations.forEach((function(e){e.disposable.dispose()})),this._registrations.clear()}},{key:"getProviders",value:function(){var e,t=[],n=s(this._registrations.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r.provider)}}catch(e){n.e(e)}finally{n.f()}return t}}]),e}();t.WorkspaceFeature=C},25215:(e,t,n)=>{function r(){return r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=i(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},r.apply(this,arguments)}function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){p=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new D(i||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d={};function h(){}function v(){}function y(){}var g={};u(g,o,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,o)&&(g=b);var w=y.prototype=h.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(r,o,a,s){var u=f(e[r],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==l(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,r(w,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:v,configurable:!0}),v.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),u(w,s,"Generator"),u(w,o,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){g(o,r,i,a,s,"next",e)}function s(e){g(o,r,i,a,s,"throw",e)}a(void 0)}))}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r)}}function _(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesFeature=t.WillRenameFilesFeature=t.WillCreateFilesFeature=t.DidDeleteFilesFeature=t.DidRenameFilesFeature=t.DidCreateFilesFeature=void 0;var S=n(23576),x=n(91171),C=n(1358),E=n(30276);function D(e,t){return void 0===e[t]&&(e[t]={}),e[t]}function T(e,t,n){e[t]=n}var P=function(){function e(t,n,r,i,o){b(this,e),this._client=t,this._event=n,this._registrationType=r,this._clientCapability=i,this._serverCapability=o,this._filters=new Map}var t,n;return _(e,[{key:"getState",value:function(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}},{key:"filterSize",value:function(){return this._filters.size}},{key:"registrationType",get:function(){return this._registrationType}},{key:"fillClientCapabilities",value:function(e){var t=D(D(e,"workspace"),"fileOperations");T(t,"dynamicRegistration",!0),T(t,this._clientCapability,!0)}},{key:"initialize",value:function(e){var t,n,r,i=null===(t=e.workspace)||void 0===t?void 0:t.fileOperations,o=void 0!==i?(n=i,r=this._serverCapability,n[r]):void 0;if(void 0!==(null==o?void 0:o.filters))try{this.register({id:E.generateUuid(),registerOptions:{filters:o.filters}})}catch(e){this._client.warn("Ignoring invalid glob pattern for ".concat(this._serverCapability," registration: ").concat(e))}}},{key:"register",value:function(t){this._listener||(this._listener=this._event(this.send,this));var n=t.registerOptions.filters.map((function(t){var n=new x.Minimatch(t.pattern.glob,e.asMinimatchOptions(t.pattern.options));if(!n.makeRe())throw new Error("Invalid pattern ".concat(t.pattern.glob,"!"));return{scheme:t.scheme,matcher:n,kind:t.pattern.matches}}));this._filters.set(t.id,n)}},{key:"unregister",value:function(e){this._filters.delete(e),0===this._filters.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}},{key:"dispose",value:function(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}},{key:"getFileType",value:function(t){return e.getFileType(t)}},{key:"filter",value:(n=m(p().mark((function t(n,r){var i,o,a=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(n.files.map(function(){var t=m(p().mark((function t(n){var i,o,s,u,c,l,f,d,h;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=r(n),o=i.fsPath.replace(/\\/g,"/"),s=v(a._filters.values()),t.prev=3,s.s();case 5:if((u=s.n()).done){t.next=45;break}c=u.value,l=v(c),t.prev=8,l.s();case 10:if((f=l.n()).done){t.next=35;break}if(void 0===(d=f.value).scheme||d.scheme===i.scheme){t.next=14;break}return t.abrupt("continue",33);case 14:if(!d.matcher.match(o)){t.next=27;break}if(void 0!==d.kind){t.next=17;break}return t.abrupt("return",!0);case 17:return t.next=19,a.getFileType(i);case 19:if(void 0!==(h=t.sent)){t.next=23;break}return a._client.error("Failed to determine file type for ".concat(i.toString(),".")),t.abrupt("return",!0);case 23:if(!(h===S.FileType.File&&d.kind===C.FileOperationPatternKind.file||h===S.FileType.Directory&&d.kind===C.FileOperationPatternKind.folder)){t.next=25;break}return t.abrupt("return",!0);case 25:t.next=33;break;case 27:if(d.kind!==C.FileOperationPatternKind.folder){t.next=33;break}return t.next=30,e.getFileType(i);case 30:if(t.sent!==S.FileType.Directory||!d.matcher.match("".concat(o,"/"))){t.next=33;break}return t.abrupt("return",!0);case 33:t.next=10;break;case 35:t.next=40;break;case 37:t.prev=37,t.t0=t.catch(8),l.e(t.t0);case 40:return t.prev=40,l.f(),t.finish(40);case 43:t.next=5;break;case 45:t.next=50;break;case 47:t.prev=47,t.t1=t.catch(3),s.e(t.t1);case 50:return t.prev=50,s.f(),t.finish(50);case 53:return t.abrupt("return",!1);case 54:case"end":return t.stop()}}),t,null,[[3,47,50,53],[8,37,40,43]])})));return function(e){return t.apply(this,arguments)}}()));case 2:return i=t.sent,o=n.files.filter((function(e,t){return i[t]})),t.abrupt("return",d(d({},n),{},{files:o}));case 5:case"end":return t.stop()}}),t)}))),function(e,t){return n.apply(this,arguments)})}],[{key:"getFileType",value:(t=m(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.workspace.fs.stat(t);case 3:return e.abrupt("return",e.sent.type);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",void 0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),function(e){return t.apply(this,arguments)})},{key:"asMinimatchOptions",value:function(e){if(void 0!==e)return!0===e.ignoreCase?{nocase:!0}:void 0}}]),e}(),O=function(e){o(r,e);var t,n=s(r);function r(e,t,i,o,a,s,u){var c;return b(this,r),(c=n.call(this,e,t,i,o,a))._notificationType=i,c._accessUri=s,c._createParams=u,c}return _(r,[{key:"send",value:(t=m(p().mark((function e(t){var n,r,i=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.filter(t,this._accessUri);case 2:if(!(n=e.sent).files.length){e.next=6;break}return r=function(){var e=m(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i._client.sendNotification(i._notificationType,i._createParams(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.abrupt("return",this.doSend(n,r));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),r}(P),R=function(e){o(a,e);var t,n,i=s(a);function a(){var e;return b(this,a),(e=i.apply(this,arguments))._fsPathFileTypes=new Map,e}return _(a,[{key:"getFileType",value:(n=m(p().mark((function e(t){var n,r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.fsPath,!this._fsPathFileTypes.has(n)){e.next=3;break}return e.abrupt("return",this._fsPathFileTypes.get(n));case 3:return e.next=5,P.getFileType(t);case 5:return(r=e.sent)&&this._fsPathFileTypes.set(n,r),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"cacheFileTypes",value:(t=m(p().mark((function e(t,n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.filter(t,n);case 2:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"clearFileTypeCache",value:function(){this._fsPathFileTypes.clear()}},{key:"unregister",value:function(e){r(c(a.prototype),"unregister",this).call(this,e),0===this.filterSize()&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},{key:"dispose",value:function(){r(c(a.prototype),"dispose",this).call(this),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}}]),a}(O),I=function(e){o(n,e);var t=s(n);function n(e){return b(this,n),t.call(this,e,S.workspace.onDidCreateFiles,C.DidCreateFilesNotification.type,"didCreate","didCreate",(function(e){return e}),e.code2ProtocolConverter.asDidCreateFilesParams)}return _(n,[{key:"doSend",value:function(e,t){var n=this._client.middleware.workspace;return null!=n&&n.didCreateFiles?n.didCreateFiles(e,t):t(e)}}]),n}(O);t.DidCreateFilesFeature=I;var L=function(e){o(n,e);var t=s(n);function n(e){return b(this,n),t.call(this,e,S.workspace.onDidRenameFiles,C.DidRenameFilesNotification.type,"didRename","didRename",(function(e){return e.oldUri}),e.code2ProtocolConverter.asDidRenameFilesParams)}return _(n,[{key:"register",value:function(e){this._willListener||(this._willListener=S.workspace.onWillRenameFiles(this.willRename,this)),r(c(n.prototype),"register",this).call(this,e)}},{key:"willRename",value:function(e){e.waitUntil(this.cacheFileTypes(e,(function(e){return e.oldUri})))}},{key:"doSend",value:function(e,t){this.clearFileTypeCache();var n=this._client.middleware.workspace;return null!=n&&n.didRenameFiles?n.didRenameFiles(e,t):t(e)}}]),n}(R);t.DidRenameFilesFeature=L;var j=function(e){o(n,e);var t=s(n);function n(e){return b(this,n),t.call(this,e,S.workspace.onDidDeleteFiles,C.DidDeleteFilesNotification.type,"didDelete","didDelete",(function(e){return e}),e.code2ProtocolConverter.asDidDeleteFilesParams)}return _(n,[{key:"register",value:function(e){this._willListener||(this._willListener=S.workspace.onWillDeleteFiles(this.willDelete,this)),r(c(n.prototype),"register",this).call(this,e)}},{key:"willDelete",value:function(e){e.waitUntil(this.cacheFileTypes(e,(function(e){return e})))}},{key:"doSend",value:function(e,t){this.clearFileTypeCache();var n=this._client.middleware.workspace;return null!=n&&n.didDeleteFiles?n.didDeleteFiles(e,t):t(e)}}]),n}(R);t.DidDeleteFilesFeature=j;var A=function(e){o(i,e);var t,n,r=s(i);function i(e,t,n,o,a,s,u){var c;return b(this,i),(c=r.call(this,e,t,n,o,a))._requestType=n,c._accessUri=s,c._createParams=u,c}return _(i,[{key:"send",value:(n=m(p().mark((function e(t){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.waitUntil(t),t.waitUntil(n);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"waitUntil",value:(t=m(p().mark((function e(t){var n,r,i=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.filter(t,this._accessUri);case 2:if(!(n=e.sent).files.length){e.next=8;break}return r=function(e){return i._client.sendRequest(i._requestType,i._createParams(e),e.token).then(i._client.protocol2CodeConverter.asWorkspaceEdit)},e.abrupt("return",this.doSend(n,r));case 8:return e.abrupt("return",void 0);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),i}(P),N=function(e){o(n,e);var t=s(n);function n(e){return b(this,n),t.call(this,e,S.workspace.onWillCreateFiles,C.WillCreateFilesRequest.type,"willCreate","willCreate",(function(e){return e}),e.code2ProtocolConverter.asWillCreateFilesParams)}return _(n,[{key:"doSend",value:function(e,t){var n=this._client.middleware.workspace;return null!=n&&n.willCreateFiles?n.willCreateFiles(e,t):t(e)}}]),n}(A);t.WillCreateFilesFeature=N;var F=function(e){o(n,e);var t=s(n);function n(e){return b(this,n),t.call(this,e,S.workspace.onWillRenameFiles,C.WillRenameFilesRequest.type,"willRename","willRename",(function(e){return e.oldUri}),e.code2ProtocolConverter.asWillRenameFilesParams)}return _(n,[{key:"doSend",value:function(e,t){var n=this._client.middleware.workspace;return null!=n&&n.willRenameFiles?n.willRenameFiles(e,t):t(e)}}]),n}(A);t.WillRenameFilesFeature=F;var M=function(e){o(n,e);var t=s(n);function n(e){return b(this,n),t.call(this,e,S.workspace.onWillDeleteFiles,C.WillDeleteFilesRequest.type,"willDelete","willDelete",(function(e){return e}),e.code2ProtocolConverter.asWillDeleteFilesParams)}return _(n,[{key:"doSend",value:function(e,t){var n=this._client.middleware.workspace;return null!=n&&n.willDeleteFiles?n.willDeleteFiles(e,t):t(e)}}]),n}(A);t.WillDeleteFilesFeature=M},62068:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystemWatcherFeature=void 0;var s=n(23576),u=n(1358),c=n(68210),l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._client=t,this._notifyFileEvent=n,this._watchers=new Map}var t,n,r;return t=e,(n=[{key:"getState",value:function(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}},{key:"registrationType",get:function(){return u.DidChangeWatchedFilesNotification.type}},{key:"fillClientCapabilities",value:function(e){(0,c.ensure)((0,c.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,c.ensure)((0,c.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}},{key:"initialize",value:function(e,t){}},{key:"register",value:function(e){if(Array.isArray(e.registerOptions.watchers)){var t,n=[],r=i(e.registerOptions.watchers);try{for(r.s();!(t=r.n()).done;){var o=t.value,a=this._client.protocol2CodeConverter.asGlobPattern(o.globPattern);if(void 0!==a){var c=!0,l=!0,f=!0;void 0!==o.kind&&null!==o.kind&&(c=0!=(o.kind&u.WatchKind.Create),l=0!=(o.kind&u.WatchKind.Change),f=0!=(o.kind&u.WatchKind.Delete));var d=s.workspace.createFileSystemWatcher(a,!c,!l,!f);this.hookListeners(d,c,l,f,n),n.push(d)}}}catch(e){r.e(e)}finally{r.f()}this._watchers.set(e.id,n)}}},{key:"registerRaw",value:function(e,t){var n,r=[],o=i(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;this.hookListeners(a,!0,!0,!0,r)}}catch(e){o.e(e)}finally{o.f()}this._watchers.set(e,r)}},{key:"hookListeners",value:function(e,t,n,r,i){var o=this;t&&e.onDidCreate((function(e){return o._notifyFileEvent({uri:o._client.code2ProtocolConverter.asUri(e),type:u.FileChangeType.Created})}),null,i),n&&e.onDidChange((function(e){return o._notifyFileEvent({uri:o._client.code2ProtocolConverter.asUri(e),type:u.FileChangeType.Changed})}),null,i),r&&e.onDidDelete((function(e){return o._notifyFileEvent({uri:o._client.code2ProtocolConverter.asUri(e),type:u.FileChangeType.Deleted})}),null,i)}},{key:"unregister",value:function(e){var t=this._watchers.get(e);if(t){var n,r=i(t);try{for(r.s();!(n=r.n()).done;)n.value.dispose()}catch(e){r.e(e)}finally{r.f()}}}},{key:"dispose",value:function(){this._watchers.forEach((function(e){var t,n=i(e);try{for(n.s();!(t=n.n()).done;)t.value.dispose()}catch(e){n.e(e)}finally{n.f()}})),this._watchers.clear()}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.FileSystemWatcherFeature=l},20010:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeFeature=void 0;var f=n(23576),d=n(1358),h=n(68210),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(c,e);var t,n,r,o=u(c);function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),o.call(this,e,d.FoldingRangeRequest.type)}return t=c,(n=[{key:"fillClientCapabilities",value:function(e){var t=(0,h.ensure)((0,h.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[d.FoldingRangeKind.Comment,d.FoldingRangeKind.Imports,d.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1}}},{key:"initialize",value:function(e,t){var n=i(this.getRegistration(t,e.foldingRangeProvider),2),r=n[0],o=n[1];r&&o&&this.register({id:r,registerOptions:o})}},{key:"registerLanguageProvider",value:function(e){var t=this,n=e.documentSelector,r={provideFoldingRanges:function(e,n,r){var i=t._client,o=function(e,t,n){var r={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e)};return i.sendRequest(d.FoldingRangeRequest.type,r,n).then((function(e){return n.isCancellationRequested?null:i.protocol2CodeConverter.asFoldingRanges(e,n)}),(function(e){return i.handleFailedRequest(d.FoldingRangeRequest.type,n,e,null)}))},a=i.middleware;return a.provideFoldingRanges?a.provideFoldingRanges(e,n,r,o):o(e,0,r)}};return[f.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(h.TextDocumentLanguageFeature);t.FoldingRangeFeature=p},20462:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentOnTypeFormattingFeature=t.DocumentRangeFormattingFeature=t.DocumentFormattingFeature=void 0;var p,v=n(23576),y=n(1358),g=n(30276),m=n(68210);!function(e){e.fromConfiguration=function(e){var t=v.workspace.getConfiguration("files",e);return{trimTrailingWhitespace:t.get("trimTrailingWhitespace"),trimFinalNewlines:t.get("trimFinalNewlines"),insertFinalNewline:t.get("insertFinalNewline")}}}(p||(p={}));var b=function(e){c(n,e);var t=f(n);function n(e){return a(this,n),t.call(this,e,y.DocumentFormattingRequest.type)}return u(n,[{key:"fillClientCapabilities",value:function(e){(0,m.ensure)((0,m.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}},{key:"initialize",value:function(e,t){var n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register({id:g.generateUuid(),registerOptions:n})}},{key:"registerLanguageProvider",value:function(e){var t=this,n=e.documentSelector,r={provideDocumentFormattingEdits:function(e,n,r){var i=t._client,o=function(e,t,n){var r={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),options:i.code2ProtocolConverter.asFormattingOptions(t,p.fromConfiguration(e))};return i.sendRequest(y.DocumentFormattingRequest.type,r,n).then((function(e){return n.isCancellationRequested?null:i.protocol2CodeConverter.asTextEdits(e,n)}),(function(e){return i.handleFailedRequest(y.DocumentFormattingRequest.type,n,e,null)}))},a=i.middleware;return a.provideDocumentFormattingEdits?a.provideDocumentFormattingEdits(e,n,r,o):o(e,n,r)}};return[v.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}}]),n}(m.TextDocumentLanguageFeature);t.DocumentFormattingFeature=b;var w=function(e){c(n,e);var t=f(n);function n(e){return a(this,n),t.call(this,e,y.DocumentRangeFormattingRequest.type)}return u(n,[{key:"fillClientCapabilities",value:function(e){(0,m.ensure)((0,m.ensure)(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}},{key:"initialize",value:function(e,t){var n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register({id:g.generateUuid(),registerOptions:n})}},{key:"registerLanguageProvider",value:function(e){var t=this,n=e.documentSelector,r={provideDocumentRangeFormattingEdits:function(e,n,r,i){var o=t._client,a=function(e,t,n,r){var i={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),range:o.code2ProtocolConverter.asRange(t),options:o.code2ProtocolConverter.asFormattingOptions(n,p.fromConfiguration(e))};return o.sendRequest(y.DocumentRangeFormattingRequest.type,i,r).then((function(e){return r.isCancellationRequested?null:o.protocol2CodeConverter.asTextEdits(e,r)}),(function(e){return o.handleFailedRequest(y.DocumentRangeFormattingRequest.type,r,e,null)}))},s=o.middleware;return s.provideDocumentRangeFormattingEdits?s.provideDocumentRangeFormattingEdits(e,n,r,i,a):a(e,n,r,i)}};return[v.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}}]),n}(m.TextDocumentLanguageFeature);t.DocumentRangeFormattingFeature=w;var _=function(e){c(n,e);var t=f(n);function n(e){return a(this,n),t.call(this,e,y.DocumentOnTypeFormattingRequest.type)}return u(n,[{key:"fillClientCapabilities",value:function(e){(0,m.ensure)((0,m.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}},{key:"initialize",value:function(e,t){var n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register({id:g.generateUuid(),registerOptions:n})}},{key:"registerLanguageProvider",value:function(e){var t,n=this,r=e.documentSelector,o={provideOnTypeFormattingEdits:function(e,t,r,i,o){var a=n._client,s=function(e,t,n,r,i){var o={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(e),position:a.code2ProtocolConverter.asPosition(t),ch:n,options:a.code2ProtocolConverter.asFormattingOptions(r,p.fromConfiguration(e))};return a.sendRequest(y.DocumentOnTypeFormattingRequest.type,o,i).then((function(e){return i.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(e,i)}),(function(e){return a.handleFailedRequest(y.DocumentOnTypeFormattingRequest.type,i,e,null)}))},u=a.middleware;return u.provideOnTypeFormattingEdits?u.provideOnTypeFormattingEdits(e,t,r,i,o,s):s(e,t,r,i,o)}},a=e.moreTriggerCharacter||[];return[(t=v.languages).registerOnTypeFormattingEditProvider.apply(t,[this._client.protocol2CodeConverter.asDocumentSelector(r),o,e.firstTriggerCharacter].concat(i(a))),o]}}]),n}(m.TextDocumentLanguageFeature);t.DocumentOnTypeFormattingFeature=_},75054:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.HoverFeature=void 0;var c=n(23576),l=n(1358),f=n(68210),d=n(30276),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,e);var t,n,r,s=a(u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),s.call(this,e,l.HoverRequest.type)}return t=u,(n=[{key:"fillClientCapabilities",value:function(e){var t=(0,f.ensure)((0,f.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[l.MarkupKind.Markdown,l.MarkupKind.PlainText]}},{key:"initialize",value:function(e,t){var n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register({id:d.generateUuid(),registerOptions:n})}},{key:"registerLanguageProvider",value:function(e){var t=this,n=e.documentSelector,r={provideHover:function(e,n,r){var i=t._client,o=function(e,t,n){return i.sendRequest(l.HoverRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((function(e){return n.isCancellationRequested?null:i.protocol2CodeConverter.asHover(e)}),(function(e){return i.handleFailedRequest(l.HoverRequest.type,n,e,null)}))},a=i.middleware;return a.provideHover?a.provideHover(e,n,r,o):o(e,n,r)}};return[this.registerProvider(n,r),r]}},{key:"registerProvider",value:function(e,t){return c.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(f.TextDocumentLanguageFeature);t.HoverFeature=h},98127:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationFeature=void 0;var f=n(23576),d=n(1358),h=n(68210),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(c,e);var t,n,r,o=u(c);function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),o.call(this,e,d.ImplementationRequest.type)}return t=c,(n=[{key:"fillClientCapabilities",value:function(e){var t=(0,h.ensure)((0,h.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}},{key:"initialize",value:function(e,t){var n=i(this.getRegistration(t,e.implementationProvider),2),r=n[0],o=n[1];r&&o&&this.register({id:r,registerOptions:o})}},{key:"registerLanguageProvider",value:function(e){var t=this,n=e.documentSelector,r={provideImplementation:function(e,n,r){var i=t._client,o=function(e,t,n){return i.sendRequest(d.ImplementationRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((function(e){return n.isCancellationRequested?null:i.protocol2CodeConverter.asDefinitionResult(e,n)}),(function(e){return i.handleFailedRequest(d.ImplementationRequest.type,n,e,null)}))},a=i.middleware;return a.provideImplementation?a.provideImplementation(e,n,r,o):o(e,n,r)}};return[this.registerProvider(n,r),r]}},{key:"registerProvider",value:function(e,t){return f.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(h.TextDocumentLanguageFeature);t.ImplementationFeature=p},45118:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function y(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,s)&&(g=b);var w=y.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(i,a,s,u){var c=d(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,s,u)}),(function(e){o("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return o("throw",e,s,u)}))}u(c.arg)}var a;i(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,i(w,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.InlayHintsFeature=void 0;var y=n(23576),g=n(1358),m=n(68210),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(u,e);var t,n,r,s=h(u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),s.call(this,e,g.InlayHintRequest.type)}return t=u,n=[{key:"fillClientCapabilities",value:function(e){var t=(0,m.ensure)((0,m.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,m.ensure)((0,m.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}},{key:"initialize",value:function(e,t){var n=this;this._client.onRequest(g.InlayHintRefreshRequest.type,l(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a(n.getAllProviders());try{for(t.s();!(r=t.n()).done;)r.value.onDidChangeInlayHints.fire()}catch(e){t.e(e)}finally{t.f()}case 2:case"end":return e.stop()}}),e)}))));var r=i(this.getRegistration(t,e.inlayHintProvider),2),s=r[0],u=r[1];s&&u&&this.register({id:s,registerOptions:u})}},{key:"registerLanguageProvider",value:function(e){var t=this,n=e.documentSelector,r=new y.EventEmitter,i={onDidChangeInlayHints:r.event,provideInlayHints:function(e,n,r){var i=t._client,a=function(){var e=l(o().mark((function e(t,n,r){var a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(t),range:i.code2ProtocolConverter.asRange(n)},e.prev=1,e.next=4,i.sendRequest(g.InlayHintRequest.type,a,r);case 4:if(s=e.sent,!r.isCancellationRequested){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",i.protocol2CodeConverter.asInlayHints(s,r));case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",i.handleFailedRequest(g.InlayHintRequest.type,r,e.t0,null));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),s=i.middleware;return s.provideInlayHints?s.provideInlayHints(e,n,r,a):a(e,n,r)}};return i.resolveInlayHint=!0===e.resolveProvider?function(e,n){var r=t._client,i=function(){var e=l(o().mark((function e(t,n){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.sendRequest(g.InlayHintResolveRequest.type,r.code2ProtocolConverter.asInlayHint(t),n);case 3:if(i=e.sent,!n.isCancellationRequested){e.next=6;break}return e.abrupt("return",null);case 6:return a=r.protocol2CodeConverter.asInlayHint(i,n),e.abrupt("return",n.isCancellationRequested?null:a);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",r.handleFailedRequest(g.InlayHintResolveRequest.type,n,e.t0,null));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),a=r.middleware;return a.resolveInlayHint?a.resolveInlayHint(e,n,i):i(e,n)}:void 0,[this.registerProvider(n,i),{provider:i,onDidChangeInlayHints:r}]}},{key:"registerProvider",value:function(e,t){return y.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}],n&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(m.TextDocumentLanguageFeature);t.InlayHintsFeature=b},94671:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function y(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,s)&&(g=b);var w=y.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(i,a,s,u){var c=d(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,s,u)}),(function(e){o("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return o("throw",e,s,u)}))}u(c.arg)}var a;i(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,i(w,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.InlineValueFeature=void 0;var y=n(23576),g=n(1358),m=n(68210),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(u,e);var t,n,r,s=h(u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),s.call(this,e,g.InlineValueRequest.type)}return t=u,(n=[{key:"fillClientCapabilities",value:function(e){(0,m.ensure)((0,m.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,m.ensure)((0,m.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}},{key:"initialize",value:function(e,t){var n=this;this._client.onRequest(g.InlineValueRefreshRequest.type,l(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a(n.getAllProviders());try{for(t.s();!(r=t.n()).done;)r.value.onDidChangeInlineValues.fire()}catch(e){t.e(e)}finally{t.f()}case 2:case"end":return e.stop()}}),e)}))));var r=i(this.getRegistration(t,e.inlineValueProvider),2),s=r[0],u=r[1];s&&u&&this.register({id:s,registerOptions:u})}},{key:"registerLanguageProvider",value:function(e){var t=this,n=e.documentSelector,r=new y.EventEmitter,i={onDidChangeInlineValues:r.event,provideInlineValues:function(e,n,r,i){var o=t._client,a=function(e,t,n,r){var i={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),range:o.code2ProtocolConverter.asRange(t),context:o.code2ProtocolConverter.asInlineValueContext(n)};return o.sendRequest(g.InlineValueRequest.type,i,r).then((function(e){return r.isCancellationRequested?null:o.protocol2CodeConverter.asInlineValues(e,r)}),(function(e){return o.handleFailedRequest(g.InlineValueRequest.type,r,e,null)}))},s=o.middleware;return s.provideInlineValues?s.provideInlineValues(e,n,r,i,a):a(e,n,r,i)}};return[this.registerProvider(n,i),{provider:i,onDidChangeInlineValues:r}]}},{key:"registerProvider",value:function(e,t){return y.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(m.TextDocumentLanguageFeature);t.InlineValueFeature=b},95881:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingFeature=void 0;var f=n(23576),d=n(1358),h=n(68210),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(c,e);var t,n,r,o=u(c);function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),o.call(this,e,d.LinkedEditingRangeRequest.type)}return t=c,(n=[{key:"fillClientCapabilities",value:function(e){(0,h.ensure)((0,h.ensure)(e,"textDocument"),"linkedEditingRange").dynamicRegistration=!0}},{key:"initialize",value:function(e,t){var n=i(this.getRegistration(t,e.linkedEditingRangeProvider),2),r=n[0],o=n[1];r&&o&&this.register({id:r,registerOptions:o})}},{key:"registerLanguageProvider",value:function(e){var t=this,n=e.documentSelector,r={provideLinkedEditingRanges:function(e,n,r){var i=t._client,o=function(e,t,n){return i.sendRequest(d.LinkedEditingRangeRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((function(e){return n.isCancellationRequested?null:i.protocol2CodeConverter.asLinkedEditingRanges(e,n)}),(function(e){return i.handleFailedRequest(d.LinkedEditingRangeRequest.type,n,e,null)}))},a=i.middleware;return a.provideLinkedEditingRange?a.provideLinkedEditingRange(e,n,r,o):o(e,n,r)}};return[this.registerProvider(n,r),r]}},{key:"registerProvider",value:function(e,t){return f.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(h.TextDocumentLanguageFeature);t.LinkedEditingFeature=p},88570:(e,t,n)=>{function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function f(e,t,n,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new D(i||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function y(){}var g={};c(g,a,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=y.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(r,o,a,s){var u=d(e[r],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==l(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,r(w,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(k.prototype),c(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),c(w,u,"Generator"),c(w,a,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===l(o)?o:String(o)),r)}var i,o}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function d(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookDocumentSyncFeature=void 0;var p,v,y,g,m,b=n(23576),w=n(91171),_=n(1358),k=n(30276),S=n(17945);function x(e,t){return void 0===e[t]&&(e[t]={}),e[t]}!function(e){!function(t){function n(e,t){return e.map((function(e){return i(e,t)}))}function r(e){return o(new Set,e)}function i(e,t){var n=_.NotebookCell.create(function(e){switch(e){case b.NotebookCellKind.Markup:return _.NotebookCellKind.Markup;case b.NotebookCellKind.Code:return _.NotebookCellKind.Code}}(e.kind),t.asUri(e.document.uri));return Object.keys(e.metadata).length>0&&(n.metadata=r(e.metadata)),void 0!==e.executionSummary&&S.number(e.executionSummary.executionOrder)&&S.boolean(e.executionSummary.success)&&(n.executionSummary={executionOrder:e.executionSummary.executionOrder,success:e.executionSummary.success}),n}function o(e,t){if(e.has(t))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(t)){var n,r=[],i=f(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(null!==a&&"object"===l(a)||Array.isArray(a))r.push(o(e,a));else{if(a instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");r.push(a)}}}catch(e){i.e(e)}finally{i.f()}return r}for(var s=Object.keys(t),u=Object.create(null),c=0,d=s;c<d.length;c++){var h=d[c],p=t[h];if(null!==p&&"object"===l(p)||Array.isArray(p))u[h]=o(e,p);else{if(p instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");u[h]=p}}return u}t.asVersionedNotebookDocumentIdentifier=function(e,t){return{version:e.version,uri:t.asUri(e.uri)}},t.asNotebookDocument=function(e,t,i){var o=_.NotebookDocument.create(i.asUri(e.uri),e.notebookType,e.version,n(t,i));return Object.keys(e.metadata).length>0&&(o.metadata=r(e.metadata)),o},t.asNotebookCells=n,t.asMetadata=r,t.asNotebookCell=i,t.asTextContentChange=function(e,t){var n=t.asChangeTextDocumentParams(e);return{document:n.textDocument,changes:n.contentChanges}},t.asNotebookDocumentChangeEvent=function(t,n){var r=Object.create(null);if(t.metadata&&(r.metadata=e.c2p.asMetadata(t.metadata)),void 0!==t.cells){var i=Object.create(null),o=t.cells;o.structure&&(i.structure={array:{start:o.structure.array.start,deleteCount:o.structure.array.deleteCount,cells:void 0!==o.structure.array.cells?o.structure.array.cells.map((function(t){return e.c2p.asNotebookCell(t,n)})):void 0},didOpen:void 0!==o.structure.didOpen?o.structure.didOpen.map((function(e){return n.asOpenTextDocumentParams(e.document).textDocument})):void 0,didClose:void 0!==o.structure.didClose?o.structure.didClose.map((function(e){return n.asCloseTextDocumentParams(e.document).textDocument})):void 0}),void 0!==o.data&&(i.data=o.data.map((function(t){return e.c2p.asNotebookCell(t,n)}))),void 0!==o.textContent&&(i.textContent=o.textContent.map((function(t){return e.c2p.asTextContentChange(t,n)}))),Object.keys(i).length>0&&(r.cells=i)}return r}}(e.c2p||(e.c2p={}))}(p||(p={})),function(e){function t(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return!(e.kind!==t.kind||e.document.uri.toString()!==t.document.uri.toString()||e.document.languageId!==t.document.languageId||!n(e.executionSummary,t.executionSummary))&&(!i||i&&r(e.metadata,t.metadata))}function n(e,t){return e===t||void 0!==e&&void 0!==t&&(e.executionOrder===t.executionOrder&&e.success===t.success&&function(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;return e.startTime===t.startTime&&e.endTime===t.endTime}(e.timing,t.timing))}function r(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(l(e)!==l(t))return!1;if("object"!==l(e))return!1;var n=Array.isArray(e),o=Array.isArray(t);if(n!==o)return!1;if(n&&o){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(!r(e[a],t[a]))return!1}if(i(e)&&i(t)){var s=Object.keys(e),u=Object.keys(t);if(s.length!==u.length)return!1;if(s.sort(),u.sort(),!r(s,u))return!1;for(var c=0;c<s.length;c++){var f=s[c];if(!r(e[f],t[f]))return!1}return!0}return!1}function i(e){return null!==e&&"object"===l(e)}e.computeDiff=function(e,n,r){for(var i=e.length,o=n.length,a=0;a<o&&a<i&&t(e[a],n[a],r);)a++;if(a<o&&a<i){for(var s=i-1,u=o-1;s>=0&&u>=0&&t(e[s],n[u],r);)s--,u--;var c=s+1-a,l=a===u+1?void 0:n.slice(a,u+1);return void 0!==l?{start:a,deleteCount:c,cells:l}:{start:a,deleteCount:c}}return a<o?{start:a,deleteCount:0,cells:n.slice(a)}:a<i?{start:a,deleteCount:i-a}:void 0},e.isObjectLiteral=i}(v||(v={})),function(e){e.matchNotebook=function(e,t){if("string"==typeof e)return"*"===e||t.notebookType===e;if(void 0!==e.notebookType&&"*"!==e.notebookType&&t.notebookType!==e.notebookType)return!1;var n=t.uri;if(void 0!==e.scheme&&"*"!==e.scheme&&n.scheme!==e.scheme)return!1;if(void 0!==e.pattern){var r=new w.Minimatch(e.pattern,{noext:!0});if(!r.makeRe())return!1;if(!r.match(n.fsPath))return!1}return!0}}(y||(y={})),function(e){function t(e,t,n,r){return void 0===t&&void 0===n?{notebook:e,language:r}:{notebook:{notebookType:e,scheme:t,pattern:n},language:r}}e.asDocumentSelector=function(e){var n,r=[],i=f(e.notebookSelector);try{for(i.s();!(n=i.n()).done;){var o,a,s,u,c=n.value,l=null!==(o="string"==typeof c.notebook?c.notebook:null===(a=c.notebook)||void 0===a?void 0:a.notebookType)&&void 0!==o?o:"*",d="string"==typeof c.notebook||null===(s=c.notebook)||void 0===s?void 0:s.scheme,h="string"==typeof c.notebook||null===(u=c.notebook)||void 0===u?void 0:u.pattern;if(void 0!==c.cells){var p,v=f(c.cells);try{for(v.s();!(p=v.n()).done;){var y=p.value;r.push(t(l,d,h,y.language))}}catch(e){v.e(e)}finally{v.f()}}else r.push(t(l,d,h,void 0))}}catch(e){i.e(e)}finally{i.f()}return r}}(g||(g={})),function(e){e.create=function(e){return{cells:e,uris:new Set(e.map((function(e){return e.document.uri.toString()})))}}}(m||(m={}));var C=function(){function e(t,n){var r=this;s(this,e),this.client=t,this.options=n,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=t.protocol2CodeConverter.asDocumentSelector(g.asDocumentSelector(n)),b.workspace.onDidOpenNotebookDocument((function(e){r.notebookDidOpen.add(e.uri.toString()),r.didOpen(e)}),void 0,this.disposables);var i,o=f(b.workspace.notebookDocuments);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.notebookDidOpen.add(a.uri.toString()),this.didOpen(a)}}catch(e){o.e(e)}finally{o.f()}b.workspace.onDidChangeNotebookDocument((function(e){return r.didChangeNotebookDocument(e)}),void 0,this.disposables),!0===this.options.save&&b.workspace.onDidSaveNotebookDocument((function(e){return r.didSave(e)}),void 0,this.disposables),b.workspace.onDidCloseNotebookDocument((function(e){r.didClose(e),r.notebookDidOpen.delete(e.uri.toString())}),void 0,this.disposables)}var t,n,r,o,u,l,d,h;return c(e,[{key:"getState",value:function(){var e,t=f(b.workspace.notebookDocuments);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(void 0!==this.getMatchingCells(n))return{kind:"document",id:"$internal",registrations:!0,matches:!0}}}catch(e){t.e(e)}finally{t.f()}return{kind:"document",id:"$internal",registrations:!0,matches:!1}}},{key:"mode",get:function(){return"notebook"}},{key:"handles",value:function(e){return b.languages.match(this.selector,e)>0}},{key:"didOpenNotebookCellTextDocument",value:function(e,t){if(0!==b.languages.match(this.selector,t.document)&&this.notebookDidOpen.has(e.uri.toString())){var n=this.notebookSyncInfo.get(e.uri.toString()),r=this.cellMatches(e,t);if(void 0!==n){var i=n.uris.has(t.document.uri.toString());if(r&&i||!r&&!i)return;if(r){var o=this.getMatchingCells(e);if(void 0!==o){var a=this.asNotebookDocumentChangeEvent(e,void 0,n,o);void 0!==a&&this.doSendChange(a,o).catch((function(){}))}}}else r&&this.doSendOpen(e,[t]).catch((function(){}))}}},{key:"didChangeNotebookCellTextDocument",value:function(e,t){0!==b.languages.match(this.selector,t.document)&&this.doSendChange({notebook:e,cells:{textContent:[t]}},void 0).catch((function(){}))}},{key:"didCloseNotebookCellTextDocument",value:function(e,t){var n=this.notebookSyncInfo.get(e.uri.toString());if(void 0!==n){var r=t.document.uri,i=n.cells.findIndex((function(e){return e.document.uri.toString()===r.toString()}));if(-1!==i)if(0===i&&1===n.cells.length)this.doSendClose(e,n.cells).catch((function(){}));else{var o=n.cells.slice(),a=o.splice(i,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:i,deleteCount:1},didClose:a}}},o).catch((function(){}))}}}},{key:"dispose",value:function(){var e,t=f(this.disposables);try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(e){t.e(e)}finally{t.f()}}},{key:"didOpen",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getMatchingCells(e),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.notebookSyncInfo.get(e.uri.toString());if(void 0!==n)if(void 0!==t){var r=this.asNotebookDocumentChangeEvent(e,void 0,n,t);void 0!==r&&this.doSendChange(r,t).catch((function(){}))}else this.doSendClose(e,[]).catch((function(){}));else{if(void 0===t)return;this.doSendOpen(e,t).catch((function(){}))}}},{key:"didChangeNotebookDocument",value:function(e){var t=e.notebook,n=this.notebookSyncInfo.get(t.uri.toString());if(void 0===n){if(0===e.contentChanges.length)return;var r=this.getMatchingCells(t);if(void 0===r)return;this.didOpen(t,r,n)}else{var i=this.getMatchingCells(t);if(void 0===i)return void this.didClose(t,n);var o=this.asNotebookDocumentChangeEvent(e.notebook,e,n,i);void 0!==o&&this.doSendChange(o,i).catch((function(){}))}}},{key:"didSave",value:function(e){void 0!==this.notebookSyncInfo.get(e.uri.toString())&&this.doSendSave(e).catch((function(){}))}},{key:"didClose",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.notebookSyncInfo.get(e.uri.toString());if(void 0!==t){var n=e.getCells().filter((function(e){return t.uris.has(e.document.uri.toString())}));this.doSendClose(e,n).catch((function(){}))}}},{key:"sendDidOpenNotebookDocument",value:(h=a(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(n=this.getMatchingCells(t))){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",this.doSendOpen(t,n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"doSendOpen",value:(d=a(i().mark((function e(t,n){var r,o,s,u=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(){var e=a(i().mark((function e(t,n){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.c2p.asNotebookDocument(t,n,u.client.code2ProtocolConverter),o=n.map((function(e){return u.client.code2ProtocolConverter.asTextDocumentItem(e.document)})),e.prev=2,e.next=5,u.client.sendNotification(_.DidOpenNotebookDocumentNotification.type,{notebookDocument:r,cellTextDocuments:o});case 5:e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(2),u.client.error("Sending DidOpenNotebookDocumentNotification failed",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}(),s=null===(r=this.client.middleware)||void 0===r?void 0:r.notebooks,this.notebookSyncInfo.set(t.uri.toString(),m.create(n)),e.abrupt("return",void 0!==(null==s?void 0:s.didOpen)?s.didOpen(t,n,o):o(t,n));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"sendDidChangeNotebookDocument",value:(l=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.doSendChange(t,void 0));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"doSendChange",value:(u=a(i().mark((function e(t){var n,r,o,s,u,c=this,l=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>1&&void 0!==l[1]?l[1]:this.getMatchingCells(t.notebook),s=function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.client.sendNotification(_.DidChangeNotebookDocumentNotification.type,{notebookDocument:p.c2p.asVersionedNotebookDocumentIdentifier(t.notebook,c.client.code2ProtocolConverter),change:p.c2p.asNotebookDocumentChangeEvent(t,c.client.code2ProtocolConverter)});case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),c.client.error("Sending DidChangeNotebookDocumentNotification failed",e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),u=null===(n=this.client.middleware)||void 0===n?void 0:n.notebooks,void 0!==(null===(r=t.cells)||void 0===r?void 0:r.structure)&&this.notebookSyncInfo.set(t.notebook.uri.toString(),m.create(null!=o?o:[])),e.abrupt("return",void 0!==(null==u?void 0:u.didChange)?null==u?void 0:u.didChange(t,s):s(t));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"sendDidSaveNotebookDocument",value:(o=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.doSendSave(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"doSendSave",value:(r=a(i().mark((function e(t){var n,r,o,s=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.client.sendNotification(_.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:s.client.code2ProtocolConverter.asUri(t.uri)}});case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),s.client.error("Sending DidSaveNotebookDocumentNotification failed",e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),o=null===(n=this.client.middleware)||void 0===n?void 0:n.notebooks,e.abrupt("return",void 0!==(null==o?void 0:o.didSave)?o.didSave(t,r):r(t));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"sendDidCloseNotebookDocument",value:(n=a(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.doSendClose(t,null!==(n=this.getMatchingCells(t))&&void 0!==n?n:[]));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"doSendClose",value:(t=a(i().mark((function e(t,n){var r,o,s,u=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(){var e=a(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.client.sendNotification(_.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:u.client.code2ProtocolConverter.asUri(t.uri)},cellTextDocuments:n.map((function(e){return u.client.code2ProtocolConverter.asTextDocumentIdentifier(e.document)}))});case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),u.client.error("Sending DidCloseNotebookDocumentNotification failed",e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),s=null===(r=this.client.middleware)||void 0===r?void 0:r.notebooks,this.notebookSyncInfo.delete(t.uri.toString()),e.abrupt("return",void 0!==(null==s?void 0:s.didClose)?s.didClose(t,n,o):o(t,n));case 4:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"asNotebookDocumentChangeEvent",value:function(e,t,n,r){if(void 0!==t&&t.notebook!==e)throw new Error("Notebook must be identical");var i,o={notebook:e};if(void 0!==(null==t?void 0:t.metadata)&&(o.metadata=p.c2p.asMetadata(t.metadata)),void 0!==(null==t?void 0:t.cellChanges)&&t.cellChanges.length>0){var a=[];i=new Set(r.map((function(e){return e.document.uri.toString()})));var s,u,c=f(t.cellChanges);try{for(c.s();!(s=c.n()).done;){var l=s.value;!i.has(l.cell.document.uri.toString())||void 0===l.executionSummary&&void 0===l.metadata||a.push(l.cell)}}catch(e){c.e(e)}finally{c.f()}if(a.length>0)o.cells=null!==(u=o.cells)&&void 0!==u?u:{},o.cells.data=a}if((void 0!==(null==t?void 0:t.contentChanges)&&t.contentChanges.length>0||void 0===t)&&void 0!==n&&void 0!==r){var d,h,y=n.cells,g=r,m=v.computeDiff(y,g,!1);if(void 0!==m){var b;d=void 0===m.cells?new Map:new Map(m.cells.map((function(e){return[e.document.uri.toString(),e]}))),h=0===m.deleteCount?new Map:new Map(y.slice(m.start,m.start+m.deleteCount).map((function(e){return[e.document.uri.toString(),e]})));for(var w=0,_=Array.from(h.keys());w<_.length;w++){var k=_[w];d.has(k)&&(h.delete(k),d.delete(k))}o.cells=null!==(b=o.cells)&&void 0!==b?b:{};var S=[],x=[];if(d.size>0||h.size>0){var C,E=f(d.values());try{for(E.s();!(C=E.n()).done;){var D=C.value;S.push(D)}}catch(e){E.e(e)}finally{E.f()}var T,P=f(h.values());try{for(P.s();!(T=P.n()).done;){var O=T.value;x.push(O)}}catch(e){P.e(e)}finally{P.f()}}o.cells.structure={array:m,didOpen:S,didClose:x}}}return Object.keys(o).length>1?o:void 0}},{key:"getMatchingCells",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getCells();if(void 0!==this.options.notebookSelector){var n,r=f(this.options.notebookSelector);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(void 0===i.notebook||y.matchNotebook(i.notebook,e)){var o=this.filterCells(e,t,i.cells);return 0===o.length?void 0:o}}}catch(e){r.e(e)}finally{r.f()}}}},{key:"cellMatches",value:function(e,t){var n=this.getMatchingCells(e,[t]);return void 0!==n&&n[0]===t}},{key:"filterCells",value:function(e,t,n){var r,i=void 0!==n?t.filter((function(e){var t=e.document.languageId;return n.some((function(e){return"*"===e.language||t===e.language}))})):t;return"function"==typeof(null===(r=this.client.clientOptions.notebookDocumentOptions)||void 0===r?void 0:r.filterCells)?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}}]),e}(),E=function(){function e(t){var n=this;s(this,e),this.client=t,this.registrations=new Map,this.registrationType=_.NotebookDocumentSyncRegistrationType.type,b.workspace.onDidOpenTextDocument((function(t){if(t.uri.scheme===e.CellScheme){var i=r(n.findNotebookDocumentAndCell(t),2),o=i[0],a=i[1];if(void 0!==o&&void 0!==a){var s,u=f(n.registrations.values());try{for(u.s();!(s=u.n()).done;){var c=s.value;c instanceof C&&c.didOpenNotebookCellTextDocument(o,a)}}catch(e){u.e(e)}finally{u.f()}}}})),b.workspace.onDidChangeTextDocument((function(t){if(0!==t.contentChanges.length){var i=t.document;if(i.uri.scheme===e.CellScheme){var o=r(n.findNotebookDocumentAndCell(i),1)[0];if(void 0!==o){var a,s=f(n.registrations.values());try{for(s.s();!(a=s.n()).done;){var u=a.value;u instanceof C&&u.didChangeNotebookCellTextDocument(o,t)}}catch(e){s.e(e)}finally{s.f()}}}}})),b.workspace.onDidCloseTextDocument((function(t){if(t.uri.scheme===e.CellScheme){var i=r(n.findNotebookDocumentAndCell(t),2),o=i[0],a=i[1];if(void 0!==o&&void 0!==a){var s,u=f(n.registrations.values());try{for(u.s();!(s=u.n()).done;){var c=s.value;c instanceof C&&c.didCloseNotebookCellTextDocument(o,a)}}catch(e){u.e(e)}finally{u.f()}}}}))}return c(e,[{key:"getState",value:function(){if(0===this.registrations.size)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};var e,t=f(this.registrations.values());try{for(t.s();!(e=t.n()).done;){var n=e.value.getState();if("document"===n.kind&&!0===n.registrations&&!0===n.matches)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}}catch(e){t.e(e)}finally{t.f()}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}},{key:"fillClientCapabilities",value:function(e){var t=x(x(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}},{key:"preInitialize",value:function(e){var t=e.notebookDocumentSync;void 0!==t&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(g.asDocumentSelector(t)))}},{key:"initialize",value:function(e){var t,n=e.notebookDocumentSync;if(void 0!==n){var r=null!==(t=n.id)&&void 0!==t?t:k.generateUuid();this.register({id:r,registerOptions:n})}}},{key:"register",value:function(e){var t=new C(this.client,e.registerOptions);this.registrations.set(e.id,t)}},{key:"unregister",value:function(e){var t=this.registrations.get(e);t&&t.dispose()}},{key:"dispose",value:function(){var e,t=f(this.registrations.values());try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(e){t.e(e)}finally{t.f()}this.registrations.clear()}},{key:"handles",value:function(t){if(t.uri.scheme!==e.CellScheme)return!1;if(void 0!==this.dedicatedChannel&&b.languages.match(this.dedicatedChannel,t)>0)return!0;var n,r=f(this.registrations.values());try{for(r.s();!(n=r.n()).done;){if(n.value.handles(t))return!0}}catch(e){r.e(e)}finally{r.f()}return!1}},{key:"getProvider",value:function(e){var t,n=f(this.registrations.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.handles(e.document))return r}}catch(e){n.e(e)}finally{n.f()}}},{key:"findNotebookDocumentAndCell",value:function(e){var t,n=e.uri.toString(),r=f(b.workspace.notebookDocuments);try{for(r.s();!(t=r.n()).done;){var i,o=t.value,a=f(o.getCells());try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s.document.uri.toString()===n)return[o,s]}}catch(e){a.e(e)}finally{a.f()}}}catch(e){r.e(e)}finally{r.f()}return[void 0,void 0]}}]),e}();t.NotebookDocumentSyncFeature=E,E.CellScheme="vscode-notebook-cell"},7629:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressFeature=void 0;var s=n(1358),u=n(47589);var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._client=t,this.activeParts=new Set}var t,n,r;return t=e,(n=[{key:"getState",value:function(){return{kind:"window",id:s.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}},{key:"fillClientCapabilities",value:function(e){var t,n;(t=e,n="window",void 0===t[n]&&(t[n]=Object.create(null)),t[n]).workDoneProgress=!0}},{key:"initialize",value:function(){var e=this,t=this._client,n=function(t){e.activeParts.delete(t)};t.onRequest(s.WorkDoneProgressCreateRequest.type,(function(t){e.activeParts.add(new u.ProgressPart(e._client,t.token,n))}))}},{key:"dispose",value:function(){var e,t=i(this.activeParts);try{for(t.s();!(e=t.n()).done;)e.value.done()}catch(e){t.e(e)}finally{t.f()}this.activeParts.clear()}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.ProgressFeature=c},47589:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new D(r||[]);return o(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function y(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,s)&&(g=b);var w=y.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(o,a,s,u){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,o(w,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressPart=void 0;var s=n(23576),u=n(1358),c=n(17945),l=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._client=t,this._token=n,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(u.WorkDoneProgress.type,this._token,(function(e){switch(e.kind){case"begin":i.begin(e);break;case"report":i.report(e);break;case"end":i.done(),r&&r(i)}}))}var t,n,r;return t=e,n=[{key:"begin",value:function(e){var t=this;this._infinite=void 0===e.percentage,void 0!==this._lspProgressDisposable&&s.window.withProgress({location:s.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},function(){var n,r=(n=i().mark((function n(r,o){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==t._lspProgressDisposable){n.next=2;break}return n.abrupt("return");case 2:return t._progress=r,t._cancellationToken=o,t._tokenDisposable=t._cancellationToken.onCancellationRequested((function(){t._client.sendNotification(u.WorkDoneProgressCancelNotification.type,{token:t._token})})),t.report(e),n.abrupt("return",new Promise((function(e,n){t._resolve=e,t._reject=n})));case 7:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var a=n.apply(e,t);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))});return function(e,t){return r.apply(this,arguments)}}())}},{key:"report",value:function(e){if(this._infinite&&c.string(e.message))void 0!==this._progress&&this._progress.report({message:e.message});else if(c.number(e.percentage)){var t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._reported+=n,void 0!==this._progress&&this._progress.report({message:e.message,increment:n})}}},{key:"cancel",value:function(){this.cleanup(),void 0!==this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}},{key:"done",value:function(){this.cleanup(),void 0!==this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}},{key:"cleanup",value:function(){void 0!==this._lspProgressDisposable&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),void 0!==this._tokenDisposable&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}}],n&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.ProgressPart=l},11994:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,e);var t,n,r,s=a(u);function u(e,t,n,r,i,o,a){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),c=s.call(this,e,t,n,r,i,o),void 0!==a&&(c.data=a),c}return t=u,n&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(n(23576).CallHierarchyItem);t.default=c},87532:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,e);var t,n,r,s=a(u);function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=s.call(this,e)).data=t,n}return t=u,n&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(n(23576).CodeAction);t.default=c},32672:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,e);var t,n,r,s=a(u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),s.call(this,e)}return t=u,n&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(n(23576).CodeLens);t.default=c},53122:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,e);var t,n,r,s=a(u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),s.call(this,e)}return t=u,n&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(n(23576).CompletionItem);t.default=c},73222:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new D(r||[]);return o(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function y(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,s)&&(g=b);var w=y.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(o,a,s,u){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,o(w,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,u,"next",e)}function u(e){a(o,r,i,s,u,"throw",e)}s(void 0)}))}}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.createConverter=void 0;var f,d=n(23576),h=n(1358),p=n(17945),v=n(60132),y=n(53122),g=n(32672),m=n(74442),b=n(87532),w=n(64939),_=n(11994),k=n(25527),S=n(25197),x=n(29983),C=n(1358);!function(e){e.is=function(e){var t=e;return t&&p.string(t.language)&&p.string(t.value)}}(f||(f={})),t.createConverter=function(e,t,n){var r=e||function(e){return d.Uri.parse(e)};function a(e){return r(e)}function c(){return(c=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.map(t,E,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=E(e[n]);return t}function E(e){var t=new w.ProtocolDiagnostic(P(e.range),e.message,I(e.severity),e.data);if(void 0!==e.code)if("string"==typeof e.code||"number"==typeof e.code)h.CodeDescription.is(e.codeDescription)?t.code={value:e.code,target:a(e.codeDescription.href)}:t.code=e.code;else if(w.DiagnosticCode.is(e.code)){t.hasDiagnosticCode=!0;var n=e.code;t.code={value:n.value,target:a(n.target)}}return e.source&&(t.source=e.source),e.relatedInformation&&(t.relatedInformation=function(e){for(var t=new Array(e.length),n=0;n<e.length;n++){var r=e[n];t[n]=new d.DiagnosticRelatedInformation(Y(r.location),r.message)}return t}(e.relatedInformation)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;var t,n=[],r=u(e);try{for(r.s();!(t=r.n()).done;){var i=D(t.value);void 0!==i&&n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n.length>0?n:void 0}(e.tags)),t}function D(e){switch(e){case h.DiagnosticTag.Unnecessary:return d.DiagnosticTag.Unnecessary;case h.DiagnosticTag.Deprecated:return d.DiagnosticTag.Deprecated;default:return}}function T(e){return e?new d.Position(e.line,e.character):void 0}function P(e){return e?new d.Range(e.start.line,e.start.character,e.end.line,e.end.character):void 0}function O(e,t){return R.apply(this,arguments)}function R(){return(R=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.map(t,(function(e){return new d.Range(e.start.line,e.start.character,e.end.line,e.end.character)}),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){if(null==e)return d.DiagnosticSeverity.Error;switch(e){case h.DiagnosticSeverity.Error:return d.DiagnosticSeverity.Error;case h.DiagnosticSeverity.Warning:return d.DiagnosticSeverity.Warning;case h.DiagnosticSeverity.Information:return d.DiagnosticSeverity.Information;case h.DiagnosticSeverity.Hint:return d.DiagnosticSeverity.Hint}return d.DiagnosticSeverity.Error}function L(e){if(p.string(e))return e;switch(e.kind){case h.MarkupKind.Markdown:return j(e.value);case h.MarkupKind.PlainText:return e.value;default:return"Unsupported Markup content received. Kind is: ".concat(e.kind)}}function j(e){var r;if(void 0===e||"string"==typeof e)r=new d.MarkdownString(e);else switch(e.kind){case h.MarkupKind.Markdown:r=new d.MarkdownString(e.value);break;case h.MarkupKind.PlainText:(r=new d.MarkdownString).appendText(e.value);break;default:(r=new d.MarkdownString).appendText("Unsupported Markup content received. Kind is: ".concat(e.kind))}return r.isTrusted=t,r.supportHtml=n,r}function A(){return(A=s(i().mark((function e(t,n,r){var o,a,s,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",void 0);case 2:if(!Array.isArray(t)){e.next=4;break}return e.abrupt("return",v.map(t,(function(e){return M(e,n)}),r));case 4:return a=N(o=t,n),s=a.defaultRange,u=a.commitCharacters,e.next=8,v.map(o.items,(function(e){var t,n,r;return M(e,u,s,null===(t=o.itemDefaults)||void 0===t?void 0:t.insertTextMode,null===(n=o.itemDefaults)||void 0===n?void 0:n.insertTextFormat,null===(r=o.itemDefaults)||void 0===r?void 0:r.data)}),r);case 8:return c=e.sent,e.abrupt("return",new d.CompletionList(c,o.isIncomplete));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){var n,r,i,o=null===(n=e.itemDefaults)||void 0===n?void 0:n.editRange,a=null!==(r=null===(i=e.itemDefaults)||void 0===i?void 0:i.commitCharacters)&&void 0!==r?r:t;return h.Range.is(o)?{defaultRange:P(o),commitCharacters:a}:void 0!==o?{defaultRange:{inserting:P(o.insert),replacing:P(o.replace)},commitCharacters:a}:{defaultRange:void 0,commitCharacters:a}}function F(e){if(e===h.CompletionItemTag.Deprecated)return d.CompletionItemTag.Deprecated}function M(e,t,n,r,i,a){var s,c,l=function(e){if(null==e)return[];var t,n=[],r=u(e);try{for(r.s();!(t=r.n()).done;){var i=F(t.value);void 0!==i&&n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n}(e.tags),f=function(e){return h.CompletionItemLabelDetails.is(e.labelDetails)?{label:e.label,detail:e.labelDetails.detail,description:e.labelDetails.description}:e.label}(e),v=new y.default(f);e.detail&&(v.detail=e.detail),e.documentation&&(v.documentation=L(e.documentation),v.documentationFormat=p.string(e.documentation)?"$string":e.documentation.kind),e.filterText&&(v.filterText=e.filterText);var g,m=function(e,t,n){var r,i=null!==(r=e.insertTextFormat)&&void 0!==r?r:n;if(void 0!==e.textEdit||void 0!==t){var a,s=o(void 0!==e.textEdit?(l=e.textEdit,h.InsertReplaceEdit.is(l)?[{inserting:P(l.insert),replacing:P(l.replace)},l.newText]:[P(l.range),l.newText]):[t,null!==(a=e.textEditText)&&void 0!==a?a:e.label],2),u=s[0],c=s[1];return i===h.InsertTextFormat.Snippet?{text:new d.SnippetString(c),range:u,fromEdit:!0}:{text:c,range:u,fromEdit:!0}}return e.insertText?i===h.InsertTextFormat.Snippet?{text:new d.SnippetString(e.insertText),fromEdit:!1}:{text:e.insertText,fromEdit:!1}:void 0;var l}(e,n,i);if(m&&(v.insertText=m.text,v.range=m.range,v.fromEdit=m.fromEdit),p.number(e.kind)){var b=o((g=e.kind,h.CompletionItemKind.Text<=g&&g<=h.CompletionItemKind.TypeParameter?[g-1,void 0]:[d.CompletionItemKind.Text,g]),2),w=b[0],_=b[1];v.kind=w,_&&(v.originalItemKind=_)}e.sortText&&(v.sortText=e.sortText),e.additionalTextEdits&&(v.additionalTextEdits=U(e.additionalTextEdits));var k=void 0!==e.commitCharacters?p.stringArray(e.commitCharacters)?e.commitCharacters:void 0:t;k&&(v.commitCharacters=k.slice()),e.command&&(v.command=pe(e.command)),!0!==e.deprecated&&!1!==e.deprecated||(v.deprecated=e.deprecated,!0===e.deprecated&&l.push(d.CompletionItemTag.Deprecated)),!0!==e.preselect&&!1!==e.preselect||(v.preselect=e.preselect);var S=null!==(s=e.data)&&void 0!==s?s:a;void 0!==S&&(v.data=S),l.length>0&&(v.tags=l);var x=null!==(c=e.insertTextMode)&&void 0!==c?c:r;return void 0!==x&&(v.insertTextMode=x,x===h.InsertTextMode.asIs&&(v.keepWhitespace=!0)),v}function q(e){if(e)return new d.TextEdit(P(e.range),e.newText)}function H(e,t){return W.apply(this,arguments)}function W(){return(W=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",v.map(t,q,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){if(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=q(e[n]);return t}}function K(){return(K=s(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",void 0);case 2:if(r=new d.SignatureHelp,p.number(t.activeSignature)?r.activeSignature=t.activeSignature:r.activeSignature=0,p.number(t.activeParameter)?r.activeParameter=t.activeParameter:r.activeParameter=0,!t.signatures){e.next=9;break}return e.next=8,$(t.signatures,n);case 8:r.signatures=e.sent;case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t){return B.apply(this,arguments)}function B(){return(B=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.mapAsync(t,V,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t){return z.apply(this,arguments)}function z(){return(z=s(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new d.SignatureInformation(t.label),void 0!==t.documentation&&(r.documentation=L(t.documentation)),void 0===t.parameters){e.next=6;break}return e.next=5,G(t.parameters,n);case 5:r.parameters=e.sent;case 6:return void 0!==t.activeParameter&&(r.activeParameter=t.activeParameter),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t){return v.map(e,J,t)}function J(e){var t=new d.ParameterInformation(e.label);return e.documentation&&(t.documentation=L(e.documentation)),t}function Y(e){return e?new d.Location(r(e.uri),P(e.range)):void 0}function Q(){return(Q=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",ee(t,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",ee(t,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){if(e){var t={targetUri:r(e.targetUri),targetRange:P(e.targetRange),originSelectionRange:P(e.originSelectionRange),targetSelectionRange:P(e.targetSelectionRange)};if(!t.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return t}}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=s(i().mark((function e(t,n){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",void 0);case 2:if(!p.array(t)){e.next=16;break}if(0!==t.length){e.next=7;break}return e.abrupt("return",[]);case 7:if(!h.LocationLink.is(t[0])){e.next=12;break}return r=t,e.abrupt("return",v.map(r,X,n));case 12:return o=t,e.abrupt("return",v.map(o,Y,n));case 14:e.next=21;break;case 16:if(!h.LocationLink.is(t)){e.next=20;break}return e.abrupt("return",[X(t)]);case 20:return e.abrupt("return",Y(t));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",v.map(t,Y,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",v.map(t,ie,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e){var t=new d.DocumentHighlight(P(e.range));return p.number(e.kind)&&(t.kind=oe(e.kind)),t}function oe(e){switch(e){case h.DocumentHighlightKind.Text:return d.DocumentHighlightKind.Text;case h.DocumentHighlightKind.Read:return d.DocumentHighlightKind.Read;case h.DocumentHighlightKind.Write:return d.DocumentHighlightKind.Write}return d.DocumentHighlightKind.Text}function ae(){return(ae=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",v.map(t,le,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){return e<=h.SymbolKind.TypeParameter?e-1:d.SymbolKind.Property}function ue(e){if(e===h.SymbolTag.Deprecated)return d.SymbolTag.Deprecated}function ce(e){if(null!=e){var t,n=[],r=u(e);try{for(r.s();!(t=r.n()).done;){var i=ue(t.value);void 0!==i&&n.push(i)}}catch(e){r.e(e)}finally{r.f()}return 0===n.length?void 0:n}}function le(e){var t,n,i=e.data,o=e.location,a=void 0===o.range||void 0!==i?new S.default(e.name,se(e.kind),null!==(t=e.containerName)&&void 0!==t?t:"",void 0===o.range?r(o.uri):new d.Location(r(e.location.uri),P(o.range)),i):new d.SymbolInformation(e.name,se(e.kind),null!==(n=e.containerName)&&void 0!==n?n:"",new d.Location(r(e.location.uri),P(o.range)));return he(a,e),a}function fe(){return(fe=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",v.map(t,de,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e){var t=new d.DocumentSymbol(e.name,e.detail||"",se(e.kind),P(e.range),P(e.selectionRange));if(he(t,e),void 0!==e.children&&e.children.length>0){var n,r=[],i=u(e.children);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(de(o))}}catch(e){i.e(e)}finally{i.f()}t.children=r}return t}function he(e,t){e.tags=ce(t.tags),t.deprecated&&(e.tags?e.tags.includes(d.SymbolTag.Deprecated)||(e.tags=e.tags.concat(d.SymbolTag.Deprecated)):e.tags=[d.SymbolTag.Deprecated])}function pe(e){var t={title:e.title,command:e.command};return e.arguments&&(t.arguments=e.arguments),t}function ve(){return(ve=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",v.map(t,pe,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ye=new Map;function ge(e){if(null!=e){var t=ye.get(e);if(t)return t;var n=e.split(".");t=d.CodeActionKind.Empty;var r,i=u(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;t=t.append(o)}}catch(e){i.e(e)}finally{i.f()}return t}}function me(e,t){return be.apply(this,arguments)}function be(){return(be=s(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",void 0);case 2:if(r=new b.default(t.title,t.data),void 0!==t.kind&&(r.kind=ge(t.kind)),void 0!==t.diagnostics&&(r.diagnostics=l(t.diagnostics)),void 0===t.edit){e.next=9;break}return e.next=8,ke(t.edit,n);case 8:r.edit=e.sent;case 9:return void 0!==t.command&&(r.command=pe(t.command)),void 0!==t.isPreferred&&(r.isPreferred=t.isPreferred),void 0!==t.disabled&&(r.disabled={reason:t.disabled.reason}),e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){if(e){var t=new g.default(P(e.range));return e.command&&(t.command=pe(e.command)),void 0!==e.data&&null!==e.data&&(t.data=e.data),t}}function _e(){return(_e=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",v.map(t,we,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e,t){return Se.apply(this,arguments)}function Se(){return(Se=s(i().mark((function e(t,n){var o,a,s,c,l,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",void 0);case 2:if(o=new Map,void 0===t.changeAnnotations){e.next=7;break}return a=t.changeAnnotations,e.next=7,v.forEach(Object.keys(a),(function(e){var t=xe(a[e]);o.set(e,t)}),n);case 7:if(s=function(e){return void 0===e?void 0:o.get(e)},c=new d.WorkspaceEdit,!t.documentChanges){e.next=15;break}return l=t.documentChanges,e.next=13,v.forEach(l,(function(e){if(h.CreateFile.is(e))c.createFile(r(e.uri),e.options,s(e.annotationId));else if(h.RenameFile.is(e))c.renameFile(r(e.oldUri),r(e.newUri),e.options,s(e.annotationId));else if(h.DeleteFile.is(e))c.deleteFile(r(e.uri),e.options,s(e.annotationId));else{if(!h.TextDocumentEdit.is(e))throw new Error("Unknown workspace edit change received:\n".concat(JSON.stringify(e,void 0,4)));var t,n=r(e.textDocument.uri),i=u(e.edits);try{for(i.s();!(t=i.n()).done;){var o=t.value;h.AnnotatedTextEdit.is(o)?c.replace(n,P(o.range),o.newText,s(o.annotationId)):c.replace(n,P(o.range),o.newText)}}catch(e){i.e(e)}finally{i.f()}}}),n);case 13:e.next=19;break;case 15:if(!t.changes){e.next=19;break}return f=t.changes,e.next=19,v.forEach(Object.keys(f),(function(e){c.set(r(e),U(f[e]))}),n);case 19:return e.abrupt("return",c);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e){if(void 0!==e)return{label:e.label,needsConfirmation:!!e.needsConfirmation,description:e.description}}function Ce(e){var t=P(e.range),n=e.target?a(e.target):void 0,r=new m.default(t,n);return void 0!==e.tooltip&&(r.tooltip=e.tooltip),void 0!==e.data&&null!==e.data&&(r.data=e.data),r}function Ee(){return(Ee=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",v.map(t,Ce,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e){return new d.Color(e.red,e.green,e.blue,e.alpha)}function Te(e){return new d.ColorInformation(P(e.range),De(e.color))}function Pe(){return(Pe=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",v.map(t,Te,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e){var t=new d.ColorPresentation(e.label);return t.additionalTextEdits=U(e.additionalTextEdits),e.textEdit&&(t.textEdit=q(e.textEdit)),t}function Re(){return(Re=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",v.map(t,Oe,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e){if(e)switch(e){case h.FoldingRangeKind.Comment:return d.FoldingRangeKind.Comment;case h.FoldingRangeKind.Imports:return d.FoldingRangeKind.Imports;case h.FoldingRangeKind.Region:return d.FoldingRangeKind.Region}}function Le(e){return new d.FoldingRange(e.startLine,e.endLine,Ie(e.kind))}function je(){return(je=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",v.map(t,Le,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e){return new d.SelectionRange(P(e.range),e.parent?Ae(e.parent):void 0)}function Ne(){return(Ne=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)){e.next=2;break}return e.abrupt("return",[]);case 2:return e.abrupt("return",v.map(t,Ae,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e){return h.InlineValueText.is(e)?new d.InlineValueText(P(e.range),e.text):h.InlineValueVariableLookup.is(e)?new d.InlineValueVariableLookup(P(e.range),e.variableName,e.caseSensitiveLookup):new d.InlineValueEvaluatableExpression(P(e.range),e.expression)}function Me(){return(Me=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)){e.next=2;break}return e.abrupt("return",[]);case 2:return e.abrupt("return",v.map(t,Fe,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e,t){return He.apply(this,arguments)}function He(){return(He=s(i().mark((function e(t,n){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t.label){e.next=4;break}e.t0=t.label,e.next=7;break;case 4:return e.next=6,v.map(t.label,We,n);case 6:e.t0=e.sent;case 7:if(r=e.t0,o=new x.default(T(t.position),r),void 0!==t.kind&&(o.kind=t.kind),void 0===t.textEdits){e.next=14;break}return e.next=13,H(t.textEdits,n);case 13:o.textEdits=e.sent;case 14:return void 0!==t.tooltip&&(o.tooltip=Ue(t.tooltip)),void 0!==t.paddingLeft&&(o.paddingLeft=t.paddingLeft),void 0!==t.paddingRight&&(o.paddingRight=t.paddingRight),void 0!==t.data&&(o.data=t.data),e.abrupt("return",o);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e){var t=new d.InlayHintLabelPart(e.value);return void 0!==e.location&&(t.location=Y(e.location)),void 0!==e.tooltip&&(t.tooltip=Ue(e.tooltip)),void 0!==e.command&&(t.command=pe(e.command)),t}function Ue(e){return"string"==typeof e?e:j(e)}function Ke(){return(Ke=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",v.mapAsync(t,qe,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e){if(null!==e){var t=new _.default(se(e.kind),e.name,e.detail||"",a(e.uri),P(e.range),P(e.selectionRange),e.data);return void 0!==e.tags&&(t.tags=ce(e.tags)),t}}function Be(){return(Be=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",v.map(t,$e,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(e,t){return ze.apply(this,arguments)}function ze(){return(ze=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d.CallHierarchyIncomingCall,e.t1=$e(t.from),e.next=4,O(t.fromRanges,n);case 4:return e.t2=e.sent,e.abrupt("return",new e.t0(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(){return(Ge=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",v.mapAsync(t,Ve,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d.CallHierarchyOutgoingCall,e.t1=$e(t.to),e.next=4,O(t.fromRanges,n);case 4:return e.t2=e.sent,e.abrupt("return",new e.t0(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(){return(Qe=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",v.mapAsync(t,Je,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(){return(Ze=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",new d.SemanticTokens(new Uint32Array(t.data),t.resultId));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(e){return new d.SemanticTokensEdit(e.start,e.deleteCount,void 0!==e.data?new Uint32Array(e.data):void 0)}function et(){return(et=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",new d.SemanticTokensEdits(t.edits.map(Xe),t.resultId));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(){return(tt=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.t0=d.LinkedEditingRanges,e.next=5,O(t.ranges,n);case 5:return e.t1=e.sent,e.t2=nt(t.wordPattern),e.abrupt("return",new e.t0(e.t1,e.t2));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(e){if(null!=e)return new RegExp(e)}function rt(e){if(null!==e){var t=new k.default(se(e.kind),e.name,e.detail||"",a(e.uri),P(e.range),P(e.selectionRange),e.data);return void 0!==e.tags&&(t.tags=ce(e.tags)),t}}function it(){return(it=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",v.map(t,rt,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return ye.set(h.CodeActionKind.Empty,d.CodeActionKind.Empty),ye.set(h.CodeActionKind.QuickFix,d.CodeActionKind.QuickFix),ye.set(h.CodeActionKind.Refactor,d.CodeActionKind.Refactor),ye.set(h.CodeActionKind.RefactorExtract,d.CodeActionKind.RefactorExtract),ye.set(h.CodeActionKind.RefactorInline,d.CodeActionKind.RefactorInline),ye.set(h.CodeActionKind.RefactorRewrite,d.CodeActionKind.RefactorRewrite),ye.set(h.CodeActionKind.Source,d.CodeActionKind.Source),ye.set(h.CodeActionKind.SourceOrganizeImports,d.CodeActionKind.SourceOrganizeImports),{asUri:a,asDocumentSelector:function(e){var t,n=[],r=u(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if("string"==typeof i)n.push(i);else if(C.NotebookCellTextDocumentFilter.is(i))if("string"==typeof i.notebook)n.push({notebookType:i.notebook,language:i.language});else{var o,a=null!==(o=i.notebook.notebookType)&&void 0!==o?o:"*";n.push({notebookType:a,scheme:i.notebook.scheme,pattern:i.notebook.pattern,language:i.language})}else C.TextDocumentFilter.is(i)&&n.push({language:i.language,scheme:i.scheme,pattern:i.pattern})}}catch(e){r.e(e)}finally{r.f()}return n},asDiagnostics:function(e,t){return c.apply(this,arguments)},asDiagnostic:E,asRange:P,asRanges:O,asPosition:T,asDiagnosticSeverity:I,asDiagnosticTag:D,asHover:function(e){if(e)return new d.Hover(function(e){if(p.string(e))return j(e);if(f.is(e))return j().appendCodeblock(e.value,e.language);if(Array.isArray(e)){var t,n=[],r=u(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=j();f.is(i)?o.appendCodeblock(i.value,i.language):o.appendMarkdown(i),n.push(o)}}catch(e){r.e(e)}finally{r.f()}return n}return j(e)}(e.contents),P(e.range))},asCompletionResult:function(e,t,n){return A.apply(this,arguments)},asCompletionItem:M,asTextEdit:q,asTextEdits:H,asSignatureHelp:function(e,t){return K.apply(this,arguments)},asSignatureInformations:$,asSignatureInformation:V,asParameterInformations:G,asParameterInformation:J,asDeclarationResult:function(e,t){return Q.apply(this,arguments)},asDefinitionResult:function(e,t){return Z.apply(this,arguments)},asLocation:Y,asReferences:function(e,t){return ne.apply(this,arguments)},asDocumentHighlights:function(e,t){return re.apply(this,arguments)},asDocumentHighlight:ie,asDocumentHighlightKind:oe,asSymbolKind:se,asSymbolTag:ue,asSymbolTags:ce,asSymbolInformations:function(e,t){return ae.apply(this,arguments)},asSymbolInformation:le,asDocumentSymbols:function(e,t){return fe.apply(this,arguments)},asDocumentSymbol:de,asCommand:pe,asCommands:function(e,t){return ve.apply(this,arguments)},asCodeAction:me,asCodeActionKind:ge,asCodeActionKinds:function(e){if(null!=e)return e.map((function(e){return ge(e)}))},asCodeActionResult:function(e,t){return v.mapAsync(e,function(){var e=s(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.Command.is(n)){e.next=4;break}return e.abrupt("return",pe(n));case 4:return e.abrupt("return",me(n,t));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t)},asCodeLens:we,asCodeLenses:function(e,t){return _e.apply(this,arguments)},asWorkspaceEdit:ke,asDocumentLink:Ce,asDocumentLinks:function(e,t){return Ee.apply(this,arguments)},asFoldingRangeKind:Ie,asFoldingRange:Le,asFoldingRanges:function(e,t){return je.apply(this,arguments)},asColor:De,asColorInformation:Te,asColorInformations:function(e,t){return Pe.apply(this,arguments)},asColorPresentation:Oe,asColorPresentations:function(e,t){return Re.apply(this,arguments)},asSelectionRange:Ae,asSelectionRanges:function(e,t){return Ne.apply(this,arguments)},asInlineValue:Fe,asInlineValues:function(e,t){return Me.apply(this,arguments)},asInlayHint:qe,asInlayHints:function(e,t){return Ke.apply(this,arguments)},asSemanticTokensLegend:function(e){return e},asSemanticTokens:function(e,t){return Ze.apply(this,arguments)},asSemanticTokensEdit:Xe,asSemanticTokensEdits:function(e,t){return et.apply(this,arguments)},asCallHierarchyItem:$e,asCallHierarchyItems:function(e,t){return Be.apply(this,arguments)},asCallHierarchyIncomingCall:Ve,asCallHierarchyIncomingCalls:function(e,t){return Ge.apply(this,arguments)},asCallHierarchyOutgoingCall:Je,asCallHierarchyOutgoingCalls:function(e,t){return Qe.apply(this,arguments)},asLinkedEditingRanges:function(e,t){return tt.apply(this,arguments)},asTypeHierarchyItem:rt,asTypeHierarchyItems:function(e,t){return it.apply(this,arguments)},asGlobPattern:function(e){if(p.string(e))return e;if(h.RelativePattern.is(e)){if(h.URI.is(e.baseUri))return new d.RelativePattern(a(e.baseUri),e.pattern);if(h.WorkspaceFolder.is(e.baseUri)){var t=d.workspace.getWorkspaceFolder(a(e.baseUri.uri));return void 0!==t?new d.RelativePattern(t,e.pattern):void 0}}}}}},64939:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolDiagnostic=t.DiagnosticCode=void 0;var c=n(23576),l=n(17945);!function(e){e.is=function(e){var t=e;return null!=t&&(l.number(t.value)||l.string(t.value))&&l.string(t.target)}}(t.DiagnosticCode||(t.DiagnosticCode={}));var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,e);var t,n,r,s=a(u);function u(e,t,n,r){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(i=s.call(this,e,t,n)).data=r,i.hasDiagnosticCode=!1,i}return t=u,n&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(c.Diagnostic);t.ProtocolDiagnostic=f},74442:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,e);var t,n,r,s=a(u);function u(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),s.call(this,e,t)}return t=u,n&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(n(23576).DocumentLink);t.default=c},29983:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,e);var t,n,r,s=a(u);function u(e,t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),s.call(this,e,t,n)}return t=u,n&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(n(23576).InlayHint);t.default=c},25527:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,e);var t,n,r,s=a(u);function u(e,t,n,r,i,o,a){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),c=s.call(this,e,t,n,r,i,o),void 0!==a&&(c.data=a),c}return t=u,n&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(n(23576).TypeHierarchyItem);t.default=c},25197:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(23576),l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,e);var t,n,r,s=a(u);function u(e,t,n,r,i){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var a=!(r instanceof c.Uri);return(o=s.call(this,e,t,n,a?r:new c.Location(r,new c.Range(0,0,0,0)))).hasRange=a,void 0!==i&&(o.data=i),o}return t=u,n&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(c.SymbolInformation);t.default=l},69610:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ReferencesFeature=void 0;var c=n(23576),l=n(1358),f=n(68210),d=n(30276),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,e);var t,n,r,s=a(u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),s.call(this,e,l.ReferencesRequest.type)}return t=u,(n=[{key:"fillClientCapabilities",value:function(e){(0,f.ensure)((0,f.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}},{key:"initialize",value:function(e,t){var n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register({id:d.generateUuid(),registerOptions:n})}},{key:"registerLanguageProvider",value:function(e){var t=this,n=e.documentSelector,r={provideReferences:function(e,n,r,i){var o=t._client,a=function(e,t,n,r){return o.sendRequest(l.ReferencesRequest.type,o.code2ProtocolConverter.asReferenceParams(e,t,n),r).then((function(e){return r.isCancellationRequested?null:o.protocol2CodeConverter.asReferences(e,r)}),(function(e){return o.handleFailedRequest(l.ReferencesRequest.type,r,e,null)}))},s=o.middleware;return s.provideReferences?s.provideReferences(e,n,r,i,a):a(e,n,r,i)}};return[this.registerProvider(n,r),r]}},{key:"registerProvider",value:function(e,t){return c.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(f.TextDocumentLanguageFeature);t.ReferencesFeature=h},88961:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.RenameFeature=void 0;var c=n(23576),l=n(1358),f=n(30276),d=n(17945),h=n(68210),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,e);var t,n,r,s=a(u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),s.call(this,e,l.RenameRequest.type)}return t=u,(n=[{key:"fillClientCapabilities",value:function(e){var t=(0,h.ensure)((0,h.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=l.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}},{key:"initialize",value:function(e,t){var n=this.getRegistrationOptions(t,e.renameProvider);n&&(d.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:f.generateUuid(),registerOptions:n}))}},{key:"registerLanguageProvider",value:function(e){var t=this,n=e.documentSelector,r={provideRenameEdits:function(e,n,r,i){var o=t._client,a=function(e,t,n,r){var i={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),position:o.code2ProtocolConverter.asPosition(t),newName:n};return o.sendRequest(l.RenameRequest.type,i,r).then((function(e){return r.isCancellationRequested?null:o.protocol2CodeConverter.asWorkspaceEdit(e,r)}),(function(e){return o.handleFailedRequest(l.RenameRequest.type,r,e,null,!1)}))},s=o.middleware;return s.provideRenameEdits?s.provideRenameEdits(e,n,r,i,a):a(e,n,r,i)},prepareRename:e.prepareProvider?function(e,n,r){var i=t._client,o=function(e,n,r){var o={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),position:i.code2ProtocolConverter.asPosition(n)};return i.sendRequest(l.PrepareRenameRequest.type,o,r).then((function(e){return r.isCancellationRequested?null:l.Range.is(e)?i.protocol2CodeConverter.asRange(e):t.isDefaultBehavior(e)?!0===e.defaultBehavior?null:Promise.reject(new Error("The element can't be renamed.")):e&&l.Range.is(e.range)?{range:i.protocol2CodeConverter.asRange(e.range),placeholder:e.placeholder}:Promise.reject(new Error("The element can't be renamed."))}),(function(e){throw"string"==typeof e.message?new Error(e.message):new Error("The element can't be renamed.")}))},a=i.middleware;return a.prepareRename?a.prepareRename(e,n,r,o):o(e,n,r)}:void 0};return[this.registerProvider(n,r),r]}},{key:"registerProvider",value:function(e,t){return c.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}},{key:"isDefaultBehavior",value:function(e){var t=e;return t&&d.boolean(t.defaultBehavior)}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(h.TextDocumentLanguageFeature);t.RenameFeature=p},95604:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new D(r||[]);return o(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function y(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,s)&&(g=b);var w=y.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(o,a,s,u){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,o(w,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeFeature=void 0;var h=n(23576),p=n(1358),v=n(68210),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(f,e);var t,n,r,s=l(f);function f(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),s.call(this,e,p.SelectionRangeRequest.type)}return t=f,n=[{key:"fillClientCapabilities",value:function(e){(0,v.ensure)((0,v.ensure)(e,"textDocument"),"selectionRange").dynamicRegistration=!0}},{key:"initialize",value:function(e,t){var n=a(this.getRegistration(t,e.selectionRangeProvider),2),r=n[0],i=n[1];r&&i&&this.register({id:r,registerOptions:i})}},{key:"registerLanguageProvider",value:function(e){var t=this,n=e.documentSelector,r={provideSelectionRanges:function(e,n,r){var a=t._client,s=function(){var e,t=(e=i().mark((function e(t,n,r){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a.code2ProtocolConverter.asTextDocumentIdentifier(t),e.next=3,a.code2ProtocolConverter.asPositions(n,r);case 3:return e.t1=e.sent,o={textDocument:e.t0,positions:e.t1},e.abrupt("return",a.sendRequest(p.SelectionRangeRequest.type,o,r).then((function(e){return r.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(e,r)}),(function(e){return a.handleFailedRequest(p.SelectionRangeRequest.type,r,e,null)})));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}(),u=a.middleware;return u.provideSelectionRanges?u.provideSelectionRanges(e,n,r,s):s(e,n,r)}};return[this.registerProvider(n,r),r]}},{key:"registerProvider",value:function(e,t){return h.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}],n&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(v.TextDocumentLanguageFeature);t.SelectionRangeFeature=y},51279:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function y(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,s)&&(g=b);var w=y.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(i,a,s,u){var c=d(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,s,u)}),(function(e){o("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return o("throw",e,s,u)}))}u(c.arg)}var a;i(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,i(w,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensFeature=void 0;var y=n(23576),g=n(1358),m=n(68210),b=n(17945),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(u,e);var t,n,r,s=h(u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),s.call(this,e,g.SemanticTokensRegistrationType.type)}return t=u,n=[{key:"fillClientCapabilities",value:function(e){var t=(0,m.ensure)((0,m.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[g.SemanticTokenTypes.namespace,g.SemanticTokenTypes.type,g.SemanticTokenTypes.class,g.SemanticTokenTypes.enum,g.SemanticTokenTypes.interface,g.SemanticTokenTypes.struct,g.SemanticTokenTypes.typeParameter,g.SemanticTokenTypes.parameter,g.SemanticTokenTypes.variable,g.SemanticTokenTypes.property,g.SemanticTokenTypes.enumMember,g.SemanticTokenTypes.event,g.SemanticTokenTypes.function,g.SemanticTokenTypes.method,g.SemanticTokenTypes.macro,g.SemanticTokenTypes.keyword,g.SemanticTokenTypes.modifier,g.SemanticTokenTypes.comment,g.SemanticTokenTypes.string,g.SemanticTokenTypes.number,g.SemanticTokenTypes.regexp,g.SemanticTokenTypes.operator,g.SemanticTokenTypes.decorator],t.tokenModifiers=[g.SemanticTokenModifiers.declaration,g.SemanticTokenModifiers.definition,g.SemanticTokenModifiers.readonly,g.SemanticTokenModifiers.static,g.SemanticTokenModifiers.deprecated,g.SemanticTokenModifiers.abstract,g.SemanticTokenModifiers.async,g.SemanticTokenModifiers.modification,g.SemanticTokenModifiers.documentation,g.SemanticTokenModifiers.defaultLibrary],t.formats=[g.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,m.ensure)((0,m.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}},{key:"initialize",value:function(e,t){var n=this;this._client.onRequest(g.SemanticTokensRefreshRequest.type,l(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a(n.getAllProviders());try{for(t.s();!(r=t.n()).done;)r.value.onDidChangeSemanticTokensEmitter.fire()}catch(e){t.e(e)}finally{t.f()}case 2:case"end":return e.stop()}}),e)}))));var r=i(this.getRegistration(t,e.semanticTokensProvider),2),s=r[0],u=r[1];s&&u&&this.register({id:s,registerOptions:u})}},{key:"registerLanguageProvider",value:function(e){var t=this,n=e.documentSelector,r=b.boolean(e.full)?e.full:void 0!==e.full,i=void 0!==e.full&&"boolean"!=typeof e.full&&!0===e.full.delta,a=new y.EventEmitter,s=r?{onDidChangeSemanticTokens:a.event,provideDocumentSemanticTokens:function(e,n){var r=t._client,i=r.middleware,o=function(e,t){var n={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e)};return r.sendRequest(g.SemanticTokensRequest.type,n,t).then((function(e){return t.isCancellationRequested?null:r.protocol2CodeConverter.asSemanticTokens(e,t)}),(function(e){return r.handleFailedRequest(g.SemanticTokensRequest.type,t,e,null)}))};return i.provideDocumentSemanticTokens?i.provideDocumentSemanticTokens(e,n,o):o(e,n)},provideDocumentSemanticTokensEdits:i?function(e,n,r){var i=t._client,a=i.middleware,s=function(e,t,n){var r={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),previousResultId:t};return i.sendRequest(g.SemanticTokensDeltaRequest.type,r,n).then(function(){var e=l(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isCancellationRequested){e.next=2;break}return e.abrupt("return",null);case 2:if(!g.SemanticTokens.is(t)){e.next=8;break}return e.next=5,i.protocol2CodeConverter.asSemanticTokens(t,n);case 5:case 10:return e.abrupt("return",e.sent);case 8:return e.next=10,i.protocol2CodeConverter.asSemanticTokensEdits(t,n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return i.handleFailedRequest(g.SemanticTokensDeltaRequest.type,n,e,null)}))};return a.provideDocumentSemanticTokensEdits?a.provideDocumentSemanticTokensEdits(e,n,r,s):s(e,n,r)}:void 0}:void 0,u=!0===e.range?{provideDocumentRangeSemanticTokens:function(e,n,r){var i=t._client,o=i.middleware,a=function(e,t,n){var r={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),range:i.code2ProtocolConverter.asRange(t)};return i.sendRequest(g.SemanticTokensRangeRequest.type,r,n).then((function(e){return n.isCancellationRequested?null:i.protocol2CodeConverter.asSemanticTokens(e,n)}),(function(e){return i.handleFailedRequest(g.SemanticTokensRangeRequest.type,n,e,null)}))};return o.provideDocumentRangeSemanticTokens?o.provideDocumentRangeSemanticTokens(e,n,r,a):a(e,n,r)}}:void 0,c=[],f=this._client,d=f.protocol2CodeConverter.asSemanticTokensLegend(e.legend),h=f.protocol2CodeConverter.asDocumentSelector(n);return void 0!==s&&c.push(y.languages.registerDocumentSemanticTokensProvider(h,s,d)),void 0!==u&&c.push(y.languages.registerDocumentRangeSemanticTokensProvider(h,u,d)),[new y.Disposable((function(){return c.forEach((function(e){return e.dispose()}))})),{range:u,full:s,onDidChangeSemanticTokensEmitter:a}]}}],n&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(m.TextDocumentLanguageFeature);t.SemanticTokensFeature=w},25523:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureHelpFeature=void 0;var f=n(23576),d=n(1358),h=n(68210),p=n(30276),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(c,e);var t,n,r,o=u(c);function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),o.call(this,e,d.SignatureHelpRequest.type)}return t=c,(n=[{key:"fillClientCapabilities",value:function(e){var t=(0,h.ensure)((0,h.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[d.MarkupKind.Markdown,d.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.contextSupport=!0}},{key:"initialize",value:function(e,t){var n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register({id:p.generateUuid(),registerOptions:n})}},{key:"registerLanguageProvider",value:function(e){var t=this,n={provideSignatureHelp:function(e,n,r,i){var o=t._client,a=function(e,t,n,r){return o.sendRequest(d.SignatureHelpRequest.type,o.code2ProtocolConverter.asSignatureHelpParams(e,t,n),r).then((function(e){return r.isCancellationRequested?null:o.protocol2CodeConverter.asSignatureHelp(e,r)}),(function(e){return o.handleFailedRequest(d.SignatureHelpRequest.type,r,e,null)}))},s=o.middleware;return s.provideSignatureHelp?s.provideSignatureHelp(e,n,i,r,a):a(e,n,i,r)}};return[this.registerProvider(e,n),n]}},{key:"registerProvider",value:function(e,t){var n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(void 0===e.retriggerCharacters){var r,o=e.triggerCharacters||[];return(r=f.languages).registerSignatureHelpProvider.apply(r,[n,t].concat(i(o)))}var a={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return f.languages.registerSignatureHelpProvider(n,t,a)}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(h.TextDocumentLanguageFeature);t.SignatureHelpFeature=v},68248:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,u,"next",e)}function u(e){i(a,r,o,s,u,"throw",e)}s(void 0)}))}}function a(){a=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function y(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,s)&&(g=b);var w=y.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(i,a,s,u){var c=d(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,s,u)}),(function(e){o("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return o("throw",e,s,u)}))}u(c.arg)}var a;i(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,i(w,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=h(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},d.apply(this,arguments)}function h(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DidSaveTextDocumentFeature=t.WillSaveWaitUntilFeature=t.WillSaveFeature=t.DidChangeTextDocumentFeature=t.DidCloseTextDocumentFeature=t.DidOpenTextDocumentFeature=void 0;var b=n(23576),w=n(1358),_=n(68210),k=n(60132),S=n(30276),x=function(e){p(n,e);var t=y(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,b.workspace.onDidOpenTextDocument,w.DidOpenTextDocumentNotification.type,(function(){return e.middleware.didOpen}),(function(t){return e.code2ProtocolConverter.asOpenTextDocumentParams(t)}),(function(e){return e}),_.TextDocumentEventFeature.textDocumentFilter))._syncedDocuments=r,i}return f(n,[{key:"openDocuments",get:function(){return this._syncedDocuments.values()}},{key:"fillClientCapabilities",value:function(e){(0,_.ensure)((0,_.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}},{key:"initialize",value:function(e,t){var n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:S.generateUuid(),registerOptions:{documentSelector:t}})}},{key:"registrationType",get:function(){return w.DidOpenTextDocumentNotification.type}},{key:"register",value:function(e){var t=this;if(d(m(n.prototype),"register",this).call(this,e),e.registerOptions.documentSelector){var r=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);b.workspace.textDocuments.forEach((function(e){var n=e.uri.toString();if(!t._syncedDocuments.has(n)&&b.languages.match(r,e)>0&&!t._client.hasDedicatedTextSynchronizationFeature(e)){var i=t._client.middleware,o=function(e){return t._client.sendNotification(t._type,t._createParams(e))};(i.didOpen?i.didOpen(e,o):o(e)).catch((function(e){t._client.error("Sending document notification ".concat(t._type.method," failed"),e)})),t._syncedDocuments.set(n,e)}}))}}},{key:"notificationSent",value:function(e,t,r){d(m(n.prototype),"notificationSent",this).call(this,e,t,r),this._syncedDocuments.set(e.uri.toString(),e)}}]),n}(_.TextDocumentEventFeature);t.DidOpenTextDocumentFeature=x;var C=function(e){p(n,e);var t=y(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,b.workspace.onDidCloseTextDocument,w.DidCloseTextDocumentNotification.type,(function(){return e.middleware.didClose}),(function(t){return e.code2ProtocolConverter.asCloseTextDocumentParams(t)}),(function(e){return e}),_.TextDocumentEventFeature.textDocumentFilter))._syncedDocuments=r,i}return f(n,[{key:"registrationType",get:function(){return w.DidCloseTextDocumentNotification.type}},{key:"fillClientCapabilities",value:function(e){(0,_.ensure)((0,_.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}},{key:"initialize",value:function(e,t){var n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:S.generateUuid(),registerOptions:{documentSelector:t}})}},{key:"notificationSent",value:function(e,t,r){d(m(n.prototype),"notificationSent",this).call(this,e,t,r),this._syncedDocuments.delete(e.uri.toString())}},{key:"unregister",value:function(e){var t=this,r=this._selectors.get(e);d(m(n.prototype),"unregister",this).call(this,e);var i=this._selectors.values();this._syncedDocuments.forEach((function(e){if(b.languages.match(r,e)>0&&!t._selectorFilter(i,e)&&!t._client.hasDedicatedTextSynchronizationFeature(e)){var n=t._client.middleware,o=function(e){return t._client.sendNotification(t._type,t._createParams(e))};t._syncedDocuments.delete(e.uri.toString()),(n.didClose?n.didClose(e,o):o(e)).catch((function(e){t._client.error("Sending document notification ".concat(t._type.method," failed"),e)}))}}))}}]),n}(_.TextDocumentEventFeature);t.DidCloseTextDocumentFeature=C;var E=function(e){p(i,e);var t,n,r=y(i);function i(e){var t;return c(this,i),(t=r.call(this,e))._forcingDelivery=!1,t._changeData=new Map,t._onNotificationSent=new b.EventEmitter,t}return f(i,[{key:"registrationType",get:function(){return w.DidChangeTextDocumentNotification.type}},{key:"fillClientCapabilities",value:function(e){(0,_.ensure)((0,_.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}},{key:"initialize",value:function(e,t){var n=e.resolvedTextDocumentSync;t&&n&&void 0!==n.change&&n.change!==w.TextDocumentSyncKind.None&&this.register({id:S.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}},{key:"register",value:function(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=b.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}))}},{key:"getDocumentSelectors",value:a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=s(this._changeData.values()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r.documentSelector;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"callback",value:(n=o(a().mark((function e(t){var n,r,i,u,c=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.contentChanges.length){e.next=2;break}return e.abrupt("return");case 2:n=[],r=s(this._changeData.values()),e.prev=4,u=a().mark((function e(){var r,s,u,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=i.value,b.languages.match(r.documentSelector,t.document)>0&&!c._client.hasDedicatedTextSynchronizationFeature(t.document)&&(s=c._client.middleware,r.syncKind===w.TextDocumentSyncKind.Incremental?(u=function(){var e=o(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c._client.code2ProtocolConverter.asChangeTextDocumentParams(t),e.next=3,c._client.sendNotification(w.DidChangeTextDocumentNotification.type,n);case 3:c.notificationSent(t,w.DidChangeTextDocumentNotification.type,n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.push(s.didChange?s.didChange(t,(function(e){return u(e)})):u(t))):r.syncKind===w.TextDocumentSyncKind.Full&&(l=function(){var e=o(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(){var e=o(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c._client.code2ProtocolConverter.asChangeTextDocumentParams(t.document),e.next=3,c._client.sendNotification(w.DidChangeTextDocumentNotification.type,n);case 3:c.notificationSent(t,w.DidChangeTextDocumentNotification.type,n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!c._changeDelayer){e.next=9;break}if(c._changeDelayer.uri===t.document.uri.toString()){e.next=6;break}return e.next=5,c.forceDelivery();case 5:c._changeDelayer.uri=t.document.uri.toString();case 6:return e.abrupt("return",c._changeDelayer.delayer.trigger((function(){return n(t)})));case 9:return c._changeDelayer={uri:t.document.uri.toString(),delayer:new k.Delayer(200)},e.abrupt("return",c._changeDelayer.delayer.trigger((function(){return n(t)}),-1));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.push(s.didChange?s.didChange(t,(function(e){return l(e)})):l(t))));case 2:case"end":return e.stop()}}),e)})),r.s();case 7:if((i=r.n()).done){e.next=11;break}return e.delegateYield(u(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),r.e(e.t1);case 16:return e.prev=16,r.f(),e.finish(16);case 19:return e.abrupt("return",Promise.all(n).then(void 0,(function(e){throw c._client.error("Sending document notification ".concat(w.DidChangeTextDocumentNotification.type.method," failed"),e),e})));case 20:case"end":return e.stop()}}),e,this,[[4,13,16,19]])}))),function(e){return n.apply(this,arguments)})},{key:"onNotificationSent",get:function(){return this._onNotificationSent.event}},{key:"notificationSent",value:function(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}},{key:"unregister",value:function(e){this._changeData.delete(e),0===this._changeData.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}},{key:"dispose",value:function(){void 0!==this._changeDelayer&&this._changeDelayer.delayer.cancel(),this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}},{key:"forceDelivery",value:(t=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._forcingDelivery&&this._changeDelayer){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this._forcingDelivery=!0,e.abrupt("return",this._changeDelayer.delayer.forceDelivery());case 5:return e.prev=5,this._forcingDelivery=!1,e.finish(5);case 8:case"end":return e.stop()}}),e,this,[[2,,5,8]])}))),function(){return t.apply(this,arguments)})},{key:"getProvider",value:function(e){var t,n=this,r=s(this._changeData.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;if(b.languages.match(i.documentSelector,e)>0)return{send:function(e){return n.callback(e)}}}}catch(e){r.e(e)}finally{r.f()}}}]),i}(_.DynamicDocumentFeature);t.DidChangeTextDocumentFeature=E;var D=function(e){p(n,e);var t=y(n);function n(e){return c(this,n),t.call(this,e,b.workspace.onWillSaveTextDocument,w.WillSaveTextDocumentNotification.type,(function(){return e.middleware.willSave}),(function(t){return e.code2ProtocolConverter.asWillSaveTextDocumentParams(t)}),(function(e){return e.document}),(function(e,t){return _.TextDocumentEventFeature.textDocumentFilter(e,t.document)}))}return f(n,[{key:"registrationType",get:function(){return w.WillSaveTextDocumentNotification.type}},{key:"fillClientCapabilities",value:function(e){(0,_.ensure)((0,_.ensure)(e,"textDocument"),"synchronization").willSave=!0}},{key:"initialize",value:function(e,t){var n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:S.generateUuid(),registerOptions:{documentSelector:t}})}}]),n}(_.TextDocumentEventFeature);t.WillSaveFeature=D;var T=function(e){p(n,e);var t=y(n);function n(e){var r;return c(this,n),(r=t.call(this,e))._selectors=new Map,r}return f(n,[{key:"getDocumentSelectors",value:function(){return this._selectors.values()}},{key:"registrationType",get:function(){return w.WillSaveTextDocumentWaitUntilRequest.type}},{key:"fillClientCapabilities",value:function(e){(0,_.ensure)((0,_.ensure)(e,"textDocument"),"synchronization").willSaveWaitUntil=!0}},{key:"initialize",value:function(e,t){var n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:S.generateUuid(),registerOptions:{documentSelector:t}})}},{key:"register",value:function(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=b.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}},{key:"callback",value:function(e){var t=this;if(_.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){var n=this._client.middleware,r=function(e){return t._client.sendRequest(w.WillSaveTextDocumentWaitUntilRequest.type,t._client.code2ProtocolConverter.asWillSaveTextDocumentParams(e)).then(function(){var e=o(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._client.protocol2CodeConverter.asTextEdits(n);case 2:return r=e.sent,e.abrupt("return",void 0===r?[]:r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};e.waitUntil(n.willSaveWaitUntil?n.willSaveWaitUntil(e,r):r(e))}}},{key:"unregister",value:function(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}},{key:"dispose",value:function(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}]),n}(_.DynamicDocumentFeature);t.WillSaveWaitUntilFeature=T;var P=function(e){p(n,e);var t=y(n);function n(e){var r;return c(this,n),(r=t.call(this,e,b.workspace.onDidSaveTextDocument,w.DidSaveTextDocumentNotification.type,(function(){return e.middleware.didSave}),(function(t){return e.code2ProtocolConverter.asSaveTextDocumentParams(t,r._includeText)}),(function(e){return e}),_.TextDocumentEventFeature.textDocumentFilter))._includeText=!1,r}return f(n,[{key:"registrationType",get:function(){return w.DidSaveTextDocumentNotification.type}},{key:"fillClientCapabilities",value:function(e){(0,_.ensure)((0,_.ensure)(e,"textDocument"),"synchronization").didSave=!0}},{key:"initialize",value:function(e,t){var n=e.resolvedTextDocumentSync;if(t&&n&&n.save){var r="boolean"==typeof n.save?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:S.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},r)})}}},{key:"register",value:function(e){this._includeText=!!e.registerOptions.includeText,d(m(n.prototype),"register",this).call(this,e)}}]),n}(_.TextDocumentEventFeature);t.DidSaveTextDocumentFeature=P},19010:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionFeature=void 0;var f=n(23576),d=n(1358),h=n(68210),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(c,e);var t,n,r,o=u(c);function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),o.call(this,e,d.TypeDefinitionRequest.type)}return t=c,(n=[{key:"fillClientCapabilities",value:function(e){(0,h.ensure)((0,h.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;var t=(0,h.ensure)((0,h.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}},{key:"initialize",value:function(e,t){var n=i(this.getRegistration(t,e.typeDefinitionProvider),2),r=n[0],o=n[1];r&&o&&this.register({id:r,registerOptions:o})}},{key:"registerLanguageProvider",value:function(e){var t=this,n=e.documentSelector,r={provideTypeDefinition:function(e,n,r){var i=t._client,o=function(e,t,n){return i.sendRequest(d.TypeDefinitionRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((function(e){return n.isCancellationRequested?null:i.protocol2CodeConverter.asDefinitionResult(e,n)}),(function(e){return i.handleFailedRequest(d.TypeDefinitionRequest.type,n,e,null)}))},a=i.middleware;return a.provideTypeDefinition?a.provideTypeDefinition(e,n,r,o):o(e,n,r)}};return[this.registerProvider(n,r),r]}},{key:"registerProvider",value:function(e,t){return f.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(h.TextDocumentLanguageFeature);t.TypeDefinitionFeature=p},68813:(e,t,n)=>{function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===c(o)?o:String(o)),r)}var i,o}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchyFeature=void 0;var h=n(23576),p=n(1358),v=n(68210),y=function(){function e(t){l(this,e),this.client=t,this.middleware=t.middleware}return d(e,[{key:"prepareTypeHierarchy",value:function(e,t,n){var r=this.client,i=this.middleware,o=function(e,t,n){var i=r.code2ProtocolConverter.asTextDocumentPositionParams(e,t);return r.sendRequest(p.TypeHierarchyPrepareRequest.type,i,n).then((function(e){return n.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(e,n)}),(function(e){return r.handleFailedRequest(p.TypeHierarchyPrepareRequest.type,n,e,null)}))};return i.prepareTypeHierarchy?i.prepareTypeHierarchy(e,t,n,o):o(e,t,n)}},{key:"provideTypeHierarchySupertypes",value:function(e,t){var n=this.client,r=this.middleware,i=function(e,t){var r={item:n.code2ProtocolConverter.asTypeHierarchyItem(e)};return n.sendRequest(p.TypeHierarchySupertypesRequest.type,r,t).then((function(e){return t.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(e,t)}),(function(e){return n.handleFailedRequest(p.TypeHierarchySupertypesRequest.type,t,e,null)}))};return r.provideTypeHierarchySupertypes?r.provideTypeHierarchySupertypes(e,t,i):i(e,t)}},{key:"provideTypeHierarchySubtypes",value:function(e,t){var n=this.client,r=this.middleware,i=function(e,t){var r={item:n.code2ProtocolConverter.asTypeHierarchyItem(e)};return n.sendRequest(p.TypeHierarchySubtypesRequest.type,r,t).then((function(e){return t.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(e,t)}),(function(e){return n.handleFailedRequest(p.TypeHierarchySubtypesRequest.type,t,e,null)}))};return r.provideTypeHierarchySubtypes?r.provideTypeHierarchySubtypes(e,t,i):i(e,t)}}]),e}(),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(n,e);var t=a(n);function n(e){return l(this,n),t.call(this,e,p.TypeHierarchyPrepareRequest.type)}return d(n,[{key:"fillClientCapabilities",value:function(e){(0,v.ensure)((0,v.ensure)(e,"textDocument"),"typeHierarchy").dynamicRegistration=!0}},{key:"initialize",value:function(e,t){var n=r(this.getRegistration(t,e.typeHierarchyProvider),2),i=n[0],o=n[1];i&&o&&this.register({id:i,registerOptions:o})}},{key:"registerLanguageProvider",value:function(e){var t=this._client,n=new y(t);return[h.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}}]),n}(v.TextDocumentLanguageFeature);t.TypeHierarchyFeature=g},60132:(e,t,n)=>{function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function y(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,s)&&(g=b);var w=y.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,o,s,u){var c=d(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return o=o?o.then(i,i):i()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,i(w,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function i(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,u,"next",e)}function u(e){i(a,r,o,s,u,"throw",e)}s(void 0)}))}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===a(o)?o:String(o)),r)}var i,o}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=t.mapAsync=t.map=t.clearTestMode=t.setTestMode=t.Semaphore=t.Delayer=void 0;var l=n(1358),f=function(){function e(t){s(this,e),this.defaultDelay=t,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}return c(e,[{key:"trigger",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultDelay;return this.task=e,n>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((function(e){t.onSuccess=e})).then((function(){t.completionPromise=void 0,t.onSuccess=void 0;var e=t.task();return t.task=void 0,e}))),(n>=0||void 0===this.timeout)&&(this.timeout=(0,l.RAL)().timer.setTimeout((function(){t.timeout=void 0,t.onSuccess(void 0)}),n>=0?n:this.defaultDelay)),this.completionPromise}},{key:"forceDelivery",value:function(){if(this.completionPromise){this.cancelTimeout();var e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}}},{key:"isTriggered",value:function(){return void 0!==this.timeout}},{key:"cancel",value:function(){this.cancelTimeout(),this.completionPromise=void 0}},{key:"cancelTimeout",value:function(){void 0!==this.timeout&&(this.timeout.dispose(),this.timeout=void 0)}}]),e}();t.Delayer=f;var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(s(this,e),t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}return c(e,[{key:"lock",value:function(e){var t=this;return new Promise((function(n,r){t._waiting.push({thunk:e,resolve:n,reject:r}),t.runNext()}))}},{key:"active",get:function(){return this._active}},{key:"runNext",value:function(){var e=this;0!==this._waiting.length&&this._active!==this._capacity&&(0,l.RAL)().timer.setImmediate((function(){return e.doRunNext()}))}},{key:"doRunNext",value:function(){var e=this;if(0!==this._waiting.length&&this._active!==this._capacity){var t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{var n=t.thunk();n instanceof Promise?n.then((function(n){e._active--,t.resolve(n),e.runNext()}),(function(n){e._active--,t.reject(n),e.runNext()})):(this._active--,t.resolve(n),this.runNext())}catch(e){this._active--,t.reject(e),this.runNext()}}}}]),e}();t.Semaphore=d;var h=!1;t.setTestMode=function(){h=!0},t.clearTestMode=function(){h=!1};var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;s(this,e),this.yieldAfter=!0===h?Math.max(t,2):Math.max(t,15),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}return c(e,[{key:"start",value:function(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}},{key:"shouldYield",value:function(){if(++this.counter>=this.counterInterval){var e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=2*this.total}}return!1}}]),e}();function v(){return(v=o(r().mark((function e(t,n,i,o){var a,s,u,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e){s.start();for(var r=e;r<t.length;r++)if(a[r]=n(t[r]),s.shouldYield())return(null==o?void 0:o.yieldCallback)&&o.yieldCallback(),r+1;return-1},0!==t.length){e.next=3;break}return e.abrupt("return",[]);case 3:a=new Array(t.length),s=new p(null==o?void 0:o.yieldAfter),c=u(0);case 6:if(-1===c){e.next=14;break}if(void 0===i||!i.isCancellationRequested){e.next=9;break}return e.abrupt("break",14);case 9:return e.next=11,new Promise((function(e){(0,l.RAL)().timer.setImmediate((function(){e(u(c))}))}));case 11:c=e.sent,e.next=6;break;case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return y=o(r().mark((function e(t,n,i,a){var s,u,c,f,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=function(){return(f=o(r().mark((function e(o){var c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.start(),c=o;case 2:if(!(c<t.length)){e.next=12;break}return e.next=5,n(t[c],i);case 5:if(s[c]=e.sent,!u.shouldYield()){e.next=9;break}return(null==a?void 0:a.yieldCallback)&&a.yieldCallback(),e.abrupt("return",c+1);case 9:c++,e.next=2;break;case 12:return e.abrupt("return",-1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)},c=function(e){return f.apply(this,arguments)},0!==t.length){e.next=4;break}return e.abrupt("return",[]);case 4:return s=new Array(t.length),u=new p(null==a?void 0:a.yieldAfter),e.next=8,c(0);case 8:d=e.sent;case 9:if(-1===d){e.next=17;break}if(void 0===i||!i.isCancellationRequested){e.next=12;break}return e.abrupt("break",17);case 12:return e.next=14,new Promise((function(e){(0,l.RAL)().timer.setImmediate((function(){e(c(d))}))}));case 14:d=e.sent,e.next=9;break;case 17:return e.abrupt("return",s);case 18:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function g(){return(g=o(r().mark((function e(t,n,i,o){var a,s,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e){a.start();for(var r=e;r<t.length;r++)if(n(t[r]),a.shouldYield())return(null==o?void 0:o.yieldCallback)&&o.yieldCallback(),r+1;return-1},0!==t.length){e.next=3;break}return e.abrupt("return");case 3:a=new p(null==o?void 0:o.yieldAfter),u=s(0);case 5:if(-1===u){e.next=13;break}if(void 0===i||!i.isCancellationRequested){e.next=8;break}return e.abrupt("break",13);case 8:return e.next=10,new Promise((function(e){(0,l.RAL)().timer.setImmediate((function(){e(s(u))}))}));case 10:u=e.sent,e.next=5;break;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.map=function(e,t,n,r){return v.apply(this,arguments)},t.mapAsync=function(e,t,n,r){return y.apply(this,arguments)},t.forEach=function(e,t,n,r){return g.apply(this,arguments)}},17945:(e,t)=>{function n(e){return"string"==typeof e||e instanceof String}function r(e){return"function"==typeof e}function i(e){return Array.isArray(e)}function o(e){return e&&r(e.then)}Object.defineProperty(t,"__esModule",{value:!0}),t.asPromise=t.thenable=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=r,t.array=i,t.stringArray=function(e){return i(e)&&e.every((function(e){return n(e)}))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=o,t.asPromise=function(e){return e instanceof Promise?e:o(e)?new Promise((function(t,n){e.then((function(e){return t(e)}),(function(e){return n(e)}))})):Promise.resolve(e)}},30276:(e,t)=>{function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=o(e);if(t){var a=o(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return i(this,n)}}function i(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===a(o)?o:String(o)),r)}var i,o}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.generateUuid=t.parse=t.isUUID=t.v4=t.empty=void 0;var l=function(){function e(t){s(this,e),this._value=t}return c(e,[{key:"asHex",value:function(){return this._value}},{key:"equals",value:function(e){return this.asHex()===e.asHex()}}]),e}(),f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}(i,e);var t=r(i);function i(){return s(this,i),t.call(this,[i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-","4",i._randomHex(),i._randomHex(),i._randomHex(),"-",i._oneOf(i._timeHighBits),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex()].join(""))}return c(i,null,[{key:"_oneOf",value:function(e){return e[Math.floor(e.length*Math.random())]}},{key:"_randomHex",value:function(){return i._oneOf(i._chars)}}]),i}(l);function d(){return new f}f._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],f._timeHighBits=["8","9","a","b"],t.empty=new l("00000000-0000-0000-0000-000000000000"),t.v4=d;var h=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function p(e){return h.test(e)}t.isUUID=p,t.parse=function(e){if(!p(e))throw new Error("invalid uuid");return new l(e)},t.generateUuid=function(){return d().asHex()}},70968:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFoldersFeature=t.arrayDiff=void 0;var s=n(30276),u=n(23576),c=n(1358);function l(e,t){if(void 0!==e)return e[t]}function f(e,t){return e.filter((function(e){return t.indexOf(e)<0}))}t.arrayDiff=f;var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._client=t,this._listeners=new Map}var t,n,r;return t=e,(n=[{key:"getState",value:function(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}},{key:"registrationType",get:function(){return c.DidChangeWorkspaceFoldersNotification.type}},{key:"fillInitializeParams",value:function(e){var t=this,n=u.workspace.workspaceFolders;this.initializeWithFolders(n),e.workspaceFolders=void 0===n?null:n.map((function(e){return t.asProtocol(e)}))}},{key:"initializeWithFolders",value:function(e){this._initialFolders=e}},{key:"fillClientCapabilities",value:function(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}},{key:"initialize",value:function(e){var t=this,n=this._client;n.onRequest(c.WorkspaceFoldersRequest.type,(function(e){var r=function(){var e=u.workspace.workspaceFolders;return void 0===e?null:e.map((function(e){return t.asProtocol(e)}))},i=n.middleware.workspace;return i&&i.workspaceFolders?i.workspaceFolders(e,r):r()}));var r,i=l(l(l(e,"workspace"),"workspaceFolders"),"changeNotifications");"string"==typeof i?r=i:!0===i&&(r=s.generateUuid()),r&&this.register({id:r,registerOptions:void 0})}},{key:"sendInitialEvent",value:function(e){var t,n=this;if(this._initialFolders&&e){var r=f(this._initialFolders,e),i=f(e,this._initialFolders);(i.length>0||r.length>0)&&(t=this.doSendEvent(i,r))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));void 0!==t&&t.catch((function(e){n._client.error("Sending notification ".concat(c.DidChangeWorkspaceFoldersNotification.type.method," failed"),e)}))}},{key:"doSendEvent",value:function(e,t){var n=this,r={event:{added:e.map((function(e){return n.asProtocol(e)})),removed:t.map((function(e){return n.asProtocol(e)}))}};return this._client.sendNotification(c.DidChangeWorkspaceFoldersNotification.type,r)}},{key:"register",value:function(e){var t=this,n=e.id,r=this._client,i=u.workspace.onDidChangeWorkspaceFolders((function(e){var n=function(e){return t.doSendEvent(e.added,e.removed)},i=r.middleware.workspace;(i&&i.didChangeWorkspaceFolders?i.didChangeWorkspaceFolders(e,n):n(e)).catch((function(e){t._client.error("Sending notification ".concat(c.DidChangeWorkspaceFoldersNotification.type.method," failed"),e)}))}));this._listeners.set(n,i),this.sendInitialEvent(u.workspace.workspaceFolders)}},{key:"unregister",value:function(e){var t=this._listeners.get(e);void 0!==t&&(this._listeners.delete(e),t.dispose())}},{key:"dispose",value:function(){var e,t=i(this._listeners.values());try{for(t.s();!(e=t.n()).done;)e.value.dispose()}catch(e){t.e(e)}finally{t.f()}this._listeners.clear()}},{key:"asProtocol",value:function(e){return void 0===e?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.WorkspaceFoldersFeature=d},88572:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolFeature=void 0;var c=n(23576),l=n(1358),f=n(68210),d=n(84096),h=n(30276),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,e);var t,n,r,s=a(u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),s.call(this,e,l.WorkspaceSymbolRequest.type)}return t=u,(n=[{key:"fillClientCapabilities",value:function(e){var t=(0,f.ensure)((0,f.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:d.SupportedSymbolKinds},t.tagSupport={valueSet:d.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}},{key:"initialize",value:function(e){e.workspaceSymbolProvider&&this.register({id:h.generateUuid(),registerOptions:!0===e.workspaceSymbolProvider?{workDoneProgress:!1}:e.workspaceSymbolProvider})}},{key:"registerLanguageProvider",value:function(e){var t=this,n={provideWorkspaceSymbols:function(e,n){var r=t._client,i=function(e,t){return r.sendRequest(l.WorkspaceSymbolRequest.type,{query:e},t).then((function(e){return t.isCancellationRequested?null:r.protocol2CodeConverter.asSymbolInformations(e,t)}),(function(e){return r.handleFailedRequest(l.WorkspaceSymbolRequest.type,t,e,null)}))},o=r.middleware;return o.provideWorkspaceSymbols?o.provideWorkspaceSymbols(e,n,i):i(e,n)},resolveWorkspaceSymbol:!0===e.resolveProvider?function(e,n){var r=t._client,i=function(e,t){return r.sendRequest(l.WorkspaceSymbolResolveRequest.type,r.code2ProtocolConverter.asWorkspaceSymbol(e),t).then((function(e){return t.isCancellationRequested?null:r.protocol2CodeConverter.asSymbolInformation(e)}),(function(e){return r.handleFailedRequest(l.WorkspaceSymbolResolveRequest.type,t,e,null)}))},o=r.middleware;return o.resolveWorkspaceSymbol?o.resolveWorkspaceSymbol(e,n,i):i(e,n)}:void 0};return[c.languages.registerWorkspaceSymbolProvider(n),n]}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(f.WorkspaceFeature);t.WorkspaceSymbolFeature=p},1358:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;var o=n(11829);i(n(11829),t),i(n(23209),t),t.createProtocolConnection=function(e,t,n,r){return(0,o.createMessageConnection)(e,t,n,r)}},23209:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,i(n(62101),t),i(n(58792),t),i(n(94140),t),i(n(83780),t);var o=n(81710);Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return o.createProtocolConnection}}),function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800}(t.LSPErrorCodes||(t.LSPErrorCodes={}))},81710:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;var r=n(62101);t.createProtocolConnection=function(e,t,n,i){return r.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),(0,r.createMessageConnection)(e,t,n,i)}},94140:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolNotificationType=t.ProtocolNotificationType0=t.ProtocolRequestType=t.ProtocolRequestType0=t.RegistrationType=t.MessageDirection=void 0;var d=n(62101);!function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"}(t.MessageDirection||(t.MessageDirection={}));var h=l((function e(t){f(this,e),this.method=t}));t.RegistrationType=h;var p=function(e){i(n,e);var t=a(n);function n(e){return f(this,n),t.call(this,e)}return l(n)}(d.RequestType0);t.ProtocolRequestType0=p;var v=function(e){i(n,e);var t=a(n);function n(e){return f(this,n),t.call(this,e,d.ParameterStructures.byName)}return l(n)}(d.RequestType);t.ProtocolRequestType=v;var y=function(e){i(n,e);var t=a(n);function n(e){return f(this,n),t.call(this,e)}return l(n)}(d.NotificationType0);t.ProtocolNotificationType0=y;var g=function(e){i(n,e);var t=a(n);function n(e){return f(this,n),t.call(this,e,d.ParameterStructures.byName)}return l(n)}(d.NotificationType);t.ProtocolNotificationType=g},51463:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.CallHierarchyPrepareRequest=void 0;var r=n(94140);!function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(t.CallHierarchyPrepareRequest||(t.CallHierarchyPrepareRequest={})),function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(t.CallHierarchyIncomingCallsRequest||(t.CallHierarchyIncomingCallsRequest={})),function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(t.CallHierarchyOutgoingCallsRequest||(t.CallHierarchyOutgoingCallsRequest={}))},50407:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPresentationRequest=t.DocumentColorRequest=void 0;var r=n(94140);!function(e){e.method="textDocument/documentColor",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(t.DocumentColorRequest||(t.DocumentColorRequest={})),function(e){e.method="textDocument/colorPresentation",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(t.ColorPresentationRequest||(t.ColorPresentationRequest={}))},65432:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationRequest=void 0;var r=n(94140);!function(e){e.method="workspace/configuration",e.messageDirection=r.MessageDirection.serverToClient,e.type=new r.ProtocolRequestType(e.method)}(t.ConfigurationRequest||(t.ConfigurationRequest={}))},21701:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationRequest=void 0;var r=n(94140);!function(e){e.method="textDocument/declaration",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(t.DeclarationRequest||(t.DeclarationRequest={}))},41440:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=void 0;var r=n(62101),i=n(47750),o=n(94140);!function(e){e.is=function(e){var t=e;return t&&i.boolean(t.retriggerRequest)}}(t.DiagnosticServerCancellationData||(t.DiagnosticServerCancellationData={})),function(e){e.Full="full",e.Unchanged="unchanged"}(t.DocumentDiagnosticReportKind||(t.DocumentDiagnosticReportKind={})),function(e){e.method="textDocument/diagnostic",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method),e.partialResult=new r.ProgressType}(t.DocumentDiagnosticRequest||(t.DocumentDiagnosticRequest={})),function(e){e.method="workspace/diagnostic",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method),e.partialResult=new r.ProgressType}(t.WorkspaceDiagnosticRequest||(t.WorkspaceDiagnosticRequest={})),function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType0(e.method)}(t.DiagnosticRefreshRequest||(t.DiagnosticRefreshRequest={}))},89403:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.DidRenameFilesNotification=t.WillRenameFilesRequest=t.DidCreateFilesNotification=t.WillCreateFilesRequest=t.FileOperationPatternKind=void 0;var r=n(94140);!function(e){e.file="file",e.folder="folder"}(t.FileOperationPatternKind||(t.FileOperationPatternKind={})),function(e){e.method="workspace/willCreateFiles",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(t.WillCreateFilesRequest||(t.WillCreateFilesRequest={})),function(e){e.method="workspace/didCreateFiles",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolNotificationType(e.method)}(t.DidCreateFilesNotification||(t.DidCreateFilesNotification={})),function(e){e.method="workspace/willRenameFiles",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(t.WillRenameFilesRequest||(t.WillRenameFilesRequest={})),function(e){e.method="workspace/didRenameFiles",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolNotificationType(e.method)}(t.DidRenameFilesNotification||(t.DidRenameFilesNotification={})),function(e){e.method="workspace/didDeleteFiles",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolNotificationType(e.method)}(t.DidDeleteFilesNotification||(t.DidDeleteFilesNotification={})),function(e){e.method="workspace/willDeleteFiles",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(t.WillDeleteFilesRequest||(t.WillDeleteFilesRequest={}))},29989:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeRequest=void 0;var r=n(94140);!function(e){e.method="textDocument/foldingRange",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(t.FoldingRangeRequest||(t.FoldingRangeRequest={}))},71865:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationRequest=void 0;var r=n(94140);!function(e){e.method="textDocument/implementation",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(t.ImplementationRequest||(t.ImplementationRequest={}))},98807:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=void 0;var r=n(94140);!function(e){e.method="textDocument/inlayHint",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(t.InlayHintRequest||(t.InlayHintRequest={})),function(e){e.method="inlayHint/resolve",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(t.InlayHintResolveRequest||(t.InlayHintResolveRequest={})),function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType0(e.method)}(t.InlayHintRefreshRequest||(t.InlayHintRefreshRequest={}))},33218:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InlineValueRefreshRequest=t.InlineValueRequest=void 0;var r=n(94140);!function(e){e.method="textDocument/inlineValue",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(t.InlineValueRequest||(t.InlineValueRequest={})),function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType0(e.method)}(t.InlineValueRefreshRequest||(t.InlineValueRefreshRequest={}))},83780:(e,t,n)=>{function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolRequest=t.CodeActionResolveRequest=t.CodeActionRequest=t.DocumentSymbolRequest=t.DocumentHighlightRequest=t.ReferencesRequest=t.DefinitionRequest=t.SignatureHelpRequest=t.SignatureHelpTriggerKind=t.HoverRequest=t.CompletionResolveRequest=t.CompletionRequest=t.CompletionTriggerKind=t.PublishDiagnosticsNotification=t.WatchKind=t.RelativePattern=t.FileChangeType=t.DidChangeWatchedFilesNotification=t.WillSaveTextDocumentWaitUntilRequest=t.WillSaveTextDocumentNotification=t.TextDocumentSaveReason=t.DidSaveTextDocumentNotification=t.DidCloseTextDocumentNotification=t.DidChangeTextDocumentNotification=t.TextDocumentContentChangeEvent=t.DidOpenTextDocumentNotification=t.TextDocumentSyncKind=t.TelemetryEventNotification=t.LogMessageNotification=t.ShowMessageRequest=t.ShowMessageNotification=t.MessageType=t.DidChangeConfigurationNotification=t.ExitNotification=t.ShutdownRequest=t.InitializedNotification=t.InitializeErrorCodes=t.InitializeRequest=t.WorkDoneProgressOptions=t.TextDocumentRegistrationOptions=t.StaticRegistrationOptions=t.PositionEncodingKind=t.FailureHandlingKind=t.ResourceOperationKind=t.UnregistrationRequest=t.RegistrationRequest=t.DocumentSelector=t.NotebookCellTextDocumentFilter=t.NotebookDocumentFilter=t.TextDocumentFilter=void 0,t.TypeHierarchySubtypesRequest=t.TypeHierarchyPrepareRequest=t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.WillRenameFilesRequest=t.DidRenameFilesNotification=t.WillCreateFilesRequest=t.DidCreateFilesNotification=t.FileOperationPatternKind=t.LinkedEditingRangeRequest=t.ShowDocumentRequest=t.SemanticTokensRegistrationType=t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.TokenFormat=t.CallHierarchyPrepareRequest=t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=t.SelectionRangeRequest=t.DeclarationRequest=t.FoldingRangeRequest=t.ColorPresentationRequest=t.DocumentColorRequest=t.ConfigurationRequest=t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=t.TypeDefinitionRequest=t.ImplementationRequest=t.ApplyWorkspaceEditRequest=t.ExecuteCommandRequest=t.PrepareRenameRequest=t.RenameRequest=t.PrepareSupportDefaultBehavior=t.DocumentOnTypeFormattingRequest=t.DocumentRangeFormattingRequest=t.DocumentFormattingRequest=t.DocumentLinkResolveRequest=t.DocumentLinkRequest=t.CodeLensRefreshRequest=t.CodeLensResolveRequest=t.CodeLensRequest=t.WorkspaceSymbolResolveRequest=void 0,t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=t.InlineValueRefreshRequest=t.InlineValueRequest=t.TypeHierarchySupertypesRequest=void 0;var o=n(94140),a=n(58792),s=n(47750),u=n(71865);Object.defineProperty(t,"ImplementationRequest",{enumerable:!0,get:function(){return u.ImplementationRequest}});var c=n(61693);Object.defineProperty(t,"TypeDefinitionRequest",{enumerable:!0,get:function(){return c.TypeDefinitionRequest}});var l=n(55109);Object.defineProperty(t,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return l.WorkspaceFoldersRequest}}),Object.defineProperty(t,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return l.DidChangeWorkspaceFoldersNotification}});var f=n(65432);Object.defineProperty(t,"ConfigurationRequest",{enumerable:!0,get:function(){return f.ConfigurationRequest}});var d=n(50407);Object.defineProperty(t,"DocumentColorRequest",{enumerable:!0,get:function(){return d.DocumentColorRequest}}),Object.defineProperty(t,"ColorPresentationRequest",{enumerable:!0,get:function(){return d.ColorPresentationRequest}});var h=n(29989);Object.defineProperty(t,"FoldingRangeRequest",{enumerable:!0,get:function(){return h.FoldingRangeRequest}});var p=n(21701);Object.defineProperty(t,"DeclarationRequest",{enumerable:!0,get:function(){return p.DeclarationRequest}});var v=n(61056);Object.defineProperty(t,"SelectionRangeRequest",{enumerable:!0,get:function(){return v.SelectionRangeRequest}});var y=n(51444);Object.defineProperty(t,"WorkDoneProgress",{enumerable:!0,get:function(){return y.WorkDoneProgress}}),Object.defineProperty(t,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return y.WorkDoneProgressCreateRequest}}),Object.defineProperty(t,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return y.WorkDoneProgressCancelNotification}});var g=n(51463);Object.defineProperty(t,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return g.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(t,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return g.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(t,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return g.CallHierarchyPrepareRequest}});var m=n(85917);Object.defineProperty(t,"TokenFormat",{enumerable:!0,get:function(){return m.TokenFormat}}),Object.defineProperty(t,"SemanticTokensRequest",{enumerable:!0,get:function(){return m.SemanticTokensRequest}}),Object.defineProperty(t,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return m.SemanticTokensDeltaRequest}}),Object.defineProperty(t,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return m.SemanticTokensRangeRequest}}),Object.defineProperty(t,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return m.SemanticTokensRefreshRequest}}),Object.defineProperty(t,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return m.SemanticTokensRegistrationType}});var b=n(42199);Object.defineProperty(t,"ShowDocumentRequest",{enumerable:!0,get:function(){return b.ShowDocumentRequest}});var w=n(74419);Object.defineProperty(t,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return w.LinkedEditingRangeRequest}});var _=n(89403);Object.defineProperty(t,"FileOperationPatternKind",{enumerable:!0,get:function(){return _.FileOperationPatternKind}}),Object.defineProperty(t,"DidCreateFilesNotification",{enumerable:!0,get:function(){return _.DidCreateFilesNotification}}),Object.defineProperty(t,"WillCreateFilesRequest",{enumerable:!0,get:function(){return _.WillCreateFilesRequest}}),Object.defineProperty(t,"DidRenameFilesNotification",{enumerable:!0,get:function(){return _.DidRenameFilesNotification}}),Object.defineProperty(t,"WillRenameFilesRequest",{enumerable:!0,get:function(){return _.WillRenameFilesRequest}}),Object.defineProperty(t,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return _.DidDeleteFilesNotification}}),Object.defineProperty(t,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return _.WillDeleteFilesRequest}});var k=n(3436);Object.defineProperty(t,"UniquenessLevel",{enumerable:!0,get:function(){return k.UniquenessLevel}}),Object.defineProperty(t,"MonikerKind",{enumerable:!0,get:function(){return k.MonikerKind}}),Object.defineProperty(t,"MonikerRequest",{enumerable:!0,get:function(){return k.MonikerRequest}});var S=n(92299);Object.defineProperty(t,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return S.TypeHierarchyPrepareRequest}}),Object.defineProperty(t,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return S.TypeHierarchySubtypesRequest}}),Object.defineProperty(t,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return S.TypeHierarchySupertypesRequest}});var x=n(33218);Object.defineProperty(t,"InlineValueRequest",{enumerable:!0,get:function(){return x.InlineValueRequest}}),Object.defineProperty(t,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return x.InlineValueRefreshRequest}});var C=n(98807);Object.defineProperty(t,"InlayHintRequest",{enumerable:!0,get:function(){return C.InlayHintRequest}}),Object.defineProperty(t,"InlayHintResolveRequest",{enumerable:!0,get:function(){return C.InlayHintResolveRequest}}),Object.defineProperty(t,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return C.InlayHintRefreshRequest}});var E=n(41440);Object.defineProperty(t,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return E.DiagnosticServerCancellationData}}),Object.defineProperty(t,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return E.DocumentDiagnosticReportKind}}),Object.defineProperty(t,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return E.DocumentDiagnosticRequest}}),Object.defineProperty(t,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return E.WorkspaceDiagnosticRequest}}),Object.defineProperty(t,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return E.DiagnosticRefreshRequest}});var D,T,P,O,R=n(94598);Object.defineProperty(t,"NotebookCellKind",{enumerable:!0,get:function(){return R.NotebookCellKind}}),Object.defineProperty(t,"ExecutionSummary",{enumerable:!0,get:function(){return R.ExecutionSummary}}),Object.defineProperty(t,"NotebookCell",{enumerable:!0,get:function(){return R.NotebookCell}}),Object.defineProperty(t,"NotebookDocument",{enumerable:!0,get:function(){return R.NotebookDocument}}),Object.defineProperty(t,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return R.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(t,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return R.DidOpenNotebookDocumentNotification}}),Object.defineProperty(t,"NotebookCellArrayChange",{enumerable:!0,get:function(){return R.NotebookCellArrayChange}}),Object.defineProperty(t,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return R.DidChangeNotebookDocumentNotification}}),Object.defineProperty(t,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return R.DidSaveNotebookDocumentNotification}}),Object.defineProperty(t,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return R.DidCloseNotebookDocumentNotification}}),function(e){e.is=function(e){var t=e;return s.string(t.language)||s.string(t.scheme)||s.string(t.pattern)}}(D=t.TextDocumentFilter||(t.TextDocumentFilter={})),function(e){e.is=function(e){var t=e;return s.objectLiteral(t)&&(s.string(t.notebookType)||s.string(t.scheme)||s.string(t.pattern))}}(T=t.NotebookDocumentFilter||(t.NotebookDocumentFilter={})),function(e){e.is=function(e){var t=e;return s.objectLiteral(t)&&(s.string(t.notebook)||T.is(t.notebook))&&(void 0===t.language||s.string(t.language))}}(P=t.NotebookCellTextDocumentFilter||(t.NotebookCellTextDocumentFilter={})),function(e){e.is=function(e){if(!Array.isArray(e))return!1;var t,n=r(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(!s.string(i)&&!D.is(i)&&!P.is(i))return!1}}catch(e){n.e(e)}finally{n.f()}return!0}}(O=t.DocumentSelector||(t.DocumentSelector={})),function(e){e.method="client/registerCapability",e.messageDirection=o.MessageDirection.serverToClient,e.type=new o.ProtocolRequestType(e.method)}(t.RegistrationRequest||(t.RegistrationRequest={})),function(e){e.method="client/unregisterCapability",e.messageDirection=o.MessageDirection.serverToClient,e.type=new o.ProtocolRequestType(e.method)}(t.UnregistrationRequest||(t.UnregistrationRequest={})),function(e){e.Create="create",e.Rename="rename",e.Delete="delete"}(t.ResourceOperationKind||(t.ResourceOperationKind={})),function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"}(t.FailureHandlingKind||(t.FailureHandlingKind={})),function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"}(t.PositionEncodingKind||(t.PositionEncodingKind={})),function(e){e.hasId=function(e){var t=e;return t&&s.string(t.id)&&t.id.length>0}}(t.StaticRegistrationOptions||(t.StaticRegistrationOptions={})),function(e){e.is=function(e){var t=e;return t&&(null===t.documentSelector||O.is(t.documentSelector))}}(t.TextDocumentRegistrationOptions||(t.TextDocumentRegistrationOptions={})),function(e){e.is=function(e){var t=e;return s.objectLiteral(t)&&(void 0===t.workDoneProgress||s.boolean(t.workDoneProgress))},e.hasWorkDoneProgress=function(e){var t=e;return t&&s.boolean(t.workDoneProgress)}}(t.WorkDoneProgressOptions||(t.WorkDoneProgressOptions={})),function(e){e.method="initialize",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.InitializeRequest||(t.InitializeRequest={})),function(e){e.unknownProtocolVersion=1}(t.InitializeErrorCodes||(t.InitializeErrorCodes={})),function(e){e.method="initialized",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolNotificationType(e.method)}(t.InitializedNotification||(t.InitializedNotification={})),function(e){e.method="shutdown",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType0(e.method)}(t.ShutdownRequest||(t.ShutdownRequest={})),function(e){e.method="exit",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolNotificationType0(e.method)}(t.ExitNotification||(t.ExitNotification={})),function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolNotificationType(e.method)}(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})),function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4}(t.MessageType||(t.MessageType={})),function(e){e.method="window/showMessage",e.messageDirection=o.MessageDirection.serverToClient,e.type=new o.ProtocolNotificationType(e.method)}(t.ShowMessageNotification||(t.ShowMessageNotification={})),function(e){e.method="window/showMessageRequest",e.messageDirection=o.MessageDirection.serverToClient,e.type=new o.ProtocolRequestType(e.method)}(t.ShowMessageRequest||(t.ShowMessageRequest={})),function(e){e.method="window/logMessage",e.messageDirection=o.MessageDirection.serverToClient,e.type=new o.ProtocolNotificationType(e.method)}(t.LogMessageNotification||(t.LogMessageNotification={})),function(e){e.method="telemetry/event",e.messageDirection=o.MessageDirection.serverToClient,e.type=new o.ProtocolNotificationType(e.method)}(t.TelemetryEventNotification||(t.TelemetryEventNotification={})),function(e){e.None=0,e.Full=1,e.Incremental=2}(t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})),function(e){e.method="textDocument/didOpen",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolNotificationType(e.method)}(t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})),function(e){e.isIncremental=function(e){var t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},e.isFull=function(e){var t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength}}(t.TextDocumentContentChangeEvent||(t.TextDocumentContentChangeEvent={})),function(e){e.method="textDocument/didChange",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolNotificationType(e.method)}(t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})),function(e){e.method="textDocument/didClose",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolNotificationType(e.method)}(t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})),function(e){e.method="textDocument/didSave",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolNotificationType(e.method)}(t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(t.TextDocumentSaveReason||(t.TextDocumentSaveReason={})),function(e){e.method="textDocument/willSave",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolNotificationType(e.method)}(t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})),function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})),function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolNotificationType(e.method)}(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})),function(e){e.Created=1,e.Changed=2,e.Deleted=3}(t.FileChangeType||(t.FileChangeType={})),function(e){e.is=function(e){var t=e;return s.objectLiteral(t)&&(a.URI.is(t.baseUri)||a.WorkspaceFolder.is(t.baseUri))&&s.string(t.pattern)}}(t.RelativePattern||(t.RelativePattern={})),function(e){e.Create=1,e.Change=2,e.Delete=4}(t.WatchKind||(t.WatchKind={})),function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=o.MessageDirection.serverToClient,e.type=new o.ProtocolNotificationType(e.method)}(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3}(t.CompletionTriggerKind||(t.CompletionTriggerKind={})),function(e){e.method="textDocument/completion",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.CompletionRequest||(t.CompletionRequest={})),function(e){e.method="completionItem/resolve",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.CompletionResolveRequest||(t.CompletionResolveRequest={})),function(e){e.method="textDocument/hover",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.HoverRequest||(t.HoverRequest={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3}(t.SignatureHelpTriggerKind||(t.SignatureHelpTriggerKind={})),function(e){e.method="textDocument/signatureHelp",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.SignatureHelpRequest||(t.SignatureHelpRequest={})),function(e){e.method="textDocument/definition",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.DefinitionRequest||(t.DefinitionRequest={})),function(e){e.method="textDocument/references",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.ReferencesRequest||(t.ReferencesRequest={})),function(e){e.method="textDocument/documentHighlight",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})),function(e){e.method="textDocument/documentSymbol",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})),function(e){e.method="textDocument/codeAction",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.CodeActionRequest||(t.CodeActionRequest={})),function(e){e.method="codeAction/resolve",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.CodeActionResolveRequest||(t.CodeActionResolveRequest={})),function(e){e.method="workspace/symbol",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})),function(e){e.method="workspaceSymbol/resolve",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.WorkspaceSymbolResolveRequest||(t.WorkspaceSymbolResolveRequest={})),function(e){e.method="textDocument/codeLens",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.CodeLensRequest||(t.CodeLensRequest={})),function(e){e.method="codeLens/resolve",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})),function(e){e.method="workspace/codeLens/refresh",e.messageDirection=o.MessageDirection.serverToClient,e.type=new o.ProtocolRequestType0(e.method)}(t.CodeLensRefreshRequest||(t.CodeLensRefreshRequest={})),function(e){e.method="textDocument/documentLink",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.DocumentLinkRequest||(t.DocumentLinkRequest={})),function(e){e.method="documentLink/resolve",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})),function(e){e.method="textDocument/formatting",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})),function(e){e.method="textDocument/rangeFormatting",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})),function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})),function(e){e.Identifier=1}(t.PrepareSupportDefaultBehavior||(t.PrepareSupportDefaultBehavior={})),function(e){e.method="textDocument/rename",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.RenameRequest||(t.RenameRequest={})),function(e){e.method="textDocument/prepareRename",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.PrepareRenameRequest||(t.PrepareRenameRequest={})),function(e){e.method="workspace/executeCommand",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.ProtocolRequestType(e.method)}(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})),function(e){e.method="workspace/applyEdit",e.messageDirection=o.MessageDirection.serverToClient,e.type=new o.ProtocolRequestType("workspace/applyEdit")}(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={}))},74419:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingRangeRequest=void 0;var r=n(94140);!function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(t.LinkedEditingRangeRequest||(t.LinkedEditingRangeRequest={}))},3436:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=void 0;var r=n(94140);!function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"}(t.UniquenessLevel||(t.UniquenessLevel={})),function(e){e.$import="import",e.$export="export",e.local="local"}(t.MonikerKind||(t.MonikerKind={})),function(e){e.method="textDocument/moniker",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(t.MonikerRequest||(t.MonikerRequest={}))},94598:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=void 0;var i,o,a,s,u=n(58792),c=n(47750),l=n(94140);!function(e){e.Markup=1,e.Code=2,e.is=function(e){return 1===e||2===e}}(i=t.NotebookCellKind||(t.NotebookCellKind={})),function(e){e.create=function(e,t){var n={executionOrder:e};return!0!==t&&!1!==t||(n.success=t),n},e.is=function(e){var t=e;return c.objectLiteral(t)&&u.uinteger.is(t.executionOrder)&&(void 0===t.success||c.boolean(t.success))},e.equals=function(e,t){return e===t||null!=e&&null!=t&&(e.executionOrder===t.executionOrder&&e.success===t.success)}}(o=t.ExecutionSummary||(t.ExecutionSummary={})),function(e){function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(r(e)!==r(n))return!1;if("object"!==r(e))return!1;var i=Array.isArray(e),o=Array.isArray(n);if(i!==o)return!1;if(i&&o){if(e.length!==n.length)return!1;for(var a=0;a<e.length;a++)if(!t(e[a],n[a]))return!1}if(c.objectLiteral(e)&&c.objectLiteral(n)){var s=Object.keys(e),u=Object.keys(n);if(s.length!==u.length)return!1;if(s.sort(),u.sort(),!t(s,u))return!1;for(var l=0;l<s.length;l++){var f=s[l];if(!t(e[f],n[f]))return!1}}return!0}e.create=function(e,t){return{kind:e,document:t}},e.is=function(e){var t=e;return c.objectLiteral(t)&&i.is(t.kind)&&u.DocumentUri.is(t.document)&&(void 0===t.metadata||c.objectLiteral(t.metadata))},e.diff=function(e,n){var r=new Set;return e.document!==n.document&&r.add("document"),e.kind!==n.kind&&r.add("kind"),e.executionSummary!==n.executionSummary&&r.add("executionSummary"),void 0===e.metadata&&void 0===n.metadata||t(e.metadata,n.metadata)||r.add("metadata"),void 0===e.executionSummary&&void 0===n.executionSummary||o.equals(e.executionSummary,n.executionSummary)||r.add("executionSummary"),r}}(a=t.NotebookCell||(t.NotebookCell={})),function(e){e.create=function(e,t,n,r){return{uri:e,notebookType:t,version:n,cells:r}},e.is=function(e){var t=e;return c.objectLiteral(t)&&c.string(t.uri)&&u.integer.is(t.version)&&c.typedArray(t.cells,a.is)}}(t.NotebookDocument||(t.NotebookDocument={})),function(e){e.method="notebookDocument/sync",e.messageDirection=l.MessageDirection.clientToServer,e.type=new l.RegistrationType(e.method)}(s=t.NotebookDocumentSyncRegistrationType||(t.NotebookDocumentSyncRegistrationType={})),function(e){e.method="notebookDocument/didOpen",e.messageDirection=l.MessageDirection.clientToServer,e.type=new l.ProtocolNotificationType(e.method),e.registrationMethod=s.method}(t.DidOpenNotebookDocumentNotification||(t.DidOpenNotebookDocumentNotification={})),function(e){e.is=function(e){var t=e;return c.objectLiteral(t)&&u.uinteger.is(t.start)&&u.uinteger.is(t.deleteCount)&&(void 0===t.cells||c.typedArray(t.cells,a.is))},e.create=function(e,t,n){var r={start:e,deleteCount:t};return void 0!==n&&(r.cells=n),r}}(t.NotebookCellArrayChange||(t.NotebookCellArrayChange={})),function(e){e.method="notebookDocument/didChange",e.messageDirection=l.MessageDirection.clientToServer,e.type=new l.ProtocolNotificationType(e.method),e.registrationMethod=s.method}(t.DidChangeNotebookDocumentNotification||(t.DidChangeNotebookDocumentNotification={})),function(e){e.method="notebookDocument/didSave",e.messageDirection=l.MessageDirection.clientToServer,e.type=new l.ProtocolNotificationType(e.method),e.registrationMethod=s.method}(t.DidSaveNotebookDocumentNotification||(t.DidSaveNotebookDocumentNotification={})),function(e){e.method="notebookDocument/didClose",e.messageDirection=l.MessageDirection.clientToServer,e.type=new l.ProtocolNotificationType(e.method),e.registrationMethod=s.method}(t.DidCloseNotebookDocumentNotification||(t.DidCloseNotebookDocumentNotification={}))},51444:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=void 0;var r=n(62101),i=n(94140);!function(e){e.type=new r.ProgressType,e.is=function(t){return t===e.type}}(t.WorkDoneProgress||(t.WorkDoneProgress={})),function(e){e.method="window/workDoneProgress/create",e.messageDirection=i.MessageDirection.serverToClient,e.type=new i.ProtocolRequestType(e.method)}(t.WorkDoneProgressCreateRequest||(t.WorkDoneProgressCreateRequest={})),function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolNotificationType(e.method)}(t.WorkDoneProgressCancelNotification||(t.WorkDoneProgressCancelNotification={}))},61056:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeRequest=void 0;var r=n(94140);!function(e){e.method="textDocument/selectionRange",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(t.SelectionRangeRequest||(t.SelectionRangeRequest={}))},85917:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.SemanticTokensRegistrationType=t.TokenFormat=void 0;var r,i=n(94140);!function(e){e.Relative="relative"}(t.TokenFormat||(t.TokenFormat={})),function(e){e.method="textDocument/semanticTokens",e.type=new i.RegistrationType(e.method)}(r=t.SemanticTokensRegistrationType||(t.SemanticTokensRegistrationType={})),function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method),e.registrationMethod=r.method}(t.SemanticTokensRequest||(t.SemanticTokensRequest={})),function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method),e.registrationMethod=r.method}(t.SemanticTokensDeltaRequest||(t.SemanticTokensDeltaRequest={})),function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method),e.registrationMethod=r.method}(t.SemanticTokensRangeRequest||(t.SemanticTokensRangeRequest={})),function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType0(e.method)}(t.SemanticTokensRefreshRequest||(t.SemanticTokensRefreshRequest={}))},42199:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ShowDocumentRequest=void 0;var r=n(94140);!function(e){e.method="window/showDocument",e.messageDirection=r.MessageDirection.serverToClient,e.type=new r.ProtocolRequestType(e.method)}(t.ShowDocumentRequest||(t.ShowDocumentRequest={}))},61693:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionRequest=void 0;var r=n(94140);!function(e){e.method="textDocument/typeDefinition",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(t.TypeDefinitionRequest||(t.TypeDefinitionRequest={}))},92299:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchySubtypesRequest=t.TypeHierarchySupertypesRequest=t.TypeHierarchyPrepareRequest=void 0;var r=n(94140);!function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(t.TypeHierarchyPrepareRequest||(t.TypeHierarchyPrepareRequest={})),function(e){e.method="typeHierarchy/supertypes",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(t.TypeHierarchySupertypesRequest||(t.TypeHierarchySupertypesRequest={})),function(e){e.method="typeHierarchy/subtypes",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolRequestType(e.method)}(t.TypeHierarchySubtypesRequest||(t.TypeHierarchySubtypesRequest={}))},55109:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=void 0;var r=n(94140);!function(e){e.method="workspace/workspaceFolders",e.messageDirection=r.MessageDirection.serverToClient,e.type=new r.ProtocolRequestType0(e.method)}(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})),function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolNotificationType(e.method)}(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={}))},47750:(e,t)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e){return"string"==typeof e||e instanceof String}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.objectLiteral=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=i,t.stringArray=function(e){return i(e)&&e.every((function(e){return r(e)}))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.objectLiteral=function(e){return null!==e&&"object"===n(e)}},58792:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i,o,a,s,u,c,l,f,d,h,p,v,y,g,m,b,w,_,k,S,x,C,E,D,T,P,O,R;n.r(t),n.d(t,{AnnotatedTextEdit:()=>E,ChangeAnnotation:()=>x,ChangeAnnotationIdentifier:()=>C,CodeAction:()=>ae,CodeActionContext:()=>oe,CodeActionKind:()=>re,CodeActionTriggerKind:()=>ie,CodeDescription:()=>w,CodeLens:()=>se,Color:()=>d,ColorInformation:()=>h,ColorPresentation:()=>p,Command:()=>k,CompletionItem:()=>$,CompletionItemKind:()=>M,CompletionItemLabelDetails:()=>K,CompletionItemTag:()=>H,CompletionList:()=>B,CreateFile:()=>T,DeleteFile:()=>O,Diagnostic:()=>_,DiagnosticRelatedInformation:()=>g,DiagnosticSeverity:()=>m,DiagnosticTag:()=>b,DocumentHighlight:()=>Q,DocumentHighlightKind:()=>Y,DocumentLink:()=>ce,DocumentSymbol:()=>ne,DocumentUri:()=>i,EOL:()=>Ee,FoldingRange:()=>y,FoldingRangeKind:()=>v,FormattingOptions:()=>ue,Hover:()=>z,InlayHint:()=>we,InlayHintKind:()=>me,InlayHintLabelPart:()=>be,InlineValueContext:()=>ge,InlineValueEvaluatableExpression:()=>ye,InlineValueText:()=>pe,InlineValueVariableLookup:()=>ve,InsertReplaceEdit:()=>W,InsertTextFormat:()=>q,InsertTextMode:()=>U,Location:()=>l,LocationLink:()=>f,MarkedString:()=>V,MarkupContent:()=>F,MarkupKind:()=>N,OptionalVersionedTextDocumentIdentifier:()=>j,ParameterInformation:()=>G,Position:()=>u,Range:()=>c,RenameFile:()=>P,SelectionRange:()=>le,SemanticTokenModifiers:()=>de,SemanticTokenTypes:()=>fe,SemanticTokens:()=>he,SignatureInformation:()=>J,SymbolInformation:()=>ee,SymbolKind:()=>Z,SymbolTag:()=>X,TextDocument:()=>Ce,TextDocumentEdit:()=>D,TextDocumentIdentifier:()=>I,TextDocumentItem:()=>A,TextEdit:()=>S,URI:()=>o,VersionedTextDocumentIdentifier:()=>L,WorkspaceChange:()=>xe,WorkspaceEdit:()=>R,WorkspaceFolder:()=>_e,WorkspaceSymbol:()=>te,integer:()=>a,uinteger:()=>s}),function(e){e.is=function(e){return"string"==typeof e}}(i||(i={})),function(e){e.is=function(e){return"string"==typeof e}}(o||(o={})),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(a||(a={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(s||(s={})),function(e){e.create=function(e,t){return e===Number.MAX_VALUE&&(e=s.MAX_VALUE),t===Number.MAX_VALUE&&(t=s.MAX_VALUE),{line:e,character:t}},e.is=function(e){var t=e;return De.objectLiteral(t)&&De.uinteger(t.line)&&De.uinteger(t.character)}}(u||(u={})),function(e){e.create=function(e,t,n,r){if(De.uinteger(e)&&De.uinteger(t)&&De.uinteger(n)&&De.uinteger(r))return{start:u.create(e,t),end:u.create(n,r)};if(u.is(e)&&u.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments[".concat(e,", ").concat(t,", ").concat(n,", ").concat(r,"]"))},e.is=function(e){var t=e;return De.objectLiteral(t)&&u.is(t.start)&&u.is(t.end)}}(c||(c={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return De.objectLiteral(t)&&c.is(t.range)&&(De.string(t.uri)||De.undefined(t.uri))}}(l||(l={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){var t=e;return De.objectLiteral(t)&&c.is(t.targetRange)&&De.string(t.targetUri)&&c.is(t.targetSelectionRange)&&(c.is(t.originSelectionRange)||De.undefined(t.originSelectionRange))}}(f||(f={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){var t=e;return De.objectLiteral(t)&&De.numberRange(t.red,0,1)&&De.numberRange(t.green,0,1)&&De.numberRange(t.blue,0,1)&&De.numberRange(t.alpha,0,1)}}(d||(d={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return De.objectLiteral(t)&&c.is(t.range)&&d.is(t.color)}}(h||(h={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return De.objectLiteral(t)&&De.string(t.label)&&(De.undefined(t.textEdit)||S.is(t))&&(De.undefined(t.additionalTextEdits)||De.typedArray(t.additionalTextEdits,S.is))}}(p||(p={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(v||(v={})),function(e){e.create=function(e,t,n,r,i,o){var a={startLine:e,endLine:t};return De.defined(n)&&(a.startCharacter=n),De.defined(r)&&(a.endCharacter=r),De.defined(i)&&(a.kind=i),De.defined(o)&&(a.collapsedText=o),a},e.is=function(e){var t=e;return De.objectLiteral(t)&&De.uinteger(t.startLine)&&De.uinteger(t.startLine)&&(De.undefined(t.startCharacter)||De.uinteger(t.startCharacter))&&(De.undefined(t.endCharacter)||De.uinteger(t.endCharacter))&&(De.undefined(t.kind)||De.string(t.kind))}}(y||(y={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return De.defined(t)&&l.is(t.location)&&De.string(t.message)}}(g||(g={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(m||(m={})),function(e){e.Unnecessary=1,e.Deprecated=2}(b||(b={})),function(e){e.is=function(e){var t=e;return De.objectLiteral(t)&&De.string(t.href)}}(w||(w={})),function(e){e.create=function(e,t,n,r,i,o){var a={range:e,message:t};return De.defined(n)&&(a.severity=n),De.defined(r)&&(a.code=r),De.defined(i)&&(a.source=i),De.defined(o)&&(a.relatedInformation=o),a},e.is=function(e){var t,n=e;return De.defined(n)&&c.is(n.range)&&De.string(n.message)&&(De.number(n.severity)||De.undefined(n.severity))&&(De.integer(n.code)||De.string(n.code)||De.undefined(n.code))&&(De.undefined(n.codeDescription)||De.string(null===(t=n.codeDescription)||void 0===t?void 0:t.href))&&(De.string(n.source)||De.undefined(n.source))&&(De.undefined(n.relatedInformation)||De.typedArray(n.relatedInformation,g.is))}}(_||(_={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return De.defined(n)&&n.length>0&&(i.arguments=n),i},e.is=function(e){var t=e;return De.defined(t)&&De.string(t.title)&&De.string(t.command)}}(k||(k={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return De.objectLiteral(t)&&De.string(t.newText)&&c.is(t.range)}}(S||(S={})),function(e){e.create=function(e,t,n){var r={label:e};return void 0!==t&&(r.needsConfirmation=t),void 0!==n&&(r.description=n),r},e.is=function(e){var t=e;return De.objectLiteral(t)&&De.string(t.label)&&(De.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(De.string(t.description)||void 0===t.description)}}(x||(x={})),function(e){e.is=function(e){var t=e;return De.string(t)}}(C||(C={})),function(e){e.replace=function(e,t,n){return{range:e,newText:t,annotationId:n}},e.insert=function(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}},e.del=function(e,t){return{range:e,newText:"",annotationId:t}},e.is=function(e){var t=e;return S.is(t)&&(x.is(t.annotationId)||C.is(t.annotationId))}}(E||(E={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return De.defined(t)&&j.is(t.textDocument)&&Array.isArray(t.edits)}}(D||(D={})),function(e){e.create=function(e,t,n){var r={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"create"===t.kind&&De.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||De.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||De.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||C.is(t.annotationId))}}(T||(T={})),function(e){e.create=function(e,t,n,r){var i={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(i.options=n),void 0!==r&&(i.annotationId=r),i},e.is=function(e){var t=e;return t&&"rename"===t.kind&&De.string(t.oldUri)&&De.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||De.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||De.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||C.is(t.annotationId))}}(P||(P={})),function(e){e.create=function(e,t,n){var r={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"delete"===t.kind&&De.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||De.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||De.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||C.is(t.annotationId))}}(O||(O={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return De.string(e.kind)?T.is(e)||P.is(e)||O.is(e):D.is(e)})))}}(R||(R={}));var I,L,j,A,N,F,M,q,H,W,U,K,$,B,V,z,G,J,Y,Q,Z,X,ee,te,ne,re,ie,oe,ae,se,ue,ce,le,fe,de,he,pe,ve,ye,ge,me,be,we,_e,ke=function(){function e(e,t){this.edits=e,this.changeAnnotations=t}return e.prototype.insert=function(e,t,n){var r,i;if(void 0===n?r=S.insert(e,t):C.is(n)?(i=n,r=E.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=E.insert(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.replace=function(e,t,n){var r,i;if(void 0===n?r=S.replace(e,t):C.is(n)?(i=n,r=E.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=E.replace(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.delete=function(e,t){var n,r;if(void 0===t?n=S.del(e):C.is(t)?(r=t,n=E.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(t),n=E.del(e,r)),this.edits.push(n),void 0!==r)return r},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(e){if(void 0===e)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),Se=function(){function e(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(e,t){var n;if(C.is(e)?n=e:(n=this.nextId(),t=e),void 0!==this._annotations[n])throw new Error("Id ".concat(n," is already in use."));if(void 0===t)throw new Error("No annotation provided for id ".concat(n));return this._annotations[n]=t,this._size++,n},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),xe=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new Se(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach((function(e){if(D.is(e)){var n=new ke(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=n}}))):e.changes&&Object.keys(e.changes).forEach((function(n){var r=new ke(e.changes[n]);t._textEditChanges[n]=r}))):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(e){if(j.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t={uri:e.uri,version:e.version};if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(n),r=new ke(i,this._changeAnnotations),this._textEditChanges[t.uri]=r}return r}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,r=new ke(i),this._textEditChanges[e]=r}return r},e.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new Se,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,o;if(x.is(t)||C.is(t)?r=t:n=t,void 0===r?i=T.create(e,n):(o=C.is(r)?r:this._changeAnnotations.manage(r),i=T.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e.prototype.renameFile=function(e,t,n,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var i,o,a;if(x.is(n)||C.is(n)?i=n:r=n,void 0===i?o=P.create(e,t,r):(a=C.is(i)?i:this._changeAnnotations.manage(i),o=P.create(e,t,r,a)),this._workspaceEdit.documentChanges.push(o),void 0!==a)return a},e.prototype.deleteFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,o;if(x.is(t)||C.is(t)?r=t:n=t,void 0===r?i=O.create(e,n):(o=C.is(r)?r:this._changeAnnotations.manage(r),i=O.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return De.defined(t)&&De.string(t.uri)}}(I||(I={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return De.defined(t)&&De.string(t.uri)&&De.integer(t.version)}}(L||(L={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return De.defined(t)&&De.string(t.uri)&&(null===t.version||De.integer(t.version))}}(j||(j={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return De.defined(t)&&De.string(t.uri)&&De.string(t.languageId)&&De.integer(t.version)&&De.string(t.text)}}(A||(A={})),function(e){e.PlainText="plaintext",e.Markdown="markdown",e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(N||(N={})),function(e){e.is=function(e){var t=e;return De.objectLiteral(e)&&N.is(t.kind)&&De.string(t.value)}}(F||(F={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(M||(M={})),function(e){e.PlainText=1,e.Snippet=2}(q||(q={})),function(e){e.Deprecated=1}(H||(H={})),function(e){e.create=function(e,t,n){return{newText:e,insert:t,replace:n}},e.is=function(e){var t=e;return t&&De.string(t.newText)&&c.is(t.insert)&&c.is(t.replace)}}(W||(W={})),function(e){e.asIs=1,e.adjustIndentation=2}(U||(U={})),function(e){e.is=function(e){var t=e;return t&&(De.string(t.detail)||void 0===t.detail)&&(De.string(t.description)||void 0===t.description)}}(K||(K={})),function(e){e.create=function(e){return{label:e}}}($||($={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(B||(B={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return De.string(t)||De.objectLiteral(t)&&De.string(t.language)&&De.string(t.value)}}(V||(V={})),function(e){e.is=function(e){var t=e;return!!t&&De.objectLiteral(t)&&(F.is(t.contents)||V.is(t.contents)||De.typedArray(t.contents,V.is))&&(void 0===e.range||c.is(e.range))}}(z||(z={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(G||(G={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return De.defined(t)&&(i.documentation=t),De.defined(n)?i.parameters=n:i.parameters=[],i}}(J||(J={})),function(e){e.Text=1,e.Read=2,e.Write=3}(Y||(Y={})),function(e){e.create=function(e,t){var n={range:e};return De.number(t)&&(n.kind=t),n}}(Q||(Q={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(Z||(Z={})),function(e){e.Deprecated=1}(X||(X={})),function(e){e.create=function(e,t,n,r,i){var o={name:e,kind:t,location:{uri:r,range:n}};return i&&(o.containerName=i),o}}(ee||(ee={})),function(e){e.create=function(e,t,n,r){return void 0!==r?{name:e,kind:t,location:{uri:n,range:r}}:{name:e,kind:t,location:{uri:n}}}}(te||(te={})),function(e){e.create=function(e,t,n,r,i,o){var a={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==o&&(a.children=o),a},e.is=function(e){var t=e;return t&&De.string(t.name)&&De.number(t.kind)&&c.is(t.range)&&c.is(t.selectionRange)&&(void 0===t.detail||De.string(t.detail))&&(void 0===t.deprecated||De.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(ne||(ne={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(re||(re={})),function(e){e.Invoked=1,e.Automatic=2}(ie||(ie={})),function(e){e.create=function(e,t,n){var r={diagnostics:e};return null!=t&&(r.only=t),null!=n&&(r.triggerKind=n),r},e.is=function(e){var t=e;return De.defined(t)&&De.typedArray(t.diagnostics,_.is)&&(void 0===t.only||De.typedArray(t.only,De.string))&&(void 0===t.triggerKind||t.triggerKind===ie.Invoked||t.triggerKind===ie.Automatic)}}(oe||(oe={})),function(e){e.create=function(e,t,n){var r={title:e},i=!0;return"string"==typeof t?(i=!1,r.kind=t):k.is(t)?r.command=t:r.edit=t,i&&void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return t&&De.string(t.title)&&(void 0===t.diagnostics||De.typedArray(t.diagnostics,_.is))&&(void 0===t.kind||De.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||k.is(t.command))&&(void 0===t.isPreferred||De.boolean(t.isPreferred))&&(void 0===t.edit||R.is(t.edit))}}(ae||(ae={})),function(e){e.create=function(e,t){var n={range:e};return De.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return De.defined(t)&&c.is(t.range)&&(De.undefined(t.command)||k.is(t.command))}}(se||(se={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return De.defined(t)&&De.uinteger(t.tabSize)&&De.boolean(t.insertSpaces)}}(ue||(ue={})),function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return De.defined(t)&&c.is(t.range)&&(De.undefined(t.target)||De.string(t.target))}}(ce||(ce={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){var n=t;return De.objectLiteral(n)&&c.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(le||(le={})),function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"}(fe||(fe={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(de||(de={})),function(e){e.is=function(e){var t=e;return De.objectLiteral(t)&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(he||(he={})),function(e){e.create=function(e,t){return{range:e,text:t}},e.is=function(e){var t=e;return null!=t&&c.is(t.range)&&De.string(t.text)}}(pe||(pe={})),function(e){e.create=function(e,t,n){return{range:e,variableName:t,caseSensitiveLookup:n}},e.is=function(e){var t=e;return null!=t&&c.is(t.range)&&De.boolean(t.caseSensitiveLookup)&&(De.string(t.variableName)||void 0===t.variableName)}}(ve||(ve={})),function(e){e.create=function(e,t){return{range:e,expression:t}},e.is=function(e){var t=e;return null!=t&&c.is(t.range)&&(De.string(t.expression)||void 0===t.expression)}}(ye||(ye={})),function(e){e.create=function(e,t){return{frameId:e,stoppedLocation:t}},e.is=function(e){var t=e;return De.defined(t)&&c.is(e.stoppedLocation)}}(ge||(ge={})),function(e){e.Type=1,e.Parameter=2,e.is=function(e){return 1===e||2===e}}(me||(me={})),function(e){e.create=function(e){return{value:e}},e.is=function(e){var t=e;return De.objectLiteral(t)&&(void 0===t.tooltip||De.string(t.tooltip)||F.is(t.tooltip))&&(void 0===t.location||l.is(t.location))&&(void 0===t.command||k.is(t.command))}}(be||(be={})),function(e){e.create=function(e,t,n){var r={position:e,label:t};return void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return De.objectLiteral(t)&&u.is(t.position)&&(De.string(t.label)||De.typedArray(t.label,be.is))&&(void 0===t.kind||me.is(t.kind))&&void 0===t.textEdits||De.typedArray(t.textEdits,S.is)&&(void 0===t.tooltip||De.string(t.tooltip)||F.is(t.tooltip))&&(void 0===t.paddingLeft||De.boolean(t.paddingLeft))&&(void 0===t.paddingRight||De.boolean(t.paddingRight))}}(we||(we={})),function(e){e.is=function(e){var t=e;return De.objectLiteral(t)&&o.is(t.uri)&&De.string(t.name)}}(_e||(_e={}));var Ce,Ee=["\n","\r\n","\r"];!function(e){function t(e,n){if(e.length<=1)return e;var r=e.length/2|0,i=e.slice(0,r),o=e.slice(r);t(i,n),t(o,n);for(var a=0,s=0,u=0;a<i.length&&s<o.length;){var c=n(i[a],o[s]);e[u++]=c<=0?i[a++]:o[s++]}for(;a<i.length;)e[u++]=i[a++];for(;s<o.length;)e[u++]=o[s++];return e}e.create=function(e,t,n,r){return new Te(e,t,n,r)},e.is=function(e){var t=e;return!!(De.defined(t)&&De.string(t.uri)&&(De.undefined(t.languageId)||De.string(t.languageId))&&De.uinteger(t.lineCount)&&De.func(t.getText)&&De.func(t.positionAt)&&De.func(t.offsetAt))},e.applyEdits=function(e,n){for(var r=e.getText(),i=t(n,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),o=r.length,a=i.length-1;a>=0;a--){var s=i[a],u=e.offsetAt(s.range.start),c=e.offsetAt(s.range.end);if(!(c<=o))throw new Error("Overlapping edit");r=r.substring(0,u)+s.newText+r.substring(c,r.length),o=u}return r}}(Ce||(Ce={}));var De,Te=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return u.create(0,e);for(;n<r;){var i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}var o=n-1;return u.create(o,e-t[o])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.numberRange=function(e,n,r){return"[object Number]"===t.call(e)&&n<=e&&e<=r},e.integer=function(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"===r(e)},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(De||(De={}))},90823:(e,t,n)=>{n.d(t,{Z:()=>a,o:()=>o});var r=n(29817),i=n(11969);function o(e){var t=e.webSocket,n=e.onConnection,o=e.logger||new i.k;t.onopen=function(){var e=a(t),i=(0,r.m)(e,o);n(i)}}function a(e){return{send:function(t){return e.send(t)},onMessage:function(t){e.onmessage=function(e){return t(e.data)}},onError:function(t){e.onerror=function(e){"message"in e&&t(e.message)}},onClose:function(t){e.onclose=function(e){return t(e.code,e.reason)}},dispose:function(){return e.close()}}}},48873:(e,t,n)=>{n.d(t,{J:()=>r.Disposable,K:()=>s});var r=n(62101);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var s=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,r=[],(n=a(n="disposables"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,n,r;return t=e,(n=[{key:"dispose",value:function(){for(;0!==this.disposables.length;)this.disposables.pop().dispose()}},{key:"push",value:function(e){var t=this.disposables;return t.push(e),{dispose:function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},94673:(e,t,n)=>{n.r(t),n.d(t,{AbstractMessageSignature:()=>o.AbstractMessageSignature,ConsoleLogger:()=>u.k,Disposable:()=>a.J,DisposableCollection:()=>a.K,ErrorCodes:()=>o.ErrorCodes,Message:()=>o.Message,NotificationType:()=>o.NotificationType,NotificationType0:()=>o.NotificationType0,NotificationType1:()=>o.NotificationType1,NotificationType2:()=>o.NotificationType2,NotificationType3:()=>o.NotificationType3,NotificationType4:()=>o.NotificationType4,NotificationType5:()=>o.NotificationType5,NotificationType6:()=>o.NotificationType6,NotificationType7:()=>o.NotificationType7,NotificationType8:()=>o.NotificationType8,NotificationType9:()=>o.NotificationType9,ParameterStructures:()=>o.ParameterStructures,RequestType:()=>o.RequestType,RequestType0:()=>o.RequestType0,RequestType1:()=>o.RequestType1,RequestType2:()=>o.RequestType2,RequestType3:()=>o.RequestType3,RequestType4:()=>o.RequestType4,RequestType5:()=>o.RequestType5,RequestType6:()=>o.RequestType6,RequestType7:()=>o.RequestType7,RequestType8:()=>o.RequestType8,RequestType9:()=>o.RequestType9,ResponseError:()=>o.ResponseError,WebSocketMessageReader:()=>s.Mf,WebSocketMessageWriter:()=>s.IP,__esModule:()=>o.__esModule,createWebSocketConnection:()=>s.me,listen:()=>c.o,toSocket:()=>c.Z});var r=n(62101),i={};for(const e in r)"default"!==e&&(i[e]=()=>r[e]);n.d(t,i);var o=n(139),a=n(48873),s=n(21266),u=n(11969),c=n(90823)},11969:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}n.d(t,{k:()=>o});var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"error",value:function(e){console.error(e)}},{key:"warn",value:function(e){console.warn(e)}},{key:"info",value:function(e){console.info(e)}},{key:"log",value:function(e){console.log(e)}},{key:"debug",value:function(e){console.debug(e)}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},29817:(e,t,n)=>{n.d(t,{m:()=>a});var r=n(62101),i=n(14787),o=n(24606);function a(e,t){var n=new i.M(e),a=new o.I(e),s=(0,r.createMessageConnection)(n,a,t);return s.onClose((function(){return s.dispose()})),s}},21266:(e,t,n)=>{n.d(t,{IP:()=>i.I,Mf:()=>r.M,me:()=>o.m});var r=n(14787),i=n(24606),o=n(29817)},14787:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function o(){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=a(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},o.apply(this,arguments)}function a(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function d(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}n.d(t,{M:()=>p});var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(c,e);var t,n,r,a=u(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),d(l(t=a.call(this)),"socket",void 0),d(l(t),"state","initial"),d(l(t),"callback",void 0),d(l(t),"events",[]),t.socket=e,t.socket.onMessage((function(e){return t.readMessage(e)})),t.socket.onError((function(e){return t.fireError(e)})),t.socket.onClose((function(e,n){if(1e3!==e){var r={name:""+e,message:"Error during socket reconnect: code = ".concat(e,", reason = ").concat(n)};t.fireError(r)}t.fireClose()})),t}return t=c,(n=[{key:"listen",value:function(e){var t=this;if("initial"===this.state)for(this.state="listening",this.callback=e;0!==this.events.length;){var n=this.events.pop();n.message?this.readMessage(n.message):n.error?this.fireError(n.error):this.fireClose()}return{dispose:function(){t.callback===e&&(t.callback=void 0)}}}},{key:"readMessage",value:function(e){if("initial"===this.state)this.events.splice(0,0,{message:e});else if("listening"===this.state){var t=JSON.parse(e);this.callback(t)}}},{key:"fireError",value:function(e){"initial"===this.state?this.events.splice(0,0,{error:e}):"listening"===this.state&&o(f(c.prototype),"fireError",this).call(this,e)}},{key:"fireClose",value:function(){"initial"===this.state?this.events.splice(0,0,{}):"listening"===this.state&&o(f(c.prototype),"fireClose",this).call(this),this.state="closed"}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(n(74181).AbstractMessageReader)},24606:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new D(r||[]);return o(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var h={};function p(){}function v(){}function y(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,s)&&(g=b);var w=y.prototype=p.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(o,a,s,u){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,o(w,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function d(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}n.d(t,{I:()=>p});var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(p,e);var t,n,r,c,f,h=u(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),d(l(t=h.call(this)),"socket",void 0),d(l(t),"errorCount",0),t.socket=e,t}return t=p,n=[{key:"end",value:function(){}},{key:"write",value:(c=i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=JSON.stringify(t),this.socket.send(n)}catch(e){this.errorCount++,this.fireError(e,t,this.errorCount)}case 1:case"end":return e.stop()}}),e,this)})),f=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=c.apply(e,t);function a(e){o(i,n,r,a,s,"next",e)}function s(e){o(i,n,r,a,s,"throw",e)}a(void 0)}))},function(e){return f.apply(this,arguments)})}],n&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(n(65527).AbstractMessageWriter)},23576:(e,t,n)=>{n.r(t),n.d(t,{Breakpoint:()=>Eh,CallHierarchyIncomingCall:()=>Dh,CallHierarchyItem:()=>Th,CallHierarchyOutgoingCall:()=>Ph,CancellationError:()=>Oh,CancellationTokenSource:()=>Rh,CodeAction:()=>Ih,CodeActionKind:()=>Lh,CodeActionTriggerKind:()=>jh,CodeLens:()=>Ah,Color:()=>Nh,ColorInformation:()=>Fh,ColorPresentation:()=>Mh,ColorThemeKind:()=>qh,CommentMode:()=>Hh,CommentThreadCollapsibleState:()=>Wh,CompletionItem:()=>Uh,CompletionItemKind:()=>Kh,CompletionItemTag:()=>$h,CompletionList:()=>Bh,CompletionTriggerKind:()=>Vh,ConfigurationTarget:()=>zh,CustomExecution:()=>Gh,DataTransfer:()=>Bv,DataTransferItem:()=>Vv,DebugAdapterExecutable:()=>Jh,DebugAdapterInlineImplementation:()=>Yh,DebugAdapterNamedPipeServer:()=>Qh,DebugAdapterServer:()=>Zh,DebugConfigurationProviderTriggerKind:()=>Xh,DebugConsoleMode:()=>ep,DecorationRangeBehavior:()=>tp,Diagnostic:()=>np,DiagnosticRelatedInformation:()=>rp,DiagnosticSeverity:()=>ip,DiagnosticTag:()=>op,Disposable:()=>ap,DocumentDropEdit:()=>ay,DocumentHighlight:()=>sp,DocumentHighlightKind:()=>up,DocumentLink:()=>cp,DocumentSymbol:()=>lp,EndOfLine:()=>fp,EnvironmentVariableMutatorType:()=>dp,EvaluatableExpression:()=>hp,EventEmitter:()=>gp,ExtensionKind:()=>mp,ExtensionMode:()=>bp,FileChangeType:()=>wp,FileDecoration:()=>_p,FilePermission:()=>xp,FileSystemError:()=>kp,FileType:()=>Sp,FoldingRange:()=>Cp,FoldingRangeKind:()=>Ep,FunctionBreakpoint:()=>Dp,Hover:()=>Tp,IndentAction:()=>Pp,InlayHint:()=>Tv,InlayHintKind:()=>Ov,InlayHintLabelPart:()=>Pv,InlineCompletionItem:()=>oy,InlineCompletionList:()=>ry,InlineCompletionTriggerKind:()=>iy,InlineValueEvaluatableExpression:()=>yp,InlineValueText:()=>pp,InlineValueVariableLookup:()=>vp,InputBoxValidationSeverity:()=>ny,LanguageStatusSeverity:()=>zv,LinkedEditingRanges:()=>Hv,Location:()=>Op,MarkdownString:()=>Rp,NotebookCellData:()=>Lv,NotebookCellKind:()=>Iv,NotebookCellOutput:()=>Nv,NotebookCellOutputItem:()=>Fv,NotebookCellStatusBarAlignment:()=>Av,NotebookCellStatusBarItem:()=>Mv,NotebookControllerAffinity:()=>qv,NotebookData:()=>jv,NotebookEditorRevealType:()=>sy,NotebookRange:()=>Rv,OverviewRulerLane:()=>Ip,ParameterInformation:()=>Lp,Position:()=>jp,ProcessExecution:()=>Ap,ProgressLocation:()=>Np,QuickInputButtons:()=>Fp,QuickPickItemKind:()=>Gv,Range:()=>Mp,RelativePattern:()=>qp,Selection:()=>Hp,SelectionRange:()=>Wp,SemanticTokens:()=>Up,SemanticTokensBuilder:()=>Kp,SemanticTokensEdit:()=>$p,SemanticTokensEdits:()=>Bp,SemanticTokensLegend:()=>Vp,ShellExecution:()=>zp,ShellQuoting:()=>Gp,SignatureHelp:()=>Jp,SignatureHelpTriggerKind:()=>Yp,SignatureInformation:()=>Qp,SnippetString:()=>Zp,SourceBreakpoint:()=>Xp,StatusBarAlignment:()=>ev,SymbolInformation:()=>tv,SymbolKind:()=>nv,SymbolTag:()=>rv,TabInputCustom:()=>Qv,TabInputNotebook:()=>Zv,TabInputNotebookDiff:()=>Xv,TabInputTerminal:()=>ty,TabInputText:()=>Jv,TabInputTextDiff:()=>Yv,TabInputWebview:()=>ey,Task:()=>iv,TaskGroup:()=>ov,TaskPanelKind:()=>av,TaskRevealKind:()=>sv,TaskScope:()=>uv,TerminalLink:()=>cv,TerminalLocation:()=>lv,TerminalProfile:()=>fv,TestMessage:()=>Uv,TestRunProfileKind:()=>$v,TestRunRequest:()=>Wv,TestTag:()=>Kv,TextDocumentChangeReason:()=>mv,TextDocumentSaveReason:()=>dv,TextEdit:()=>hv,TextEditorCursorStyle:()=>pv,TextEditorLineNumbersStyle:()=>vv,TextEditorRevealType:()=>yv,TextEditorSelectionChangeKind:()=>gv,ThemeColor:()=>bv,ThemeIcon:()=>wv,TreeItem:()=>_v,TreeItemCollapsibleState:()=>kv,TypeHierarchyItem:()=>Sv,UIKind:()=>xv,Uri:()=>Cv,ViewColumn:()=>Ev,WorkspaceEdit:()=>Dv,authentication:()=>bh,commands:()=>kh,comments:()=>mh,debug:()=>yh,env:()=>_h,extensions:()=>gh,languages:()=>Ch,notebooks:()=>ph,scm:()=>vh,tasks:()=>hh,tests:()=>wh,version:()=>dh,window:()=>Sh,workspace:()=>xh});var r,i,o,a,s,u,c,l,f=n(9523),d=n(38709),h=n(95835),p=n(38656),v=n(19832),y=n(11092),g=n(95295),m=n(32007),b=n(8401),w=n(60160),_=n(45426),k=n(80413),S=n(21483),x=n(86193),C=n(98375),E=n(87116),D=n(32931),T=n(47129),P=n(72599),O=n(53140),R=n(83916),I=n(85006),L=n(46969),j=n(17612),A=n(4537),N=n(82459),F=n(68024),M=n(73589),q=n(6809),H=n(44056),W=n(12920),U=n(14257),K=n(49055),$=n(21633),B=n(83841),V=n(24439),z=n(31601),G=n(71386),J=n(61041),Y=n(63872),Q=n(8630),Z=n(50985),X=n(51412),ee=n(962),te=n(47123),ne=n(51586);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return(t=Te(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(){ae=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),s=new C(i||[]);return r(a,"_invoke",{value:_(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(E([])));g&&g!==t&&n.call(g,o)&&(v=g);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,a,s){var u=l(e[r],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==xe(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return D()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:D}}function D(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(){return ue="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=ce(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ue.apply(this,arguments)}function ce(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Se(e)););return e}function le(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){le(o,r,i,a,s,"next",e)}function s(e){le(o,r,i,a,s,"throw",e)}a(void 0)}))}}function de(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=pe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function he(e){return function(e){if(Array.isArray(e))return ve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){if(e){if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ke(e,t)}function ge(e){var t=_e();return function(){var n,r=Se(e);if(t){var i=Se(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return me(this,n)}}function me(e,t){if(t&&("object"===xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function be(e){var t="function"==typeof Map?new Map:void 0;return be=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return we(e,arguments,Se(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ke(r,e)},be(e)}function we(e,t,n){return we=_e()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ke(i,n.prototype),i},we.apply(null,arguments)}function _e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ke(e,t){return ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ke(e,t)}function Se(e){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Se(e)}function xe(e){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xe(e)}function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Te(r.key),r)}}function De(e,t,n){return t&&Ee(e.prototype,t),n&&Ee(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Te(e){var t=function(e,t){if("object"!==xe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===xe(t)?t:String(t)}var Pe=function(){function e(){Ce(this,e),this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout((function(){if(e.stack){if(Le.isErrorNoTelemetry(e))throw new Le(e.message+"\n\n"+e.stack);throw new Error(e.message+"\n\n"+e.stack)}throw e}),0)}}return De(e,[{key:"addListener",value:function(e){var t=this;return this.listeners.push(e),function(){t._removeListener(e)}}},{key:"emit",value:function(e){this.listeners.forEach((function(t){t(e)}))}},{key:"_removeListener",value:function(e){this.listeners.splice(this.listeners.indexOf(e),1)}},{key:"setUnexpectedErrorHandler",value:function(e){this.unexpectedErrorHandler=e}},{key:"getUnexpectedErrorHandler",value:function(){return this.unexpectedErrorHandler}},{key:"onUnexpectedError",value:function(e){this.unexpectedErrorHandler(e),this.emit(e)}},{key:"onUnexpectedExternalError",value:function(e){this.unexpectedErrorHandler(e)}}]),e}();function Oe(e){return e?new Error("readonly property '".concat(e," cannot be changed'")):new Error("readonly property cannot be changed")}function Re(e){var t=new Error("".concat(e," has been disposed"));return t.name="DISPOSED",t}var Ie=function(e){ye(n,e);var t=ge(n);function n(e){var r;return Ce(this,n),r=t.call(this,"NotImplemented"),e&&(r.message=e),r}return De(n)}(be(Error)),Le=function(e){ye(n,e);var t=ge(n);function n(e){var r;return Ce(this,n),(r=t.call(this,e)).name="ErrorNoTelemetry",r}return De(n,null,[{key:"fromError",value:function(e){if(e instanceof n)return e;var t=new n;return t.message=e.message,t.stack=e.stack,t}},{key:"isErrorNoTelemetry",value:function(e){return"ErrorNoTelemetry"===e.name}}]),n}(be(Error));var je,Ae,Ne="undefined"!=typeof Buffer,Fe=function(){function e(t){Ce(this,e),this.buffer=t,this.byteLength=this.buffer.byteLength}return De(e,[{key:"clone",value:function(){var t=e.alloc(this.byteLength);return t.set(this),t}},{key:"toString",value:function(){return Ne?this.buffer.toString():(Ae||(Ae=new TextDecoder),Ae.decode(this.buffer))}},{key:"slice",value:function(t,n){return new e(this.buffer.subarray(t,n))}},{key:"set",value:function(t,n){if(t instanceof e)this.buffer.set(t.buffer,n);else if(t instanceof Uint8Array)this.buffer.set(t,n);else if(t instanceof ArrayBuffer)this.buffer.set(new Uint8Array(t),n);else{if(!ArrayBuffer.isView(t))throw new Error("Unknown argument 'array'");this.buffer.set(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n)}}},{key:"readUInt32BE",value:function(e){return function(e,t){return e[t]*Math.pow(2,24)+e[t+1]*Math.pow(2,16)+e[t+2]*Math.pow(2,8)+e[t+3]}(this.buffer,e)}},{key:"writeUInt32BE",value:function(e,t){!function(e,t,n){e[n+3]=t,t>>>=8,e[n+2]=t,t>>>=8,e[n+1]=t,t>>>=8,e[n]=t}(this.buffer,e,t)}},{key:"readUInt32LE",value:function(e){return function(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0|e[t+2]<<16>>>0|e[t+3]<<24>>>0}(this.buffer,e)}},{key:"writeUInt32LE",value:function(e,t){!function(e,t,n){e[n+0]=255&t,t>>>=8,e[n+1]=255&t,t>>>=8,e[n+2]=255&t,t>>>=8,e[n+3]=255&t}(this.buffer,e,t)}},{key:"readUInt8",value:function(e){return function(e,t){return e[t]}(this.buffer,e)}},{key:"writeUInt8",value:function(e,t){!function(e,t,n){e[n]=t}(this.buffer,e,t)}}],[{key:"alloc",value:function(t){return new e(Ne?Buffer.allocUnsafe(t):new Uint8Array(t))}},{key:"wrap",value:function(t){return Ne&&!Buffer.isBuffer(t)&&(t=Buffer.from(t.buffer,t.byteOffset,t.byteLength)),new e(t)}},{key:"fromString",value:function(t,n){return!((null==n?void 0:n.dontUseNodeBuffer)||!1)&&Ne?new e(Buffer.from(t)):(je||(je=new TextEncoder),new e(je.encode(t)))}},{key:"fromByteArray",value:function(t){for(var n=e.alloc(t.length),r=0,i=t.length;r<i;r++)n.buffer[r]=t[r];return n}},{key:"concat",value:function(t,n){if(void 0===n){n=0;for(var r=0,i=t.length;r<i;r++)n+=t[r].byteLength}for(var o=e.alloc(n),a=0,s=0,u=t.length;s<u;s++){var c=t[s];o.set(c,a),a+=c.byteLength}return o}}]),e}();var Me=function(e){ye(n,e);var t=ge(n);function n(e){var r;return Ce(this,n),(r=t.call(this)).themeService=e,r.theme=e.getColorTheme(),r._register(r.themeService.onDidColorThemeChange((function(e){return r.onThemeChange(e)}))),r}return De(n,[{key:"onThemeChange",value:function(e){this.theme=e,this.updateStyles()}},{key:"updateStyles",value:function(){}},{key:"getColor",value:function(e,t){var n=this.theme.getColor(e);return n&&t&&(n=t(n,this.theme)),n?n.toString():null}}]),n}(d.JT),qe="done",He="active",We="infinite",Ue="infinite-long-running",Ke="discrete",$e={progressBarBackground:w.Il.fromHex("#0E70C0")},Be=function(e){ye(n,e);var t=ge(n);function n(e,r){var i;return Ce(this,n),(i=t.call(this)).options=r||Object.create(null),(0,y.jB)(i.options,$e,!1),i.workedVal=0,i.progressBarBackground=i.options.progressBarBackground,i.showDelayedScheduler=i._register(new g.pY((function(){return(0,m.show)(i.element)}),0)),i.longRunningScheduler=i._register(new g.pY((function(){return i.infiniteLongRunning()}),n.LONG_RUNNING_INFINITE_THRESHOLD)),i.create(e),i}return De(n,[{key:"create",value:function(e){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}},{key:"off",value:function(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(He,We,Ue,Ke),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}},{key:"done",value:function(){return this.doDone(!0)}},{key:"stop",value:function(){return this.doDone(!1)}},{key:"doDone",value:function(e){var t=this;return this.element.classList.add(qe),this.element.classList.contains(We)?(this.bit.style.opacity="0",e?setTimeout((function(){return t.off()}),200):this.off()):(this.bit.style.width="inherit",e?setTimeout((function(){return t.off()}),200):this.off()),this}},{key:"infinite",value:function(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Ke,qe,Ue),this.element.classList.add(He,We),this.longRunningScheduler.schedule(),this}},{key:"infiniteLongRunning",value:function(){this.element.classList.add(Ue)}},{key:"total",value:function(e){return this.workedVal=0,this.totalWork=e,this.element.setAttribute("aria-valuemax",e.toString()),this}},{key:"hasTotal",value:function(){return(0,b.hj)(this.totalWork)}},{key:"worked",value:function(e){return e=Math.max(1,Number(e)),this.doSetWorked(this.workedVal+e)}},{key:"setWorked",value:function(e){return e=Math.max(1,Number(e)),this.doSetWorked(e)}},{key:"doSetWorked",value:function(e){var t=this.totalWork||100;return this.workedVal=e,this.workedVal=Math.min(t,this.workedVal),this.element.classList.remove(We,Ue,qe),this.element.classList.add(He,Ke),this.element.setAttribute("aria-valuenow",e.toString()),this.bit.style.width=this.workedVal/t*100+"%",this}},{key:"getContainer",value:function(){return this.element}},{key:"show",value:function(e){this.showDelayedScheduler.cancel(),"number"==typeof e?this.showDelayedScheduler.schedule(e):(0,m.show)(this.element)}},{key:"hide",value:function(){(0,m.hide)(this.element),this.showDelayedScheduler.cancel()}},{key:"style",value:function(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()}},{key:"applyStyles",value:function(){if(this.bit){var e=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=e}}}]),n}(d.JT);Be.LONG_RUNNING_INFINITE_THRESHOLD=1e4;var Ve=function(e){ye(n,e);var t=ge(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Ce(this,n),(e=t.call(this))._onDidEncounterLanguage=e._register(new k.E),e.onDidEncounterLanguage=e._onDidEncounterLanguage.event,e._onDidChange=e._register(new k.E({leakWarningThreshold:200})),e.onDidChange=e._onDidChange.event,n.instanceCount++,e._encounteredLanguages=new Set,e._registry=e._register(new S.t(!0,r)),e.languageIdCodec=e._registry.languageIdCodec,e._register(e._registry.onDidChange((function(){return e._onDidChange.fire()}))),e}return De(n,[{key:"dispose",value:function(){n.instanceCount--,ue(Se(n.prototype),"dispose",this).call(this)}},{key:"registerLanguage",value:function(e){return this._registry.registerLanguage(e)}},{key:"isRegisteredLanguageId",value:function(e){return this._registry.isRegisteredLanguageId(e)}},{key:"getRegisteredLanguageIds",value:function(){return this._registry.getRegisteredLanguageIds()}},{key:"getSortedRegisteredLanguageNames",value:function(){return this._registry.getSortedRegisteredLanguageNames()}},{key:"getLanguageName",value:function(e){return this._registry.getLanguageName(e)}},{key:"getMimeType",value:function(e){return this._registry.getMimeType(e)}},{key:"getIcon",value:function(e){return this._registry.getIcon(e)}},{key:"getExtensions",value:function(e){return this._registry.getExtensions(e)}},{key:"getFilenames",value:function(e){return this._registry.getFilenames(e)}},{key:"getConfigurationFiles",value:function(e){return this._registry.getConfigurationFiles(e)}},{key:"getLanguageIdByLanguageName",value:function(e){return this._registry.getLanguageIdByLanguageName(e)}},{key:"getLanguageIdByMimeType",value:function(e){return this._registry.getLanguageIdByMimeType(e)}},{key:"guessLanguageIdByFilepathOrFirstLine",value:function(e,t){var n=this._registry.guessLanguageIdByFilepathOrFirstLine(e,t);return(0,x.Xh)(n,null)}},{key:"createById",value:function(e){var t=this;return new Ye(this.onDidChange,(function(){return t._createAndGetLanguageIdentifier(e)}))}},{key:"createByMimeType",value:function(e){var t=this;return new Ye(this.onDidChange,(function(){var n=t.getLanguageIdByMimeType(e);return t._createAndGetLanguageIdentifier(n)}))}},{key:"createByFilepathOrFirstLine",value:function(e,t){var n=this;return new Ye(this.onDidChange,(function(){var r=n.guessLanguageIdByFilepathOrFirstLine(e,t);return n._createAndGetLanguageIdentifier(r)}))}},{key:"_createAndGetLanguageIdentifier",value:function(e){return e&&this.isRegisteredLanguageId(e)||(e=C.bd),this._encounteredLanguages.has(e)||(this._encounteredLanguages.add(e),E.RW.getOrCreate(e),this._onDidEncounterLanguage.fire(e)),e}}]),n}(d.JT);Ve.instanceCount=0;var ze,Ge,Je,Ye=function(){function e(t,n){Ce(this,e),this._onDidChangeLanguages=t,this._selector=n,this._listener=null,this._emitter=null,this.languageId=this._selector()}return De(e,[{key:"_dispose",value:function(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}},{key:"onDidChange",get:function(){var e=this;return this._listener||(this._listener=this._onDidChangeLanguages((function(){return e._evaluate()}))),this._emitter||(this._emitter=new k.E({onLastListenerRemove:function(){e._dispose()}})),this._emitter.event}},{key:"_evaluate",value:function(){var e,t=this._selector();t!==this.languageId&&(this.languageId=t,null===(e=this._emitter)||void 0===e||e.fire(this.languageId))}}]),e}();function Qe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,r=e.length,i="",o=0,a=16,s=0;function u(t){for(var r=0,i=0;r<t;){var o=e.charCodeAt(n);if(o>=48&&o<=57)i=16*i+o-48;else if(o>=65&&o<=70)i=16*i+o-65+10;else{if(!(o>=97&&o<=102))break;i=16*i+o-97+10}n++,r++}return r<t&&(i=-1),i}function c(e){n=e,i="",o=0,a=16,s=0}function l(){var t=n;if(48===e.charCodeAt(n))n++;else for(n++;n<e.length&&et(e.charCodeAt(n));)n++;if(n<e.length&&46===e.charCodeAt(n)){if(!(++n<e.length&&et(e.charCodeAt(n))))return s=3,e.substring(t,n);for(n++;n<e.length&&et(e.charCodeAt(n));)n++}var r=n;if(n<e.length&&(69===e.charCodeAt(n)||101===e.charCodeAt(n)))if((++n<e.length&&43===e.charCodeAt(n)||45===e.charCodeAt(n))&&n++,n<e.length&&et(e.charCodeAt(n))){for(n++;n<e.length&&et(e.charCodeAt(n));)n++;r=n}else s=3;return e.substring(t,r)}function f(){for(var t="",i=n;;){if(n>=r){t+=e.substring(i,n),s=2;break}var o=e.charCodeAt(n);if(34===o){t+=e.substring(i,n),n++;break}if(92!==o){if(o>=0&&o<=31){if(Xe(o)){t+=e.substring(i,n),s=2;break}s=6}n++}else{if(t+=e.substring(i,n),++n>=r){s=2;break}switch(e.charCodeAt(n++)){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:var a=u(4);a>=0?t+=String.fromCharCode(a):s=4;break;default:s=5}i=n}}return t}function d(){if(i="",s=0,o=n,n>=r)return o=r,a=17;var t=e.charCodeAt(n);if(Ze(t)){do{n++,i+=String.fromCharCode(t),t=e.charCodeAt(n)}while(Ze(t));return a=15}if(Xe(t))return n++,i+=String.fromCharCode(t),13===t&&10===e.charCodeAt(n)&&(n++,i+="\n"),a=14;switch(t){case 123:return n++,a=1;case 125:return n++,a=2;case 91:return n++,a=3;case 93:return n++,a=4;case 58:return n++,a=6;case 44:return n++,a=5;case 34:return n++,i=f(),a=10;case 47:var u=n-1;if(47===e.charCodeAt(n+1)){for(n+=2;n<r&&!Xe(e.charCodeAt(n));)n++;return i=e.substring(u,n),a=12}if(42===e.charCodeAt(n+1)){n+=2;for(var c=r-1,d=!1;n<c;){if(42===e.charCodeAt(n)&&47===e.charCodeAt(n+1)){n+=2,d=!0;break}n++}return d||(n++,s=1),i=e.substring(u,n),a=13}return i+=String.fromCharCode(t),n++,a=16;case 45:if(i+=String.fromCharCode(t),++n===r||!et(e.charCodeAt(n)))return a=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=l(),a=11;default:for(;n<r&&h(t);)n++,t=e.charCodeAt(n);if(o!==n){switch(i=e.substring(o,n)){case"true":return a=8;case"false":return a=9;case"null":return a=7}return a=16}return i+=String.fromCharCode(t),n++,a=16}}function h(e){if(Ze(e)||Xe(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function p(){var e;do{e=d()}while(e>=12&&e<=15);return e}return{setPosition:c,getPosition:function(){return n},scan:t?p:d,getToken:function(){return a},getTokenValue:function(){return i},getTokenOffset:function(){return o},getTokenLength:function(){return n-o},getTokenError:function(){return s}}}function Ze(e){return 32===e||9===e||11===e||12===e||160===e||5760===e||e>=8192&&e<=8203||8239===e||8287===e||12288===e||65279===e}function Xe(e){return 10===e||13===e||8232===e||8233===e}function et(e){return e>=48&&e<=57}function tt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ze.DEFAULT,r=Qe(e,!1);function i(e){return e?function(){return e(r.getTokenOffset(),r.getTokenLength())}:function(){return!0}}function o(e){return e?function(t){return e(t,r.getTokenOffset(),r.getTokenLength())}:function(){return!0}}var a=i(t.onObjectBegin),s=o(t.onObjectProperty),u=i(t.onObjectEnd),c=i(t.onArrayBegin),l=i(t.onArrayEnd),f=o(t.onLiteralValue),d=o(t.onSeparator),h=i(t.onComment),p=o(t.onError),v=n&&n.disallowComments,y=n&&n.allowTrailingComma;function g(){for(;;){var e=r.scan();switch(r.getTokenError()){case 4:m(14);break;case 5:m(15);break;case 3:m(13);break;case 1:v||m(11);break;case 2:m(12);break;case 6:m(16)}switch(e){case 12:case 13:v?m(10):h();break;case 16:m(1);break;case 15:case 14:break;default:return e}}}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(p(e),t.length+n.length>0)for(var i=r.getToken();17!==i;){if(-1!==t.indexOf(i)){g();break}if(-1!==n.indexOf(i))break;i=g()}}function b(e){var t=r.getTokenValue();return e?f(t):s(t),g(),!0}function w(){switch(r.getToken()){case 11:var e=0;try{"number"!=typeof(e=JSON.parse(r.getTokenValue()))&&(m(2),e=0)}catch(e){m(2)}f(e);break;case 7:f(null);break;case 8:f(!0);break;case 9:f(!1);break;default:return!1}return g(),!0}function _(){return 10!==r.getToken()?(m(3,[],[2,5]),!1):(b(!1),6===r.getToken()?(d(":"),g(),x()||m(4,[],[2,5])):m(5,[],[2,5]),!0)}function k(){a(),g();for(var e=!1;2!==r.getToken()&&17!==r.getToken();){if(5===r.getToken()){if(e||m(4,[],[]),d(","),g(),2===r.getToken()&&y)break}else e&&m(6,[],[]);_()||m(4,[],[2,5]),e=!0}return u(),2!==r.getToken()?m(7,[2],[]):g(),!0}function S(){c(),g();for(var e=!1;4!==r.getToken()&&17!==r.getToken();){if(5===r.getToken()){if(e||m(4,[],[]),d(","),g(),4===r.getToken()&&y)break}else e&&m(6,[],[]);x()||m(4,[],[4,5]),e=!0}return l(),4!==r.getToken()?m(8,[4],[]):g(),!0}function x(){switch(r.getToken()){case 3:return S();case 1:return k();case 10:return b(!0);default:return w()}}return g(),17===r.getToken()?!!n.allowEmptyContent||(m(4,[],[]),!1):x()?(17!==r.getToken()&&m(9,[],[]),!0):(m(4,[],[]),!1)}!function(e){e.DEFAULT={allowTrailingComma:!0}}(ze||(ze={}));var nt=function(){function e(){Ce(this,e),this._value="",this._pos=0}return De(e,[{key:"reset",value:function(e){return this._value=e,this._pos=0,this}},{key:"next",value:function(){return this._pos+=1,this}},{key:"hasNext",value:function(){return this._pos<this._value.length-1}},{key:"cmp",value:function(e){return e.charCodeAt(0)-this._value.charCodeAt(this._pos)}},{key:"value",value:function(){return this._value[this._pos]}}]),e}(),rt=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Ce(this,e),this._caseSensitive=t}return De(e,[{key:"reset",value:function(e){return this._value=e,this._from=0,this._to=0,this.next()}},{key:"hasNext",value:function(){return this._to<this._value.length}},{key:"next",value:function(){this._from=this._to;for(var e=!0;this._to<this._value.length;this._to++){if(46===this._value.charCodeAt(this._to)){if(!e)break;this._from++}else e=!1}return this}},{key:"cmp",value:function(e){return this._caseSensitive?(0,L.TT)(e,this._value,0,e.length,this._from,this._to):(0,L.j_)(e,this._value,0,e.length,this._from,this._to)}},{key:"value",value:function(){return this._value.substring(this._from,this._to)}}]),e}(),it=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Ce(this,e),this._splitOnBackslash=t,this._caseSensitive=n}return De(e,[{key:"reset",value:function(e){this._from=0,this._to=0,this._value=e,this._valueLen=e.length;for(var t=e.length-1;t>=0;t--,this._valueLen--){var n=this._value.charCodeAt(t);if(!(47===n||this._splitOnBackslash&&92===n))break}return this.next()}},{key:"hasNext",value:function(){return this._to<this._valueLen}},{key:"next",value:function(){this._from=this._to;for(var e=!0;this._to<this._valueLen;this._to++){var t=this._value.charCodeAt(this._to);if(47===t||this._splitOnBackslash&&92===t){if(!e)break;this._from++}else e=!1}return this}},{key:"cmp",value:function(e){return this._caseSensitive?(0,L.TT)(e,this._value,0,e.length,this._from,this._to):(0,L.j_)(e,this._value,0,e.length,this._from,this._to)}},{key:"value",value:function(){return this._value.substring(this._from,this._to)}}]),e}(),ot=function(){function e(t,n){Ce(this,e),this._ignorePathCasing=t,this._ignoreQueryAndFragment=n,this._states=[],this._stateIdx=0}return De(e,[{key:"reset",value:function(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new it(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(e)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}},{key:"next",value:function(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}},{key:"hasNext",value:function(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}},{key:"cmp",value:function(e){if(1===this._states[this._stateIdx])return(0,L.zY)(e,this._value.scheme);if(2===this._states[this._stateIdx])return(0,L.zY)(e,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(e);if(4===this._states[this._stateIdx])return(0,L.qu)(e,this._value.query);if(5===this._states[this._stateIdx])return(0,L.qu)(e,this._value.fragment);throw new Error}},{key:"value",value:function(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}]),e}(),at=function(){function e(){Ce(this,e),this.height=1}return De(e,[{key:"isEmpty",value:function(){return!(this.left||this.mid||this.right||this.value)}},{key:"rotateLeft",value:function(){var e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}},{key:"rotateRight",value:function(){var e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}},{key:"updateHeight",value:function(){this.height=1+Math.max(this.heightLeft,this.heightRight)}},{key:"balanceFactor",value:function(){return this.heightRight-this.heightLeft}},{key:"heightLeft",get:function(){var e,t;return null!==(e=null===(t=this.left)||void 0===t?void 0:t.height)&&void 0!==e?e:0}},{key:"heightRight",get:function(){var e,t;return null!==(e=null===(t=this.right)||void 0===t?void 0:t.height)&&void 0!==e?e:0}}]),e}(),st=function(e){function t(e){Ce(this,t),this._iter=e}return De(t,[{key:"clear",value:function(){this._root=void 0}},{key:"fill",value:function(e,t){if(t){var n=t.slice(0);(0,k.s)(n);var r,i=de(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.set(o,e)}}catch(e){i.e(e)}finally{i.f()}}else{var a=e.slice(0);(0,k.s)(a);var s,u=de(a);try{for(u.s();!(s=u.n()).done;){var c=s.value;this.set(c[0],c[1])}}catch(e){u.e(e)}finally{u.f()}}}},{key:"set",value:function(e,t){var n,r=this._iter.reset(e);this._root||(this._root=new at,this._root.segment=r.value());var i=[];for(n=this._root;;){var o=r.cmp(n.segment);if(o>0)n.left||(n.left=new at,n.left.segment=r.value()),i.push([-1,n]),n=n.left;else if(o<0)n.right||(n.right=new at,n.right.segment=r.value()),i.push([1,n]),n=n.right;else{if(!r.hasNext())break;r.next(),n.mid||(n.mid=new at,n.mid.segment=r.value()),i.push([0,n]),n=n.mid}}var a=n.value;n.value=t,n.key=e;for(var s=i.length-1;s>=0;s--){var u=i[s][1];u.updateHeight();var c=u.balanceFactor();if(c<-1||c>1){var l=i[s][0],f=i[s+1][0];if(1===l&&1===f)i[s][1]=u.rotateLeft();else if(-1===l&&-1===f)i[s][1]=u.rotateRight();else if(1===l&&-1===f)u.right=i[s+1][1]=i[s+1][1].rotateRight(),i[s][1]=u.rotateLeft();else{if(-1!==l||1!==f)throw new Error;u.left=i[s+1][1]=i[s+1][1].rotateLeft(),i[s][1]=u.rotateRight()}if(s>0)switch(i[s-1][0]){case-1:i[s-1][1].left=i[s][1];break;case 1:i[s-1][1].right=i[s][1];break;case 0:i[s-1][1].mid=i[s][1]}else this._root=i[0][1]}}return a}},{key:"get",value:function(e){var t;return null===(t=this._getNode(e))||void 0===t?void 0:t.value}},{key:"_getNode",value:function(e){for(var t=this._iter.reset(e),n=this._root;n;){var r=t.cmp(n.segment);if(r>0)n=n.left;else if(r<0)n=n.right;else{if(!t.hasNext())break;t.next(),n=n.mid}}return n}},{key:"has",value:function(e){var t=this._getNode(e);return!(void 0===(null==t?void 0:t.value)&&void 0===(null==t?void 0:t.mid))}},{key:"delete",value:function(e){return this._delete(e,!1)}},{key:"deleteSuperstr",value:function(e){return this._delete(e,!0)}},{key:"_delete",value:function(e,t){for(var n=this._iter.reset(e),r=[],i=this._root;i;){var o=n.cmp(i.segment);if(o>0)r.push([-1,i]),i=i.left;else if(o<0)r.push([1,i]),i=i.right;else{if(!n.hasNext())break;n.next(),r.push([0,i]),i=i.mid}}if(i){if(t?(i.left=void 0,i.mid=void 0,i.right=void 0,i.height=1):(i.key=void 0,i.value=void 0),!i.mid&&!i.value)if(i.left&&i.right){var a=this._min(i.right),s=a.key,u=a.value,c=a.segment;this._delete(a.key,!1),i.key=s,i.value=u,i.segment=c}else{var l,f=null!==(l=i.left)&&void 0!==l?l:i.right;if(r.length>0){var d=se(r[r.length-1],2),h=d[0],p=d[1];switch(h){case-1:p.left=f;break;case 0:p.mid=f;break;case 1:p.right=f}}else this._root=f}for(var v=r.length-1;v>=0;v--){var y=r[v][1];y.updateHeight();var g=y.balanceFactor();if(g>1?(y.right.balanceFactor()>=0||(y.right=y.right.rotateRight()),r[v][1]=y.rotateLeft()):g<-1&&(y.left.balanceFactor()<=0||(y.left=y.left.rotateLeft()),r[v][1]=y.rotateRight()),v>0)switch(r[v-1][0]){case-1:r[v-1][1].left=r[v][1];break;case 1:r[v-1][1].right=r[v][1];break;case 0:r[v-1][1].mid=r[v][1]}else this._root=r[0][1]}}}},{key:"_min",value:function(e){for(;e.left;)e=e.left;return e}},{key:"findSubstr",value:function(e){for(var t=this._iter.reset(e),n=this._root,r=void 0;n;){var i=t.cmp(n.segment);if(i>0)n=n.left;else if(i<0)n=n.right;else{if(!t.hasNext())break;t.next(),r=n.value||r,n=n.mid}}return n&&n.value||r}},{key:"findSuperstr",value:function(e){for(var t=this._iter.reset(e),n=this._root;n;){var r=t.cmp(n.segment);if(r>0)n=n.left;else if(r<0)n=n.right;else{if(!t.hasNext())return n.mid?this._entries(n.mid):void 0;t.next(),n=n.mid}}}},{key:"forEach",value:function(e){var t,n=de(this);try{for(n.s();!(t=n.n()).done;){var r=se(t.value,2),i=r[0];e(r[1],i)}}catch(e){n.e(e)}finally{n.f()}}},{key:Symbol.iterator,value:ae().mark((function e(){return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._entries(this._root),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"_entries",value:function(e){var t=[];return this._dfsEntries(e,t),t[Symbol.iterator]()}},{key:"_dfsEntries",value:function(e,t){e&&(e.left&&this._dfsEntries(e.left,t),e.value&&t.push([e.key,e.value]),e.mid&&this._dfsEntries(e.mid,t),e.right&&this._dfsEntries(e.right,t))}},{key:"_isBalanced",value:function(){return function e(t){if(!t)return!0;var n=t.balanceFactor();return!(n<-1||n>1)&&(e(t.left)&&e(t.right))}(this._root)}}],[{key:"forUris",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!1};return new t(new ot(e,n))}},{key:"forPaths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new t(new it(void 0,!e))}},{key:"forStrings",value:function(){return new t(new nt)}},{key:"forConfigKeys",value:function(){return new t(new rt)}}]),t}(),ut=De((function e(t,n){Ce(this,e),this.uri=t,this.value=n})),ct=function(e){function t(e,n){Ce(this,t),this[Ge]="ResourceMap",e instanceof t?(this.map=new Map(e.map),this.toKey=null!=n?n:t.defaultToKey):(this.map=new Map,this.toKey=null!=e?e:t.defaultToKey)}return De(t,[{key:"set",value:function(e,t){return this.map.set(this.toKey(e),new ut(e,t)),this}},{key:"get",value:function(e){var t;return null===(t=this.map.get(this.toKey(e)))||void 0===t?void 0:t.value}},{key:"has",value:function(e){return this.map.has(this.toKey(e))}},{key:"size",get:function(){return this.map.size}},{key:"clear",value:function(){this.map.clear()}},{key:"delete",value:function(e){return this.map.delete(this.toKey(e))}},{key:"forEach",value:function(e,t){void 0!==t&&(e=e.bind(t));var n,r=de(this.map);try{for(r.s();!(n=r.n()).done;){var i=se(n.value,2),o=(i[0],i[1]);e(o.value,o.uri,this)}}catch(e){r.e(e)}finally{r.f()}}},{key:"values",value:ae().mark((function e(){var t,n,r;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=de(this.map.values()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r.value;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"keys",value:ae().mark((function e(){var t,n,r;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=de(this.map.values()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r.uri;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"entries",value:ae().mark((function e(){var t,n,r;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=de(this.map.values()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,[r.uri,r.value];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:e,value:ae().mark((function e(){var t,n,r,i;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=de(this.map),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=se(n.value,2),i=r[1],e.next=7,[i.uri,i.value];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))}]),t}((Ge=Symbol.toStringTag,Symbol.iterator));ct.defaultToKey=function(e){return e.toString()};var lt,ft=function(e){function t(e,n){Ce(this,t),this[Je]="ResourceSet",e&&"function"!=typeof e?(this._map=new ct(n),e.forEach(this.add,this)):this._map=new ct(e)}return De(t,[{key:"size",get:function(){return this._map.size}},{key:"add",value:function(e){return this._map.set(e,e),this}},{key:"clear",value:function(){this._map.clear()}},{key:"delete",value:function(e){return this._map.delete(e)}},{key:"forEach",value:function(e,t){var n=this;this._map.forEach((function(r,i){return e.call(t,i,i,n)}))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"entries",value:function(){return this._map.entries()}},{key:"keys",value:function(){return this._map.keys()}},{key:"values",value:function(){return this._map.keys()}},{key:e,value:function(){return this.keys()}}]),t}((Je=Symbol.toStringTag,Symbol.iterator)),dt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Ce(this,e),this._contents=t,this._keys=n,this._overrides=r,this.frozen=!1,this.overrideConfigurations=new Map}return De(e,[{key:"contents",get:function(){return this.checkAndFreeze(this._contents)}},{key:"overrides",get:function(){return this.checkAndFreeze(this._overrides)}},{key:"keys",get:function(){return this.checkAndFreeze(this._keys)}},{key:"isEmpty",value:function(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}},{key:"isFrozen",value:function(){return this.frozen}},{key:"getValue",value:function(e){return e?(0,A.Mt)(this.contents,e):this.contents}},{key:"getOverrideValue",value:function(e,t){var n=this.getContentsForOverrideIdentifer(t);return n?e?(0,A.Mt)(n,e):n:void 0}},{key:"getKeysForOverrideIdentifier",value:function(e){var t,n=[],r=de(this.overrides);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.identifiers.includes(e)&&n.push.apply(n,he(i.keys))}}catch(e){r.e(e)}finally{r.f()}return(0,x.EB)(n)}},{key:"getAllOverrideIdentifiers",value:function(){var e,t=[],n=de(this.overrides);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,he(r.identifiers))}}catch(e){n.e(e)}finally{n.f()}return(0,x.EB)(t)}},{key:"override",value:function(e){var t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}},{key:"merge",value:function(){for(var t=this,n=(0,y.I8)(this.contents),r=(0,y.I8)(this.overrides),i=he(this.keys),o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];for(var u=0,c=a;u<c.length;u++){var l=c[u];if(!l.isEmpty()){this.mergeContents(n,l.contents);var f,d=de(l.overrides);try{var h=function(){var e,n=f.value,i=se(r.filter((function(e){return(0,x.fS)(e.identifiers,n.identifiers)})),1)[0];i?(t.mergeContents(i.contents,n.contents),(e=i.keys).push.apply(e,he(n.keys)),i.keys=(0,x.EB)(i.keys)):r.push((0,y.I8)(n))};for(d.s();!(f=d.n()).done;)h()}catch(e){d.e(e)}finally{d.f()}var p,v=de(l.keys);try{for(v.s();!(p=v.n()).done;){var g=p.value;-1===i.indexOf(g)&&i.push(g)}}catch(e){v.e(e)}finally{v.f()}}}return new e(n,i,r)}},{key:"freeze",value:function(){return this.frozen=!0,this}},{key:"clone",value:function(){return new e((0,y.I8)(this.contents),he(this.keys),(0,y.I8)(this.overrides))}},{key:"createOverrideConfigurationModel",value:function(t){var n=this.getContentsForOverrideIdentifer(t);if(!n||"object"!==xe(n)||!Object.keys(n).length)return this;var r,i={},o=de((0,x.EB)([].concat(he(Object.keys(this.contents)),he(Object.keys(n)))));try{for(o.s();!(r=o.n()).done;){var a=r.value,s=this.contents[a],u=n[a];u&&("object"===xe(s)&&"object"===xe(u)?(s=(0,y.I8)(s),this.mergeContents(s,u)):s=u),i[a]=s}}catch(e){o.e(e)}finally{o.f()}return new e(i,this.keys,this.overrides)}},{key:"mergeContents",value:function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];i in e&&(0,b.Kn)(e[i])&&(0,b.Kn)(t[i])?this.mergeContents(e[i],t[i]):e[i]=(0,y.I8)(t[i])}}},{key:"checkAndFreeze",value:function(e){return this.frozen&&!Object.isFrozen(e)?(0,y._A)(e):e}},{key:"getContentsForOverrideIdentifer",value:function(e){var t,n=this,r=null,i=null,o=function(e){e&&(i?n.mergeContents(i,e):i=(0,y.I8)(e))},a=de(this.overrides);try{for(a.s();!(t=a.n()).done;){var s=t.value;(0,x.fS)(s.identifiers,[e])?r=s.contents:s.identifiers.includes(e)&&o(s.contents)}}catch(e){a.e(e)}finally{a.f()}return o(r),i}},{key:"toJSON",value:function(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}},{key:"setValue",value:function(e,t){this.addKey(e),(0,A.KV)(this.contents,e,t,(function(e){throw new Error(e)}))}},{key:"removeValue",value:function(e){this.removeKey(e)&&(0,A.xL)(this.contents,e)}},{key:"addKey",value:function(e){for(var t=this.keys.length,n=0;n<t;n++)0===e.indexOf(this.keys[n])&&(t=n);this.keys.splice(t,1,e)}},{key:"removeKey",value:function(e){var t=this.keys.indexOf(e);return-1!==t&&(this.keys.splice(t,1),!0)}}]),e}(),ht=function(){function e(t){Ce(this,e),this._name=t,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[],this._parseErrors=[]}return De(e,[{key:"configurationModel",get:function(){return this._configurationModel||new dt}},{key:"restrictedConfigurations",get:function(){return this._restrictedConfigurations}},{key:"errors",get:function(){return this._parseErrors}},{key:"parse",value:function(e,t){if(!(0,b.Jp)(e)){var n=this.doParseContent(e);this.parseRaw(n,t)}}},{key:"reparse",value:function(e){this._raw&&this.parseRaw(this._raw,e)}},{key:"parseRaw",value:function(e,t){this._raw=e;var n=this.doParseRaw(e,t),r=n.contents,i=n.keys,o=n.overrides,a=n.restricted;this._configurationModel=new dt(r,i,o),this._restrictedConfigurations=a||[]}},{key:"doParseContent",value:function(e){var t={},n=null,r=[],i=[];function o(e){Array.isArray(r)?r.push(e):null!==n&&(r[n]=e)}var a={onObjectBegin:function(){var e={};o(e),i.push(r),r=e,n=null},onObjectProperty:function(e){n=e},onObjectEnd:function(){r=i.pop()},onArrayBegin:function(){var e=[];o(e),i.push(r),r=e,n=null},onArrayEnd:function(){r=i.pop()},onLiteralValue:o,onError:function(e,t,n){}};if(e)try{tt(e,a),t=r[0]||{}}catch(e){console.error("Error while parsing settings file ".concat(this._name,": ").concat(e)),this._parseErrors=[e]}return t}},{key:"doParseRaw",value:function(e,t){var n=this,r=F.B.as(j.IP.Configuration).getConfigurationProperties(),i=this.filter(e,r,!0,t);return e=i.raw,{contents:(0,A.Od)(e,(function(e){return console.error("Conflict in settings file ".concat(n._name,": ").concat(e))})),keys:Object.keys(e),overrides:this.toOverrides(e,(function(e){return console.error("Conflict in settings file ".concat(n._name,": ").concat(e))})),restricted:i.restricted}}},{key:"filter",value:function(e,t,n,r){if(!(null!=r&&r.scopes||null!=r&&r.skipRestricted))return{raw:e,restricted:[]};var i={},o=[];for(var a in e)if(j.eU.test(a)&&n){var s=this.filter(e[a],t,!1,r);i[a]=s.raw,o.push.apply(o,he(s.restricted))}else{var u=t[a],c=u?void 0!==u.scope?u.scope:3:void 0;null!=u&&u.restricted&&o.push(a),(void 0===c||void 0===r.scopes||r.scopes.includes(c))&&(r.skipRestricted&&null!=u&&u.restricted||(i[a]=e[a]))}return{raw:i,restricted:o}}},{key:"toOverrides",value:function(e,t){for(var n=[],r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];if(j.eU.test(o)){var a={};for(var s in e[o])a[s]=e[o][s];n.push({identifiers:(0,j.ny)(o),keys:Object.keys(a),contents:(0,A.Od)(a,t)})}}return n}}]),e}(),pt=(d.JT,function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new dt,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new dt,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new I.Y9,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:new dt,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:new I.Y9,l=!(arguments.length>9&&void 0!==arguments[9])||arguments[9];Ce(this,e),this._defaultConfiguration=t,this._policyConfiguration=n,this._applicationConfiguration=r,this._localUserConfiguration=i,this._remoteUserConfiguration=o,this._workspaceConfiguration=a,this._folderConfigurations=s,this._memoryConfiguration=u,this._memoryConfigurationByResource=c,this._freeze=l,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new I.Y9,this._userConfiguration=null}return De(e,[{key:"getValue",value:function(e,t,n){return this.getConsolidatedConfigurationModel(e,t,n).getValue(e)}},{key:"updateValue",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.resource?(n=this._memoryConfigurationByResource.get(r.resource))||(n=new dt,this._memoryConfigurationByResource.set(r.resource,n)):n=this._memoryConfiguration,void 0===t?n.removeValue(e):n.setValue(e,t),r.resource||(this._workspaceConsolidatedConfiguration=null)}},{key:"inspect",value:function(e,t,n){var r=this.getConsolidatedConfigurationModel(e,t,n),i=this.getFolderConfigurationModelForResource(t.resource,n),o=t.resource&&this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration,a=t.overrideIdentifier?this._defaultConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._defaultConfiguration.freeze().getValue(e),s=this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration.freeze().getValue(e),u=this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration.freeze().getValue(e),c=t.overrideIdentifier?this.userConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.userConfiguration.freeze().getValue(e),l=t.overrideIdentifier?this.localUserConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.localUserConfiguration.freeze().getValue(e),f=t.overrideIdentifier?this.remoteUserConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.remoteUserConfiguration.freeze().getValue(e),d=n?t.overrideIdentifier?this._workspaceConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._workspaceConfiguration.freeze().getValue(e):void 0,h=i?t.overrideIdentifier?i.freeze().override(t.overrideIdentifier).getValue(e):i.freeze().getValue(e):void 0,p=t.overrideIdentifier?o.override(t.overrideIdentifier).getValue(e):o.getValue(e),v=r.getValue(e),y=(0,x.EB)(r.overrides.map((function(e){return e.identifiers})).flat()).filter((function(t){return void 0!==r.getOverrideValue(e,t)}));return{defaultValue:a,policyValue:s,applicationValue:u,userValue:c,userLocalValue:l,userRemoteValue:f,workspaceValue:d,workspaceFolderValue:h,memoryValue:p,value:v,default:void 0!==a?{value:this._defaultConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,policy:void 0!==s?{value:s}:void 0,application:void 0!==u?{value:u,override:t.overrideIdentifier?this.applicationConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,user:void 0!==c?{value:this.userConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,userLocal:void 0!==l?{value:this.localUserConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,userRemote:void 0!==f?{value:this.remoteUserConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,workspace:void 0!==d?{value:this._workspaceConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,workspaceFolder:void 0!==h?{value:null==i?void 0:i.freeze().getValue(e),override:t.overrideIdentifier?null==i?void 0:i.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,memory:void 0!==p?{value:o.getValue(e),override:t.overrideIdentifier?o.getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,overrideIdentifiers:y.length?y:void 0}}},{key:"keys",value:function(e){var t=this.getFolderConfigurationModelForResource(void 0,e);return{default:this._defaultConfiguration.freeze().keys,user:this.userConfiguration.freeze().keys,workspace:this._workspaceConfiguration.freeze().keys,workspaceFolder:t?t.freeze().keys:[]}}},{key:"updateDefaultConfiguration",value:function(e){this._defaultConfiguration=e,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}},{key:"updatePolicyConfiguration",value:function(e){this._policyConfiguration=e}},{key:"updateApplicationConfiguration",value:function(e){this._applicationConfiguration=e,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}},{key:"updateLocalUserConfiguration",value:function(e){this._localUserConfiguration=e,this._userConfiguration=null,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}},{key:"updateRemoteUserConfiguration",value:function(e){this._remoteUserConfiguration=e,this._userConfiguration=null,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}},{key:"updateWorkspaceConfiguration",value:function(e){this._workspaceConfiguration=e,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}},{key:"updateFolderConfiguration",value:function(e,t){this._folderConfigurations.set(e,t),this._foldersConsolidatedConfigurations.delete(e)}},{key:"deleteFolderConfiguration",value:function(e){this.folderConfigurations.delete(e),this._foldersConsolidatedConfigurations.delete(e)}},{key:"compareAndUpdateDefaultConfiguration",value:function(e,t){var n=this,r=[];if(!t){var i=vt(this._defaultConfiguration,e),o=i.added,a=i.updated,s=i.removed;t=[].concat(he(o),he(a),he(s))}var u,c=de(t);try{for(c.s();!(u=c.n()).done;){var l,f=u.value,d=de((0,j.ny)(f));try{var h=function(){var t=l.value,i=n._defaultConfiguration.getKeysForOverrideIdentifier(t),o=e.getKeysForOverrideIdentifier(t),a=[].concat(he(o.filter((function(e){return-1===i.indexOf(e)}))),he(i.filter((function(e){return-1===o.indexOf(e)}))),he(i.filter((function(r){return!(0,y.fS)(n._defaultConfiguration.override(t).getValue(r),e.override(t).getValue(r))}))));r.push([t,a])};for(d.s();!(l=d.n()).done;)h()}catch(e){d.e(e)}finally{d.f()}}}catch(e){c.e(e)}finally{c.f()}return this.updateDefaultConfiguration(e),{keys:t,overrides:r}}},{key:"compareAndUpdatePolicyConfiguration",value:function(e){var t=vt(this._policyConfiguration,e),n=t.added,r=t.updated,i=t.removed,o=[].concat(he(n),he(r),he(i));return o.length&&this.updatePolicyConfiguration(e),{keys:o,overrides:[]}}},{key:"compareAndUpdateApplicationConfiguration",value:function(e){var t=vt(this.applicationConfiguration,e),n=t.added,r=t.updated,i=t.removed,o=t.overrides,a=[].concat(he(n),he(r),he(i));return a.length&&this.updateApplicationConfiguration(e),{keys:a,overrides:o}}},{key:"compareAndUpdateLocalUserConfiguration",value:function(e){var t=vt(this.localUserConfiguration,e),n=t.added,r=t.updated,i=t.removed,o=t.overrides,a=[].concat(he(n),he(r),he(i));return a.length&&this.updateLocalUserConfiguration(e),{keys:a,overrides:o}}},{key:"compareAndUpdateRemoteUserConfiguration",value:function(e){var t=vt(this.remoteUserConfiguration,e),n=t.added,r=t.updated,i=t.removed,o=t.overrides,a=[].concat(he(n),he(r),he(i));return a.length&&this.updateRemoteUserConfiguration(e),{keys:a,overrides:o}}},{key:"compareAndUpdateWorkspaceConfiguration",value:function(e){var t=vt(this.workspaceConfiguration,e),n=t.added,r=t.updated,i=t.removed,o=t.overrides,a=[].concat(he(n),he(r),he(i));return a.length&&this.updateWorkspaceConfiguration(e),{keys:a,overrides:o}}},{key:"compareAndUpdateFolderConfiguration",value:function(e,t){var n=this.folderConfigurations.get(e),r=vt(n,t),i=r.added,o=r.updated,a=r.removed,s=r.overrides,u=[].concat(he(i),he(o),he(a));return!u.length&&n||this.updateFolderConfiguration(e,t),{keys:u,overrides:s}}},{key:"compareAndDeleteFolderConfiguration",value:function(e){var t=this.folderConfigurations.get(e);if(!t)throw new Error("Unknown folder");this.deleteFolderConfiguration(e);var n=vt(t,void 0),r=n.added,i=n.updated,o=n.removed,a=n.overrides;return{keys:[].concat(he(r),he(i),he(o)),overrides:a}}},{key:"defaults",get:function(){return this._defaultConfiguration}},{key:"applicationConfiguration",get:function(){return this._applicationConfiguration}},{key:"userConfiguration",get:function(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}},{key:"localUserConfiguration",get:function(){return this._localUserConfiguration}},{key:"remoteUserConfiguration",get:function(){return this._remoteUserConfiguration}},{key:"workspaceConfiguration",get:function(){return this._workspaceConfiguration}},{key:"folderConfigurations",get:function(){return this._folderConfigurations}},{key:"getConsolidatedConfigurationModel",value:function(e,t,n){var r=this.getConsolidatedConfigurationModelForResource(t,n);return t.overrideIdentifier&&(r=r.override(t.overrideIdentifier)),this._policyConfiguration.isEmpty()||void 0===this._policyConfiguration.getValue(e)||(r=r.merge(this._policyConfiguration)),r}},{key:"getConsolidatedConfigurationModelForResource",value:function(e,t){var n=e.resource,r=this.getWorkspaceConsolidatedConfiguration();if(t&&n){var i=t.getFolder(n);i&&(r=this.getFolderConsolidatedConfiguration(i.uri)||r);var o=this._memoryConfigurationByResource.get(n);o&&(r=r.merge(o))}return r}},{key:"getWorkspaceConsolidatedConfiguration",value:function(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}},{key:"getFolderConsolidatedConfiguration",value:function(e){var t=this._foldersConsolidatedConfigurations.get(e);if(!t){var n=this.getWorkspaceConsolidatedConfiguration(),r=this._folderConfigurations.get(e);r?(t=n.merge(r),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=n}return t}},{key:"getFolderConfigurationModelForResource",value:function(e,t){if(t&&e){var n=t.getFolder(e);if(n)return this._folderConfigurations.get(n.uri)}}},{key:"toData",value:function(){var e=this;return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:he(this._folderConfigurations.keys()).reduce((function(t,n){var r=e._folderConfigurations.get(n),i=r.contents,o=r.overrides,a=r.keys;return t.push([n,{contents:i,overrides:o,keys:a}]),t}),[])}}},{key:"allKeys",value:function(){var e=new Set;return this._defaultConfiguration.freeze().keys.forEach((function(t){return e.add(t)})),this.userConfiguration.freeze().keys.forEach((function(t){return e.add(t)})),this._workspaceConfiguration.freeze().keys.forEach((function(t){return e.add(t)})),this._folderConfigurations.forEach((function(t){return t.freeze().keys.forEach((function(t){return e.add(t)}))})),he(e.values())}},{key:"allOverrideIdentifiers",value:function(){var e=new Set;return this._defaultConfiguration.freeze().getAllOverrideIdentifiers().forEach((function(t){return e.add(t)})),this.userConfiguration.freeze().getAllOverrideIdentifiers().forEach((function(t){return e.add(t)})),this._workspaceConfiguration.freeze().getAllOverrideIdentifiers().forEach((function(t){return e.add(t)})),this._folderConfigurations.forEach((function(t){return t.freeze().getAllOverrideIdentifiers().forEach((function(t){return e.add(t)}))})),he(e.values())}},{key:"getAllKeysForOverrideIdentifier",value:function(e){var t=new Set;return this._defaultConfiguration.getKeysForOverrideIdentifier(e).forEach((function(e){return t.add(e)})),this.userConfiguration.getKeysForOverrideIdentifier(e).forEach((function(e){return t.add(e)})),this._workspaceConfiguration.getKeysForOverrideIdentifier(e).forEach((function(e){return t.add(e)})),this._folderConfigurations.forEach((function(n){return n.getKeysForOverrideIdentifier(e).forEach((function(e){return t.add(e)}))})),he(t.values())}}],[{key:"parse",value:function(t){var n=this,r=this.parseConfigurationModel(t.defaults),i=this.parseConfigurationModel(t.policy),o=this.parseConfigurationModel(t.application),a=this.parseConfigurationModel(t.user),s=this.parseConfigurationModel(t.workspace),u=t.folders.reduce((function(e,t){return e.set(R.o.revive(t[0]),n.parseConfigurationModel(t[1])),e}),new I.Y9);return new e(r,i,o,a,new dt,s,u,new dt,new I.Y9,!1)}},{key:"parseConfigurationModel",value:function(e){return new dt(e.contents,e.keys,e.overrides).freeze()}}]),e}());function vt(e,t){var n=yt(t,e),r=n.added,i=n.removed,o=n.updated,a=[],s=(null==e?void 0:e.getAllOverrideIdentifiers())||[],u=(null==t?void 0:t.getAllOverrideIdentifiers())||[];if(t){var c,l=de(u.filter((function(e){return!s.includes(e)})));try{for(l.s();!(c=l.n()).done;){var f=c.value;a.push([f,t.getKeysForOverrideIdentifier(f)])}}catch(e){l.e(e)}finally{l.f()}}if(e){var d,h=de(s.filter((function(e){return!u.includes(e)})));try{for(h.s();!(d=h.n()).done;){var p=d.value;a.push([p,e.getKeysForOverrideIdentifier(p)])}}catch(e){h.e(e)}finally{h.f()}}if(t&&e){var v,y=de(s);try{for(y.s();!(v=y.n()).done;){var g=v.value;if(u.includes(g)){var m=yt({contents:e.getOverrideValue(void 0,g)||{},keys:e.getKeysForOverrideIdentifier(g)},{contents:t.getOverrideValue(void 0,g)||{},keys:t.getKeysForOverrideIdentifier(g)});a.push([g,[].concat(he(m.added),he(m.removed),he(m.updated))])}}}catch(e){y.e(e)}finally{y.f()}}return{added:r,removed:i,updated:o,overrides:a}}function yt(e,t){var n=e?t?e.keys.filter((function(e){return-1===t.keys.indexOf(e)})):he(e.keys):[],r=t?e?t.keys.filter((function(t){return-1===e.keys.indexOf(t)})):he(t.keys):[],i=[];if(e&&t){var o,a=de(t.keys);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(-1!==e.keys.indexOf(s)){var u=(0,A.Mt)(t.contents,s),c=(0,A.Mt)(e.contents,s);(0,y.fS)(u,c)||i.push(s)}}}catch(e){a.e(e)}finally{a.f()}}return{added:n,removed:r,updated:i}}function gt(){return(new Date).toISOString()}!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.Off=6]="Off"}(lt||(lt={}));var mt=lt.Info,bt=function(e){ye(n,e);var t=ge(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;return Ce(this,n),(e=t.call(this)).setLevel(r),e.useColors=!G.ED,e}return De(n,[{key:"trace",value:function(e){if(this.getLevel()<=lt.Trace){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o;if(this.useColors)(i=console).log.apply(i,["[90m[main ".concat(gt(),"][0m"),e].concat(n));else(o=console).log.apply(o,["[main ".concat(gt(),"]"),e].concat(n))}}},{key:"debug",value:function(e){if(this.getLevel()<=lt.Debug){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o;if(this.useColors)(i=console).log.apply(i,["[90m[main ".concat(gt(),"][0m"),e].concat(n));else(o=console).log.apply(o,["[main ".concat(gt(),"]"),e].concat(n))}}},{key:"info",value:function(e){if(this.getLevel()<=lt.Info){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o;if(this.useColors)(i=console).log.apply(i,["[90m[main ".concat(gt(),"][0m"),e].concat(n));else(o=console).log.apply(o,["[main ".concat(gt(),"]"),e].concat(n))}}},{key:"warn",value:function(e){if(this.getLevel()<=lt.Warning){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o;if(this.useColors)(i=console).warn.apply(i,["[93m[main ".concat(gt(),"][0m"),e].concat(n));else(o=console).warn.apply(o,["[main ".concat(gt(),"]"),e].concat(n))}}},{key:"error",value:function(e){if(this.getLevel()<=lt.Error){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o;if(this.useColors)(i=console).error.apply(i,["[91m[main ".concat(gt(),"][0m"),e].concat(n));else(o=console).error.apply(o,["[main ".concat(gt(),"]"),e].concat(n))}}},{key:"critical",value:function(e){if(this.getLevel()<=lt.Critical){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o;if(this.useColors)(i=console).error.apply(i,["[90m[main ".concat(gt(),"][0m"),e].concat(n));else(o=console).error.apply(o,["[main ".concat(gt(),"]"),e].concat(n))}}},{key:"dispose",value:function(){}},{key:"flush",value:function(){}}]),n}(function(e){ye(n,e);var t=ge(n);function n(){var e;return Ce(this,n),(e=t.apply(this,arguments)).level=mt,e._onDidChangeLogLevel=e._register(new k.E),e.onDidChangeLogLevel=e._onDidChangeLogLevel.event,e}return De(n,[{key:"setLevel",value:function(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}},{key:"getLevel",value:function(){return this.level}}]),n}(d.JT)),wt=function(e){ye(n,e);var t=ge(n);function n(e){var r;return Ce(this,n),(r=t.call(this)).logger=e,r._register(e),r}return De(n,[{key:"onDidChangeLogLevel",get:function(){return this.logger.onDidChangeLogLevel}},{key:"setLevel",value:function(e){this.logger.setLevel(e)}},{key:"getLevel",value:function(){return this.logger.getLevel()}},{key:"trace",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.logger).trace.apply(t,[e].concat(r))}},{key:"debug",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.logger).debug.apply(t,[e].concat(r))}},{key:"info",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.logger).info.apply(t,[e].concat(r))}},{key:"warn",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.logger).warn.apply(t,[e].concat(r))}},{key:"error",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.logger).error.apply(t,[e].concat(r))}},{key:"critical",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.logger).critical.apply(t,[e].concat(r))}},{key:"flush",value:function(){this.logger.flush()}}]),n}(d.JT);function _t(e){return e&&"object"===xe(e)&&(!e.overrideIdentifier||"string"==typeof e.overrideIdentifier)&&(!e.resource||e.resource instanceof R.o)}var kt=function(){function e(){Ce(this,e),this._onDidChangeConfiguration=new k.E,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new P.VK(new O.l,new P.VV,new P.VV,new P.VV)}return De(e,[{key:"getValue",value:function(e,t){var n="string"==typeof e?e:void 0,r=_t(e)?e:_t(t)?t:{};return this._configuration.getValue(n,r,void 0)}},{key:"updateValues",value:function(e){var t,n={data:this._configuration.toData()},r=[],i=de(e);try{for(i.s();!(t=i.n()).done;){var o=se(t.value,2),a=o[0],s=o[1];this.getValue(a)!==s&&(this._configuration.updateValue(a,s),r.push(a))}}catch(e){i.e(e)}finally{i.f()}if(r.length>0){var u=new P.YX({keys:r,overrides:[]},n,this._configuration);u.source=8,u.sourceConfig=null,this._onDidChangeConfiguration.fire(u)}return Promise.resolve()}},{key:"updateValue",value:function(e,t,n,r){return this.updateValues([[e,t]])}},{key:"inspect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._configuration.inspect(e,t,void 0)}},{key:"keys",value:function(){return this._configuration.keys(void 0)}},{key:"reloadConfiguration",value:function(){return Promise.resolve(void 0)}},{key:"getConfigurationData",value:function(){var e={contents:{},keys:[],overrides:[]};return{defaults:e,policy:e,application:e,user:e,workspace:e,folders:[]}}}]),e}(),St=Object.prototype.hasOwnProperty,xt="vs.editor.nullLanguage",Ct=function(){function e(){Ce(this,e),this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(xt,0),this._register(C.bd,1),this._nextLanguageId=2}return De(e,[{key:"_register",value:function(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}},{key:"register",value:function(e){if(!this._languageToLanguageId.has(e)){var t=this._nextLanguageId++;this._register(e,t)}}},{key:"encodeLanguageId",value:function(e){return this._languageToLanguageId.get(e)||0}},{key:"decodeLanguageId",value:function(e){return this._languageIdToLanguage[e]||xt}}]),e}(),Et=function(e){ye(n,e);var t=ge(n);function n(){var e,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ce(this,n),(e=t.call(this))._onDidChange=e._register(new k.E),e.onDidChange=e._onDidChange.event,n.instanceCount++,e._warnOnOverwrite=i,e.languageIdCodec=new Ct,e._dynamicLanguages=[],e._languages={},e._mimeTypesMap={},e._nameMap={},e._lowercaseNameMap={},r&&(e._initializeFromRegistry(),e._register(C.dQ.onDidChangeLanguages((function(t){e._initializeFromRegistry()})))),e}return De(n,[{key:"dispose",value:function(){n.instanceCount--,ue(Se(n.prototype),"dispose",this).call(this)}},{key:"setDynamicLanguages",value:function(e){this._dynamicLanguages=e,this._initializeFromRegistry()}},{key:"_initializeFromRegistry",value:function(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,q.UU)();var e=[].concat(C.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}},{key:"registerLanguage",value:function(e){return C.dQ.registerLanguage(e)}},{key:"_registerLanguages",value:function(e){var t,n=this,r=de(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;this._registerLanguage(i)}}catch(e){r.e(e)}finally{r.f()}this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach((function(e){var t=n._languages[e];t.name&&(n._nameMap[t.name]=t.identifier),t.aliases.forEach((function(e){n._lowercaseNameMap[e.toLowerCase()]=t.identifier})),t.mimetypes.forEach((function(e){n._mimeTypesMap[e]=t.identifier}))})),F.B.as(j.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}},{key:"_registerLanguage",value:function(e){var t,n=e.id;St.call(this._languages,n)?t=this._languages[n]:(this.languageIdCodec.register(n),t={identifier:n,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[n]=t),this._mergeLanguage(t,e)}},{key:"_mergeLanguage",value:function(e,t){var n,r=t.id,i=null;Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&((n=e.mimetypes).push.apply(n,he(t.mimetypes)),i=t.mimetypes[0]);if(i||(i="text/x-".concat(r),e.mimetypes.push(i)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);var o,a=de(t.extensions);try{for(a.s();!(o=a.n()).done;){var s=o.value;(0,q.Jw)({id:r,mime:i,extension:s},this._warnOnOverwrite)}}catch(e){a.e(e)}finally{a.f()}}if(Array.isArray(t.filenames)){var u,c=de(t.filenames);try{for(c.s();!(u=c.n()).done;){var l=u.value;(0,q.Jw)({id:r,mime:i,filename:l},this._warnOnOverwrite),e.filenames.push(l)}}catch(e){c.e(e)}finally{c.f()}}if(Array.isArray(t.filenamePatterns)){var f,d=de(t.filenamePatterns);try{for(d.s();!(f=d.n()).done;){var p=f.value;(0,q.Jw)({id:r,mime:i,filepattern:p},this._warnOnOverwrite)}}catch(e){d.e(e)}finally{d.f()}}if("string"==typeof t.firstLine&&t.firstLine.length>0){var v=t.firstLine;"^"!==v.charAt(0)&&(v="^"+v);try{var y=new RegExp(v);(0,L.IO)(y)||(0,q.Jw)({id:r,mime:i,firstline:y},this._warnOnOverwrite)}catch(e){(0,h.dL)(e)}}e.aliases.push(r);var g=null;if(void 0!==t.aliases&&Array.isArray(t.aliases)&&(g=0===t.aliases.length?[null]:t.aliases),null!==g){var m,b=de(g);try{for(b.s();!(m=b.n()).done;){var w=m.value;w&&0!==w.length&&e.aliases.push(w)}}catch(e){b.e(e)}finally{b.f()}}var _=null!==g&&g.length>0;if(_&&null===g[0]);else{var k=(_?g[0]:null)||r;!_&&e.name||(e.name=k)}t.configuration&&e.configurationFiles.push(t.configuration),t.icon&&e.icons.push(t.icon)}},{key:"isRegisteredLanguageId",value:function(e){return!!e&&St.call(this._languages,e)}},{key:"getRegisteredLanguageIds",value:function(){return Object.keys(this._languages)}},{key:"getSortedRegisteredLanguageNames",value:function(){var e=[];for(var t in this._nameMap)St.call(this._nameMap,t)&&e.push({languageName:t,languageId:this._nameMap[t]});return e.sort((function(e,t){return(0,L.zY)(e.languageName,t.languageName)})),e}},{key:"getLanguageName",value:function(e){return St.call(this._languages,e)?this._languages[e].name:null}},{key:"getMimeType",value:function(e){return St.call(this._languages,e)&&this._languages[e].mimetypes[0]||null}},{key:"getExtensions",value:function(e){return St.call(this._languages,e)?this._languages[e].extensions:[]}},{key:"getFilenames",value:function(e){return St.call(this._languages,e)?this._languages[e].filenames:[]}},{key:"getIcon",value:function(e){return St.call(this._languages,e)&&this._languages[e].icons[0]||null}},{key:"getConfigurationFiles",value:function(e){return St.call(this._languages,e)&&this._languages[e].configurationFiles||[]}},{key:"getLanguageIdByLanguageName",value:function(e){var t=e.toLowerCase();return St.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}},{key:"getLanguageIdByMimeType",value:function(e){return e&&St.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null}},{key:"guessLanguageIdByFilepathOrFirstLine",value:function(e,t){return e||t?(0,q.ST)(e,t):[]}}]),n}(d.JT);Et.instanceCount=0;var Dt=function(){function e(t){Ce(this,e),this.trait=t,this.renderedElements=[]}return De(e,[{key:"templateId",get:function(){return"template:".concat(this.trait.name)}},{key:"renderTemplate",value:function(e){return e}},{key:"renderElement",value:function(e,t,n){var r=this.renderedElements.findIndex((function(e){return e.templateData===n}));if(r>=0){var i=this.renderedElements[r];this.trait.unrender(n),i.index=t}else{var o={index:t,templateData:n};this.renderedElements.push(o)}this.trait.renderIndex(t,n)}},{key:"splice",value:function(e,t,n){var r,i=[],o=de(this.renderedElements);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.index<e?i.push(a):a.index>=e+t&&i.push({index:a.index+n-t,templateData:a.templateData})}}catch(e){o.e(e)}finally{o.f()}this.renderedElements=i}},{key:"renderIndexes",value:function(e){var t,n=de(this.renderedElements);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.index,o=r.templateData;e.indexOf(i)>-1&&this.trait.renderIndex(i,o)}}catch(e){n.e(e)}finally{n.f()}}},{key:"disposeTemplate",value:function(e){var t=this.renderedElements.findIndex((function(t){return t.templateData===e}));t<0||this.renderedElements.splice(t,1)}}]),e}(),Tt=function(){function e(t){Ce(this,e),this._trait=t,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new k.E,this.onChange=this._onChange.event}return De(e,[{key:"name",get:function(){return this._trait}},{key:"renderer",get:function(){return new Dt(this)}},{key:"splice",value:function(e,t,n){t=Math.max(0,Math.min(t,this.length-e));var r=n.length-t,i=e+t,o=[].concat(he(this.sortedIndexes.filter((function(t){return t<e}))),he(n.map((function(t,n){return t?n+e:-1})).filter((function(e){return-1!==e}))),he(this.sortedIndexes.filter((function(e){return e>=i})).map((function(e){return e+r})))),a=this.length+r;if(this.sortedIndexes.length>0&&0===o.length&&a>0){var s,u=null!==(s=this.sortedIndexes.find((function(t){return t>=e})))&&void 0!==s?s:a-1;o.push(Math.min(u,a-1))}this.renderer.splice(e,t,n.length),this._set(o,o),this.length=a}},{key:"renderIndex",value:function(e,t){t.classList.toggle(this._trait,this.contains(e))}},{key:"unrender",value:function(e){e.classList.remove(this._trait)}},{key:"set",value:function(e,t){return this._set(e,he(e).sort(Bt),t)}},{key:"_set",value:function(e,t,n){var r=this.indexes,i=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;var o=$t(i,e);return this.renderer.renderIndexes(o),this._onChange.fire({indexes:e,browserEvent:n}),r}},{key:"get",value:function(){return this.indexes}},{key:"contains",value:function(e){return(0,x.ry)(this.sortedIndexes,e,Bt)>=0}},{key:"dispose",value:function(){(0,d.B9)(this._onChange)}}]),e}(),Pt=function(e){ye(n,e);var t=ge(n);function n(e){var r;return Ce(this,n),(r=t.call(this,"selected")).setAriaSelected=e,r}return De(n,[{key:"renderIndex",value:function(e,t){ue(Se(n.prototype),"renderIndex",this).call(this,e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}]),n}(Tt),Ot=function(){function e(t,n,r){Ce(this,e),this.trait=t,this.view=n,this.identityProvider=r}return De(e,[{key:"splice",value:function(e,t,n){var r=this;if(!this.identityProvider)return this.trait.splice(e,t,n.map((function(){return!1})));var i=this.trait.get().map((function(e){return r.identityProvider.getId(r.view.element(e)).toString()})),o=n.map((function(e){return i.indexOf(r.identityProvider.getId(e).toString())>-1}));this.trait.splice(e,t,o)}}]),e}();function Rt(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}function It(e){return!!e.classList.contains("monaco-editor")||!e.classList.contains("monaco-list")&&(!!e.parentElement&&It(e.parentElement))}var Lt,jt,At=function(){function e(t,n,r){Ce(this,e),this.list=t,this.view=n,this.disposables=new d.SL,this.multipleSelectionDisposables=new d.SL,this.onKeyDown.filter((function(e){return 3===e.keyCode})).on(this.onEnter,this,this.disposables),this.onKeyDown.filter((function(e){return 16===e.keyCode})).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter((function(e){return 18===e.keyCode})).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter((function(e){return 11===e.keyCode})).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter((function(e){return 12===e.keyCode})).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter((function(e){return 9===e.keyCode})).on(this.onEscape,this,this.disposables),!1!==r.multipleSelectionSupport&&this.onKeyDown.filter((function(e){return(G.dz?e.metaKey:e.ctrlKey)&&31===e.keyCode})).on(this.onCtrlA,this,this.multipleSelectionDisposables)}return De(e,[{key:"onKeyDown",get:function(){return this.disposables.add(N.ju.chain(this.disposables.add(new $.Y(this.view.domNode,"keydown")).event).filter((function(e){return!Rt(e.target)})).map((function(e){return new B.y(e)})))}},{key:"updateOptions",value:function(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),e.multipleSelectionSupport&&this.onKeyDown.filter((function(e){return(G.dz?e.metaKey:e.ctrlKey)&&31===e.keyCode})).on(this.onCtrlA,this,this.multipleSelectionDisposables))}},{key:"onEnter",value:function(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}},{key:"onUpArrow",value:function(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);var t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}},{key:"onDownArrow",value:function(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);var t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}},{key:"onPageUpArrow",value:function(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);var t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}},{key:"onPageDownArrow",value:function(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);var t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}},{key:"onCtrlA",value:function(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection((0,x.w6)(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}},{key:"onEscape",value:function(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}},{key:"dispose",value:function(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}]),e}();!function(e){e[e.Automatic=0]="Automatic",e[e.Trigger=1]="Trigger"}(Lt||(Lt={})),function(e){e[e.Idle=0]="Idle",e[e.Typing=1]="Typing"}(jt||(jt={}));var Nt=new(function(){function e(){Ce(this,e)}return De(e,[{key:"mightProducePrintableCharacter",value:function(e){return!(e.ctrlKey||e.metaKey||e.altKey)&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30||e.keyCode>=93&&e.keyCode<=102||e.keyCode>=80&&e.keyCode<=90)}}]),e}()),Ft=function(){function e(t,n,r,i,o){Ce(this,e),this.list=t,this.view=n,this.keyboardNavigationLabelProvider=r,this.keyboardNavigationEventFilter=i,this.delegate=o,this.enabled=!1,this.state=jt.Idle,this.mode=Lt.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new d.SL,this.disposables=new d.SL,this.updateOptions(t.options)}return De(e,[{key:"updateOptions",value:function(e){var t,n;null===(t=e.typeNavigationEnabled)||void 0===t||t?this.enable():this.disable(),this.mode=null!==(n=e.typeNavigationMode)&&void 0!==n?n:Lt.Automatic}},{key:"trigger",value:function(){this.triggered=!this.triggered}},{key:"enable",value:function(){var e=this;if(!this.enabled){var t=!1,n=this.enabledDisposables.add(N.ju.chain(this.enabledDisposables.add(new $.Y(this.view.domNode,"keydown")).event)).filter((function(e){return!Rt(e.target)})).filter((function(){return e.mode===Lt.Automatic||e.triggered})).map((function(e){return new B.y(e)})).filter((function(n){return t||e.keyboardNavigationEventFilter(n)})).filter((function(t){return e.delegate.mightProducePrintableCharacter(t)})).forEach($.p).map((function(e){return e.browserEvent.key})).event,r=N.ju.debounce(n,(function(){return null}),800,void 0,void 0,this.enabledDisposables);N.ju.reduce(N.ju.any(n,r),(function(e,t){return null===t?null:(e||"")+t}),void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),r(this.onClear,this,this.enabledDisposables),n((function(){return t=!0}),void 0,this.enabledDisposables),r((function(){return t=!1}),void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}}},{key:"disable",value:function(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}},{key:"onClear",value:function(){var e=this.list.getFocus();if(e.length>0&&e[0]===this.previouslyFocused){var t,n=null===(t=this.list.options.accessibilityProvider)||void 0===t?void 0:t.getAriaLabel(this.list.element(e[0]));n&&(0,J.Z9)(n)}this.previouslyFocused=-1}},{key:"onInput",value:function(e){if(!e)return this.state=jt.Idle,void(this.triggered=!1);var t=this.list.getFocus(),n=t.length>0?t[0]:0,r=this.state===jt.Idle?1:0;this.state=jt.Typing;for(var i=0;i<this.list.length;i++){var o=(n+i+r)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(o)),s=a&&a.toString();if(void 0===s||(0,Y.Ji)(e,s))return this.previouslyFocused=n,this.list.setFocus([o]),void this.list.reveal(o)}}},{key:"dispose",value:function(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}]),e}(),Mt=function(){function e(t,n){Ce(this,e),this.list=t,this.view=n,this.disposables=new d.SL,this.disposables.add(N.ju.chain(this.disposables.add(new $.Y(n.domNode,"keydown")).event)).filter((function(e){return!Rt(e.target)})).map((function(e){return new B.y(e)})).filter((function(e){return!(2!==e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)})).on(this.onTab,this,this.disposables)}return De(e,[{key:"onTab",value:function(e){if(e.target===this.view.domNode){var t=this.list.getFocus();if(0!==t.length){var n=this.view.domElement(t[0]);if(n){var r=n.querySelector("[tabIndex]");if(r&&r instanceof HTMLElement&&-1!==r.tabIndex){var i=window.getComputedStyle(r);"hidden"!==i.visibility&&"none"!==i.display&&(e.preventDefault(),e.stopPropagation(),r.focus())}}}}}},{key:"dispose",value:function(){this.disposables.dispose()}}]),e}();var qt={isSelectionSingleChangeEvent:function(e){return G.dz?e.browserEvent.metaKey:e.browserEvent.ctrlKey},isSelectionRangeChangeEvent:function(e){return e.browserEvent.shiftKey}},Ht=function(){function e(t){Ce(this,e),this.list=t,this.disposables=new d.SL,this._onPointer=new k.E,this.onPointer=this._onPointer.event,!1!==t.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||qt),this.mouseSupport=void 0===t.options.mouseSupport||!!t.options.mouseSupport,this.mouseSupport&&(t.onMouseDown(this.onMouseDown,this,this.disposables),t.onContextMenu(this.onContextMenu,this,this.disposables),t.onMouseDblClick(this.onDoubleClick,this,this.disposables),t.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(Q.o.addTarget(t.getHTMLElement()))),N.ju.any(t.onMouseClick,t.onMouseMiddleClick,t.onTap)(this.onViewPointer,this,this.disposables)}return De(e,[{key:"updateOptions",value:function(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||qt))}},{key:"isSelectionSingleChangeEvent",value:function(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(e)}},{key:"isSelectionRangeChangeEvent",value:function(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(e)}},{key:"isSelectionChangeEvent",value:function(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}},{key:"onMouseDown",value:function(e){It(e.browserEvent.target)||document.activeElement!==e.browserEvent.target&&this.list.domFocus()}},{key:"onContextMenu",value:function(e){if(!It(e.browserEvent.target)){var t=void 0===e.index?[]:[e.index];this.list.setFocus(t,e.browserEvent)}}},{key:"onViewPointer",value:function(e){if(this.mouseSupport&&!Rt(e.browserEvent.target)&&!It(e.browserEvent.target)){var t,n=e.index;if(void 0===n)return this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),void this.list.setAnchor(void 0);if(this.isSelectionRangeChangeEvent(e))return this.changeSelection(e);if(this.isSelectionChangeEvent(e))return this.changeSelection(e);this.list.setFocus([n],e.browserEvent),this.list.setAnchor(n),(t=e.browserEvent)instanceof MouseEvent&&2===t.button||this.list.setSelection([n],e.browserEvent),this._onPointer.fire(e)}}},{key:"onDoubleClick",value:function(e){if(!Rt(e.browserEvent.target)&&!It(e.browserEvent.target)&&!this.isSelectionChangeEvent(e)){var t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}}},{key:"changeSelection",value:function(e){var t=e.index,n=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){if(void 0===n){var r=this.list.getFocus()[0];n=null!=r?r:t,this.list.setAnchor(n)}var i=Math.min(n,t),o=Math.max(n,t),a=(0,x.w6)(i,o+1),s=this.list.getSelection(),u=function(e,t){var n=e.indexOf(t);if(-1===n)return[];var r=[],i=n-1;for(;i>=0&&e[i]===t-(n-i);)r.push(e[i--]);r.reverse(),i=n;for(;i<e.length&&e[i]===t+(i-n);)r.push(e[i++]);return r}($t(s,[n]),n);if(0===u.length)return;var c=$t(a,function(e,t){var n=[],r=0,i=0;for(;r<e.length||i<t.length;)if(r>=e.length)n.push(t[i++]);else if(i>=t.length)n.push(e[r++]);else{if(e[r]===t[i]){r++,i++;continue}e[r]<t[i]?n.push(e[r++]):i++}return n}(s,u));this.list.setSelection(c,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){var l=this.list.getSelection(),f=l.filter((function(e){return e!==t}));this.list.setFocus([t]),this.list.setAnchor(t),l.length===f.length?this.list.setSelection([].concat(he(f),[t]),e.browserEvent):this.list.setSelection(f,e.browserEvent)}}},{key:"dispose",value:function(){this.disposables.dispose()}}]),e}(),Wt=function(){function e(t,n){Ce(this,e),this.styleElement=t,this.selectorSuffix=n}return De(e,[{key:"style",value:function(e){var t=this.selectorSuffix&&".".concat(this.selectorSuffix),n=[];e.listBackground&&(e.listBackground.isOpaque()?n.push(".monaco-list".concat(t," .monaco-list-rows { background: ").concat(e.listBackground,"; }")):G.dz||console.warn("List with id '".concat(this.selectorSuffix,"' was styled with a non-opaque background color. This will break sub-pixel antialiasing."))),e.listFocusBackground&&(n.push(".monaco-list".concat(t,":focus .monaco-list-row.focused { background-color: ").concat(e.listFocusBackground,"; }")),n.push(".monaco-list".concat(t,":focus .monaco-list-row.focused:hover { background-color: ").concat(e.listFocusBackground,"; }"))),e.listFocusForeground&&n.push(".monaco-list".concat(t,":focus .monaco-list-row.focused { color: ").concat(e.listFocusForeground,"; }")),e.listActiveSelectionBackground&&(n.push(".monaco-list".concat(t,":focus .monaco-list-row.selected { background-color: ").concat(e.listActiveSelectionBackground,"; }")),n.push(".monaco-list".concat(t,":focus .monaco-list-row.selected:hover { background-color: ").concat(e.listActiveSelectionBackground,"; }"))),e.listActiveSelectionForeground&&n.push(".monaco-list".concat(t,":focus .monaco-list-row.selected { color: ").concat(e.listActiveSelectionForeground,"; }")),e.listActiveSelectionIconForeground&&n.push(".monaco-list".concat(t,":focus .monaco-list-row.selected .codicon { color: ").concat(e.listActiveSelectionIconForeground,"; }")),e.listFocusAndSelectionOutline&&n.push(".monaco-list".concat(t,":focus .monaco-list-row.selected { outline-color: ").concat(e.listFocusAndSelectionOutline," !important; }")),e.listFocusAndSelectionBackground&&n.push("\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list".concat(t,":focus .monaco-list-row.selected.focused { background-color: ").concat(e.listFocusAndSelectionBackground,"; }\n\t\t\t")),e.listFocusAndSelectionForeground&&n.push("\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list".concat(t,":focus .monaco-list-row.selected.focused { color: ").concat(e.listFocusAndSelectionForeground,"; }\n\t\t\t")),e.listInactiveFocusForeground&&(n.push(".monaco-list".concat(t," .monaco-list-row.focused { color:  ").concat(e.listInactiveFocusForeground,"; }")),n.push(".monaco-list".concat(t," .monaco-list-row.focused:hover { color:  ").concat(e.listInactiveFocusForeground,"; }"))),e.listInactiveSelectionIconForeground&&n.push(".monaco-list".concat(t," .monaco-list-row.focused .codicon { color:  ").concat(e.listInactiveSelectionIconForeground,"; }")),e.listInactiveFocusBackground&&(n.push(".monaco-list".concat(t," .monaco-list-row.focused { background-color:  ").concat(e.listInactiveFocusBackground,"; }")),n.push(".monaco-list".concat(t," .monaco-list-row.focused:hover { background-color:  ").concat(e.listInactiveFocusBackground,"; }"))),e.listInactiveSelectionBackground&&(n.push(".monaco-list".concat(t," .monaco-list-row.selected { background-color:  ").concat(e.listInactiveSelectionBackground,"; }")),n.push(".monaco-list".concat(t," .monaco-list-row.selected:hover { background-color:  ").concat(e.listInactiveSelectionBackground,"; }"))),e.listInactiveSelectionForeground&&n.push(".monaco-list".concat(t," .monaco-list-row.selected { color: ").concat(e.listInactiveSelectionForeground,"; }")),e.listHoverBackground&&n.push(".monaco-list".concat(t,":not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ").concat(e.listHoverBackground,"; }")),e.listHoverForeground&&n.push(".monaco-list".concat(t," .monaco-list-row:hover:not(.selected):not(.focused) { color:  ").concat(e.listHoverForeground,"; }")),e.listSelectionOutline&&n.push(".monaco-list".concat(t," .monaco-list-row.selected { outline: 1px dotted ").concat(e.listSelectionOutline,"; outline-offset: -1px; }")),e.listFocusOutline&&n.push("\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list".concat(t,":focus .monaco-list-row.focused { outline: 1px solid ").concat(e.listFocusOutline,"; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list").concat(t,".last-focused .monaco-list-row.focused { outline: 1px solid ").concat(e.listFocusOutline,"; outline-offset: -1px; }\n\t\t\t")),e.listInactiveFocusOutline&&n.push(".monaco-list".concat(t," .monaco-list-row.focused { outline: 1px dotted ").concat(e.listInactiveFocusOutline,"; outline-offset: -1px; }")),e.listHoverOutline&&n.push(".monaco-list".concat(t," .monaco-list-row:hover { outline: 1px dashed ").concat(e.listHoverOutline,"; outline-offset: -1px; }")),e.listDropBackground&&n.push("\n\t\t\t\t.monaco-list".concat(t,".drop-target,\n\t\t\t\t.monaco-list").concat(t," .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list").concat(t," .monaco-list-row.drop-target { background-color: ").concat(e.listDropBackground," !important; color: inherit !important; }\n\t\t\t")),e.tableColumnsBorder&&n.push("\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ".concat(e.tableColumnsBorder,";\n\t\t\t}")),e.tableOddRowsBackgroundColor&&n.push("\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ".concat(e.tableOddRowsBackgroundColor,";\n\t\t\t\t}\n\t\t\t")),this.styleElement.textContent=n.join("\n")}}]),e}(),Ut={listFocusBackground:w.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:w.Il.fromHex("#0E639C"),listActiveSelectionForeground:w.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:w.Il.fromHex("#FFFFFF"),listFocusAndSelectionOutline:w.Il.fromHex("#90C2F9"),listFocusAndSelectionBackground:w.Il.fromHex("#094771"),listFocusAndSelectionForeground:w.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:w.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:w.Il.fromHex("#FFFFFF"),listHoverBackground:w.Il.fromHex("#2A2D2E"),listDropBackground:w.Il.fromHex("#383B3D"),treeIndentGuidesStroke:w.Il.fromHex("#a9a9a9"),tableColumnsBorder:w.Il.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:w.Il.fromHex("#cccccc").transparent(.04)},Kt={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:function(){return null},onDragStart:function(){},onDragOver:function(){return!1},drop:function(){}}};function $t(e,t){for(var n=[],r=0,i=0;r<e.length||i<t.length;)if(r>=e.length)n.push(t[i++]);else if(i>=t.length)n.push(e[r++]);else{if(e[r]===t[i]){n.push(e[r]),r++,i++;continue}e[r]<t[i]?n.push(e[r++]):n.push(t[i++])}return n}var Bt=function(e,t){return e-t},Vt=function(){function e(t,n){Ce(this,e),this._templateId=t,this.renderers=n}return De(e,[{key:"templateId",get:function(){return this._templateId}},{key:"renderTemplate",value:function(e){return this.renderers.map((function(t){return t.renderTemplate(e)}))}},{key:"renderElement",value:function(e,t,n,r){var i,o=0,a=de(this.renderers);try{for(a.s();!(i=a.n()).done;){i.value.renderElement(e,t,n[o++],r)}}catch(e){a.e(e)}finally{a.f()}}},{key:"disposeElement",value:function(e,t,n,r){var i,o=0,a=de(this.renderers);try{for(a.s();!(i=a.n()).done;){var s,u=i.value;null===(s=u.disposeElement)||void 0===s||s.call(u,e,t,n[o],r),o+=1}}catch(e){a.e(e)}finally{a.f()}}},{key:"disposeTemplate",value:function(e){var t,n=0,r=de(this.renderers);try{for(r.s();!(t=r.n()).done;){t.value.disposeTemplate(e[n++])}}catch(e){r.e(e)}finally{r.f()}}}]),e}(),zt=function(){function e(t){Ce(this,e),this.accessibilityProvider=t,this.templateId="a18n"}return De(e,[{key:"renderTemplate",value:function(e){return e}},{key:"renderElement",value:function(e,t,n){var r=this.accessibilityProvider.getAriaLabel(e);r?n.setAttribute("aria-label",r):n.removeAttribute("aria-label");var i=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);"number"==typeof i?n.setAttribute("aria-level","".concat(i)):n.removeAttribute("aria-level")}},{key:"disposeTemplate",value:function(e){}}]),e}(),Gt=function(){function e(t,n){Ce(this,e),this.list=t,this.dnd=n}return De(e,[{key:"getDragElements",value:function(e){var t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}},{key:"getDragURI",value:function(e){return this.dnd.getDragURI(e)}},{key:"getDragLabel",value:function(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}},{key:"onDragStart",value:function(e,t){var n,r;null===(n=(r=this.dnd).onDragStart)||void 0===n||n.call(r,e,t)}},{key:"onDragOver",value:function(e,t,n,r){return this.dnd.onDragOver(e,t,n,r)}},{key:"onDragLeave",value:function(e,t,n,r){var i,o;null===(i=(o=this.dnd).onDragLeave)||void 0===i||i.call(o,e,t,n,r)}},{key:"onDragEnd",value:function(e){var t,n;null===(t=(n=this.dnd).onDragEnd)||void 0===t||t.call(n,e)}},{key:"drop",value:function(e,t,n,r){this.dnd.drop(e,t,n,r)}}]),e}(),Jt=function(){function e(t,n,r,i){var o,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Kt;Ce(this,e),this.user=t,this._options=a,this.focus=new Tt("focused"),this.anchor=new Tt("anchor"),this.eventBufferer=new N.E7,this._ariaLabel="",this.disposables=new d.SL,this._onDidDispose=new k.E,this.onDidDispose=this._onDidDispose.event;var s=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(o=this._options.accessibilityProvider)||void 0===o?void 0:o.getWidgetRole():"list";this.selection=new Pt("listbox"!==s),(0,y.jB)(a,Ut,!1);var u,c,l=[this.focus.renderer,this.selection.renderer];(this.accessibilityProvider=a.accessibilityProvider,this.accessibilityProvider)&&(l.push(new zt(this.accessibilityProvider)),null===(u=(c=this.accessibilityProvider).onDidChangeActiveDescendant)||void 0===u||u.call(c,this.onDidChangeActiveDescendant,this,this.disposables));i=i.map((function(e){return new Vt(e.templateId,[].concat(l,[e]))}));var f=ie(ie({},a),{},{dnd:a.dnd&&new Gt(this,a.dnd)});if(this.view=new U.Bv(n,r,i,f),this.view.domNode.setAttribute("role",s),a.styleController)this.styleController=a.styleController(this.view.domId);else{var h=(0,m.createStyleSheet)(this.view.domNode);this.styleController=new Wt(h,this.view.domId)}if(this.spliceable=new K.J([new Ot(this.focus,this.view,a.identityProvider),new Ot(this.selection,this.view,a.identityProvider),new Ot(this.anchor,this.view,a.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new Mt(this,this.view)),("boolean"!=typeof a.keyboardSupport||a.keyboardSupport)&&(this.keyboardController=new At(this,this.view,a),this.disposables.add(this.keyboardController)),a.keyboardNavigationLabelProvider){var p,v=a.keyboardNavigationDelegate||Nt;this.typeNavigationController=new Ft(this,this.view,a.keyboardNavigationLabelProvider,null!==(p=a.keyboardNavigationEventFilter)&&void 0!==p?p:function(){return!0},v),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(a),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}var t,n;return De(e,[{key:"onDidChangeFocus",get:function(){var e=this;return N.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),(function(t){return e.toListEvent(t)}),this.disposables)}},{key:"onDidChangeSelection",get:function(){var e=this;return N.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),(function(t){return e.toListEvent(t)}),this.disposables)}},{key:"domId",get:function(){return this.view.domId}},{key:"onDidScroll",get:function(){return this.view.onDidScroll}},{key:"onMouseClick",get:function(){return this.view.onMouseClick}},{key:"onMouseDblClick",get:function(){return this.view.onMouseDblClick}},{key:"onMouseMiddleClick",get:function(){return this.view.onMouseMiddleClick}},{key:"onPointer",get:function(){return this.mouseController.onPointer}},{key:"onMouseUp",get:function(){return this.view.onMouseUp}},{key:"onMouseDown",get:function(){return this.view.onMouseDown}},{key:"onMouseOver",get:function(){return this.view.onMouseOver}},{key:"onMouseMove",get:function(){return this.view.onMouseMove}},{key:"onMouseOut",get:function(){return this.view.onMouseOut}},{key:"onTouchStart",get:function(){return this.view.onTouchStart}},{key:"onTap",get:function(){return this.view.onTap}},{key:"onContextMenu",get:function(){var e=this,t=!1,n=this.disposables.add(N.ju.chain(this.disposables.add(new $.Y(this.view.domNode,"keydown")).event)).map((function(e){return new B.y(e)})).filter((function(e){return t=58===e.keyCode||e.shiftKey&&68===e.keyCode})).map($.p).filter((function(){return!1})).event,r=this.disposables.add(N.ju.chain(this.disposables.add(new $.Y(this.view.domNode,"keyup")).event)).forEach((function(){return t=!1})).map((function(e){return new B.y(e)})).filter((function(e){return 58===e.keyCode||e.shiftKey&&68===e.keyCode})).map($.p).map((function(t){var n=t.browserEvent,r=e.getFocus(),i=r.length?r[0]:void 0;return{index:i,element:void 0!==i?e.view.element(i):void 0,anchor:void 0!==i?e.view.domElement(i):e.view.domNode,browserEvent:n}})).event,i=this.disposables.add(N.ju.chain(this.view.onContextMenu)).filter((function(e){return!t})).map((function(e){var t=e.element,n=e.index,r=e.browserEvent;return{element:t,index:n,anchor:{x:r.pageX+1,y:r.pageY},browserEvent:r}})).event;return N.ju.any(n,r,i)}},{key:"onKeyDown",get:function(){return this.disposables.add(new $.Y(this.view.domNode,"keydown")).event}},{key:"onKeyUp",get:function(){return this.disposables.add(new $.Y(this.view.domNode,"keyup")).event}},{key:"onKeyPress",get:function(){return this.disposables.add(new $.Y(this.view.domNode,"keypress")).event}},{key:"onDidFocus",get:function(){return N.ju.signal(this.disposables.add(new $.Y(this.view.domNode,"focus",!0)).event)}},{key:"onDidBlur",get:function(){return N.ju.signal(this.disposables.add(new $.Y(this.view.domNode,"blur",!0)).event)}},{key:"createMouseController",value:function(e){return new Ht(this)}},{key:"updateOptions",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._options=ie(ie({},this._options),n),null===(e=this.typeNavigationController)||void 0===e||e.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(n),null===(t=this.keyboardController)||void 0===t||t.updateOptions(n),this.view.updateOptions(n)}},{key:"options",get:function(){return this._options}},{key:"splice",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e<0||e>this.view.length)throw new V.A(this.user,"Invalid start index: ".concat(e));if(t<0)throw new V.A(this.user,"Invalid delete count: ".concat(t));0===t&&0===r.length||this.eventBufferer.bufferEvents((function(){return n.spliceable.splice(e,t,r)}))}},{key:"updateWidth",value:function(e){this.view.updateWidth(e)}},{key:"updateElementHeight",value:function(e,t){this.view.updateElementHeight(e,t,null)}},{key:"rerender",value:function(){this.view.rerender()}},{key:"element",value:function(e){return this.view.element(e)}},{key:"indexOf",value:function(e){return this.view.indexOf(e)}},{key:"length",get:function(){return this.view.length}},{key:"contentHeight",get:function(){return this.view.contentHeight}},{key:"onDidChangeContentHeight",get:function(){return this.view.onDidChangeContentHeight}},{key:"scrollTop",get:function(){return this.view.getScrollTop()},set:function(e){this.view.setScrollTop(e)}},{key:"scrollLeft",get:function(){return this.view.getScrollLeft()},set:function(e){this.view.setScrollLeft(e)}},{key:"scrollHeight",get:function(){return this.view.scrollHeight}},{key:"renderHeight",get:function(){return this.view.renderHeight}},{key:"firstVisibleIndex",get:function(){return this.view.firstVisibleIndex}},{key:"lastVisibleIndex",get:function(){return this.view.lastVisibleIndex}},{key:"ariaLabel",get:function(){return this._ariaLabel},set:function(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}},{key:"domFocus",value:function(){this.view.domNode.focus({preventScroll:!0})}},{key:"layout",value:function(e,t){this.view.layout(e,t)}},{key:"triggerTypeNavigation",value:function(){this.typeNavigationController&&this.typeNavigationController.trigger()}},{key:"setSelection",value:function(e,t){var n,r=de(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i<0||i>=this.length)throw new V.A(this.user,"Invalid index ".concat(i))}}catch(e){r.e(e)}finally{r.f()}this.selection.set(e,t)}},{key:"getSelection",value:function(){return this.selection.get()}},{key:"getSelectedElements",value:function(){var e=this;return this.getSelection().map((function(t){return e.view.element(t)}))}},{key:"setAnchor",value:function(e){if(void 0!==e){if(e<0||e>=this.length)throw new V.A(this.user,"Invalid index ".concat(e));this.anchor.set([e])}else this.anchor.set([])}},{key:"getAnchor",value:function(){return(0,x.Xh)(this.anchor.get(),void 0)}},{key:"getAnchorElement",value:function(){var e=this.getAnchor();return void 0===e?void 0:this.element(e)}},{key:"setFocus",value:function(e,t){var n,r=de(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i<0||i>=this.length)throw new V.A(this.user,"Invalid index ".concat(i))}}catch(e){r.e(e)}finally{r.f()}this.focus.set(e,t)}},{key:"focusNext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(0!==this.length){var i=this.focus.get(),o=this.findNextIndex(i.length>0?i[0]+e:0,t,r);o>-1&&this.setFocus([o],n)}}},{key:"focusPrevious",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(0!==this.length){var i=this.focus.get(),o=this.findPreviousIndex(i.length>0?i[0]-e:0,t,r);o>-1&&this.setFocus([o],n)}}},{key:"focusNextPage",value:(n=fe(ae().mark((function e(t,n){var r,i,o,a,s;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=0===(r=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight))?0:r-1,(i=this.getFocus()[0])===r||!(void 0===i||r>i)){e.next=8;break}(o=this.findPreviousIndex(r,!1,n))>-1&&i!==o?this.setFocus([o],t):this.setFocus([r],t),e.next=18;break;case 8:if(a=this.view.getScrollTop(),s=a+this.view.renderHeight,r>i&&(s-=this.view.elementHeight(r)),this.view.setScrollTop(s),this.view.getScrollTop()===a){e.next=18;break}return this.setFocus([]),e.next=16,(0,g.Vs)(0);case 16:return e.next=18,this.focusNextPage(t,n);case 18:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"focusPreviousPage",value:(t=fe(ae().mark((function e(t,n){var r,i,o,a,s;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.view.getScrollTop(),r=0===i?this.view.indexAt(i):this.view.indexAfter(i-1),(o=this.getFocus()[0])===r||!(void 0===o||o>=r)){e.next=8;break}(a=this.findNextIndex(r,!1,n))>-1&&o!==a?this.setFocus([a],t):this.setFocus([r],t),e.next=16;break;case 8:if(s=i,this.view.setScrollTop(i-this.view.renderHeight),this.view.getScrollTop()===s){e.next=16;break}return this.setFocus([]),e.next=14,(0,g.Vs)(0);case 14:return e.next=16,this.focusPreviousPage(t,n);case 16:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"focusLast",value:function(e,t){if(0!==this.length){var n=this.findPreviousIndex(this.length-1,!1,t);n>-1&&this.setFocus([n],e)}}},{key:"focusFirst",value:function(e,t){this.focusNth(0,e,t)}},{key:"focusNth",value:function(e,t,n){if(0!==this.length){var r=this.findNextIndex(e,!1,n);r>-1&&this.setFocus([r],t)}}},{key:"findNextIndex",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=0;r<this.length;r++){if(e>=this.length&&!t)return-1;if(e%=this.length,!n||n(this.element(e)))return e;e++}return-1}},{key:"findPreviousIndex",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=0;r<this.length;r++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!n||n(this.element(e)))return e;e--}return-1}},{key:"getFocus",value:function(){return this.focus.get()}},{key:"getFocusedElements",value:function(){var e=this;return this.getFocus().map((function(t){return e.view.element(t)}))}},{key:"reveal",value:function(e,t){if(e<0||e>=this.length)throw new V.A(this.user,"Invalid index ".concat(e));var n=this.view.getScrollTop(),r=this.view.elementTop(e),i=this.view.elementHeight(e);if((0,b.hj)(t)){var o=i-this.view.renderHeight;this.view.setScrollTop(o*(0,z.uZ)(t,0,1)+r)}else{var a=r+i,s=n+this.view.renderHeight;r<n&&a>=s||(r<n||a>=s&&i>=this.view.renderHeight?this.view.setScrollTop(r):a>=s&&this.view.setScrollTop(a-this.view.renderHeight))}}},{key:"getRelativeTop",value:function(e){if(e<0||e>=this.length)throw new V.A(this.user,"Invalid index ".concat(e));var t=this.view.getScrollTop(),n=this.view.elementTop(e),r=this.view.elementHeight(e);if(n<t||n+r>t+this.view.renderHeight)return null;var i=r-this.view.renderHeight;return Math.abs((t-n)/i)}},{key:"isDOMFocused",value:function(){return this.view.domNode===document.activeElement}},{key:"getHTMLElement",value:function(){return this.view.domNode}},{key:"getElementID",value:function(e){return this.view.getElementDomId(e)}},{key:"style",value:function(e){this.styleController.style(e)}},{key:"toListEvent",value:function(e){var t=this,n=e.indexes,r=e.browserEvent;return{indexes:n,elements:n.map((function(e){return t.view.element(e)})),browserEvent:r}}},{key:"_onFocusChange",value:function(){var e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}},{key:"onDidChangeActiveDescendant",value:function(){var e,t,n=this.focus.get();n.length>0?(null!==(e=this.accessibilityProvider)&&void 0!==e&&e.getActiveDescendantId&&(t=this.accessibilityProvider.getActiveDescendantId(this.view.element(n[0]))),this.view.domNode.setAttribute("aria-activedescendant",t||this.view.getElementDomId(n[0]))):this.view.domNode.removeAttribute("aria-activedescendant")}},{key:"_onSelectionChange",value:function(){var e=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===e.length),this.view.domNode.classList.toggle("selection-single",1===e.length),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}},{key:"dispose",value:function(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}]),e}();function Yt(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}var Qt,Zt,Xt=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Ce(this,e),this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,t)),this.g=0|Math.min(255,Math.max(0,n)),this.b=0|Math.min(255,Math.max(0,r)),this.a=Yt(Math.max(Math.min(1,i),0),3)}return De(e,null,[{key:"equals",value:function(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}]),e}(),en=function(){function e(t,n,r,i){Ce(this,e),this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,t),0),this.s=Yt(Math.max(Math.min(1,n),0),3),this.l=Yt(Math.max(Math.min(1,r),0),3),this.a=Yt(Math.max(Math.min(1,i),0),3)}return De(e,null,[{key:"equals",value:function(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}},{key:"fromRGBA",value:function(t){var n=t.r/255,r=t.g/255,i=t.b/255,o=t.a,a=Math.max(n,r,i),s=Math.min(n,r,i),u=0,c=0,l=(s+a)/2,f=a-s;if(f>0){switch(c=Math.min(l<=.5?f/(2*l):f/(2-2*l),1),a){case n:u=(r-i)/f+(r<i?6:0);break;case r:u=(i-n)/f+2;break;case i:u=(n-r)/f+4}u*=60,u=Math.round(u)}return new e(u,c,l,o)}},{key:"_hue2rgb",value:function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}},{key:"toRGBA",value:function(t){var n,r,i,o=t.h/360,a=t.s,s=t.l,u=t.a;if(0===a)n=r=i=s;else{var c=s<.5?s*(1+a):s+a-s*a,l=2*s-c;n=e._hue2rgb(l,c,o+1/3),r=e._hue2rgb(l,c,o),i=e._hue2rgb(l,c,o-1/3)}return new Xt(Math.round(255*n),Math.round(255*r),Math.round(255*i),u)}}]),e}(),tn=function(){function e(t,n,r,i){Ce(this,e),this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,t),0),this.s=Yt(Math.max(Math.min(1,n),0),3),this.v=Yt(Math.max(Math.min(1,r),0),3),this.a=Yt(Math.max(Math.min(1,i),0),3)}return De(e,null,[{key:"equals",value:function(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}},{key:"fromRGBA",value:function(t){var n,r=t.r/255,i=t.g/255,o=t.b/255,a=Math.max(r,i,o),s=a-Math.min(r,i,o),u=0===a?0:s/a;return n=0===s?0:a===r?((i-o)/s%6+6)%6:a===i?(o-r)/s+2:(r-i)/s+4,new e(Math.round(60*n),u,a,t.a)}},{key:"toRGBA",value:function(e){var t=e.h,n=e.s,r=e.v,i=e.a,o=r*n,a=o*(1-Math.abs(t/60%2-1)),s=r-o,u=0,c=0,l=0;return t<60?(u=o,c=a):t<120?(u=a,c=o):t<180?(c=o,l=a):t<240?(c=a,l=o):t<300?(u=a,l=o):t<=360&&(u=o,l=a),u=Math.round(255*(u+s)),c=Math.round(255*(c+s)),l=Math.round(255*(l+s)),new Xt(u,c,l,i)}}]),e}(),nn=function(){function e(t){if(Ce(this,e),!t)throw new Error("Color needs a value");if(t instanceof Xt)this.rgba=t;else if(t instanceof en)this._hsla=t,this.rgba=en.toRGBA(t);else{if(!(t instanceof tn))throw new Error("Invalid color ctor argument");this._hsva=t,this.rgba=tn.toRGBA(t)}}return De(e,[{key:"hsla",get:function(){return this._hsla?this._hsla:en.fromRGBA(this.rgba)}},{key:"hsva",get:function(){return this._hsva?this._hsva:tn.fromRGBA(this.rgba)}},{key:"equals",value:function(e){return!!e&&Xt.equals(this.rgba,e.rgba)&&en.equals(this.hsla,e.hsla)&&tn.equals(this.hsva,e.hsva)}},{key:"getRelativeLuminance",value:function(){return Yt(.2126*e._relativeLuminanceForComponent(this.rgba.r)+.7152*e._relativeLuminanceForComponent(this.rgba.g)+.0722*e._relativeLuminanceForComponent(this.rgba.b),4)}},{key:"getContrastRatio",value:function(e){var t=this.getRelativeLuminance(),n=e.getRelativeLuminance();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)}},{key:"isDarker",value:function(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3<128}},{key:"isLighter",value:function(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}},{key:"isLighterThan",value:function(e){return this.getRelativeLuminance()>e.getRelativeLuminance()}},{key:"isDarkerThan",value:function(e){return this.getRelativeLuminance()<e.getRelativeLuminance()}},{key:"lighten",value:function(t){return new e(new en(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*t,this.hsla.a))}},{key:"darken",value:function(t){return new e(new en(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*t,this.hsla.a))}},{key:"transparent",value:function(t){var n=this.rgba,r=n.r,i=n.g,o=n.b,a=n.a;return new e(new Xt(r,i,o,a*t))}},{key:"isTransparent",value:function(){return 0===this.rgba.a}},{key:"isOpaque",value:function(){return 1===this.rgba.a}},{key:"opposite",value:function(){return new e(new Xt(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}},{key:"blend",value:function(t){var n=t.rgba,r=this.rgba.a,i=n.a,o=r+i*(1-r);if(o<1e-6)return e.transparent;var a=this.rgba.r*r/o+n.r*i*(1-r)/o,s=this.rgba.g*r/o+n.g*i*(1-r)/o,u=this.rgba.b*r/o+n.b*i*(1-r)/o;return new e(new Xt(a,s,u,o))}},{key:"makeOpaque",value:function(t){if(this.isOpaque()||1!==t.rgba.a)return this;var n=this.rgba,r=n.r,i=n.g,o=n.b,a=n.a;return new e(new Xt(t.rgba.r-a*(t.rgba.r-r),t.rgba.g-a*(t.rgba.g-i),t.rgba.b-a*(t.rgba.b-o),1))}},{key:"flatten",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduceRight((function(t,n){return e._flatten(n,t)}));return e._flatten(this,i)}},{key:"toString",value:function(){return this._toString||(this._toString=e.Format.CSS.format(this)),this._toString}}],[{key:"fromHex",value:function(t){return e.Format.CSS.parseHex(t)||e.red}},{key:"_relativeLuminanceForComponent",value:function(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}},{key:"_flatten",value:function(t,n){var r=1-t.rgba.a;return new e(new Xt(r*n.rgba.r+t.rgba.a*t.rgba.r,r*n.rgba.g+t.rgba.a*t.rgba.g,r*n.rgba.b+t.rgba.a*t.rgba.b))}},{key:"getLighterColor",value:function(e,t,n){if(e.isLighterThan(t))return e;n=n||.5;var r=e.getRelativeLuminance(),i=t.getRelativeLuminance();return n=n*(i-r)/i,e.lighten(n)}},{key:"getDarkerColor",value:function(e,t,n){if(e.isDarkerThan(t))return e;n=n||.5;var r=e.getRelativeLuminance();return n=n*(r-t.getRelativeLuminance())/r,e.darken(n)}}]),e}();function rn(e,t){Object.defineProperties(e,Object.getOwnPropertyDescriptors(t))}function on(e,t,n,r){var i,o=de(Object.getOwnPropertyNames(t));try{var a=function(){var o=i.value;Object.hasOwnProperty.call(e,o)||(e[o]=function(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n((e=t[o]).call.apply(e,[this].concat(he(a.map(r)))))})};for(o.s();!(i=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}}nn.white=new nn(new Xt(255,255,255,1)),nn.black=new nn(new Xt(0,0,0,1)),nn.red=new nn(new Xt(255,0,0,1)),nn.blue=new nn(new Xt(0,0,255,1)),nn.green=new nn(new Xt(0,255,0,1)),nn.cyan=new nn(new Xt(0,255,255,1)),nn.lightgrey=new nn(new Xt(211,211,211,1)),nn.transparent=new nn(new Xt(0,0,0,0)),function(e){var t;(function(t){function n(e){var t=e.toString(16);return 2!==t.length?"0"+t:t}function r(e){switch(e){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}t.formatRGB=function(t){return 1===t.rgba.a?"rgb(".concat(t.rgba.r,", ").concat(t.rgba.g,", ").concat(t.rgba.b,")"):e.Format.CSS.formatRGBA(t)},t.formatRGBA=function(e){return"rgba(".concat(e.rgba.r,", ").concat(e.rgba.g,", ").concat(e.rgba.b,", ").concat(+e.rgba.a.toFixed(2),")")},t.formatHSL=function(t){return 1===t.hsla.a?"hsl(".concat(t.hsla.h,", ").concat((100*t.hsla.s).toFixed(2),"%, ").concat((100*t.hsla.l).toFixed(2),"%)"):e.Format.CSS.formatHSLA(t)},t.formatHSLA=function(e){return"hsla(".concat(e.hsla.h,", ").concat((100*e.hsla.s).toFixed(2),"%, ").concat((100*e.hsla.l).toFixed(2),"%, ").concat(e.hsla.a.toFixed(2),")")},t.formatHex=function(e){return"#".concat(n(e.rgba.r)).concat(n(e.rgba.g)).concat(n(e.rgba.b))},t.formatHexA=function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r&&1===t.rgba.a?e.Format.CSS.formatHex(t):"#".concat(n(t.rgba.r)).concat(n(t.rgba.g)).concat(n(t.rgba.b)).concat(n(Math.round(255*t.rgba.a)))},t.format=function(t){return t.isOpaque()?e.Format.CSS.formatHex(t):e.Format.CSS.formatRGBA(t)},t.parseHex=function(t){var n=t.length;if(0===n)return null;if(35!==t.charCodeAt(0))return null;if(7===n){var i=16*r(t.charCodeAt(1))+r(t.charCodeAt(2)),o=16*r(t.charCodeAt(3))+r(t.charCodeAt(4)),a=16*r(t.charCodeAt(5))+r(t.charCodeAt(6));return new e(new Xt(i,o,a,1))}if(9===n){var s=16*r(t.charCodeAt(1))+r(t.charCodeAt(2)),u=16*r(t.charCodeAt(3))+r(t.charCodeAt(4)),c=16*r(t.charCodeAt(5))+r(t.charCodeAt(6)),l=16*r(t.charCodeAt(7))+r(t.charCodeAt(8));return new e(new Xt(s,u,c,l/255))}if(4===n){var f=r(t.charCodeAt(1)),d=r(t.charCodeAt(2)),h=r(t.charCodeAt(3));return new e(new Xt(16*f+f,16*d+d,16*h+h))}if(5===n){var p=r(t.charCodeAt(1)),v=r(t.charCodeAt(2)),y=r(t.charCodeAt(3)),g=r(t.charCodeAt(4));return new e(new Xt(16*p+p,16*v+v,16*y+y,(16*g+g)/255))}return null}})((t=e.Format||(e.Format={})).CSS||(t.CSS={}))}(nn||(nn={})),null==X.Yj.prototype.text?X.Yj.prototype.text=function(e){return this.parse(e).toString()}:console.warn("Useless polyfill: SnippetParser"),rn(Z.$V.prototype,wt.prototype),rn(W.aV.prototype,Jt.prototype),rn(H.md.prototype,k.W.prototype),rn(S.t.prototype,Et.prototype),rn(h.qL.prototype,Pe.prototype),rn(M.uy.prototype,k.R.prototype),rn(P.VK.prototype,pt.prototype),rn(I.Id.prototype,st.prototype),rn(T.AC.prototype,kt.prototype),rn(_.T.prototype,Ve.prototype),rn(D.EO.prototype,k.N.prototype),rn(p.bB.prototype,Me.prototype),rn(v.k.prototype,Be.prototype);var an=F.B.as("base.contributions.json");null!==(r=an.getSchemaContributions)&&void 0!==r||(an.getSchemaContributions=function(){return{schemas:an.schemasById}}),null!==(i=an.onDidChangeSchema)&&void 0!==i||(an.onDidChangeSchema=an._onDidChangeSchema.event);var sn=F.B.as("base.contributions.theming");null!==(o=sn.onThemingParticipantAdded)&&void 0!==o||(sn.onThemingParticipantAdded=sn.onThemingParticipantAddedEmitter.event);var un=F.B.as(j.IP.Configuration);function cn(e){return function(){var t,n=e.call(this);return null!==(t=n.onDidTriggerButton)&&void 0!==t||(n.onDidTriggerButton=n.onDidTriggerButtonEmitter.event),n}}function ln(e){return e instanceof f.KN?Fe.wrap(e.buffer):e}function fn(e){return e instanceof Fe?f.KN.wrap(e.buffer):e}null!==(a=un.onDidUpdateConfiguration)&&void 0!==a||(un.onDidUpdateConfiguration=un._onDidUpdateConfiguration.event),null!==(s=un.onDidSchemaChange)&&void 0!==s||(un.onDidSchemaChange=un._onDidSchemaChange.event),null!==(u=un.notifyConfigurationSchemaUpdated)&&void 0!==u||(un.notifyConfigurationSchemaUpdated=function(){un._onDidSchemaChange.fire()}),null!==(c=(Qt=D.EO.prototype).onDidClose)&&void 0!==c||(Qt.onDidClose=N.ju.None),ee.O.prototype.createQuickPick=cn(ee.O.prototype.createQuickPick),ee.O.prototype.createInputBox=cn(ee.O.prototype.createInputBox),null!==(l=(Zt=(0,te.d)().find((function(e){return se(e,1)[0]===ne.e}))[1].ctor.prototype).onDidChangeFormatters)&&void 0!==l||(Zt.onDidChangeFormatters=N.ju.None);var dn,hn=de(Object.getOwnPropertyNames(Fe));try{var pn=function(){var e=dn.value;if(!Object.hasOwnProperty.call(f.KN,e)){var t=Fe[e];Fe[e]=f.KN[e]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return fn(t.call.apply(t,[f.KN].concat(he(n.map(ln)))))}}};for(hn.s();!(dn=hn.n()).done;)pn()}catch(e){hn.e(e)}finally{hn.f()}on(f.KN.prototype,Fe.prototype,fn,ln),on(w.Il.prototype,nn.prototype,(function(e){if(e instanceof nn){var t=e.rgba;return new w.Il(new w.VS(t.r,t.g,t.g,t.a))}return e}),(function(e){if(e instanceof w.Il){var t=e.rgba;return new nn(new Xt(t.r,t.g,t.g,t.a))}return e}));var vn=n(39176);Object.prototype.hasOwnProperty;function yn(e){return void 0===e?null:e}var gn,mn=n(76064),bn=n(95380),wn=n(93649),_n=n(60282),kn=n(49680),Sn=n(96185),xn=n(15375),Cn=n(92733),En=n(63304),Dn=n(42038),Tn=n(94528),Pn=n(65458),On=n(24418),Rn=n(48303),In=n(43868),Ln=n(18063),jn=n(24864),An=n(81993),Nn=n(58596),Fn=n(63698),Mn=n(44674),qn=n(74553),Hn=n(38817),Wn=n(57236),Un=n(37845),Kn=n(69005),$n=n(26104),Bn=n(97999);function Vn(){Vn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),s=new C(i||[]);return r(a,"_invoke",{value:_(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(E([])));g&&g!==t&&n.call(g,o)&&(v=g);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,a,s){var u=l(e[r],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==ir(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return D()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:D}}function D(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function zn(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function Gn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){zn(o,r,i,a,s,"next",e)}function s(e){zn(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Jn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yn(e,t)}function Yn(e,t){return Yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yn(e,t)}function Qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xn(e);if(t){var i=Xn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Zn(this,n)}}function Zn(e,t){if(t&&("object"===ir(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Xn(e){return Xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xn(e)}function er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||nr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=nr(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function nr(e,t){if(e){if("string"==typeof e)return rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rr(e,t):void 0}}function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ir(e){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(e)}function or(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==ir(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ir(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===ir(o)?o:String(o)),r)}var i,o}function sr(e,t,n){return t&&ar(e.prototype,t),n&&ar(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ur=function(){function e(t){or(this,e),this.confusableDictionary=t}return sr(e,[{key:"isAmbiguous",value:function(e){return this.confusableDictionary.has(e)}},{key:"getPrimaryConfusable",value:function(e){return this.confusableDictionary.get(e)}},{key:"getConfusableCodePoints",value:function(){return new Set(this.confusableDictionary.keys())}}],[{key:"getInstance",value:function(t){return e.cache.get(Array.from(t))}},{key:"getLocales",value:function(){return e._locales.getValue()}}]),e}();function cr(e,t){return new Promise((function(n,r){var i=t.onCancellationRequested((function(){i.dispose(),r(new h.FU)}));e.then(n,r).finally((function(){return i.dispose()}))}))}gn=ur,ur.ambiguousCharacterData=new Rn.o((function(){return JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')})),ur.cache=new In.t((function(e){function t(e){for(var t=new Map,n=0;n<e.length;n+=2)t.set(e[n],e[n+1]);return t}function n(e,t){if(!e)return t;var n,r=new Map,i=tr(e);try{for(i.s();!(n=i.n()).done;){var o=er(n.value,2),a=o[0],s=o[1];t.has(a)&&r.set(a,s)}}catch(e){i.e(e)}finally{i.f()}return r}var r=gn.ambiguousCharacterData.getValue(),i=e.filter((function(e){return!e.startsWith("_")&&e in r}));0===i.length&&(i=["_default"]);var o,a=void 0,s=tr(i);try{for(s.s();!(o=s.n()).done;){var u=o.value;a=n(a,t(r[u]))}}catch(e){s.e(e)}finally{s.f()}var c=function(e,t){var n,r=new Map(e),i=tr(t);try{for(i.s();!(n=i.n()).done;){var o=er(n.value,2),a=o[0],s=o[1];r.set(a,s)}}catch(e){i.e(e)}finally{i.f()}return r}(t(r._common),a);return new ur(c)})),ur._locales=new Rn.o((function(){return Object.keys(ur.ambiguousCharacterData.getValue()).filter((function(e){return!e.startsWith("_")}))}));var lr=function(){function e(){var t=this;or(this,e),this._isOpen=!1,this._promise=new Promise((function(e,n){t._completePromise=e}))}return sr(e,[{key:"isOpen",value:function(){return this._isOpen}},{key:"open",value:function(){this._isOpen=!0,this._completePromise(!0)}},{key:"wait",value:function(){return this._promise}}]),e}();var fr=(0,En.yh)("policy"),dr="^([a-z0-9A-Z][a-z0-9-A-Z]*)\\.([a-z0-9A-Z][a-z0-9-A-Z]*)$",hr=(0,En.yh)("extensionService");function pr(e,t){return!!e.enabledApiProposals&&e.enabledApiProposals.includes(t)}var vr=function(){function e(){or(this,e),this.onDidRegisterExtensions=N.ju.None,this.onDidChangeExtensionsStatus=N.ju.None,this.onDidChangeExtensions=N.ju.None,this.onWillActivateByEvent=N.ju.None,this.onDidChangeResponsiveChange=N.ju.None}var t,n,r;return sr(e,[{key:"activateByEvent",value:function(e){return Promise.resolve(void 0)}},{key:"activationEventIsDone",value:function(e){return!1}},{key:"whenInstalledExtensionsRegistered",value:function(){return Promise.resolve(!0)}},{key:"getExtensions",value:function(){return Promise.resolve([])}},{key:"getExtension",value:function(){return Promise.resolve(void 0)}},{key:"readExtensionPointContributions",value:function(e){return Promise.resolve(Object.create(null))}},{key:"getExtensionsStatus",value:function(){return Object.create(null)}},{key:"getInspectPort",value:function(e,t){return Promise.resolve(0)}},{key:"getInspectPorts",value:function(e,t){return Promise.resolve([])}},{key:"stopExtensionHosts",value:function(){}},{key:"restartExtensionHost",value:(r=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"startExtensionHosts",value:(n=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"setRemoteEnvironment",value:(t=Gn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"canAddExtension",value:function(){return!1}},{key:"canRemoveExtension",value:function(){return!1}},{key:"_activateById",value:function(e,t){return Promise.resolve()}}]),e}(),yr=(0,En.yh)("lifecycleService"),gr=(0,En.yh)("ILanguageDetectionService"),mr=(0,En.yh)("keyboardLayoutService"),br=function(){function e(t){or(this,e),this._OS=t}return sr(e,[{key:"dumpDebugInfo",value:function(){return"FallbackKeyboardMapper dispatching on keyCode"}},{key:"resolveKeybinding",value:function(e){return[new Pn.j(e,this._OS)]}},{key:"resolveKeyboardEvent",value:function(e){var t=new On.QC(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode);return new Pn.j(t.toChord(),this._OS)}},{key:"resolveUserBinding",value:function(e){return Pn.j.resolveUserBinding(e,this._OS)}}]),e}();var wr=(0,vn.s)(jn.Y),_r=Object.freeze({authSession:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.authSession.d.ts",badges:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.badges.d.ts",commentsResolvedState:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentsResolvedState.d.ts",contribEditSessions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribEditSessions.d.ts",contribLabelFormatterWorkspaceTooltip:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribLabelFormatterWorkspaceTooltip.d.ts",contribMenuBarHome:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMenuBarHome.d.ts",contribMergeEditorToolbar:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMergeEditorToolbar.d.ts",contribRemoteHelp:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribRemoteHelp.d.ts",contribShareMenu:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribShareMenu.d.ts",contribViewSize:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewSize.d.ts",contribViewsRemote:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewsRemote.d.ts",contribViewsWelcome:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewsWelcome.d.ts",contribWebviewContext:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribWebviewContext.d.ts",customEditorMove:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.customEditorMove.d.ts",diffCommand:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.diffCommand.d.ts",documentFiltersExclusive:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.documentFiltersExclusive.d.ts",documentPaste:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.documentPaste.d.ts",editorInsets:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.editorInsets.d.ts",extensionRuntime:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.extensionRuntime.d.ts",extensionsAny:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.extensionsAny.d.ts",externalUriOpener:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.externalUriOpener.d.ts",fileSearchProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fileSearchProvider.d.ts",findTextInFiles:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.findTextInFiles.d.ts",fsChunks:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fsChunks.d.ts",idToken:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.idToken.d.ts",inlineCompletionsAdditions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.inlineCompletionsAdditions.d.ts",inlineCompletionsNew:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.inlineCompletionsNew.d.ts",interactiveWindow:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.interactiveWindow.d.ts",ipc:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.ipc.d.ts",notebookCellExecutionState:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookCellExecutionState.d.ts",notebookContentProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookContentProvider.d.ts",notebookControllerKind:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookControllerKind.d.ts",notebookDebugOptions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookDebugOptions.d.ts",notebookDeprecated:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookDeprecated.d.ts",notebookEditor:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookEditor.d.ts",notebookEditorEdit:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookEditorEdit.d.ts",notebookKernelSource:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookKernelSource.d.ts",notebookLiveShare:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookLiveShare.d.ts",notebookMessaging:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookMessaging.d.ts",notebookMime:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookMime.d.ts",notebookWorkspaceEdit:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookWorkspaceEdit.d.ts",portsAttributes:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.portsAttributes.d.ts",quickPickSortByLabel:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickPickSortByLabel.d.ts",resolvers:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.resolvers.d.ts",scmActionButton:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmActionButton.d.ts",scmSelectedProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmSelectedProvider.d.ts",scmValidation:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmValidation.d.ts",snippetWorkspaceEdit:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.snippetWorkspaceEdit.d.ts",tabInputTextMerge:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tabInputTextMerge.d.ts",taskPresentationGroup:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.taskPresentationGroup.d.ts",telemetry:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.telemetry.d.ts",terminalDataWriteEvent:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalDataWriteEvent.d.ts",terminalDimensions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalDimensions.d.ts",terminalExitReason:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalExitReason.d.ts",testCoverage:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testCoverage.d.ts",testObserver:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testObserver.d.ts",textSearchProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.textSearchProvider.d.ts",timeline:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.timeline.d.ts",tokenInformation:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tokenInformation.d.ts",treeViewReveal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.treeViewReveal.d.ts",workspaceTrust:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.workspaceTrust.d.ts"}),kr=F.B.as(Nn.I.JSONContribution),Sr=function(){function e(t,n){or(this,e),this.added=t,this.removed=n}return sr(e,null,[{key:"_toSet",value:function(e){for(var t=new Set,n=0,r=e.length;n<r;n++)t.add(Tn.k.toKey(e[n].description.identifier));return t}},{key:"compute",value:function(t,n){if(!t||!t.length)return new e(n,[]);if(!n||!n.length)return new e([],t);var r=this._toSet(t),i=this._toSet(n);return new e(n.filter((function(e){return!r.has(Tn.k.toKey(e.description.identifier))})),t.filter((function(e){return!i.has(Tn.k.toKey(e.description.identifier))})))}}]),e}(),xr=function(){function e(t,n){or(this,e),this.name=t,this.defaultExtensionKind=n,this._handler=null,this._users=null,this._delta=null}return sr(e,[{key:"setHandler",value:function(e){if(null!==this._handler)throw new Error("Handler already set!");this._handler=e,this._handle()}},{key:"acceptUsers",value:function(e){this._delta=Sr.compute(this._users,e),this._users=e,this._handle()}},{key:"_handle",value:function(){if(null!==this._handler&&null!==this._users&&null!==this._delta)try{this._handler(this._users,this._delta)}catch(e){(0,h.dL)(e)}}}]),e}(),Cr={type:"string",enum:["ui","workspace"],enumDescriptions:[(0,Ln.NC)("ui","UI extension kind. In a remote window, such extensions are enabled only when available on the local machine."),(0,Ln.NC)("workspace","Workspace extension kind. In a remote window, such extensions are enabled only when available on the remote.")]},Er="vscode://schemas/vscode-extensions",Dr={properties:{engines:{type:"object",description:(0,Ln.NC)("vscode.extension.engines","Engine compatibility."),properties:{vscode:{type:"string",description:(0,Ln.NC)("vscode.extension.engines.vscode","For VS Code extensions, specifies the VS Code version that the extension is compatible with. Cannot be *. For example: ^0.10.5 indicates compatibility with a minimum VS Code version of 0.10.5."),default:"^1.22.0"}}},publisher:{description:(0,Ln.NC)("vscode.extension.publisher","The publisher of the VS Code extension."),type:"string"},displayName:{description:(0,Ln.NC)("vscode.extension.displayName","The display name for the extension used in the VS Code gallery."),type:"string"},categories:{description:(0,Ln.NC)("vscode.extension.categories","The categories used by the VS Code gallery to categorize the extension."),type:"array",uniqueItems:!0,items:{oneOf:[{type:"string",enum:["Azure","Data Science","Debuggers","Extension Packs","Education","Formatters","Keymaps","Language Packs","Linters","Machine Learning","Notebooks","Programming Languages","SCM Providers","Snippets","Testing","Themes","Visualization","Other"]},{type:"string",const:"Languages",deprecationMessage:(0,Ln.NC)("vscode.extension.category.languages.deprecated","Use 'Programming  Languages' instead")}]}},galleryBanner:{type:"object",description:(0,Ln.NC)("vscode.extension.galleryBanner","Banner used in the VS Code marketplace."),properties:{color:{description:(0,Ln.NC)("vscode.extension.galleryBanner.color","The banner color on the VS Code marketplace page header."),type:"string"},theme:{description:(0,Ln.NC)("vscode.extension.galleryBanner.theme","The color theme for the font used in the banner."),type:"string",enum:["dark","light"]}}},contributes:{description:(0,Ln.NC)("vscode.extension.contributes","All contributions of the VS Code extension represented by this package."),type:"object",properties:{},default:{}},preview:{type:"boolean",description:(0,Ln.NC)("vscode.extension.preview","Sets the extension to be flagged as a Preview in the Marketplace.")},enableProposedApi:{type:"boolean",deprecationMessage:(0,Ln.NC)("vscode.extension.enableProposedApi.deprecated","Use `enabledApiProposals` instead.")},enabledApiProposals:{markdownDescription:(0,Ln.NC)("vscode.extension.enabledApiProposals","Enable API proposals to try them out. Only valid **during development**. Extensions **cannot be published** with this property. For more details visit: https://code.visualstudio.com/api/advanced-topics/using-proposed-api"),type:"array",uniqueItems:!0,items:{type:"string",enum:Object.keys(_r),markdownEnumDescriptions:Object.values(_r)}},activationEvents:{description:(0,Ln.NC)("vscode.extension.activationEvents","Activation events for the VS Code extension."),type:"array",items:{type:"string",defaultSnippets:[{label:"onWebviewPanel",description:(0,Ln.NC)("vscode.extension.activationEvents.onWebviewPanel","An activation event emmited when a webview is loaded of a certain viewType"),body:"onWebviewPanel:viewType"},{label:"onLanguage",description:(0,Ln.NC)("vscode.extension.activationEvents.onLanguage","An activation event emitted whenever a file that resolves to the specified language gets opened."),body:"onLanguage:${1:languageId}"},{label:"onCommand",description:(0,Ln.NC)("vscode.extension.activationEvents.onCommand","An activation event emitted whenever the specified command gets invoked."),body:"onCommand:${2:commandId}"},{label:"onDebug",description:(0,Ln.NC)("vscode.extension.activationEvents.onDebug","An activation event emitted whenever a user is about to start debugging or about to setup debug configurations."),body:"onDebug"},{label:"onDebugInitialConfigurations",description:(0,Ln.NC)("vscode.extension.activationEvents.onDebugInitialConfigurations",'An activation event emitted whenever a "launch.json" needs to be created (and all provideDebugConfigurations methods need to be called).'),body:"onDebugInitialConfigurations"},{label:"onDebugDynamicConfigurations",description:(0,Ln.NC)("vscode.extension.activationEvents.onDebugDynamicConfigurations",'An activation event emitted whenever a list of all debug configurations needs to be created (and all provideDebugConfigurations methods for the "dynamic" scope need to be called).'),body:"onDebugDynamicConfigurations"},{label:"onDebugResolve",description:(0,Ln.NC)("vscode.extension.activationEvents.onDebugResolve","An activation event emitted whenever a debug session with the specific type is about to be launched (and a corresponding resolveDebugConfiguration method needs to be called)."),body:"onDebugResolve:${6:type}"},{label:"onDebugAdapterProtocolTracker",description:(0,Ln.NC)("vscode.extension.activationEvents.onDebugAdapterProtocolTracker","An activation event emitted whenever a debug session with the specific type is about to be launched and a debug protocol tracker might be needed."),body:"onDebugAdapterProtocolTracker:${6:type}"},{label:"workspaceContains",description:(0,Ln.NC)("vscode.extension.activationEvents.workspaceContains","An activation event emitted whenever a folder is opened that contains at least a file matching the specified glob pattern."),body:"workspaceContains:${4:filePattern}"},{label:"onStartupFinished",description:(0,Ln.NC)("vscode.extension.activationEvents.onStartupFinished","An activation event emitted after the start-up finished (after all `*` activated extensions have finished activating)."),body:"onStartupFinished"},{label:"onTaskType",description:(0,Ln.NC)("vscode.extension.activationEvents.onTaskType","An activation event emitted whenever tasks of a certain type need to be listed or resolved."),body:"onTaskType:${1:taskType}"},{label:"onFileSystem",description:(0,Ln.NC)("vscode.extension.activationEvents.onFileSystem","An activation event emitted whenever a file or folder is accessed with the given scheme."),body:"onFileSystem:${1:scheme}"},{label:"onSearch",description:(0,Ln.NC)("vscode.extension.activationEvents.onSearch","An activation event emitted whenever a search is started in the folder with the given scheme."),body:"onSearch:${7:scheme}"},{label:"onView",body:"onView:${5:viewId}",description:(0,Ln.NC)("vscode.extension.activationEvents.onView","An activation event emitted whenever the specified view is expanded.")},{label:"onIdentity",body:"onIdentity:${8:identity}",description:(0,Ln.NC)("vscode.extension.activationEvents.onIdentity","An activation event emitted whenever the specified user identity.")},{label:"onUri",body:"onUri",description:(0,Ln.NC)("vscode.extension.activationEvents.onUri","An activation event emitted whenever a system-wide Uri directed towards this extension is open.")},{label:"onOpenExternalUri",body:"onOpenExternalUri",description:(0,Ln.NC)("vscode.extension.activationEvents.onOpenExternalUri","An activation event emitted whenever a external uri (such as an http or https link) is being opened.")},{label:"onCustomEditor",body:"onCustomEditor:${9:viewType}",description:(0,Ln.NC)("vscode.extension.activationEvents.onCustomEditor","An activation event emitted whenever the specified custom editor becomes visible.")},{label:"onNotebook",body:"onNotebook:${1:type}",description:(0,Ln.NC)("vscode.extension.activationEvents.onNotebook","An activation event emitted whenever the specified notebook document is opened.")},{label:"onAuthenticationRequest",body:"onAuthenticationRequest:${11:authenticationProviderId}",description:(0,Ln.NC)("vscode.extension.activationEvents.onAuthenticationRequest","An activation event emitted whenever sessions are requested from the specified authentication provider.")},{label:"onRenderer",description:(0,Ln.NC)("vscode.extension.activationEvents.onRenderer","An activation event emitted whenever a notebook output renderer is used."),body:"onRenderer:${11:rendererId}"},{label:"onTerminalProfile",body:"onTerminalProfile:${1:terminalId}",description:(0,Ln.NC)("vscode.extension.activationEvents.onTerminalProfile","An activation event emitted when a specific terminal profile is launched.")},{label:"onWalkthrough",body:"onWalkthrough:${1:walkthroughID}",description:(0,Ln.NC)("vscode.extension.activationEvents.onWalkthrough","An activation event emitted when a specified walkthrough is opened.")},{label:"*",description:(0,Ln.NC)("vscode.extension.activationEvents.star","An activation event emitted on VS Code startup. To ensure a great end user experience, please use this activation event in your extension only when no other activation events combination works in your use-case."),body:"*"}]}},badges:{type:"array",description:(0,Ln.NC)("vscode.extension.badges","Array of badges to display in the sidebar of the Marketplace's extension page."),items:{type:"object",required:["url","href","description"],properties:{url:{type:"string",description:(0,Ln.NC)("vscode.extension.badges.url","Badge image URL.")},href:{type:"string",description:(0,Ln.NC)("vscode.extension.badges.href","Badge link.")},description:{type:"string",description:(0,Ln.NC)("vscode.extension.badges.description","Badge description.")}}}},markdown:{type:"string",description:(0,Ln.NC)("vscode.extension.markdown","Controls the Markdown rendering engine used in the Marketplace. Either github (default) or standard."),enum:["github","standard"],default:"github"},qna:{default:"marketplace",description:(0,Ln.NC)("vscode.extension.qna","Controls the Q&A link in the Marketplace. Set to marketplace to enable the default Marketplace Q & A site. Set to a string to provide the URL of a custom Q & A site. Set to false to disable Q & A altogether."),anyOf:[{type:["string","boolean"],enum:["marketplace",!1]},{type:"string"}]},extensionDependencies:{description:(0,Ln.NC)("vscode.extension.extensionDependencies","Dependencies to other extensions. The identifier of an extension is always ${publisher}.${name}. For example: vscode.csharp."),type:"array",uniqueItems:!0,items:{type:"string",pattern:dr}},extensionPack:{description:(0,Ln.NC)("vscode.extension.contributes.extensionPack","A set of extensions that can be installed together. The identifier of an extension is always ${publisher}.${name}. For example: vscode.csharp."),type:"array",uniqueItems:!0,items:{type:"string",pattern:dr}},extensionKind:{description:(0,Ln.NC)("extensionKind","Define the kind of an extension. `ui` extensions are installed and run on the local machine while `workspace` extensions run on the remote."),type:"array",items:Cr,default:["workspace"],defaultSnippets:[{body:["ui"],description:(0,Ln.NC)("extensionKind.ui","Define an extension which can run only on the local machine when connected to remote window.")},{body:["workspace"],description:(0,Ln.NC)("extensionKind.workspace","Define an extension which can run only on the remote machine when connected remote window.")},{body:["ui","workspace"],description:(0,Ln.NC)("extensionKind.ui-workspace","Define an extension which can run on either side, with a preference towards running on the local machine.")},{body:["workspace","ui"],description:(0,Ln.NC)("extensionKind.workspace-ui","Define an extension which can run on either side, with a preference towards running on the remote machine.")},{body:[],description:(0,Ln.NC)("extensionKind.empty","Define an extension which cannot run in a remote context, neither on the local, nor on the remote machine.")}]},capabilities:{description:(0,Ln.NC)("vscode.extension.capabilities","Declare the set of supported capabilities by the extension."),type:"object",properties:{virtualWorkspaces:{description:(0,Ln.NC)("vscode.extension.capabilities.virtualWorkspaces","Declares whether the extension should be enabled in virtual workspaces. A virtual workspace is a workspace which is not backed by any on-disk resources. When false, this extension will be automatically disabled in virtual workspaces. Default is true."),type:["boolean","object"],defaultSnippets:[{label:"limited",body:{supported:"${1:limited}",description:"${2}"}},{label:"false",body:{supported:!1,description:"${2}"}}],default:(!0).valueOf,properties:{supported:{markdownDescription:(0,Ln.NC)("vscode.extension.capabilities.virtualWorkspaces.supported","Declares the level of support for virtual workspaces by the extension."),type:["string","boolean"],enum:["limited",!0,!1],enumDescriptions:[(0,Ln.NC)("vscode.extension.capabilities.virtualWorkspaces.supported.limited","The extension will be enabled in virtual workspaces with some functionality disabled."),(0,Ln.NC)("vscode.extension.capabilities.virtualWorkspaces.supported.true","The extension will be enabled in virtual workspaces with all functionality enabled."),(0,Ln.NC)("vscode.extension.capabilities.virtualWorkspaces.supported.false","The extension will not be enabled in virtual workspaces.")]},description:{type:"string",markdownDescription:(0,Ln.NC)("vscode.extension.capabilities.virtualWorkspaces.description","A description of how virtual workspaces affects the extensions behavior and why it is needed. This only applies when `supported` is not `true`.")}}},untrustedWorkspaces:{description:(0,Ln.NC)("vscode.extension.capabilities.untrustedWorkspaces","Declares how the extension should be handled in untrusted workspaces."),type:"object",required:["supported"],defaultSnippets:[{body:{supported:"${1:limited}",description:"${2}"}}],properties:{supported:{markdownDescription:(0,Ln.NC)("vscode.extension.capabilities.untrustedWorkspaces.supported","Declares the level of support for untrusted workspaces by the extension."),type:["string","boolean"],enum:["limited",!0,!1],enumDescriptions:[(0,Ln.NC)("vscode.extension.capabilities.untrustedWorkspaces.supported.limited","The extension will be enabled in untrusted workspaces with some functionality disabled."),(0,Ln.NC)("vscode.extension.capabilities.untrustedWorkspaces.supported.true","The extension will be enabled in untrusted workspaces with all functionality enabled."),(0,Ln.NC)("vscode.extension.capabilities.untrustedWorkspaces.supported.false","The extension will not be enabled in untrusted workspaces.")]},restrictedConfigurations:{description:(0,Ln.NC)("vscode.extension.capabilities.untrustedWorkspaces.restrictedConfigurations","A list of configuration keys contributed by the extension that should not use workspace values in untrusted workspaces."),type:"array",items:{type:"string"}},description:{type:"string",markdownDescription:(0,Ln.NC)("vscode.extension.capabilities.untrustedWorkspaces.description","A description of how workspace trust affects the extensions behavior and why it is needed. This only applies when `supported` is not `true`.")}}}}},sponsor:{description:(0,Ln.NC)("vscode.extension.contributes.sponsor","Specify the location from where users can sponsor your extension."),type:"object",defaultSnippets:[{body:{url:"${1:https:}"}}],properties:{url:{description:(0,Ln.NC)("vscode.extension.contributes.sponsor.url","URL from where users can sponsor your extension. It must be a valid URL with a HTTP or HTTPS protocol. Example value: https://github.com/sponsors/nvaccess"),type:"string"}}},scripts:{type:"object",properties:{"vscode:prepublish":{description:(0,Ln.NC)("vscode.extension.scripts.prepublish","Script executed before the package is published as a VS Code extension."),type:"string"},"vscode:uninstall":{description:(0,Ln.NC)("vscode.extension.scripts.uninstall","Uninstall hook for VS Code extension. Script that gets executed when the extension is completely uninstalled from VS Code which is when VS Code is restarted (shutdown and start) after the extension is uninstalled. Only Node scripts are supported."),type:"string"}}},icon:{type:"string",description:(0,Ln.NC)("vscode.extension.icon","The path to a 128x128 pixel icon.")}}},Tr=function(){function e(){or(this,e),this._extensionPoints=new Map}return sr(e,[{key:"registerExtensionPoint",value:function(e){if(this._extensionPoints.has(e.extensionPoint))throw new Error("Duplicate extension point: "+e.extensionPoint);var t=new xr(e.extensionPoint,e.defaultExtensionKind);return this._extensionPoints.set(e.extensionPoint,t),Dr.properties.contributes.properties[e.extensionPoint]=e.jsonSchema,kr.registerSchema(Er,Dr),t}},{key:"getExtensionPoints",value:function(){return Array.from(this._extensionPoints.values())}}]),e}(),Pr="ExtensionsRegistry";F.B.add(Pr,new Tr);F.B.as(Pr);kr.registerSchema(Er,Dr),kr.registerSchema(vn.p,{properties:{extensionEnabledApiProposals:{description:(0,Ln.NC)("product.extensionEnabledApiProposals","API proposals that the respective extensions can freely use."),type:"object",properties:{},additionalProperties:{anyOf:[{type:"array",uniqueItems:!0,items:{type:"string",enum:Object.keys(_r),markdownEnumDescriptions:Object.values(_r)}}]}}}}),(0,Mn.q5)("settings-sync-view-icon",qn.lA.sync,(0,Ln.NC)("syncViewIcon","View icon of the Settings Sync view."));var Or=(0,En.yh)("IUserDataInitializationService"),Rr=(0,En.yh)("hostColorSchemeService"),Ir=function(e){Jn(n,e);var t=Qn(n);function n(){var e;return or(this,n),(e=t.call(this))._onDidSchemeChangeEvent=e._register(new k.E),e.registerListeners(),e}return sr(n,[{key:"registerListeners",value:function(){var e=this;(0,Hn.addMatchMediaChangeListener)("(prefers-color-scheme: dark)",(function(){e._onDidSchemeChangeEvent.fire()})),(0,Hn.addMatchMediaChangeListener)("(forced-colors: active)",(function(){e._onDidSchemeChangeEvent.fire()}))}},{key:"onDidChangeColorScheme",get:function(){return this._onDidSchemeChangeEvent.event}},{key:"dark",get:function(){return!window.matchMedia("(prefers-color-scheme: light)").matches&&!!window.matchMedia("(prefers-color-scheme: dark)").matches}},{key:"highContrast",get:function(){return!!window.matchMedia("(forced-colors: active)").matches}}]),n}(d.JT),Lr=(0,En.yh)("preferencesService"),jr=(0,En.yh)("textMateService"),Ar=(0,En.yh)("IUserDataProfileService");M.Ao.and(Wn.j_.notEqualsTo("stable"),M.SI.create("config.".concat(vn.P)));var Nr=function(e){Jn(r,e);var t,n=Qn(r);function r(e,t){var i;return or(this,r),(i=n.call(this))._onDidChangeCurrentProfile=i._register(new k.E),i.onDidChangeCurrentProfile=i._onDidChangeCurrentProfile.event,i._onDidUpdateCurrentProfile=i._register(new k.E),i.onDidUpdateCurrentProfile=i._onDidUpdateCurrentProfile.event,i._currentProfile=e,i._register(t.onDidChangeProfiles((function(e){if(i._currentProfile.isDefault)i._currentProfile=t.defaultProfile;else{var n=e.updated.find((function(e){return i._currentProfile.id===e.id}));n&&(i._currentProfile=n,i._onDidUpdateCurrentProfile.fire())}}))),i}return sr(r,[{key:"currentProfile",get:function(){return this._currentProfile}},{key:"updateCurrentProfile",value:(t=Gn(Vn().mark((function e(t,n){var r,i;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._currentProfile.id!==t.id){e.next=2;break}return e.abrupt("return");case 2:return r=this._currentProfile,this._currentProfile=t,i=[],this._onDidChangeCurrentProfile.fire({preserveData:n,previous:r,profile:t,join:function(e){i.push(e)}}),e.next=8,g.jT.settled(i);case 8:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),r}(d.JT);function Fr(){throw new Error("unsupported")}Nr=(0,k._)([(0,k.a)(1,vn.q)],Nr),(0,te.z)(vn.I,function(){function e(){or(this,e),this._serviceBrand=void 0,this.onDidActiveEditorChange=N.ju.None,this.onDidVisibleEditorsChange=N.ju.None,this.onDidEditorsChange=N.ju.None,this.onDidCloseEditor=N.ju.None,this.activeEditorPane=void 0,this.activeEditor=void 0,this.activeTextEditorLanguageId=void 0,this.visibleEditorPanes=[],this.visibleEditors=[],this.visibleTextEditorControls=[],this.editors=[],this.count=0,this.getEditors=function(){return[]},this.openEditor=Fr,this.openEditors=Fr,this.replaceEditors=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),this.isOpened=function(){return!1},this.isVisible=function(){return!1},this.closeEditor=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),this.closeEditors=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),this.findEditors=function(){return[]},this.save=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)}))),this.saveAll=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)}))),this.revert=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)}))),this.revertAll=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})))}return sr(e,[{key:"activeTextEditorControl",get:function(){var e;return null!==(e=T.IO.get(Un.$).getFocusedCodeEditor())&&void 0!==e?e:void 0}}]),e}()),(0,te.z)(vn.g,sr((function e(){or(this,e),this._serviceBrand=void 0,this.onDidPaneCompositeOpen=N.ju.None,this.onDidPaneCompositeClose=N.ju.None,this.openPaneComposite=Fr,this.getActivePaneComposite=function(){},this.getPaneComposite=function(){},this.getPaneComposites=function(){return[]},this.getPinnedPaneCompositeIds=function(){return[]},this.getVisiblePaneCompositeIds=function(){return[]},this.getProgressIndicator=function(){},this.hideActivePaneComposite=function(){},this.getLastActivePaneCompositeId=Fr,this.showActivity=Fr}))),(0,te.z)(vn.f,function(){function e(){or(this,e),this._serviceBrand=void 0,this.extUri=new An.U9((function(){return!1}))}return sr(e,[{key:"asCanonicalUri",value:function(e){return e}}]),e}());var Mr=new k.E,qr=function(){function e(){or(this,e),this.onDidCreate=N.ju.None,this.onDidResolve=N.ju.None,this.onDidChangeDirty=N.ju.None,this.onDidChangeReadonly=N.ju.None,this.onDidRemove=N.ju.None,this.onDidChangeOrphaned=N.ju.None,this.onDidChangeEncoding=N.ju.None,this.onDidSaveError=N.ju.None,this.onDidSave=Mr.event,this.onDidRevert=N.ju.None,this.models=[],this.saveErrorHandler={onSaveError:Fr},this.get=function(){},this.resolve=Fr,this.addSaveParticipant=Fr,this.runSaveParticipants=Fr}return sr(e,[{key:"canDispose",value:function(){return!0}}]),e}();(0,te.z)(vn.h,function(){function e(){or(this,e),this._serviceBrand=void 0,this.files=new qr,this.isDirty=function(){return!1},this.save=Fr,this.saveAs=Fr,this.revert=Fr,this.read=Fr,this.readStream=Fr,this.write=Fr,this.create=Fr,this.getEncodedReadable=Fr,this.getDecodedStream=Fr}return sr(e,[{key:"untitled",get:function(){return Fr()}},{key:"encoding",get:function(){return Fr()}},{key:"dispose",value:function(){}}]),e}()),(0,te.z)(vn.i,function(){function e(){or(this,e),this._serviceBrand=void 0,this.onDidChangeFileSystemProviderRegistrations=N.ju.None,this.onDidChangeFileSystemProviderCapabilities=N.ju.None,this.onWillActivateFileSystemProvider=N.ju.None,this.registerProvider=Fr,this.getProvider=function(){},this.activateProvider=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),this.canHandleResource=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)}))),this.hasProvider=function(){return!1},this.hasCapability=function(){return!1},this.listCapabilities=function(){return[]},this.onDidFilesChange=N.ju.None,this.onDidRunOperation=N.ju.None,this.resolve=Fr,this.resolveAll=Fr,this.stat=Fr,this.exists=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)}))),this.readFile=Fr,this.readFileStream=Fr,this.writeFile=Fr,this.move=Fr,this.canMove=Fr,this.copy=Fr,this.canCopy=Fr,this.cloneFile=Fr,this.createFile=Fr,this.canCreateFile=Fr,this.createFolder=Fr,this.del=Fr,this.canDelete=Fr,this.onDidWatchError=N.ju.None,this.watch=Fr}return sr(e,[{key:"dispose",value:function(){}}]),e}());var Hr=function(){function e(){or(this,e),this.onDidModelChange=N.ju.None,this.onWillDispose=N.ju.None,this.onDidActiveEditorChange=N.ju.None,this.onWillCloseEditor=N.ju.None,this.onDidCloseEditor=N.ju.None,this.onWillMoveEditor=N.ju.None,this.onWillOpenEditor=N.ju.None,this.id=0,this.index=0,this.label="main",this.ariaLabel="main",this.activeEditorPane=void 0,this.activeEditor=null,this.previewEditor=null,this.count=0,this.isEmpty=!1,this.isLocked=!1,this.stickyCount=0,this.editors=[],this.getEditors=Fr,this.findEditors=Fr,this.getEditorByIndex=Fr,this.getIndexOfEditor=Fr,this.openEditor=Fr,this.openEditors=Fr,this.isPinned=Fr,this.isSticky=Fr,this.isActive=Fr,this.contains=Fr,this.moveEditor=Fr,this.moveEditors=Fr,this.copyEditor=Fr,this.copyEditors=Fr,this.closeEditor=Fr,this.closeEditors=Fr,this.closeAllEditors=Fr,this.replaceEditors=Fr,this.pinEditor=Fr,this.stickEditor=Fr,this.unstickEditor=Fr,this.lock=Fr,this.isFirst=function(){return!0},this.isLast=function(){return!0}}return sr(e,[{key:"scopedContextKeyService",get:function(){return T.IO.get(M.i6)}},{key:"focus",value:function(){}}]),e}();(0,te.z)(vn.b,function(){function e(){or(this,e),this._serviceBrand=void 0,this.onDidChangeActiveGroup=N.ju.None,this.onDidAddGroup=N.ju.None,this.onDidRemoveGroup=N.ju.None,this.onDidMoveGroup=N.ju.None,this.onDidActivateGroup=N.ju.None,this.onDidLayout=N.ju.None,this.onDidScroll=N.ju.None,this.onDidChangeGroupIndex=N.ju.None,this.onDidChangeGroupLocked=N.ju.None,this.activeGroup=new Hr,this.groups=[],this.count=0,this.orientation=0,this.isReady=!1,this.whenReady=Promise.resolve(),this.whenRestored=Promise.resolve(),this.hasRestorableState=!1,this.getGroups=function(){return[]},this.getGroup=function(){},this.activateGroup=Fr,this.getSize=Fr,this.setSize=Fr,this.arrangeGroups=Fr,this.applyLayout=Fr,this.centerLayout=Fr,this.isLayoutCentered=function(){return!1},this.setGroupOrientation=Fr,this.findGroup=function(){},this.addGroup=Fr,this.removeGroup=Fr,this.moveGroup=Fr,this.mergeGroup=Fr,this.mergeAllGroups=Fr,this.copyGroup=Fr,this.onDidChangeEditorPartOptions=N.ju.None,this.enforcePartOptions=Fr}return sr(e,[{key:"contentDimension",get:function(){return Fr()}},{key:"sideGroup",get:function(){return Fr()}},{key:"partOptions",get:function(){return Fr()}}]),e}());var Wr=function(){function e(){or(this,e),this._serviceBrand=void 0,this.skipReleaseNotes=!0,this.skipWelcome=!0,this.disableWorkspaceTrust=!0,this.debugRenderer=!1,this.sync=void 0,this.isExtensionDevelopment=!1,this.disableExtensions=!1,this.logsPath="",this.verbose=!1,this.isBuilt=!0,this.disableTelemetry=!1}return sr(e,[{key:"logFile",get:function(){return Fr()}},{key:"extHostLogsPath",get:function(){return Fr()}},{key:"webviewExternalEndpoint",get:function(){return Fr()}},{key:"userRoamingDataHome",get:function(){return Fr()}},{key:"keyboardLayoutResource",get:function(){return Fr()}},{key:"argvResource",get:function(){return Fr()}},{key:"snippetsHome",get:function(){return R.o.from({scheme:"user",path:"/snippets"})}},{key:"untitledWorkspacesHome",get:function(){return Fr()}},{key:"globalStorageHome",get:function(){return Fr()}},{key:"workspaceStorageHome",get:function(){return Fr()}},{key:"localHistoryHome",get:function(){return Fr()}},{key:"cacheHome",get:function(){return Fr()}},{key:"userDataSyncHome",get:function(){return Fr()}},{key:"userDataSyncLogResource",get:function(){return Fr()}},{key:"debugExtensionHost",get:function(){return Fr()}},{key:"telemetryLogResource",get:function(){return Fr()}},{key:"serviceMachineIdResource",get:function(){return Fr()}},{key:"stateResource",get:function(){return Fr()}},{key:"editSessionsLogResource",get:function(){return Fr()}}]),e}();(0,te.z)(vn.j,Wr),(0,te.z)(jn.Y,Wr),(0,te.z)(wr,Wr),(0,te.z)(vn.k,sr((function e(){or(this,e),this._serviceBrand=void 0,this.onWillRunWorkingCopyFileOperation=N.ju.None,this.onDidFailWorkingCopyFileOperation=N.ju.None,this.onDidRunWorkingCopyFileOperation=N.ju.None,this.addFileOperationParticipant=Fr,this.hasSaveParticipants=!1,this.addSaveParticipant=Fr,this.runSaveParticipants=Fr,this.create=Fr,this.createFolder=Fr,this.move=Fr,this.copy=Fr,this.delete=Fr,this.registerWorkingCopyProvider=Fr,this.getDirty=Fr}))),(0,te.z)(vn.l,function(){function e(){or(this,e),this._serviceBrand=void 0,this.defaultUriScheme=Kn.lg.file,this.userHome=Fr,this.hasValidBasename=Fr,this.resolvedUserHome=void 0}var t;return sr(e,[{key:"path",get:function(){return Fr()}},{key:"fileURI",value:(t=Gn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R.o.file(t));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}()),(0,te.z)($n.R9,function(){function e(){or(this,e),this._serviceBrand=void 0}return sr(e,[{key:"withProgress",value:function(e,t,n){var r=vn.S.get().window;return null!=(null==r?void 0:r.withProgress)?r.withProgress(e,t,n):t({report:function(){}})}}]),e}()),(0,te.z)(vn.c,sr((function e(){or(this,e),this._serviceBrand=void 0,this.version="1.69.0",this.nameShort="Code - OSS Dev",this.nameLong="Code - OSS Dev",this.applicationName="code-oss",this.dataFolderName=".vscode-oss",this.urlProtocol="code-oss",this.reportIssueUrl="https://github.com/microsoft/vscode/issues/new",this.licenseName="MIT",this.licenseUrl="https://github.com/microsoft/vscode/blob/main/LICENSE.txt",this.serverApplicationName="code-server-oss"}))),(0,te.z)(vn.n,function(){function e(){or(this,e),this._provider=new Bn.c,this.onDidChange=this._provider.onDidChange}return sr(e,[{key:"addStatus",value:function(e){return this._provider.register(e.selector,e)}},{key:"getLanguageStatus",value:function(e){return this._provider.ordered(e).sort((function(e,t){var n=t.severity-e.severity;return 0===n&&(n=(0,L.qu)(e.source,t.source)),0===n&&(n=(0,L.qu)(e.id,t.id)),n}))}}]),e}());var Ur=(0,m.trackFocus)(window),Kr=new $.Y(window.document,"visibilitychange"),$r=N.ju.latch(N.ju.any(N.ju.map(Ur.onDidFocus,(function(){return document.hasFocus()})),N.ju.map(Ur.onDidBlur,(function(){return document.hasFocus()})),N.ju.map(Kr.event,(function(){return document.hasFocus()}))));(0,te.z)(vn.o,function(){function e(){or(this,e),this.onDidChangeFocus=$r,this.openWindow=Fr,this.restart=Fr,this.reload=Fr,this.close=Fr}var t,n,r;return sr(e,[{key:"hasFocus",get:function(){return document.hasFocus()}},{key:"hadLastFocus",value:(r=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"focus",value:(n=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.focus();case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"toggleFullScreen",value:(t=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!document.fullscreenEnabled){e.next=5;break}return e.next=3,document.body.requestFullscreen();case 3:e.next=7;break;case 5:return e.next=7,document.exitFullscreen();case 7:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}()),(0,te.z)(yr,function(){function e(){or(this,e),this.startupKind=1,this.phase=2,this.onBeforeShutdown=N.ju.None,this.onShutdownVeto=N.ju.None,this.onBeforeShutdownError=N.ju.None,this.onWillShutdown=N.ju.None,this.onDidShutdown=N.ju.None,this.shutdown=Fr}var t;return sr(e,[{key:"when",value:(t=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}()),(0,te.z)(gr,function(){function e(){or(this,e)}var t;return sr(e,[{key:"isEnabledForLanguage",value:function(){return!1}},{key:"detectLanguage",value:(t=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}()),(0,te.z)(hr,vr),(0,te.z)(mr,sr((function e(){or(this,e),this.onDidChangeKeyboardLayout=N.ju.None,this.getRawKeyboardMapping=function(){return null},this.getCurrentKeyboardLayout=function(){return null},this.getAllKeyboardLayouts=function(){return[]},this.getKeyboardMapper=function(){return new br(G.OS)},this.validateCurrentKeyboardMapping=function(){}}))),(0,te.z)(Or,function(){function e(){or(this,e)}var t,n,r,i,o;return sr(e,[{key:"requiresInitialization",value:(o=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"whenInitializationFinished",value:(i=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"initializeRequiredResources",value:(r=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"initializeInstalledExtensions",value:(n=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"initializeOtherResources",value:(t=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}()),(0,te.z)(Rr,Ir),(0,te.z)(Lr,function(){function e(){or(this,e),this.workspaceSettingsResource=null,this.getFolderSettingsResource=Fr,this.createPreferencesEditorModel=Fr,this.resolveModel=Fr,this.createSettings2EditorModel=Fr,this.openRawDefaultSettings=Fr,this.openSettings=Fr,this.openUserSettings=Fr,this.openRemoteSettings=Fr,this.openWorkspaceSettings=Fr,this.openFolderSettings=Fr,this.openGlobalKeybindingSettings=Fr,this.openDefaultKeybindingsFile=Fr,this.getEditableSettingsURI=Fr,this.createSplitJsonEditorInput=Fr,this.openApplicationSettings=Fr,this.openLanguageSpecificSettings=Fr}return sr(e,[{key:"userSettingsResource",get:function(){return Fr()}}]),e}()),(0,te.z)(jr,sr((function e(){or(this,e),this.onDidEncounterLanguage=N.ju.None,this.createGrammar=Fr,this.startDebugMode=Fr})));var Br={id:"default",isDefault:!0,name:"default",location:R.o.from({scheme:"user",path:"/profile.json"}),get globalStorageHome(){return Fr()},settingsResource:R.o.from({scheme:"user",path:"/settings.json"}),keybindingsResource:R.o.from({scheme:"user",path:"/keybindings.json"}),get tasksResource(){return Fr()},get snippetsHome(){return R.o.from({scheme:"user",path:"/snippets"})},extensionsResource:void 0};(0,te.z)(vn.q,function(){function e(){or(this,e),this.defaultProfile=Br,this.onDidChangeProfiles=N.ju.None,this.profiles=[Br],this.createProfile=Fr,this.updateProfile=Fr,this.setProfileForWorkspace=Fr,this.getProfile=function(){return Br},this.removeProfile=Fr}return sr(e,[{key:"profilesHome",get:function(){return Fr()}}]),e}());var Vr=function(e){Jn(n,e);var t=Qn(n);function n(e){return or(this,n),t.call(this,Br,e)}return sr(n)}(Nr);Vr=(0,k._)([(0,k.a)(0,vn.q)],Vr),(0,te.z)(Ar,Vr),(0,te.z)(fr,sr((function e(){or(this,e),this.onDidChange=N.ju.None,this.registerPolicyDefinitions=Fr,this.getPolicyValue=function(){},this.serialize=function(){}}))),(0,te.z)(vn.r,sr((function e(){or(this,e),this.getSnippetFiles=Fr,this.isEnabled=Fr,this.updateEnablement=Fr,this.updateUsageTimestamp=Fr,this.getSnippets=Gn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))),this.getSnippetsSync=Fr})));var zr=n(69349),Gr=n(2307),Jr=n(79276),Yr=n(6344),Qr=n(17340),Zr=n(39425),Xr=n(1519),ei=n(89704),ti=n(23942),ni=n(5491),ri=n(71919),ii=n(76758),oi=n(71509),ai=n(75687),si=n(42654),ui=n(24103),ci=n(59399),li=n(65498),fi=n(2507),di=n(59347),hi=n(97277),pi=n(79126),vi=n(6617),yi=n(48552),gi=n(94717),mi=n(53920),bi=n(31071),wi=n(16769),_i=n(77846),ki=n(31213),Si=n(66420);function xi(){return xi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ci(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},xi.apply(this,arguments)}function Ci(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fi(e)););return e}function Ei(e){var t="function"==typeof Map?new Map:void 0;return Ei=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Di(e,arguments,Fi(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Ii(r,e)},Ei(e)}function Di(e,t,n){return Di=Ni()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Ii(i,n.prototype),i},Di.apply(null,arguments)}function Ti(){Ti=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),s=new C(i||[]);return r(a,"_invoke",{value:_(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(E([])));g&&g!==t&&n.call(g,o)&&(v=g);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,a,s){var u=l(e[r],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==Vi(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return D()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:D}}function D(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Pi(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function Oi(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Pi(o,r,i,a,s,"next",e)}function s(e){Pi(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Ri(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ii(e,t)}function Ii(e,t){return Ii=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ii(e,t)}function Li(e){var t=Ni();return function(){var n,r=Fi(e);if(t){var i=Fi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ji(this,n)}}function ji(e,t){if(t&&("object"===Vi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ai(e)}function Ai(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ni(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Fi(e){return Fi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fi(e)}function Mi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||$i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qi(Object(n),!0).forEach((function(t){Wi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wi(e,t,n){return(t=Yi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ui(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=$i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ki(e){return function(e){if(Array.isArray(e))return Bi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $i(e,t){if(e){if("string"==typeof e)return Bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bi(e,t):void 0}}function Bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vi(e){return Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vi(e)}function zi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yi(r.key),r)}}function Ji(e,t,n){return t&&Gi(e.prototype,t),n&&Gi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yi(e){var t=function(e,t){if("object"!==Vi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Vi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Vi(t)?t:String(t)}function Qi(e){return(0,R.q)(e,!0)}var Zi=new(function(){function e(t){zi(this,e),this._ignorePathCasing=t}return Ji(e,[{key:"compare",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e===t?0:(0,L.qu)(this.getComparisonKey(e,n),this.getComparisonKey(t,n))}},{key:"isEqual",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e===t||!(!e||!t)&&this.getComparisonKey(e,n)===this.getComparisonKey(t,n)}},{key:"getComparisonKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}},{key:"ignorePathCasing",value:function(e){return this._ignorePathCasing(e)}},{key:"isEqualOrParent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.scheme===t.scheme){if(e.scheme===Kn.lg.file)return(0,ci.KM)(Qi(e),Qi(t),this._ignorePathCasing(e))&&e.query===t.query&&(n||e.fragment===t.fragment);if(eo(e.authority,t.authority))return(0,ci.KM)(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(n||e.fragment===t.fragment)}return!1}},{key:"joinPath",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return R.o.joinPath.apply(R.o,[e].concat(n))}},{key:"basenameOrAuthority",value:function(e){return Xi(e)||e.authority}},{key:"basename",value:function(e){return ui.KR.basename(e.path)}},{key:"extname",value:function(e){return ui.KR.extname(e.path)}},{key:"dirname",value:function(e){return 0===e.path.length?e:(e.scheme===Kn.lg.file?t=R.o.file((0,ui.XX)(Qi(e))).path:(t=ui.KR.dirname(e.path),e.authority&&t.length&&47!==t.charCodeAt(0)&&(console.error('dirname("'.concat(e.toString,")) resulted in a relative path")),t="/")),e.with({path:t}));var t}},{key:"normalizePath",value:function(e){return e.path.length?(t=e.scheme===Kn.lg.file?R.o.file((0,ui.Fv)(Qi(e))).path:ui.KR.normalize(e.path),e.with({path:t})):e;var t}},{key:"relativePath",value:function(e,t){if(e.scheme===t.scheme&&eo(e.authority,t.authority)){if(e.scheme===Kn.lg.file){var n=(0,ui.Gf)(Qi(e),Qi(t));return G.ED?(0,ci.ej)(n):n}var r=e.path||"/",i=t.path||"/";if(this._ignorePathCasing(e)){for(var o=0,a=Math.min(r.length,i.length);o<a&&(r.charCodeAt(o)===i.charCodeAt(o)||r.charAt(o).toLowerCase()===i.charAt(o).toLowerCase());o++);r=i.substr(0,o)+r.substr(o)}return ui.KR.relative(r,i)}}},{key:"resolvePath",value:function(e,t){if(e.scheme===Kn.lg.file){var n=R.o.file((0,ui.DB)(Qi(e),t));return e.with({authority:n.authority,path:n.path})}return t=(0,ci.fn)(t),e.with({path:ui.KR.resolve(e.path,t)})}},{key:"isAbsolutePath",value:function(e){return!!e.path&&"/"===e.path[0]}},{key:"isEqualAuthority",value:function(e,t){return e===t||void 0!==e&&void 0!==t&&(0,L.qq)(e,t)}},{key:"hasTrailingPathSeparator",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ui.ir;if(e.scheme===Kn.lg.file){var n=Qi(e);return n.length>(0,ci.yj)(n).length&&n[n.length-1]===t}var r=e.path;return r.length>1&&47===r.charCodeAt(r.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}},{key:"removeTrailingPathSeparator",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ui.ir;return to(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}},{key:"addTrailingPathSeparator",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ui.ir,n=!1;if(e.scheme===Kn.lg.file){var r=Qi(e);n=void 0!==r&&r.length===(0,ci.yj)(r).length&&r[r.length-1]===t}else{t="/";var i=e.path;n=1===i.length&&47===i.charCodeAt(i.length-1)}return n||to(e,t)?e:e.with({path:e.path+"/"})}}]),e}())((function(){return!1}));Zi.isEqual.bind(Zi),Zi.isEqualOrParent.bind(Zi),Zi.getComparisonKey.bind(Zi),Zi.basenameOrAuthority.bind(Zi);var Xi=Zi.basename.bind(Zi);Zi.extname.bind(Zi),Zi.dirname.bind(Zi),Zi.joinPath.bind(Zi),Zi.normalizePath.bind(Zi),Zi.relativePath.bind(Zi),Zi.resolvePath.bind(Zi),Zi.isAbsolutePath.bind(Zi);var eo=Zi.isEqualAuthority.bind(Zi),to=Zi.hasTrailingPathSeparator.bind(Zi);function no(e,t,n){if(t){var r=e.path;return r&&r[0]!==ui.KR.sep&&(r=ui.KR.sep+r),e.with({scheme:n,authority:t,path:r})}return e.with({scheme:n})}Zi.removeTrailingPathSeparator.bind(Zi),Zi.addTrailingPathSeparator.bind(Zi);var ro,io=kn.Range,oo=kn.languages.FoldingRangeKind;!function(e){e[e.APPLICATION=1]="APPLICATION",e[e.MACHINE=2]="MACHINE",e[e.WINDOW=3]="WINDOW",e[e.RESOURCE=4]="RESOURCE",e[e.LANGUAGE_OVERRIDABLE=5]="LANGUAGE_OVERRIDABLE",e[e.MACHINE_OVERRIDABLE=6]="MACHINE_OVERRIDABLE"}(ro||(ro={}));var ao="vscode://schemas/settings/resourceLanguage",so=F.B.as(Nn.I.JSONContribution),uo=function(){function e(){zi(this,e),this.overrideIdentifiers=new Set,this._onDidSchemaChange=new k.E,this.onDidSchemaChange=this._onDidSchemaChange.event,this._onDidUpdateConfiguration=new k.E,this.onDidUpdateConfiguration=this._onDidUpdateConfiguration.event,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:(0,Ln.NC)("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},so.registerSchema(ao,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}return Ji(e,[{key:"registerConfiguration",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.registerConfigurations([e],t)}},{key:"registerConfigurations",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.doRegisterConfigurations(e,t);so.registerSchema(ao,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n})}},{key:"deregisterConfigurations",value:function(e){var t=this.doDeregisterConfigurations(e);so.registerSchema(ao,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t})}},{key:"updateConfigurations",value:function(e){var t=e.add,n=e.remove,r=[];r.push.apply(r,Ki(this.doDeregisterConfigurations(n))),r.push.apply(r,Ki(this.doRegisterConfigurations(t,!1))),so.registerSchema(ao,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:(0,x.EB)(r)})}},{key:"registerDefaultConfigurations",value:function(e){var t,n=[],r=[],i=Ui(e);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=o.overrides,s=o.source;for(var u in a)if(n.push(u),ho.test(u)){var c,l=this.configurationDefaultsOverrides.get(u),f=null!==(c=null==l?void 0:l.valuesSources)&&void 0!==c?c:new Map;if(s)for(var d=0,h=Object.keys(a[u]);d<h.length;d++){var p=h[d];f.set(p,s)}var v=Hi(Hi({},(null==l?void 0:l.value)||{}),a[u]);this.configurationDefaultsOverrides.set(u,{source:s,value:v,valuesSources:f});var y=(0,A.UI)(u),g={type:"object",default:v,description:(0,Ln.NC)("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",y),$ref:ao,defaultDefaultValue:v,source:(0,b.HD)(s)?void 0:s,defaultValueSource:s};r.push.apply(r,Ki(po(u))),this.configurationProperties[u]=g,this.defaultLanguageConfigurationOverridesNode.properties[u]=g}else{this.configurationDefaultsOverrides.set(u,{value:a[u],source:s});var m=this.configurationProperties[u];m&&(this.updatePropertyDefaultValue(u,m),this.updateSchema(u,m))}}}catch(e){i.e(e)}finally{i.f()}this.registerOverrideIdentifiers(r),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n,defaultsOverrides:!0})}},{key:"deregisterDefaultConfigurations",value:function(e){var t,n=[],r=Ui(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.overrides,a=i.source;for(var s in o){var u,c=this.configurationDefaultsOverrides.get(s);if(((0,b.HD)(a)?a:null==a?void 0:a.id)===((0,b.HD)(null==c?void 0:c.source)?null==c?void 0:c.source:null==c||null===(u=c.source)||void 0===u?void 0:u.id))if(n.push(s),this.configurationDefaultsOverrides.delete(s),ho.test(s))delete this.configurationProperties[s],delete this.defaultLanguageConfigurationOverridesNode.properties[s];else{var l=this.configurationProperties[s];l&&(this.updatePropertyDefaultValue(s,l),this.updateSchema(s,l))}}}}catch(e){r.e(e)}finally{r.f()}this.updateOverridePropertyPatternKey(),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n,defaultsOverrides:!0})}},{key:"notifyConfigurationSchemaUpdated",value:function(){this._onDidSchemaChange.fire()}},{key:"registerOverrideIdentifiers",value:function(e){var t,n=Ui(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.overrideIdentifiers.add(r)}}catch(e){n.e(e)}finally{n.f()}this.updateOverridePropertyPatternKey()}},{key:"doRegisterConfigurations",value:function(e,t){var n=this,r=[];return e.forEach((function(e){r.push.apply(r,Ki(n.validateAndRegisterProperties(e,t,e.extensionInfo,e.restrictedProperties))),n.configurationContributors.push(e),n.registerJSONConfiguration(e)})),r}},{key:"doDeregisterConfigurations",value:function(e){var t,n=this,r=[],i=function e(t){var i;if(t.properties)for(var o in t.properties){var a;r.push(o);var s=n.configurationProperties[o];null!=s&&null!==(a=s.policy)&&void 0!==a&&a.name&&n.policyConfigurations.delete(s.policy.name),delete n.configurationProperties[o],n.removeFromSchema(o,t.properties[o])}null===(i=t.allOf)||void 0===i||i.forEach((function(t){return e(t)}))},o=Ui(e);try{for(o.s();!(t=o.n()).done;){var a=t.value;i(a);var s=this.configurationContributors.indexOf(a);-1!==s&&this.configurationContributors.splice(s,1)}}catch(e){o.e(e)}finally{o.f()}return r}},{key:"validateAndRegisterProperties",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3;i=(0,b.Jp)(e.scope)?i:e.scope;var o=[],a=e.properties;if(a)for(var s in a){var u,c=a[s];if(t&&yo(s,c))delete a[s];else if(c.source=n,c.defaultDefaultValue=a[s].default,this.updatePropertyDefaultValue(s,c),ho.test(s)?c.scope=void 0:(c.scope=(0,b.Jp)(c.scope)?i:c.scope,c.restricted=(0,b.Jp)(c.restricted)?!(null==r||!r.includes(s)):c.restricted),!a[s].hasOwnProperty("included")||a[s].included)this.configurationProperties[s]=a[s],null!==(u=a[s].policy)&&void 0!==u&&u.name&&this.policyConfigurations.set(a[s].policy.name,s),!a[s].deprecationMessage&&a[s].markdownDeprecationMessage&&(a[s].deprecationMessage=a[s].markdownDeprecationMessage),o.push(s);else this.excludedConfigurationProperties[s]=a[s],delete a[s]}var l=e.allOf;if(l){var f,d=Ui(l);try{for(d.s();!(f=d.n()).done;){var h=f.value;o.push.apply(o,Ki(this.validateAndRegisterProperties(h,t,n,r,i)))}}catch(e){d.e(e)}finally{d.f()}}return o}},{key:"getConfigurations",value:function(){return this.configurationContributors}},{key:"getConfigurationProperties",value:function(){return this.configurationProperties}},{key:"getPolicyConfigurations",value:function(){return this.policyConfigurations}},{key:"getExcludedConfigurationProperties",value:function(){return this.excludedConfigurationProperties}},{key:"getConfigurationDefaultsOverrides",value:function(){return this.configurationDefaultsOverrides}},{key:"registerJSONConfiguration",value:function(e){var t=this;!function e(n){var r=n.properties;if(r)for(var i in r)t.updateSchema(i,r[i]);var o=n.allOf;null==o||o.forEach(e)}(e)}},{key:"updateSchema",value:function(e,t){switch(t.scope){case 1:case 2:case 6:case 3:case 4:break;case 5:this.resourceLanguageSettingsSchema.properties[e]=t}}},{key:"removeFromSchema",value:function(e,t){switch(t.scope){case 1:case 2:case 6:case 3:break;case 4:case 5:delete this.resourceLanguageSettingsSchema.properties[e]}}},{key:"updateOverridePropertyPatternKey",value:function(){var e,t=Ui(this.overrideIdentifiers.values());try{for(t.s();!(e=t.n()).done;){var n=e.value,r="[".concat(n,"]"),i={type:"object",description:(0,Ln.NC)("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:(0,Ln.NC)("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:ao};this.updatePropertyDefaultValue(r,i)}}catch(e){t.e(e)}finally{t.f()}this._onDidSchemaChange.fire()}},{key:"registerOverridePropertyPatternKey",value:function(){this._onDidSchemaChange.fire()}},{key:"updatePropertyDefaultValue",value:function(e,t){var n=this.configurationDefaultsOverrides.get(e),r=null==n?void 0:n.value,i=null==n?void 0:n.source;(0,b.o8)(r)&&(r=t.defaultDefaultValue,i=void 0),(0,b.o8)(r)&&(r=function(e){switch(Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(t.type)),t.default=r,t.defaultValueSource=i}}]),e}(),co="\\[([^\\]]+)\\]",lo=new RegExp(co,"g"),fo="^(".concat(co,")+$"),ho=new RegExp(fo);function po(e){var t=[];if(ho.test(e))for(var n=lo.exec(e);null!==(r=n)&&void 0!==r&&r.length;){var r,i=n[1].trim();i&&t.push(i),n=lo.exec(e)}return(0,x.EB)(t)}var vo=new uo;function yo(e,t){var n,r,i,o;return e.trim()?ho.test(e)?(0,Ln.NC)("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==vo.getConfigurationProperties()[e]?(0,Ln.NC)("config.property.duplicate","Cannot register '{0}'. This property is already registered.",e):null!==(n=t.policy)&&void 0!==n&&n.name&&void 0!==vo.getPolicyConfigurations().get(null===(r=t.policy)||void 0===r?void 0:r.name)?(0,Ln.NC)("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",e,null===(i=t.policy)||void 0===i?void 0:i.name,vo.getPolicyConfigurations().get(null===(o=t.policy)||void 0===o?void 0:o.name)):null:(0,Ln.NC)("config.property.empty","Cannot register an empty property")}var go=kn.Position,mo=/^(.+)\/(.+?)(;.+)?$/;function bo(e,t){var n,r=mo.exec(e);return r?"".concat(r[1].toLowerCase(),"/").concat(r[2].toLowerCase()).concat(null!==(n=r[3])&&void 0!==n?n:""):t?void 0:e}var wo=_n.T.marked;var _o,ko,So,xo,Co,Eo,Do,To,Po,Oo,Ro,Io,Lo,jo,Ao,No,Fo,Mo,qo,Ho,Wo,Uo,Ko=function(){function e(){zi(this,e),this._next=0}return Ji(e,[{key:"getNext",value:function(){return this._next++}}]),e}();function $o(e){function t(){return Reflect.construct(e,arguments,this.constructor)}return Object.defineProperty(t,"name",Object.getOwnPropertyDescriptor(e,"name")),Object.setPrototypeOf(t,e),Object.setPrototypeOf(t.prototype,e.prototype),t}var Bo=Eo=function(){function e(t){zi(this,e),_o.set(this,void 0),(0,k.b)(this,_o,t,"f")}return Ji(e,[{key:"dispose",value:function(){"function"==typeof(0,k.c)(this,_o,"f")&&((0,k.c)(this,_o,"f").call(this),(0,k.b)(this,_o,void 0,"f"))}}],[{key:"from",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t;return new Eo((function(){if(r){for(var e=0,t=r;e<t.length;e++){var n=t[e];n&&"function"==typeof n.dispose&&n.dispose()}r=void 0}}))}}]),e}();_o=new WeakMap,Bo=Eo=(0,k._)([$o],Bo);var Vo=Do=function(){function e(t,n){if(zi(this,e),t<0)throw(0,h.b1)("line must be non-negative");if(n<0)throw(0,h.b1)("character must be non-negative");this._line=t,this._character=n}return Ji(e,[{key:"line",get:function(){return this._line}},{key:"character",get:function(){return this._character}},{key:"isBefore",value:function(e){return this._line<e._line||!(e._line<this._line)&&this._character<e._character}},{key:"isBeforeOrEqual",value:function(e){return this._line<e._line||!(e._line<this._line)&&this._character<=e._character}},{key:"isAfter",value:function(e){return!this.isBeforeOrEqual(e)}},{key:"isAfterOrEqual",value:function(e){return!this.isBefore(e)}},{key:"isEqual",value:function(e){return this._line===e._line&&this._character===e._character}},{key:"compareTo",value:function(e){return this._line<e._line?-1:this._line>e.line?1:this._character<e._character?-1:this._character>e._character?1:0}},{key:"translate",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null===e||null===n)throw(0,h.b1)();return void 0===e?t=0:"number"==typeof e?t=e:(t="number"==typeof e.lineDelta?e.lineDelta:0,n="number"==typeof e.characterDelta?e.characterDelta:0),0===t&&0===n?this:new Do(this.line+t,this.character+n)}},{key:"with",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.character;if(null===e||null===n)throw(0,h.b1)();return void 0===e?t=this.line:"number"==typeof e?t=e:(t="number"==typeof e.line?e.line:this.line,n="number"==typeof e.character?e.character:this.character),t===this.line&&n===this.character?this:new Do(t,n)}},{key:"toJSON",value:function(){return{line:this.line,character:this.character}}}],[{key:"Min",value:function(){if(0===arguments.length)throw new TypeError;for(var e=arguments.length<=0?void 0:arguments[0],t=1;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];n.isBefore(e)&&(e=n)}return e}},{key:"Max",value:function(){if(0===arguments.length)throw new TypeError;for(var e=arguments.length<=0?void 0:arguments[0],t=1;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];n.isAfter(e)&&(e=n)}return e}},{key:"isPosition",value:function(e){if(!e)return!1;if(e instanceof Do)return!0;var t=e.line,n=e.character;return"number"==typeof t&&"number"==typeof n}},{key:"of",value:function(e){if(e instanceof Do)return e;if(this.isPosition(e))return new Do(e.line,e.character);throw new Error("Invalid argument, is NOT a position-like object")}}]),e}();Vo=Do=(0,k._)([$o],Vo);var zo=To=function(){function e(t,n,r,i){var o,a;if(zi(this,e),"number"==typeof t&&"number"==typeof n&&"number"==typeof r&&"number"==typeof i?(o=new Vo(t,n),a=new Vo(r,i)):Vo.isPosition(t)&&Vo.isPosition(n)&&(o=Vo.of(t),a=Vo.of(n)),!o||!a)throw new Error("Invalid arguments");o.isBefore(a)?(this._start=o,this._end=a):(this._start=a,this._end=o)}return Ji(e,[{key:"start",get:function(){return this._start}},{key:"end",get:function(){return this._end}},{key:"contains",value:function(e){return To.isRange(e)?this.contains(e.start)&&this.contains(e.end):!!Vo.isPosition(e)&&(!Vo.of(e).isBefore(this._start)&&!this._end.isBefore(e))}},{key:"isEqual",value:function(e){return this._start.isEqual(e._start)&&this._end.isEqual(e._end)}},{key:"intersection",value:function(e){var t=Vo.Max(e.start,this._start),n=Vo.Min(e.end,this._end);if(!t.isAfter(n))return new To(t,n)}},{key:"union",value:function(e){if(this.contains(e))return this;if(e.contains(this))return e;var t=Vo.Min(e.start,this._start),n=Vo.Max(e.end,this.end);return new To(t,n)}},{key:"isEmpty",get:function(){return this._start.isEqual(this._end)}},{key:"isSingleLine",get:function(){return this._start.line===this._end.line}},{key:"with",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.end;if(null===e||null===n)throw(0,h.b1)();return e?Vo.isPosition(e)?t=e:(t=e.start||this.start,n=e.end||this.end):t=this.start,t.isEqual(this._start)&&n.isEqual(this.end)?this:new To(t,n)}},{key:"toJSON",value:function(){return[this.start,this.end]}}],[{key:"isRange",value:function(e){return e instanceof To||!!e&&(Vo.isPosition(e.start)&&Vo.isPosition(e.end))}},{key:"of",value:function(e){if(e instanceof To)return e;if(this.isRange(e))return new To(e.start,e.end);throw new Error("Invalid argument, is NOT a range-like object")}}]),e}();zo=To=(0,k._)([$o],zo);var Go,Jo,Yo=Po=function(e){Ri(n,e);var t=Li(n);function n(e,r,i,o){var a,s,u;if(zi(this,n),"number"==typeof e&&"number"==typeof r&&"number"==typeof i&&"number"==typeof o?(s=new Vo(e,r),u=new Vo(i,o)):Vo.isPosition(e)&&Vo.isPosition(r)&&(s=Vo.of(e),u=Vo.of(r)),!s||!u)throw new Error("Invalid arguments");return(a=t.call(this,s,u))._anchor=s,a._active=u,a}return Ji(n,[{key:"anchor",get:function(){return this._anchor}},{key:"active",get:function(){return this._active}},{key:"isReversed",get:function(){return this._anchor===this._end}},{key:"toJSON",value:function(){return{start:this.start,end:this.end,active:this.active,anchor:this.anchor}}}],[{key:"isSelection",value:function(e){return e instanceof Po||!!e&&(zo.isRange(e)&&Vo.isPosition(e.anchor)&&Vo.isPosition(e.active)&&"boolean"==typeof e.isReversed)}}]),n}(zo);Yo=Po=(0,k._)([$o],Yo),function(e){e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(Go||(Go={})),function(e){e[e.Replace=1]="Replace",e[e.Append=2]="Append",e[e.Prepend=3]="Prepend"}(Jo||(Jo={}));var Qo=Oo=function(){function e(t,n){zi(this,e),this._range=t,this._newText=n}return Ji(e,[{key:"range",get:function(){return this._range},set:function(e){if(e&&!zo.isRange(e))throw(0,h.b1)("range");this._range=e}},{key:"newText",get:function(){return this._newText||""},set:function(e){if(e&&"string"!=typeof e)throw(0,h.b1)("newText");this._newText=e}},{key:"newEol",get:function(){return this._newEol},set:function(e){if(e&&"number"!=typeof e)throw(0,h.b1)("newEol");this._newEol=e}},{key:"toJSON",value:function(){return{range:this.range,newText:this.newText,newEol:this._newEol}}}],[{key:"isTextEdit",value:function(e){return e instanceof Oo||!!e&&(zo.isRange(e)&&"string"==typeof e.newText)}},{key:"replace",value:function(e,t){return new Oo(e,t)}},{key:"insert",value:function(e,t){return Oo.replace(new zo(e,e),t)}},{key:"delete",value:function(e){return Oo.replace(e,"")}},{key:"setEndOfLine",value:function(e){var t=new Oo(new zo(new Vo(0,0),new Vo(0,0)),"");return t.newEol=e,t}}]),e}();Qo=Oo=(0,k._)([$o],Qo);var Zo=Ro=function(){function e(t,n){zi(this,e),this.range=t,this.newCells=n}return Ji(e,null,[{key:"isNotebookCellEdit",value:function(e){return e instanceof Ro||!!e&&(Ys.isNotebookRange(e)&&Array.isArray(e.newCells))}},{key:"replaceCells",value:function(e,t){return new Ro(e,t)}},{key:"insertCells",value:function(e,t){return new Ro(new Ys(e,e),t)}},{key:"deleteCells",value:function(e){return new Ro(e,[])}},{key:"updateCellMetadata",value:function(e,t){var n=new Ro(new Ys(e,e),[]);return n.newCellMetadata=t,n}},{key:"updateNotebookMetadata",value:function(e){var t=new Ro(new Ys(0,0),[]);return t.newNotebookMetadata=e,t}}]),e}();Zo=Ro=(0,k._)([$o],Zo);var Xo=function(){function e(){zi(this,e),this._edits=[]}return Ji(e,[{key:"_allEntries",value:function(){return this._edits}},{key:"renameFile",value:function(e,t,n,r){this._edits.push({_type:1,from:e,to:t,options:n,metadata:r})}},{key:"createFile",value:function(e,t,n){this._edits.push({_type:1,from:void 0,to:e,options:t,metadata:n})}},{key:"deleteFile",value:function(e,t,n){this._edits.push({_type:1,from:e,to:void 0,options:t,metadata:n})}},{key:"replaceNotebookMetadata",value:function(e,t,n){this._edits.push({_type:3,metadata:n,uri:e,edit:{editType:5,metadata:t},notebookMetadata:t})}},{key:"replaceNotebookCells",value:function(e,t,n,r,i){var o,a,s,u=[];if(Ys.isNotebookRange(t)&&Qs.isNotebookCellDataArray(n)&&!Qs.isNotebookCellDataArray(r)?(o=t.start,a=t.end,u=n,s=r):"number"==typeof t&&"number"==typeof n&&Qs.isNotebookCellDataArray(r)&&(o=t,a=n,u=r,s=i),void 0===o||void 0===a)throw new Error("Invalid arguments");(o!==a||u.length>0)&&this._edits.push({_type:5,uri:e,index:o,count:a-o,cells:u,metadata:s})}},{key:"replaceNotebookCellMetadata",value:function(e,t,n,r){this._edits.push({_type:3,metadata:r,uri:e,edit:{editType:8,index:t,metadata:n}})}},{key:"replace",value:function(e,t,n,r){"string"==typeof n?this._edits.push({_type:2,uri:e,edit:new Qo(t,n),metadata:r}):this._edits.push({_type:6,uri:e,range:t,edit:n,metadata:r})}},{key:"insert",value:function(e,t,n,r){this.replace(e,new zo(t,t),n,r)}},{key:"delete",value:function(e,t,n){this.replace(e,t,"",n)}},{key:"has",value:function(e){return this._edits.some((function(t){return 2===t._type&&t.uri.toString()===e.toString()}))}},{key:"set",value:function(e,t){if(t){var n,r=Ui(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;i&&(Zo.isNotebookCellEdit(i)?i.newCellMetadata?this.replaceNotebookCellMetadata(e,i.range.start,i.newCellMetadata):i.newNotebookMetadata?this.replaceNotebookMetadata(e,i.newNotebookMetadata):this.replaceNotebookCells(e,i.range,i.newCells):this._edits.push({_type:2,uri:e,edit:i}))}}catch(e){r.e(e)}finally{r.f()}}else{for(var o=0;o<this._edits.length;o++){var a=this._edits[o];2===a._type&&a.uri.toString()===e.toString()&&(this._edits[o]=void 0)}(0,k.d)(this._edits)}}},{key:"get",value:function(e){var t,n=[],r=Ui(this._edits);try{for(r.s();!(t=r.n()).done;){var i=t.value;2===i._type&&i.uri.toString()===e.toString()&&n.push(i.edit)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"entries",value:function(){var e,t=new I.Y9,n=Ui(this._edits);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(2===r._type){var i=t.get(r.uri);i||(i=[r.uri,[]],t.set(r.uri,i)),i[1].push(r.edit)}}}catch(e){n.e(e)}finally{n.f()}return Ki(t.values())}},{key:"size",get:function(){return this.entries().length}},{key:"toJSON",value:function(){return this.entries()}}]),e}();Xo=(0,k._)([$o],Xo);var ea,ta,na=Io=function(){function e(t){zi(this,e),this._tabstop=1,this.value=t||""}return Ji(e,[{key:"appendText",value:function(e){return this.value+=Io._escape(e),this}},{key:"appendTabstop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._tabstop++;return this.value+="$",this.value+=e,this}},{key:"appendPlaceholder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._tabstop++;if("function"==typeof e){var n=new Io;n._tabstop=this._tabstop,e(n),this._tabstop=n._tabstop,e=n.value}else e=Io._escape(e);return this.value+="${",this.value+=t,this.value+=":",this.value+=e,this.value+="}",this}},{key:"appendChoice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._tabstop++,n=e.map((function(e){return e.replace(/\$|}|\\|,/g,"\\$&")})).join(",");return this.value+="${",this.value+=t,this.value+="|",this.value+=n,this.value+="|}",this}},{key:"appendVariable",value:function(e,t){if("function"==typeof t){var n=new Io;n._tabstop=this._tabstop,t(n),this._tabstop=n._tabstop,t=n.value}else"string"==typeof t&&(t=t.replace(/\$|}/g,"\\$&"));return this.value+="${",this.value+=e,t&&(this.value+=":",this.value+=t),this.value+="}",this}}],[{key:"isSnippetString",value:function(e){return e instanceof Io||!!e&&"string"==typeof e.value}},{key:"_escape",value:function(e){return e.replace(/\$|}|\\/g,"\\$&")}}]),e}();na=Io=(0,k._)([$o],na),function(e){e[e.Unnecessary=1]="Unnecessary",e[e.Deprecated=2]="Deprecated"}(ea||(ea={})),function(e){e[e.Hint=3]="Hint",e[e.Information=2]="Information",e[e.Warning=1]="Warning",e[e.Error=0]="Error"}(ta||(ta={}));var ra=Lo=function(){function e(t,n){if(zi(this,e),this.uri=t,n)if(zo.isRange(n))this.range=zo.of(n);else{if(!Vo.isPosition(n))throw new Error("Illegal argument");this.range=new zo(n,n)}else;}return Ji(e,[{key:"toJSON",value:function(){return{uri:this.uri,range:this.range}}}],[{key:"isLocation",value:function(e){return e instanceof Lo||!!e&&(zo.isRange(e.range)&&R.o.isUri(e.uri))}}]),e}();ra=Lo=(0,k._)([$o],ra);var ia=function(){function e(t,n){zi(this,e),this.location=t,this.message=n}return Ji(e,null,[{key:"is",value:function(e){return!!e&&("string"==typeof e.message&&e.location&&zo.isRange(e.location.range)&&R.o.isUri(e.location.uri))}},{key:"isEqual",value:function(e,t){return e===t||!(!e||!t)&&(e.message===t.message&&e.location.range.isEqual(t.location.range)&&e.location.uri.toString()===t.location.uri.toString())}}]),e}();ia=(0,k._)([$o],ia);var oa=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ta.Error;if(zi(this,e),!zo.isRange(t))throw new TypeError("range must be set");if(!n)throw new TypeError("message must be set");this.range=t,this.message=n,this.severity=r}return Ji(e,[{key:"toJSON",value:function(){return{severity:ta[this.severity],message:this.message,range:this.range,source:this.source,code:this.code}}}],[{key:"isEqual",value:function(e,t){return e===t||!(!e||!t)&&(e.message===t.message&&e.severity===t.severity&&e.code===t.code&&e.severity===t.severity&&e.source===t.source&&e.range.isEqual(t.range)&&(0,x.fS)(e.tags,t.tags)&&(0,x.fS)(e.relatedInformation,t.relatedInformation,ia.isEqual))}}]),e}();oa=(0,k._)([$o],oa);var aa,sa=Ji((function e(t,n){if(zi(this,e),!t)throw new Error("Illegal argument, contents must be defined");Array.isArray(t)?this.contents=t:this.contents=[t],this.range=n}));sa=(0,k._)([$o],sa),function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(aa||(aa={}));var ua,ca,la=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aa.Text;zi(this,e),this.range=t,this.kind=n}return Ji(e,[{key:"toJSON",value:function(){return{range:this.range,kind:aa[this.kind]}}}]),e}();la=(0,k._)([$o],la),function(e){e[e.File=0]="File",e[e.Module=1]="Module",e[e.Namespace=2]="Namespace",e[e.Package=3]="Package",e[e.Class=4]="Class",e[e.Method=5]="Method",e[e.Property=6]="Property",e[e.Field=7]="Field",e[e.Constructor=8]="Constructor",e[e.Enum=9]="Enum",e[e.Interface=10]="Interface",e[e.Function=11]="Function",e[e.Variable=12]="Variable",e[e.Constant=13]="Constant",e[e.String=14]="String",e[e.Number=15]="Number",e[e.Boolean=16]="Boolean",e[e.Array=17]="Array",e[e.Object=18]="Object",e[e.Key=19]="Key",e[e.Null=20]="Null",e[e.EnumMember=21]="EnumMember",e[e.Struct=22]="Struct",e[e.Event=23]="Event",e[e.Operator=24]="Operator",e[e.TypeParameter=25]="TypeParameter"}(ua||(ua={})),function(e){e[e.Deprecated=1]="Deprecated"}(ca||(ca={}));var fa=jo=function(){function e(t,n,r,i,o){zi(this,e),this.name=t,this.kind=n,this.containerName=o,"string"==typeof r&&(this.containerName=r),i instanceof ra?this.location=i:r instanceof zo&&(this.location=new ra(i,r)),jo.validate(this)}return Ji(e,[{key:"toJSON",value:function(){return{name:this.name,kind:ua[this.kind],location:this.location,containerName:this.containerName}}}],[{key:"validate",value:function(e){if(!e.name)throw new Error("name must not be falsy")}}]),e}();fa=jo=(0,k._)([$o],fa);var da,ha=Ao=function(){function e(t,n,r,i,o){zi(this,e),this.name=t,this.detail=n,this.kind=r,this.range=i,this.selectionRange=o,this.children=[],Ao.validate(this)}return Ji(e,null,[{key:"validate",value:function(e){var t;if(!e.name)throw new Error("name must not be falsy");if(!e.range.contains(e.selectionRange))throw new Error("selectionRange must be contained in fullRange");null===(t=e.children)||void 0===t||t.forEach(Ao.validate)}}]),e}();ha=Ao=(0,k._)([$o],ha),function(e){e[e.Invoke=1]="Invoke",e[e.Automatic=2]="Automatic"}(da||(da={}));var pa=Ji((function e(t,n){zi(this,e),this.title=t,this.kind=n}));pa=(0,k._)([$o],pa);var va=No=function(){function e(t){zi(this,e),this.value=t}return Ji(e,[{key:"append",value:function(e){return new No(this.value?this.value+No.sep+e:e)}},{key:"intersects",value:function(e){return this.contains(e)||e.contains(this)}},{key:"contains",value:function(e){return this.value===e.value||e.value.startsWith(this.value+No.sep)}}]),e}();va.sep=".",(va=No=(0,k._)([$o],va)).Empty=new va(""),va.QuickFix=va.Empty.append("quickfix"),va.Refactor=va.Empty.append("refactor"),va.RefactorExtract=va.Refactor.append("extract"),va.RefactorInline=va.Refactor.append("inline"),va.RefactorRewrite=va.Refactor.append("rewrite"),va.Source=va.Empty.append("source"),va.SourceOrganizeImports=va.Source.append("organizeImports"),va.SourceFixAll=va.Source.append("fixAll");var ya=Ji((function e(t,n){if(zi(this,e),this.range=t,this.parent=n,n&&!n.range.contains(this.range))throw new Error("Invalid argument: parent must contain this range")}));ya=(0,k._)([$o],ya);var ga,ma=Ji((function e(t,n,r,i,o,a){zi(this,e),this.kind=t,this.name=n,this.detail=r,this.uri=i,this.range=o,this.selectionRange=a})),ba=Ji((function e(t,n){zi(this,e),this.fromRanges=n,this.from=t})),wa=Ji((function e(t,n){zi(this,e),this.fromRanges=n,this.to=t}));!function(e){e[e.Information=0]="Information",e[e.Warning=1]="Warning",e[e.Error=2]="Error"}(ga||(ga={}));var _a=function(){function e(t,n){zi(this,e),this.range=t,this.command=n}return Ji(e,[{key:"isResolved",get:function(){return!!this.command}}]),e}();_a=(0,k._)([$o],_a);var ka=Fo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];zi(this,e),ko.set(this,void 0),(0,k.b)(this,ko,new wn.W5(t,{supportThemeIcons:n}),"f")}return Ji(e,[{key:"value",get:function(){return(0,k.c)(this,ko,"f").value},set:function(e){(0,k.c)(this,ko,"f").value=e}},{key:"isTrusted",get:function(){return(0,k.c)(this,ko,"f").isTrusted},set:function(e){(0,k.c)(this,ko,"f").isTrusted=e}},{key:"supportThemeIcons",get:function(){return(0,k.c)(this,ko,"f").supportThemeIcons},set:function(e){(0,k.c)(this,ko,"f").supportThemeIcons=e}},{key:"supportHtml",get:function(){return(0,k.c)(this,ko,"f").supportHtml},set:function(e){(0,k.c)(this,ko,"f").supportHtml=e}},{key:"baseUri",get:function(){return(0,k.c)(this,ko,"f").baseUri},set:function(e){(0,k.c)(this,ko,"f").baseUri=e}},{key:"appendText",value:function(e){return(0,k.c)(this,ko,"f").appendText(e),this}},{key:"appendMarkdown",value:function(e){return(0,k.c)(this,ko,"f").appendMarkdown(e),this}},{key:"appendCodeblock",value:function(e,t){return(0,k.c)(this,ko,"f").appendCodeblock(null!=t?t:"",e),this}}],[{key:"isMarkdownString",value:function(e){return e instanceof Fo||e&&e.appendCodeblock&&e.appendMarkdown&&e.appendText&&void 0!==e.value}}]),e}();ko=new WeakMap,ka=Fo=(0,k._)([$o],ka);var Sa=Ji((function e(t,n){zi(this,e),this.label=t,this.documentation=n}));Sa=(0,k._)([$o],Sa);var xa=Ji((function e(t,n){zi(this,e),this.label=t,this.documentation=n,this.parameters=[]}));xa=(0,k._)([$o],xa);var Ca,Ea,Da=Ji((function e(){zi(this,e),this.activeSignature=0,this.activeParameter=0,this.signatures=[]}));Da=(0,k._)([$o],Da),function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"}(Ca||(Ca={})),function(e){e[e.Type=1]="Type",e[e.Parameter=2]="Parameter"}(Ea||(Ea={}));var Ta=Ji((function e(t){zi(this,e),this.value=t}));Ta=(0,k._)([$o],Ta);var Pa,Oa,Ra,Ia=Ji((function e(t,n,r){zi(this,e),this.position=t,this.label=n,this.kind=r}));Ia=(0,k._)([$o],Ia),function(e){e[e.Invoke=0]="Invoke",e[e.TriggerCharacter=1]="TriggerCharacter",e[e.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"}(Pa||(Pa={})),function(e){e[e.Text=0]="Text",e[e.Method=1]="Method",e[e.Function=2]="Function",e[e.Constructor=3]="Constructor",e[e.Field=4]="Field",e[e.Variable=5]="Variable",e[e.Class=6]="Class",e[e.Interface=7]="Interface",e[e.Module=8]="Module",e[e.Property=9]="Property",e[e.Unit=10]="Unit",e[e.Value=11]="Value",e[e.Enum=12]="Enum",e[e.Keyword=13]="Keyword",e[e.Snippet=14]="Snippet",e[e.Color=15]="Color",e[e.File=16]="File",e[e.Reference=17]="Reference",e[e.Folder=18]="Folder",e[e.EnumMember=19]="EnumMember",e[e.Constant=20]="Constant",e[e.Struct=21]="Struct",e[e.Event=22]="Event",e[e.Operator=23]="Operator",e[e.TypeParameter=24]="TypeParameter",e[e.User=25]="User",e[e.Issue=26]="Issue"}(Oa||(Oa={})),function(e){e[e.Deprecated=1]="Deprecated"}(Ra||(Ra={}));var La=function(){function e(t,n){zi(this,e),this.label=t,this.kind=n}return Ji(e,[{key:"toJSON",value:function(){return{label:this.label,kind:this.kind&&Oa[this.kind],detail:this.detail,documentation:this.documentation,sortText:this.sortText,filterText:this.filterText,preselect:this.preselect,insertText:this.insertText,textEdit:this.textEdit}}}]),e}();La=(0,k._)([$o],La);var ja=Ji((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];zi(this,e),this.items=t,this.isIncomplete=n}));ja=(0,k._)([$o],ja);var Aa=Ji((function e(t,n,r){zi(this,e),this.insertText=t,this.range=n,this.command=r}));Aa=(0,k._)([$o],Aa);var Na,Fa,Ma,qa,Ha,Wa,Ua,Ka,$a=Ji((function e(t){zi(this,e),this.commands=void 0,this.items=t}));$a=(0,k._)([$o],$a),function(e){e[e.Active=-1]="Active",e[e.Beside=-2]="Beside",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four",e[e.Five=5]="Five",e[e.Six=6]="Six",e[e.Seven=7]="Seven",e[e.Eight=8]="Eight",e[e.Nine=9]="Nine"}(Na||(Na={})),function(e){e[e.Left=1]="Left",e[e.Right=2]="Right"}(Fa||(Fa={})),function(e){e[e.Off=0]="Off",e[e.On=1]="On",e[e.Relative=2]="Relative"}(Ma||(Ma={})),function(e){e[e.Manual=1]="Manual",e[e.AfterDelay=2]="AfterDelay",e[e.FocusOut=3]="FocusOut"}(qa||(qa={})),function(e){e[e.Default=0]="Default",e[e.InCenter=1]="InCenter",e[e.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",e[e.AtTop=3]="AtTop"}(Ha||(Ha={})),function(e){e[e.Keyboard=1]="Keyboard",e[e.Mouse=2]="Mouse",e[e.Command=3]="Command"}(Wa||(Wa={})),function(e){e[e.Undo=1]="Undo",e[e.Redo=2]="Redo"}(Ua||(Ua={})),function(e){e[e.OpenOpen=0]="OpenOpen",e[e.ClosedClosed=1]="ClosedClosed",e[e.OpenClosed=2]="OpenClosed",e[e.ClosedOpen=3]="ClosedOpen"}(Ka||(Ka={})),function(e){e.fromValue=function(t){switch(t){case"keyboard":return e.Keyboard;case"mouse":return e.Mouse;case"api":return e.Command}}}(Wa||(Wa={}));var Ba=Ji((function e(t,n){if(zi(this,e),n&&!R.o.isUri(n))throw(0,h.b1)("target");if(!zo.isRange(t)||t.isEmpty)throw(0,h.b1)("range");this.range=t,this.target=n}));Ba=(0,k._)([$o],Ba);var Va=Ji((function e(t,n,r,i){zi(this,e),this.red=t,this.green=n,this.blue=r,this.alpha=i}));Va=(0,k._)([$o],Va);var za=Ji((function e(t,n){if(zi(this,e),n&&!(n instanceof Va))throw(0,h.b1)("color");if(!zo.isRange(t)||t.isEmpty)throw(0,h.b1)("range");this.range=t,this.color=n}));za=(0,k._)([$o],za);var Ga=Ji((function e(t){if(zi(this,e),!t||"string"!=typeof t)throw(0,h.b1)("label");this.label=t}));Ga=(0,k._)([$o],Ga);var Ja,Ya=Ji((function e(t,n,r){if(zi(this,e),this.startIndex=t,this.length=n,this.tooltip=r,"number"!=typeof t||t<0)throw(0,h.b1)("startIndex");if("number"!=typeof n||n<1)throw(0,h.b1)("length");if(void 0!==r&&"string"!=typeof r)throw(0,h.b1)("tooltip")}));!function(e){e[e.Panel=1]="Panel",e[e.Editor=2]="Editor"}(Ja||(Ja={}));var Qa,Za,Xa=Ji((function e(t){if(zi(this,e),this.options=t,"object"!==Vi(t))throw(0,h.b1)("options")}));!function(e){e[e.Always=1]="Always",e[e.Silent=2]="Silent",e[e.Never=3]="Never"}(Qa||(Qa={})),function(e){e[e.Shared=1]="Shared",e[e.Dedicated=2]="Dedicated",e[e.New=3]="New"}(Za||(Za={}));var es=Mo=function(){function e(t,n){if(zi(this,e),this.label=n,"string"!=typeof t)throw(0,h.b1)("name");if("string"!=typeof n)throw(0,h.b1)("name");this._id=t}return Ji(e,[{key:"id",get:function(){return this._id}}],[{key:"from",value:function(e){switch(e){case"clean":return Mo.Clean;case"build":return Mo.Build;case"rebuild":return Mo.Rebuild;case"test":return Mo.Test;default:return}}}]),e}();function ts(e){for(var t="",n=0;n<e.length;n++)t+=e[n].replace(/,/g,",,")+",";return t}es.Clean=new Mo("clean","Clean"),es.Build=new Mo("build","Build"),es.Rebuild=new Mo("rebuild","Rebuild"),es.Test=new Mo("test","Test"),es=Mo=(0,k._)([$o],es);var ns=function(){function e(t,n,r){if(zi(this,e),"string"!=typeof t)throw(0,h.b1)("process");this._args=[],this._process=t,void 0!==n&&(Array.isArray(n)?(this._args=n,this._options=r):this._options=n)}return Ji(e,[{key:"process",get:function(){return this._process},set:function(e){if("string"!=typeof e)throw(0,h.b1)("process");this._process=e}},{key:"args",get:function(){return this._args},set:function(e){Array.isArray(e)||(e=[]),this._args=e}},{key:"options",get:function(){return this._options},set:function(e){this._options=e}},{key:"computeId",value:function(){var e=[];if(e.push("process"),void 0!==this._process&&e.push(this._process),this._args&&this._args.length>0){var t,n=Ui(this._args);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push(r)}}catch(e){n.e(e)}finally{n.f()}}return ts(e)}}]),e}();ns=(0,k._)([$o],ns);var rs,is,os=function(){function e(t,n,r){if(zi(this,e),this._args=[],Array.isArray(n)){if(!t)throw(0,h.b1)("command can't be undefined or null");if("string"!=typeof t&&"string"!=typeof t.value)throw(0,h.b1)("command");this._command=t,this._args=n,this._options=r}else{if("string"!=typeof t)throw(0,h.b1)("commandLine");this._commandLine=t,this._options=n}}return Ji(e,[{key:"commandLine",get:function(){return this._commandLine},set:function(e){if("string"!=typeof e)throw(0,h.b1)("commandLine");this._commandLine=e}},{key:"command",get:function(){return this._command?this._command:""},set:function(e){if("string"!=typeof e&&"string"!=typeof e.value)throw(0,h.b1)("command");this._command=e}},{key:"args",get:function(){return this._args},set:function(e){this._args=e||[]}},{key:"options",get:function(){return this._options},set:function(e){this._options=e}},{key:"computeId",value:function(){var e=[];if(e.push("shell"),void 0!==this._commandLine&&e.push(this._commandLine),void 0!==this._command&&e.push("string"==typeof this._command?this._command:this._command.value),this._args&&this._args.length>0){var t,n=Ui(this._args);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push("string"==typeof r?r:r.value)}}catch(e){n.e(e)}finally{n.f()}}return ts(e)}}]),e}();os=(0,k._)([$o],os),function(e){e[e.Escape=1]="Escape",e[e.Strong=2]="Strong",e[e.Weak=3]="Weak"}(rs||(rs={})),function(e){e[e.Global=1]="Global",e[e.Workspace=2]="Workspace"}(is||(is={}));var as,ss=function(){function e(t){zi(this,e),this._callback=t}return Ji(e,[{key:"computeId",value:function(){return"customExecution"+(0,mn.R)()}},{key:"callback",get:function(){return this._callback},set:function(e){this._callback=e}}]),e}(),us=qo=function(){function e(t,n,r,i,o,a){var s;zi(this,e),this.__deprecated=!1,this._definition=this.definition=t,"string"==typeof n?(this._name=this.name=n,this._source=this.source=r,this.execution=i,s=o,this.__deprecated=!0):(n===is.Global||is.Workspace,this.target=n,this._name=this.name=r,this._source=this.source=i,this.execution=o,s=a),"string"==typeof s?(this._problemMatchers=[s],this._hasDefinedMatchers=!0):Array.isArray(s)?(this._problemMatchers=s,this._hasDefinedMatchers=!0):(this._problemMatchers=[],this._hasDefinedMatchers=!1),this._isBackground=!1,this._presentationOptions=Object.create(null),this._runOptions=Object.create(null)}return Ji(e,[{key:"_id",get:function(){return this.__id},set:function(e){this.__id=e}},{key:"_deprecated",get:function(){return this.__deprecated}},{key:"clear",value:function(){void 0!==this.__id&&(this.__id=void 0,this._scope=void 0,this.computeDefinitionBasedOnExecution())}},{key:"computeDefinitionBasedOnExecution",value:function(){this._execution instanceof ns?this._definition={type:qo.ProcessType,id:this._execution.computeId()}:this._execution instanceof os?this._definition={type:qo.ShellType,id:this._execution.computeId()}:this._execution instanceof ss?this._definition={type:qo.ExtensionCallbackType,id:this._execution.computeId()}:this._definition={type:qo.EmptyType,id:(0,mn.R)()}}},{key:"definition",get:function(){return this._definition},set:function(e){if(null==e)throw(0,h.b1)("Kind can't be undefined or null");this.clear(),this._definition=e}},{key:"scope",get:function(){return this._scope}},{key:"target",set:function(e){this.clear(),this._scope=e}},{key:"name",get:function(){return this._name},set:function(e){if("string"!=typeof e)throw(0,h.b1)("name");this.clear(),this._name=e}},{key:"execution",get:function(){return this._execution},set:function(e){null===e&&(e=void 0),this.clear(),this._execution=e;var t=this._definition.type;qo.EmptyType!==t&&qo.ProcessType!==t&&qo.ShellType!==t&&qo.ExtensionCallbackType!==t||this.computeDefinitionBasedOnExecution()}},{key:"problemMatchers",get:function(){return this._problemMatchers},set:function(e){if(!Array.isArray(e))return this.clear(),this._problemMatchers=[],void(this._hasDefinedMatchers=!1);this.clear(),this._problemMatchers=e,this._hasDefinedMatchers=!0}},{key:"hasDefinedMatchers",get:function(){return this._hasDefinedMatchers}},{key:"isBackground",get:function(){return this._isBackground},set:function(e){!0!==e&&!1!==e&&(e=!1),this.clear(),this._isBackground=e}},{key:"source",get:function(){return this._source},set:function(e){if("string"!=typeof e||0===e.length)throw(0,h.b1)("source must be a string of length > 0");this.clear(),this._source=e}},{key:"group",get:function(){return this._group},set:function(e){null===e&&(e=void 0),this.clear(),this._group=e}},{key:"detail",get:function(){return this._detail},set:function(e){null===e&&(e=void 0),this._detail=e}},{key:"presentationOptions",get:function(){return this._presentationOptions},set:function(e){null==e&&(e=Object.create(null)),this.clear(),this._presentationOptions=e}},{key:"runOptions",get:function(){return this._runOptions},set:function(e){null==e&&(e=Object.create(null)),this.clear(),this._runOptions=e}}]),e}();us.ExtensionCallbackType="customExecution",us.ProcessType="process",us.ShellType="shell",us.EmptyType="$empty",us=qo=(0,k._)([$o],us),function(e){e[e.SourceControl=1]="SourceControl",e[e.Window=10]="Window",e[e.Notification=15]="Notification"}(as||(as={}));var cs,ls=Ho=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cs.None;zi(this,e),this.collapsibleState=n,R.o.isUri(t)?this.resourceUri=t:this.label=t}return Ji(e,null,[{key:"isTreeItem",value:function(e){if(e instanceof Ho)return!0;var t=e;return void 0===t.label||(0,b.HD)(t.label)||t.label.label?void 0===t.id||(0,b.HD)(t.id)?void 0===t.iconPath||(0,b.HD)(t.iconPath)||R.o.isUri(t.iconPath)||(0,b.HD)(t.iconPath.id)?void 0===t.description||(0,b.HD)(t.description)||"boolean"==typeof t.description?void 0===t.resourceUri||R.o.isUri(t.resourceUri)?void 0===t.tooltip||(0,b.HD)(t.tooltip)||t.tooltip instanceof ka?void 0===t.command||t.command.command?void 0!==t.collapsibleState&&t.collapsibleState<cs.None&&t.collapsibleState>cs.Expanded?(console.log("INVALID tree item, invalid collapsibleState",t.collapsibleState),!1):void 0===t.contextValue||(0,b.HD)(t.contextValue)?!(void 0!==t.accessibilityInformation&&!t.accessibilityInformation.label)||(console.log("INVALID tree item, invalid accessibilityInformation",t.accessibilityInformation),!1):(console.log("INVALID tree item, invalid contextValue",t.contextValue),!1):(console.log("INVALID tree item, invalid command",t.command),!1):(console.log("INVALID tree item, invalid tooltip",t.tooltip),!1):(console.log("INVALID tree item, invalid resourceUri",t.resourceUri),!1):(console.log("INVALID tree item, invalid description",t.description),!1):(console.log("INVALID tree item, invalid iconPath",t.iconPath),!1):(console.log("INVALID tree item, invalid id",t.id),!1):(console.log("INVALID tree item, invalid label",t.label),!1)}}]),e}();ls=Ho=(0,k._)([$o],ls),function(e){e[e.None=0]="None",e[e.Collapsed=1]="Collapsed",e[e.Expanded=2]="Expanded"}(cs||(cs={}));var fs=function(){function e(t){zi(this,e),this.value=t}var t;return Ji(e,[{key:"asString",value:(t=Oi(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","string"==typeof this.value?this.value:JSON.stringify(this.value));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"asFile",value:function(){}}]),e}();fs=(0,k._)([$o],fs);var ds=function(e){function t(e){zi(this,t),So.set(this,new Map);var n,r=Ui(null!=e?e:[]);try{for(r.s();!(n=r.n()).done;){var i=Mi(n.value,2),o=i[0],a=i[1],s=(0,k.c)(this,So,"f").get(o);s?s.push(a):(0,k.c)(this,So,"f").set(o,[a])}}catch(e){r.e(e)}finally{r.f()}}return Ji(t,[{key:"get",value:function(e){var t;return null===(t=(0,k.c)(this,So,"f").get(e))||void 0===t?void 0:t[0]}},{key:"set",value:function(e,t){(0,k.c)(this,So,"f").set(e,[t])}},{key:"forEach",value:function(e,t){var n,r=Ui((0,k.c)(this,So,"f"));try{for(r.s();!(n=r.n()).done;){var i,o=Mi(n.value,2),a=o[0],s=Ui(o[1]);try{for(s.s();!(i=s.n()).done;){var u=i.value;e.call(t,u,a,this)}}catch(e){s.e(e)}finally{s.f()}}}catch(e){r.e(e)}finally{r.f()}}},{key:e,value:Ti().mark((function e(){var t,n,r,i,o,a,s,u;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Ui((0,k.c)(this,So,"f")),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=24;break}r=Mi(n.value,2),i=r[0],o=r[1],a=Ui(o),e.prev=6,a.s();case 8:if((s=a.n()).done){e.next=14;break}return u=s.value,e.next=12,[i,u];case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),a.e(e.t0);case 19:return e.prev=19,a.f(),e.finish(19);case 22:e.next=3;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(1),t.e(e.t1);case 29:return e.prev=29,t.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,this,[[1,26,29,32],[6,16,19,22]])}))}]),t}((So=new WeakMap,Symbol.iterator));ds=(0,k._)([$o],ds);var hs=Ji((function e(t){zi(this,e),this.insertText=t}));hs=(0,k._)([$o],hs);var ps=Ji((function e(t,n){zi(this,e),this.id=t,this.color=n}));(ps=(0,k._)([$o],ps)).File=new ps("file"),ps.Folder=new ps("folder");var vs,ys=Ji((function e(t){zi(this,e),this.id=t}));ys=(0,k._)([$o],ys),function(e){e[e.Global=1]="Global",e[e.Workspace=2]="Workspace",e[e.WorkspaceFolder=3]="WorkspaceFolder"}(vs||(vs={}));var gs=function(){function e(t,n){if(zi(this,e),"string"!=typeof t&&(!t||!R.o.isUri(t)&&!R.o.isUri(t.uri)))throw(0,h.b1)("base");if("string"!=typeof n)throw(0,h.b1)("pattern");"string"==typeof t?this.baseUri=R.o.file(t):R.o.isUri(t)?this.baseUri=t:this.baseUri=t.uri,this.pattern=n}return Ji(e,[{key:"base",get:function(){return this._base},set:function(e){this._base=e,this._baseUri=R.o.file(e)}},{key:"baseUri",get:function(){return this._baseUri},set:function(e){this._baseUri=e,this._base=e.fsPath}},{key:"toJSON",value:function(){return{pattern:this.pattern,base:this.base,baseUri:this.baseUri.toJSON()}}}]),e}();gs=(0,k._)([$o],gs);var ms=function(){function e(t,n,r,i){zi(this,e),this.enabled="boolean"!=typeof t||t,"string"==typeof n&&(this.condition=n),"string"==typeof r&&(this.hitCondition=r),"string"==typeof i&&(this.logMessage=i)}return Ji(e,[{key:"id",get:function(){return this._id||(this._id=(0,mn.R)()),this._id}}]),e}(),bs=function(e){Ri(n,e);var t=Li(n);function n(e,r,i,o,a){var s;if(zi(this,n),s=t.call(this,r,i,o,a),null===e)throw(0,h.b1)("location");return s.location=e,s}return Ji(n)}(ms=(0,k._)([$o],ms));bs=(0,k._)([$o],bs);var ws=function(e){Ri(n,e);var t=Li(n);function n(e,r,i,o,a){var s;return zi(this,n),(s=t.call(this,r,i,o,a)).functionName=e,s}return Ji(n)}(ms);ws=(0,k._)([$o],ws);var _s=Ji((function e(t,n,r){zi(this,e),this.command=t,this.args=n||[],this.options=r}));_s=(0,k._)([$o],_s);var ks=Ji((function e(t,n){zi(this,e),this.port=t,this.host=n}));ks=(0,k._)([$o],ks);var Ss=Ji((function e(t){zi(this,e),this.path=t}));Ss=(0,k._)([$o],Ss);var xs=Ji((function e(t){zi(this,e),this.implementation=t}));xs=(0,k._)([$o],xs);var Cs,Es,Ds=Ji((function e(t,n){zi(this,e),this.range=t,this.expression=n}));Ds=(0,k._)([$o],Ds),function(e){e[e.Invoke=0]="Invoke",e[e.Automatic=1]="Automatic"}(Cs||(Cs={})),function(e){e[e.Invoke=0]="Invoke",e[e.Automatic=1]="Automatic"}(Es||(Es={}));var Ts=Ji((function e(t,n){zi(this,e),this.range=t,this.text=n}));Ts=(0,k._)([$o],Ts);var Ps=Ji((function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];zi(this,e),this.range=t,this.variableName=n,this.caseSensitiveLookup=r}));Ps=(0,k._)([$o],Ps);var Os=Ji((function e(t,n){zi(this,e),this.range=t,this.expression=n}));Os=(0,k._)([$o],Os);var Rs,Is=Ji((function e(t,n){zi(this,e),this.frameId=t,this.stoppedLocation=n}));Is=(0,k._)([$o],Is),function(e){e[e.Changed=1]="Changed",e[e.Created=2]="Created",e[e.Deleted=3]="Deleted"}(Rs||(Rs={}));var Ls=Wo=function(e){Ri(n,e);var t=Li(n);function n(e){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vn.d.Unknown,a=arguments.length>2?arguments[2]:void 0;return zi(this,n),(i=t.call(this,R.o.isUri(e)?e.toString(!0):e)).code=null!==(r=null==a?void 0:a.name)&&void 0!==r?r:"Unknown",(0,vn.m)(Ai(i),o),"function"==typeof Object.setPrototypeOf&&Object.setPrototypeOf(Ai(i),Wo.prototype),"function"==typeof Error.captureStackTrace&&"function"==typeof a&&Error.captureStackTrace(Ai(i),a),i}return Ji(n,null,[{key:"FileExists",value:function(e){return new Wo(e,vn.d.FileExists,Wo.FileExists)}},{key:"FileNotFound",value:function(e){return new Wo(e,vn.d.FileNotFound,Wo.FileNotFound)}},{key:"FileNotADirectory",value:function(e){return new Wo(e,vn.d.FileNotADirectory,Wo.FileNotADirectory)}},{key:"FileIsADirectory",value:function(e){return new Wo(e,vn.d.FileIsADirectory,Wo.FileIsADirectory)}},{key:"NoPermissions",value:function(e){return new Wo(e,vn.d.NoPermissions,Wo.NoPermissions)}},{key:"Unavailable",value:function(e){return new Wo(e,vn.d.Unavailable,Wo.Unavailable)}}]),n}(Ei(Error));Ls=Wo=(0,k._)([$o],Ls);var js,As,Ns,Fs=Ji((function e(t,n,r){zi(this,e),this.start=t,this.end=n,this.kind=r}));Fs=(0,k._)([$o],Fs),function(e){e[e.Comment=1]="Comment",e[e.Imports=2]="Imports",e[e.Region=3]="Region"}(js||(js={})),function(e){e[e.Collapsed=0]="Collapsed",e[e.Expanded=1]="Expanded"}(As||(As={})),function(e){e[e.Editing=0]="Editing",e[e.Preview=1]="Preview"}(Ns||(Ns={}));var Ms=Ji((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];zi(this,e),this.tokenTypes=t,this.tokenModifiers=n}));function qs(e){return void 0===e||(t=e,Array.isArray(t)&&t.every((function(e){return"string"==typeof e})));var t}var Hs,Ws=function(){function e(t){if(zi(this,e),this._prevLine=0,this._prevChar=0,this._dataIsSortedAndDeltaEncoded=!0,this._data=[],this._dataLen=0,this._tokenTypeStrToInt=new Map,this._tokenModifierStrToInt=new Map,this._hasLegend=!1,t){this._hasLegend=!0;for(var n=0,r=t.tokenTypes.length;n<r;n++)this._tokenTypeStrToInt.set(t.tokenTypes[n],n);for(var i=0,o=t.tokenModifiers.length;i<o;i++)this._tokenModifierStrToInt.set(t.tokenModifiers[i],i)}}return Ji(e,[{key:"push",value:function(e,t,n,r,i){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r&&("number"==typeof i||void 0===i))return void 0===i&&(i=0),this._pushEncoded(e,t,n,r,i);if(zo.isRange(e)&&"string"==typeof t&&qs(n))return this._push(e,t,n);throw(0,h.b1)()}},{key:"_push",value:function(e,t,n){if(!this._hasLegend)throw new Error("Legend must be provided in constructor");if(e.start.line!==e.end.line)throw new Error("`range` cannot span multiple lines");if(!this._tokenTypeStrToInt.has(t))throw new Error("`tokenType` is not in the provided legend");var r=e.start.line,i=e.start.character,o=e.end.character-e.start.character,a=this._tokenTypeStrToInt.get(t),s=0;if(n){var u,c=Ui(n);try{for(c.s();!(u=c.n()).done;){var l=u.value;if(!this._tokenModifierStrToInt.has(l))throw new Error("`tokenModifier` is not in the provided legend");s|=1<<this._tokenModifierStrToInt.get(l)>>>0}}catch(e){c.e(e)}finally{c.f()}}this._pushEncoded(r,i,o,a,s)}},{key:"_pushEncoded",value:function(e,t,n,r,i){if(this._dataIsSortedAndDeltaEncoded&&(e<this._prevLine||e===this._prevLine&&t<this._prevChar)){this._dataIsSortedAndDeltaEncoded=!1;for(var o=this._data.length/5|0,a=0,s=0,u=0;u<o;u++){var c=this._data[5*u],l=this._data[5*u+1];0===c?(c=a,l+=s):c+=a,this._data[5*u]=c,this._data[5*u+1]=l,a=c,s=l}}var f=e,d=t;this._dataIsSortedAndDeltaEncoded&&this._dataLen>0&&0===(f-=this._prevLine)&&(d-=this._prevChar),this._data[this._dataLen++]=f,this._data[this._dataLen++]=d,this._data[this._dataLen++]=n,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._prevLine=e,this._prevChar=t}},{key:"build",value:function(t){return this._dataIsSortedAndDeltaEncoded?new Us(new Uint32Array(this._data),t):new Us(e._sortAndDeltaEncode(this._data),t)}}],[{key:"_sortAndDeltaEncode",value:function(e){for(var t=[],n=e.length/5|0,r=0;r<n;r++)t[r]=r;t.sort((function(t,n){var r=e[5*t],i=e[5*n];return r===i?e[5*t+1]-e[5*n+1]:r-i}));for(var i=new Uint32Array(e.length),o=0,a=0,s=0;s<n;s++){var u=5*t[s],c=e[u+0],l=e[u+1],f=e[u+2],d=e[u+3],h=e[u+4],p=c-o,v=0===p?l-a:l,y=5*s;i[y+0]=p,i[y+1]=v,i[y+2]=f,i[y+3]=d,i[y+4]=h,o=c,a=l}return i}}]),e}(),Us=Ji((function e(t,n){zi(this,e),this.resultId=n,this.data=t})),Ks=Ji((function e(t,n,r){zi(this,e),this.start=t,this.deleteCount=n,this.data=r})),$s=Ji((function e(t,n){zi(this,e),this.resultId=n,this.edits=t}));!function(e){e[e.Separate=0]="Separate",e[e.MergeWithParent=1]="MergeWithParent"}(Hs||(Hs={}));var Bs,Vs,zs,Gs=Ji((function e(){zi(this,e)}));Gs.Back={iconPath:new ps("arrow-left")},Gs=(0,k._)([$o],Gs),function(e){e[e.Separator=-1]="Separator",e[e.Default=0]="Default"}(Bs||(Bs={})),function(e){e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error"}(Vs||(Vs={})),function(e){e[e.UI=1]="UI",e[e.Workspace=2]="Workspace"}(zs||(zs={}));var Js=function(){function e(t,n,r){zi(this,e),this.badge=t,this.tooltip=n,this.color=r}return Ji(e,null,[{key:"validate",value:function(e){if(e.badge){var t=(0,L.vH)(e.badge,0);if(t<e.badge.length&&(t+=(0,L.vH)(e.badge,t)),e.badge.length>t)throw new Error("The 'badge'-property must be undefined or a short character")}if(!e.color&&!e.badge&&!e.tooltip)throw new Error("The decoration is empty");return!0}}]),e}(),Ys=function(){function e(t,n){if(zi(this,e),t<0)throw(0,h.b1)("start must be positive");if(n<0)throw(0,h.b1)("end must be positive");t<=n?(this._start=t,this._end=n):(this._start=n,this._end=t)}return Ji(e,[{key:"start",get:function(){return this._start}},{key:"end",get:function(){return this._end}},{key:"isEmpty",get:function(){return this._start===this._end}},{key:"with",value:function(t){var n=this._start,r=this._end;return void 0!==t.start&&(n=t.start),void 0!==t.end&&(r=t.end),n===this._start&&r===this._end?this:new e(n,r)}}],[{key:"isNotebookRange",value:function(t){return t instanceof e||!!t&&("number"==typeof t.start&&"number"==typeof t.end)}}]),e}(),Qs=function(){function e(t,n,r,i,o,a,s){zi(this,e),this.kind=t,this.value=n,this.languageId=r,this.mime=i,this.outputs=null!=o?o:[],this.metadata=a,this.executionSummary=s,e.validate(this)}return Ji(e,null,[{key:"validate",value:function(e){if("number"!=typeof e.kind)throw new Error("NotebookCellData MUST have 'kind' property");if("string"!=typeof e.value)throw new Error("NotebookCellData MUST have 'value' property");if("string"!=typeof e.languageId)throw new Error("NotebookCellData MUST have 'languageId' property")}},{key:"isNotebookCellDataArray",value:function(t){return Array.isArray(t)&&t.every((function(t){return e.isNotebookCellData(t)}))}},{key:"isNotebookCellData",value:function(e){return!0}}]),e}(),Zs=Ji((function e(t){zi(this,e),this.cells=t})),Xs=function(){function e(t,n){zi(this,e),this.data=t,this.mime=n;var r=bo(n,!0);if(!r)throw new Error("INVALID mime type: ".concat(n,'. Must be in the format "type/subtype[;optionalparameter]"'));this.mime=r}return Ji(e,null,[{key:"isNotebookCellOutputItem",value:function(t){return t instanceof e||!!t&&("string"==typeof t.mime&&t.data instanceof Uint8Array)}},{key:"error",value:function(t){var n={name:t.name,message:t.message,stack:t.stack};return e.json(n,"application/vnd.code.notebook.error")}},{key:"stdout",value:function(t){return e.text(t,"application/vnd.code.notebook.stdout")}},{key:"stderr",value:function(t){return e.text(t,"application/vnd.code.notebook.stderr")}},{key:"bytes",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/octet-stream";return new e(t,n)}},{key:"text",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bn.v.text,r=(0,k.c)(e,xo,"f",Co).encode(String(t));return new e(r,n)}},{key:"json",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text/x-json",r=JSON.stringify(t,void 0,"\t");return e.text(r,n)}}]),e}();xo=Xs,Co={value:new TextEncoder};var eu,tu,nu,ru=function(){function e(t,n,r){zi(this,e),this.items=e.ensureUniqueMimeTypes(t,!0),"string"==typeof n?(this.id=n,this.metadata=r):(this.id=(0,mn.R)(),this.metadata=null!=n?n:r)}return Ji(e,null,[{key:"isNotebookCellOutput",value:function(t){return t instanceof e||!(!t||"object"!==Vi(t))&&("string"==typeof t.id&&(0,b.kJ)(t.items))}},{key:"ensureUniqueMimeTypes",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Set,r=new Set,i=0;i<e.length;i++){var o=e[i],a=bo(o.mime);n.has(a)?(r.add(i),t&&console.warn("DUPLICATED mime type '".concat(o.mime,"' will be dropped"))):n.add(a)}return 0===r.size?e:e.filter((function(e,t){return!r.has(t)}))}}]),e}();!function(e){e[e.Markup=1]="Markup",e[e.Code=2]="Code"}(eu||(eu={})),function(e){e[e.Left=1]="Left",e[e.Right=2]="Right"}(tu||(tu={})),function(e){e[e.Default=0]="Default",e[e.InCenter=1]="InCenter",e[e.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",e[e.AtTop=3]="AtTop"}(nu||(nu={}));var iu,ou,au,su=Ji((function e(t,n){zi(this,e),this.text=t,this.alignment=n}));!function(e){e[e.Default=1]="Default",e[e.Preferred=2]="Preferred"}(iu||(iu={})),function(e){e[e.Production=1]="Production",e[e.Development=2]="Development",e[e.Test=3]="Test"}(ou||(ou={})),function(e){e[e.Other=0]="Other",e[e.Comment=1]="Comment",e[e.String=2]="String",e[e.RegEx=3]="RegEx"}(au||(au={}));var uu,cu=Ji((function e(t,n){zi(this,e),this.ranges=t,this.wordPattern=n}));!function(e){e[e.Run=1]="Run",e[e.Debug=2]="Debug",e[e.Coverage=3]="Coverage"}(uu||(uu={}));var lu=Ji((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;zi(this,e),this.include=t,this.exclude=n,this.profile=r}));lu=(0,k._)([$o],lu);var fu=Uo=function(){function e(t){zi(this,e),this.message=t}return Ji(e,null,[{key:"diff",value:function(e,t,n){var r=new Uo(e);return r.expectedOutput=t,r.actualOutput=n,r}}]),e}();fu=Uo=(0,k._)([$o],fu);var du=Ji((function e(t){zi(this,e),this.id=t}));du=(0,k._)([$o],du);var hu,pu,vu,yu,gu,mu,bu,wu,_u,ku,Su,xu,Cu,Eu,Du,Tu,Pu,Ou,Ru,Iu,Lu,ju,Au,Nu,Fu,Mu,qu,Hu,Wu,Uu,Ku,$u,Bu,Vu,zu,Gu,Ju,Yu,Qu,Zu,Xu,ec,tc,nc,rc,ic,oc,ac,sc,uc,cc,lc,fc,dc,hc,pc,vc,yc,gc,mc,bc,wc,_c,kc,Sc=Ji((function e(t,n,r,i,o,a){zi(this,e),this.kind=t,this.name=n,this.detail=r,this.uri=i,this.range=o,this.selectionRange=a})),xc=Ji((function e(t,n){zi(this,e),this.original=t,this.modified=n})),Cc=Ji((function e(t,n){zi(this,e),this.uri=t,this.viewType=n})),Ec=Ji((function e(t){zi(this,e),this.viewType=t})),Dc=Ji((function e(t,n){zi(this,e),this.uri=t,this.notebookType=n})),Tc=Ji((function e(t,n,r){zi(this,e),this.original=t,this.modified=n,this.notebookType=r})),Pc=Ji((function e(){zi(this,e)}));function Oc(e){return 0===e.length||!!function(e){return void 0!==e.range}(e[0])}function Rc(e){return void 0===e?e:"string"==typeof e?R.o.file(e):e}!function(e){e[e.Desktop=1]="Desktop",e[e.Web=2]="Web"}(hu||(hu={})),function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline",e[e.LineThin=4]="LineThin",e[e.BlockOutline=5]="BlockOutline",e[e.UnderlineThin=6]="UnderlineThin"}(pu||(pu={})),function(e){e[e.ACTIVATE=1]="ACTIVATE",e[e.RESTORE=2]="RESTORE",e[e.PRESERVE=3]="PRESERVE"}(vu||(vu={})),function(e){e[e.PICK=0]="PICK",e[e.DISABLED=1]="DISABLED",e[e.EXCLUSIVE_ONLY=2]="EXCLUSIVE_ONLY"}(yu||(yu={})),function(e){e[e.Markup=1]="Markup",e[e.Code=2]="Code"}(gu||(gu={})),function(e){e.to=function(e){var t=e.selectionStartLineNumber,n=e.selectionStartColumn,r=e.positionLineNumber,i=e.positionColumn,o=new Vo(t-1,n-1),a=new Vo(r-1,i-1);return new Yo(o,a)},e.from=function(e){var t=e.anchor,n=e.active;return{selectionStartLineNumber:t.line+1,selectionStartColumn:t.character+1,positionLineNumber:n.line+1,positionColumn:n.character+1}}}(mu||(mu={})),function(e){e.from=function(e){if(e){var t=e.start,n=e.end;return{startLineNumber:t.line+1,startColumn:t.character+1,endLineNumber:n.line+1,endColumn:n.character+1}}},e.to=function(e){if(e){var t=e.startLineNumber,n=e.startColumn,r=e.endLineNumber,i=e.endColumn;return new zo(t-1,n-1,r-1,i-1)}}}(bu||(bu={})),function(e){e.to=function(e){switch(e){case 1:return au.Comment;case 0:return au.Other;case 3:return au.RegEx;case 2:return au.String}}}(wu||(wu={})),function(e){e.to=function(e){return new Vo(e.lineNumber-1,e.column-1)},e.from=function(e){return{lineNumber:e.line+1,column:e.character+1}}}(_u||(_u={})),function(e){function t(e,t){return t&&"string"==typeof e?t.transformOutgoingScheme(e):e}e.from=function(e,n){return(0,x.kX)((0,x._2)(e).map((function(e){return function(e,n){if("string"==typeof e)return{$serialized:!0,language:e};var r;return e?{$serialized:!0,language:e.language,scheme:t(e.scheme,n),pattern:null!==(r=fc.from(e.pattern))&&void 0!==r?r:void 0,exclusive:e.exclusive,notebookType:e.notebookType}:void 0}(e,n)})))}}(ku||(ku={})),function(e){e.from=function(e){switch(e){case ea.Unnecessary:return 1;case ea.Deprecated:return 2}},e.to=function(e){switch(e){case 1:return ea.Unnecessary;case 2:return ea.Deprecated;default:return}}}(Su||(Su={})),function(e){e.from=function(e){var t;return e.code&&(t=(0,b.HD)(e.code)||(0,b.hj)(e.code)?String(e.code):{value:String(e.code.value),target:e.code.target}),Hi(Hi({},bu.from(e.range)),{},{message:e.message,source:e.source,code:t,severity:Eu.from(e.severity),relatedInformation:e.relatedInformation&&e.relatedInformation.map(Cu.from),tags:Array.isArray(e.tags)?(0,x.kX)(e.tags.map(Su.from)):void 0})},e.to=function(e){var t,n=new oa(bu.to(e),e.message,Eu.to(e.severity));return n.source=e.source,n.code=(0,b.HD)(e.code)?e.code:null===(t=e.code)||void 0===t?void 0:t.value,n.relatedInformation=e.relatedInformation&&e.relatedInformation.map(Cu.to),n.tags=e.tags&&(0,x.kX)(e.tags.map(Su.to)),n}}(xu||(xu={})),function(e){e.from=function(e){return Hi(Hi({},bu.from(e.location.range)),{},{message:e.message,resource:e.location.uri})},e.to=function(e){return new ia(new ra(e.resource,bu.to(e)),e.message)}}(Cu||(Cu={})),function(e){e.from=function(e){switch(e){case ta.Error:return Sn.ZL.Error;case ta.Warning:return Sn.ZL.Warning;case ta.Information:return Sn.ZL.Info;case ta.Hint:return Sn.ZL.Hint}return Sn.ZL.Error},e.to=function(e){switch(e){case Sn.ZL.Info:return ta.Information;case Sn.ZL.Warning:return ta.Warning;case Sn.ZL.Error:return ta.Error;case Sn.ZL.Hint:return ta.Hint;default:return ta.Error}}}(Eu||(Eu={})),function(e){e.from=function(e){return"number"==typeof e&&e>=Na.One?e-1:e===Na.Beside?vn.e:vn.A},e.to=function(e){if("number"==typeof e&&e>=0)return e+1;throw new Error("invalid 'EditorGroupColumn'")}}(Du||(Du={})),function(e){function t(e,t){if(!e)return e;var n;try{n=(0,xn.Q)(e)}catch(e){}if(!n)return e;var r=!1;return n=(0,y.rs)(n,(function(e){if(R.o.isUri(e)){var n="__uri_".concat(Math.random().toString(16).slice(2,8));return t[n]=e,r=!0,n}})),r?JSON.stringify(n):e}e.fromMany=function(t){return t.map(e.from)},e.from=function(e){var n,r;n=(r=e)&&"object"===Vi(r)&&"string"==typeof r.language&&"string"==typeof r.value?{value:"```"+e.language+"\n"+e.value+"\n```\n"}:ka.isMarkdownString(e)?{value:e.value,isTrusted:e.isTrusted,supportThemeIcons:e.supportThemeIcons,supportHtml:e.supportHtml,baseUri:e.baseUri}:"string"==typeof e?{value:e}:{value:""};var i=Object.create(null);n.uris=i;var o=function(e){try{var n=R.o.parse(e,!0);n=n.with({query:t(n.query,i)}),i[e]=n}catch(e){}return""},a=new wo.Renderer;return a.link=o,a.image=function(e){return"string"==typeof e?o((0,wn.v1)(e).href):""},wo(n.value,{renderer:a}),n},e.to=function(e){var t=new ka(e.value,e.supportThemeIcons);return t.isTrusted=e.isTrusted,t.supportHtml=e.supportHtml,t.baseUri=e.baseUri?R.o.from(e.baseUri):void 0,t},e.fromStrict=function(t){if(t)return"string"==typeof t?t:e.from(t)}}(Tu||(Tu={})),function(e){e.from=function(e){return void 0===e?e:{contentText:e.contentText,contentIconPath:e.contentIconPath?Rc(e.contentIconPath):void 0,border:e.border,borderColor:e.borderColor,fontStyle:e.fontStyle,fontWeight:e.fontWeight,textDecoration:e.textDecoration,color:e.color,backgroundColor:e.backgroundColor,margin:e.margin,width:e.width,height:e.height}}}(Pu||(Pu={})),function(e){e.from=function(e){return void 0===e?e:{backgroundColor:e.backgroundColor,outline:e.outline,outlineColor:e.outlineColor,outlineStyle:e.outlineStyle,outlineWidth:e.outlineWidth,border:e.border,borderColor:e.borderColor,borderRadius:e.borderRadius,borderSpacing:e.borderSpacing,borderStyle:e.borderStyle,borderWidth:e.borderWidth,fontStyle:e.fontStyle,fontWeight:e.fontWeight,textDecoration:e.textDecoration,cursor:e.cursor,color:e.color,opacity:e.opacity,letterSpacing:e.letterSpacing,gutterIconPath:e.gutterIconPath?Rc(e.gutterIconPath):void 0,gutterIconSize:e.gutterIconSize,overviewRulerColor:e.overviewRulerColor,before:e.before?Pu.from(e.before):void 0,after:e.after?Pu.from(e.after):void 0}}}(Ou||(Ou={})),function(e){e.from=function(e){if(void 0===e)return e;switch(e){case Ka.OpenOpen:return 0;case Ka.ClosedClosed:return 1;case Ka.OpenClosed:return 2;case Ka.ClosedOpen:return 3}}}(Ru||(Ru={})),function(e){e.from=function(e){return{isWholeLine:e.isWholeLine,rangeBehavior:e.rangeBehavior?Ru.from(e.rangeBehavior):void 0,overviewRulerLane:e.overviewRulerLane,light:e.light?Ou.from(e.light):void 0,dark:e.dark?Ou.from(e.dark):void 0,backgroundColor:e.backgroundColor,outline:e.outline,outlineColor:e.outlineColor,outlineStyle:e.outlineStyle,outlineWidth:e.outlineWidth,border:e.border,borderColor:e.borderColor,borderRadius:e.borderRadius,borderSpacing:e.borderSpacing,borderStyle:e.borderStyle,borderWidth:e.borderWidth,fontStyle:e.fontStyle,fontWeight:e.fontWeight,textDecoration:e.textDecoration,cursor:e.cursor,color:e.color,opacity:e.opacity,letterSpacing:e.letterSpacing,gutterIconPath:e.gutterIconPath?Rc(e.gutterIconPath):void 0,gutterIconSize:e.gutterIconSize,overviewRulerColor:e.overviewRulerColor,before:e.before?Pu.from(e.before):void 0,after:e.after?Pu.from(e.after):void 0}}}(Iu||(Iu={})),function(e){e.from=function(e){return{text:e.newText,eol:e.newEol&&sc.from(e.newEol),range:bu.from(e.range)}},e.to=function(e){var t=new Qo(bu.to(e.range),e.text);return t.newEol=void 0===e.eol?void 0:sc.to(e.eol),t}}(Lu||(Lu={})),function(e){e.from=function(e,t,n){var r={edits:[]};if(e instanceof Xo){var i,o=new ft,a=Ui(e._allEntries());try{for(a.s();!(i=a.n()).done;){var s=i.value;1===s._type&&R.o.isUri(s.to)&&void 0===s.from&&o.add(s.to)}}catch(e){a.e(e)}finally{a.f()}var u,c=Ui(e._allEntries());try{for(c.s();!(u=c.n()).done;){var l=u.value;if(1===l._type)r.edits.push({oldResource:l.from,newResource:l.to,options:l.options,metadata:l.metadata});else if(2===l._type)r.edits.push({resource:l.uri,textEdit:Lu.from(l.edit),versionId:o.has(l.uri)||null==t?void 0:t.getTextDocumentVersion(l.uri),metadata:l.metadata});else if(6===l._type){if(!n){console.warn("DROPPING snippet text edit because proposal IS NOT ENABLED",l);continue}r.edits.push({resource:l.uri,textEdit:{range:bu.from(l.range),text:l.edit.value,insertAsSnippet:!0},versionId:o.has(l.uri)||null==t?void 0:t.getTextDocumentVersion(l.uri),metadata:l.metadata})}else 3===l._type?r.edits.push({metadata:l.metadata,resource:l.uri,cellEdit:l.edit,notebookMetadata:l.notebookMetadata,notebookVersionId:null==t?void 0:t.getNotebookDocumentVersion(l.uri)}):5===l._type&&r.edits.push({metadata:l.metadata,resource:l.uri,notebookVersionId:null==t?void 0:t.getNotebookDocumentVersion(l.uri),cellEdit:{editType:1,index:l.index,count:l.count,cells:l.cells.map(yc.from)}})}}catch(e){c.e(e)}finally{c.f()}}return r},e.to=function(e){var t,n=new Xo,r=Ui(e.edits);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.textEdit?n.replace(R.o.revive(i.resource),bu.to(i.textEdit.range),i.textEdit.text):n.renameFile(R.o.revive(i.oldResource),R.o.revive(i.newResource),i.options)}}catch(e){r.e(e)}finally{r.f()}return n}}(ju||(ju={})),function(e){var t=Object.create(null);t[ua.File]=0,t[ua.Module]=1,t[ua.Namespace]=2,t[ua.Package]=3,t[ua.Class]=4,t[ua.Method]=5,t[ua.Property]=6,t[ua.Field]=7,t[ua.Constructor]=8,t[ua.Enum]=9,t[ua.Interface]=10,t[ua.Function]=11,t[ua.Variable]=12,t[ua.Constant]=13,t[ua.String]=14,t[ua.Number]=15,t[ua.Boolean]=16,t[ua.Array]=17,t[ua.Object]=18,t[ua.Key]=19,t[ua.Null]=20,t[ua.EnumMember]=21,t[ua.Struct]=22,t[ua.Event]=23,t[ua.Operator]=24,t[ua.TypeParameter]=25,e.from=function(e){return"number"==typeof t[e]?t[e]:6},e.to=function(e){for(var n in t)if(t[n]===e)return Number(n);return ua.Property}}(Au||(Au={})),function(e){e.from=function(e){if(e===ca.Deprecated)return 1},e.to=function(e){if(1===e)return ca.Deprecated}}(Nu||(Nu={})),function(e){e.from=function(e){return{name:e.name,kind:Au.from(e.kind),tags:e.tags&&e.tags.map(Nu.from),containerName:e.containerName,location:Hu.from(e.location)}},e.to=function(e){var t=new fa(e.name,Au.to(e.kind),e.containerName,Hu.to(e.location));return t.tags=e.tags&&e.tags.map(Nu.to),t}}(Fu||(Fu={})),function(e){e.from=function e(t){var n,r,i={name:t.name||"!!MISSING: name!!",detail:t.detail,range:bu.from(t.range),selectionRange:bu.from(t.selectionRange),kind:Au.from(t.kind),tags:null!==(n=null===(r=t.tags)||void 0===r?void 0:r.map(Nu.from))&&void 0!==n?n:[]};return t.children&&(i.children=t.children.map(e)),i},e.to=function e(t){var n=new ha(t.name,t.detail,Au.to(t.kind),bu.to(t.range),bu.to(t.selectionRange));return(0,x.Of)(t.tags)&&(n.tags=t.tags.map(Nu.to)),t.children&&(n.children=t.children.map(e)),n}}(Mu||(Mu={})),function(e){e.to=function(e){var t=new ma(Au.to(e.kind),e.name,e.detail||"",R.o.revive(e.uri),bu.to(e.range),bu.to(e.selectionRange));return t._sessionId=e._sessionId,t._itemId=e._itemId,t},e.from=function(e,t,n){var r,i,o;if(t=null!==(r=t)&&void 0!==r?r:e._sessionId,n=null!==(i=n)&&void 0!==i?i:e._itemId,void 0===t||void 0===n)throw new Error("invalid item");return{_sessionId:t,_itemId:n,name:e.name,detail:e.detail,kind:Au.from(e.kind),uri:e.uri,range:bu.from(e.range),selectionRange:bu.from(e.selectionRange),tags:null===(o=e.tags)||void 0===o?void 0:o.map(Nu.from)}}}(qu||(qu={})),(Wu=Hu||(Hu={})).from=function(e){return{range:e.range&&bu.from(e.range),uri:e.uri}},Wu.to=function(e){return new ra(R.o.revive(e.uri),bu.to(e.range))},function(e){e.from=function(e){var t=e,n=e;return{originSelectionRange:t.originSelectionRange?bu.from(t.originSelectionRange):void 0,uri:t.targetUri?t.targetUri:n.uri,range:bu.from(t.targetRange?t.targetRange:n.range),targetSelectionRange:t.targetSelectionRange?bu.from(t.targetSelectionRange):void 0}},e.to=function(e){return{targetUri:R.o.revive(e.uri),targetRange:bu.to(e.range),targetSelectionRange:e.targetSelectionRange?bu.to(e.targetSelectionRange):void 0,originSelectionRange:e.originSelectionRange?bu.to(e.originSelectionRange):void 0}}}(Uu||(Uu={})),function(e){e.from=function(e){return{range:bu.from(e.range),contents:Tu.fromMany(e.contents)}},e.to=function(e){return new sa(e.contents.map(Tu.to),bu.to(e.range))}}(Ku||(Ku={})),function(e){e.from=function(e){return{range:bu.from(e.range),expression:e.expression}},e.to=function(e){return new Ds(bu.to(e.range),e.expression)}}($u||($u={})),function(e){e.from=function(e){if(e instanceof Ts)return{type:"text",range:bu.from(e.range),text:e.text};if(e instanceof Ps)return{type:"variable",range:bu.from(e.range),variableName:e.variableName,caseSensitiveLookup:e.caseSensitiveLookup};if(e instanceof Os)return{type:"expression",range:bu.from(e.range),expression:e.expression};throw new Error("Unknown 'InlineValue' type")},e.to=function(e){switch(e.type){case"text":return{range:bu.to(e.range),text:e.text};case"variable":return{range:bu.to(e.range),variableName:e.variableName,caseSensitiveLookup:e.caseSensitiveLookup};case"expression":return{range:bu.to(e.range),expression:e.expression}}}}(Bu||(Bu={})),function(e){e.from=function(e){return{frameId:e.frameId,stoppedLocation:bu.from(e.stoppedLocation)}},e.to=function(e){return new Is(e.frameId,bu.to(e.stoppedLocation))}}(Vu||(Vu={})),function(e){e.from=function(e){return{range:bu.from(e.range),kind:e.kind}},e.to=function(e){return new la(bu.to(e.range),e.kind)}}(zu||(zu={})),function(e){e.to=function(e){switch(e){case 1:return Pa.TriggerCharacter;case 2:return Pa.TriggerForIncompleteCompletions;default:return Pa.Invoke}}}(Gu||(Gu={})),function(e){e.to=function(e){return{triggerKind:Gu.to(e.triggerKind),triggerCharacter:e.triggerCharacter}}}(Ju||(Ju={})),function(e){e.from=function(e){if(e===Ra.Deprecated)return 1},e.to=function(e){if(1===e)return Ra.Deprecated}}(Yu||(Yu={})),function(e){var t=new Map([[Oa.Method,0],[Oa.Function,1],[Oa.Constructor,2],[Oa.Field,3],[Oa.Variable,4],[Oa.Class,5],[Oa.Interface,7],[Oa.Struct,6],[Oa.Module,8],[Oa.Property,9],[Oa.Unit,12],[Oa.Value,13],[Oa.Constant,14],[Oa.Enum,15],[Oa.EnumMember,16],[Oa.Keyword,17],[Oa.Snippet,27],[Oa.Text,18],[Oa.Color,19],[Oa.File,20],[Oa.Reference,21],[Oa.Folder,23],[Oa.Event,10],[Oa.Operator,11],[Oa.TypeParameter,24],[Oa.Issue,26],[Oa.User,25]]);e.from=function(e){var n;return null!==(n=t.get(e))&&void 0!==n?n:9};var n=new Map([[0,Oa.Method],[1,Oa.Function],[2,Oa.Constructor],[3,Oa.Field],[4,Oa.Variable],[5,Oa.Class],[7,Oa.Interface],[6,Oa.Struct],[8,Oa.Module],[9,Oa.Property],[12,Oa.Unit],[13,Oa.Value],[14,Oa.Constant],[15,Oa.Enum],[16,Oa.EnumMember],[17,Oa.Keyword],[27,Oa.Snippet],[18,Oa.Text],[19,Oa.Color],[20,Oa.File],[21,Oa.Reference],[23,Oa.Folder],[10,Oa.Event],[11,Oa.Operator],[24,Oa.TypeParameter],[25,Oa.User],[26,Oa.Issue]]);e.to=function(e){var t;return null!==(t=n.get(e))&&void 0!==t?t:Oa.Property}}(Qu||(Qu={})),function(e){e.from=function(e){return{label:e.label,documentation:Tu.fromStrict(e.documentation)}},e.to=function(e){return{label:e.label,documentation:(0,wn.Fr)(e.documentation)?Tu.to(e.documentation):e.documentation}}}(Zu||(Zu={})),function(e){e.from=function(e){return{label:e.label,documentation:Tu.fromStrict(e.documentation),parameters:Array.isArray(e.parameters)?e.parameters.map(Zu.from):[],activeParameter:e.activeParameter}},e.to=function(e){return{label:e.label,documentation:(0,wn.Fr)(e.documentation)?Tu.to(e.documentation):e.documentation,parameters:Array.isArray(e.parameters)?e.parameters.map(Zu.to):[],activeParameter:e.activeParameter}}}(Xu||(Xu={})),function(e){e.from=function(e){return{activeSignature:e.activeSignature,activeParameter:e.activeParameter,signatures:Array.isArray(e.signatures)?e.signatures.map(Xu.from):[]}},e.to=function(e){return{activeSignature:e.activeSignature,activeParameter:e.activeParameter,signatures:Array.isArray(e.signatures)?e.signatures.map(Xu.to):[]}}}(ec||(ec={})),function(e){e.from=function(e){return e},e.to=function(e){return e}}(tc||(tc={})),function(e){e.from=function(e){return{range:bu.from(e.range),url:e.target,tooltip:e.tooltip}},e.to=function(e){var t=void 0;if(e.url)try{t="string"==typeof e.url?R.o.parse(e.url,!0):R.o.revive(e.url)}catch(e){}return new Ba(bu.to(e.range),t)}}(nc||(nc={})),function(e){e.to=function(e){var t=new Ga(e.label);return e.textEdit&&(t.textEdit=Lu.to(e.textEdit)),e.additionalTextEdits&&(t.additionalTextEdits=e.additionalTextEdits.map((function(e){return Lu.to(e)}))),t},e.from=function(e){return{label:e.label,textEdit:e.textEdit?Lu.from(e.textEdit):void 0,additionalTextEdits:e.additionalTextEdits?e.additionalTextEdits.map((function(e){return Lu.from(e)})):void 0}}}(rc||(rc={})),function(e){e.to=function(e){return new Va(e[0],e[1],e[2],e[3])},e.from=function(e){return[e.red,e.green,e.blue,e.alpha]}}(ic||(ic={})),function(e){e.from=function(e){return{range:bu.from(e.range)}},e.to=function(e){return new ya(bu.to(e.range))}}(oc||(oc={})),function(e){e.from=function(e){switch(e){case Ma.Off:return 0;case Ma.Relative:return 2;case Ma.On:default:return 1}},e.to=function(e){switch(e){case 0:return Ma.Off;case 2:return Ma.Relative;default:return Ma.On}}}(ac||(ac={})),function(e){e.from=function(e){return e===Go.CRLF?1:e===Go.LF?0:void 0},e.to=function(e){return 1===e?Go.CRLF:0===e?Go.LF:void 0}}(sc||(sc={})),function(e){e.from=function(e){if("object"===Vi(e))return e.viewId;switch(e){case as.SourceControl:return 3;case as.Window:return 10;case as.Notification:return 15}throw new Error("Unknown 'ProgressLocation'")}}(uc||(uc={})),function(e){e.from=function(e){var t={start:e.start+1,end:e.end+1};return e.kind&&(t.kind=lc.from(e.kind)),t}}(cc||(cc={})),function(e){e.from=function(e){if(e)switch(e){case js.Comment:return oo.Comment;case js.Imports:return oo.Imports;case js.Region:return oo.Region}}}(lc||(lc={})),function(e){e.from=function(e){return e instanceof gs?e.toJSON():"string"==typeof e?e:function(e){var t=e;if(!t)return!1;return R.o.isUri(t.baseUri)&&"string"==typeof t.pattern}(e)||function(e){var t=e;if(!t)return!1;return"string"==typeof t.base&&"string"==typeof t.pattern}(e)?new gs(null!==(t=e.baseUri)&&void 0!==t?t:e.base,e.pattern).toJSON():e;var t},e.to=function(e){return"string"==typeof e?e:new gs(R.o.revive(e.baseUri),e.pattern)}}(fc||(fc={})),function(e){e.from=function e(t){if(t){if(Array.isArray(t))return t.map(e);if("string"==typeof t)return t;var n=t;return{language:n.language,scheme:n.scheme,pattern:fc.from(n.pattern),exclusive:n.exclusive,notebookType:n.notebookType}}}}(dc||(dc={})),function(e){e.from=function(e){return{start:e.start,end:e.end}},e.to=function(e){return new Ys(e.start,e.end)}}(hc||(hc={})),function(e){e.to=function(e){return{timing:"number"==typeof e.runStartTime&&"number"==typeof e.runEndTime?{startTime:e.runStartTime,endTime:e.runEndTime}:void 0,executionOrder:e.executionOrder,success:e.lastRunSuccess}},e.from=function(e){var t,n;return{lastRunSuccess:e.success,runStartTime:null===(t=e.timing)||void 0===t?void 0:t.startTime,runEndTime:null===(n=e.timing)||void 0===n?void 0:n.endTime,executionOrder:e.executionOrder}}}(pc||(pc={})),function(e){e.from=function(e){switch(e){case eu.Markup:return gu.Markup;case eu.Code:default:return gu.Code}},e.to=function(e){switch(e){case gu.Markup:return eu.Markup;case gu.Code:default:return eu.Code}}}(vc||(vc={})),function(e){e.from=function(e){var t;return{cellKind:vc.from(e.kind),language:e.languageId,mime:e.mime,source:e.value,metadata:e.metadata,internalMetadata:pc.from(null!==(t=e.executionSummary)&&void 0!==t?t:{}),outputs:e.outputs?e.outputs.map(mc.from):[]}},e.to=function(e){return new Qs(vc.to(e.cellKind),e.source,e.language,e.mime,e.outputs?e.outputs.map(mc.to):void 0,e.metadata,e.internalMetadata?pc.to(e.internalMetadata):void 0)}}(yc||(yc={})),function(e){e.from=function(e){return{mime:e.mime,valueBytes:f.KN.wrap(e.data)}},e.to=function(e){return new Xs(e.valueBytes.buffer,e.mime)}}(gc||(gc={})),function(e){e.from=function(e){return{outputId:e.id,items:e.items.map(gc.from),metadata:e.metadata}},e.to=function(e){var t=e.items.map(gc.to);return new ru(t,e.outputId,e.metadata)}}(mc||(mc={})),function(e){e.to=function(e){switch(e){case 1:return da.Invoke;case 2:return da.Automatic}}}(bc||(bc={})),function(e){e.to=function(e){var t=new Sc(Au.to(e.kind),e.name,e.detail||"",R.o.revive(e.uri),bu.to(e.range),bu.to(e.selectionRange));return t._sessionId=e._sessionId,t._itemId=e._itemId,t},e.from=function(e,t,n){var r,i,o,a;if(t=null!==(r=t)&&void 0!==r?r:e._sessionId,n=null!==(i=n)&&void 0!==i?i:e._itemId,void 0===t||void 0===n)throw new Error("invalid item");return{_sessionId:t,_itemId:n,kind:Au.from(e.kind),name:e.name,detail:null!==(o=e.detail)&&void 0!==o?o:"",uri:e.uri,range:bu.from(e.range),selectionRange:bu.from(e.selectionRange),tags:null===(a=e.tags)||void 0===a?void 0:a.map(Nu.from)}}}(wc||(wc={})),function(e){e.toDataTransferItem=function(e,t){var n=e.fileData;return n?new(function(e){Ri(i,e);var r=Li(i);function i(){return zi(this,i),r.apply(this,arguments)}return Ji(i,[{key:"asFile",value:function(){return{name:n.name,uri:R.o.revive(n.uri),data:(0,Cn.I)((function(){return t()}))}}}]),i}(fs))(""):new fs(e.asString)}}(_c||(_c={})),function(e){function t(){return(t=Oi(Ti().mark((function e(t){var n,r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={items:[]},r=[],t.forEach((function(e,t){r.push(Oi(Ti().mark((function r(){var i,o;return Ti().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.asString();case 2:i=r.sent,o=e.asFile(),n.items.push([t,{asString:i,fileData:o?{name:o.name,uri:o.uri}:void 0}]);case 5:case"end":return r.stop()}}),r)})))())})),e.next=5,Promise.all(r);case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.toDataTransfer=function(e,t){var n=e.items.map((function(e,n){var r=Mi(e,2),i=r[0],o=r[1];return[i,_c.toDataTransferItem(o,(function(){return t(n)}))]}));return new ds(n)},e.toDataTransferDTO=function(e){return t.apply(this,arguments)}}(kc||(kc={}));var Ic=Ji((function e(t){zi(this,e),this._proxyIdentifierBrand=void 0,this.sid=t,this.nid=++e.count}));Ic.count=0;var Lc=[];function jc(e){var t=new Ic(e);return Lc[t.nid]=t,t}function Ac(e){return Lc[e].sid}var Nc,Fc=Ji((function e(t){zi(this,e),this.value=t}));function Mc(e){return e&&e.edits&&(0,xn.w)(e),e}!function(e){e[e.Default=0]="Default",e[e.InCenter=1]="InCenter",e[e.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",e[e.AtTop=3]="AtTop"}(Nc||(Nc={}));var qc,Hc,Wc={MainThreadAuthentication:jc("MainThreadAuthentication"),MainThreadBulkEdits:jc("MainThreadBulkEdits"),MainThreadClipboard:jc("MainThreadClipboard"),MainThreadCommands:jc("MainThreadCommands"),MainThreadComments:jc("MainThreadComments"),MainThreadConfiguration:jc("MainThreadConfiguration"),MainThreadConsole:jc("MainThreadConsole"),MainThreadDebugService:jc("MainThreadDebugService"),MainThreadDecorations:jc("MainThreadDecorations"),MainThreadDiagnostics:jc("MainThreadDiagnostics"),MainThreadDialogs:jc("MainThreadDiaglogs"),MainThreadDocuments:jc("MainThreadDocuments"),MainThreadDocumentContentProviders:jc("MainThreadDocumentContentProviders"),MainThreadTextEditors:jc("MainThreadTextEditors"),MainThreadEditorInsets:jc("MainThreadEditorInsets"),MainThreadEditorTabs:jc("MainThreadEditorTabs"),MainThreadErrors:jc("MainThreadErrors"),MainThreadTreeViews:jc("MainThreadTreeViews"),MainThreadDownloadService:jc("MainThreadDownloadService"),MainThreadKeytar:jc("MainThreadKeytar"),MainThreadLanguageFeatures:jc("MainThreadLanguageFeatures"),MainThreadLanguages:jc("MainThreadLanguages"),MainThreadLogger:jc("MainThreadLogger"),MainThreadMessageService:jc("MainThreadMessageService"),MainThreadOutputService:jc("MainThreadOutputService"),MainThreadProgress:jc("MainThreadProgress"),MainThreadQuickOpen:jc("MainThreadQuickOpen"),MainThreadStatusBar:jc("MainThreadStatusBar"),MainThreadSecretState:jc("MainThreadSecretState"),MainThreadStorage:jc("MainThreadStorage"),MainThreadTelemetry:jc("MainThreadTelemetry"),MainThreadTerminalService:jc("MainThreadTerminalService"),MainThreadWebviews:jc("MainThreadWebviews"),MainThreadWebviewPanels:jc("MainThreadWebviewPanels"),MainThreadWebviewViews:jc("MainThreadWebviewViews"),MainThreadCustomEditors:jc("MainThreadCustomEditors"),MainThreadUrls:jc("MainThreadUrls"),MainThreadUriOpeners:jc("MainThreadUriOpeners"),MainThreadWorkspace:jc("MainThreadWorkspace"),MainThreadFileSystem:jc("MainThreadFileSystem"),MainThreadExtensionService:jc("MainThreadExtensionService"),MainThreadSCM:jc("MainThreadSCM"),MainThreadSearch:jc("MainThreadSearch"),MainThreadTask:jc("MainThreadTask"),MainThreadWindow:jc("MainThreadWindow"),MainThreadLabelService:jc("MainThreadLabelService"),MainThreadNotebook:jc("MainThreadNotebook"),MainThreadNotebookDocuments:jc("MainThreadNotebookDocumentsShape"),MainThreadNotebookEditors:jc("MainThreadNotebookEditorsShape"),MainThreadNotebookKernels:jc("MainThreadNotebookKernels"),MainThreadNotebookRenderers:jc("MainThreadNotebookRenderers"),MainThreadInteractive:jc("MainThreadInteractive"),MainThreadTheming:jc("MainThreadTheming"),MainThreadTunnelService:jc("MainThreadTunnelService"),MainThreadTimeline:jc("MainThreadTimeline"),MainThreadTesting:jc("MainThreadTesting")},Uc={ExtHostCommands:jc("ExtHostCommands"),ExtHostConfiguration:jc("ExtHostConfiguration"),ExtHostDiagnostics:jc("ExtHostDiagnostics"),ExtHostDebugService:jc("ExtHostDebugService"),ExtHostDecorations:jc("ExtHostDecorations"),ExtHostDocumentsAndEditors:jc("ExtHostDocumentsAndEditors"),ExtHostDocuments:jc("ExtHostDocuments"),ExtHostDocumentContentProviders:jc("ExtHostDocumentContentProviders"),ExtHostDocumentSaveParticipant:jc("ExtHostDocumentSaveParticipant"),ExtHostEditors:jc("ExtHostEditors"),ExtHostTreeViews:jc("ExtHostTreeViews"),ExtHostFileSystem:jc("ExtHostFileSystem"),ExtHostFileSystemInfo:jc("ExtHostFileSystemInfo"),ExtHostFileSystemEventService:jc("ExtHostFileSystemEventService"),ExtHostLanguages:jc("ExtHostLanguages"),ExtHostLanguageFeatures:jc("ExtHostLanguageFeatures"),ExtHostQuickOpen:jc("ExtHostQuickOpen"),ExtHostExtensionService:jc("ExtHostExtensionService"),ExtHostLogLevelServiceShape:jc("ExtHostLogLevelServiceShape"),ExtHostTerminalService:jc("ExtHostTerminalService"),ExtHostSCM:jc("ExtHostSCM"),ExtHostSearch:jc("ExtHostSearch"),ExtHostTask:jc("ExtHostTask"),ExtHostWorkspace:jc("ExtHostWorkspace"),ExtHostWindow:jc("ExtHostWindow"),ExtHostWebviews:jc("ExtHostWebviews"),ExtHostWebviewPanels:jc("ExtHostWebviewPanels"),ExtHostCustomEditors:jc("ExtHostCustomEditors"),ExtHostWebviewViews:jc("ExtHostWebviewViews"),ExtHostEditorInsets:jc("ExtHostEditorInsets"),ExtHostEditorTabs:jc("ExtHostEditorTabs"),ExtHostProgress:jc("ExtHostProgress"),ExtHostComments:jc("ExtHostComments"),ExtHostSecretState:jc("ExtHostSecretState"),ExtHostStorage:jc("ExtHostStorage"),ExtHostUrls:jc("ExtHostUrls"),ExtHostUriOpeners:jc("ExtHostUriOpeners"),ExtHostOutputService:jc("ExtHostOutputService"),ExtHosLabelService:jc("ExtHostLabelService"),ExtHostNotebook:jc("ExtHostNotebook"),ExtHostNotebookDocuments:jc("ExtHostNotebookDocuments"),ExtHostNotebookEditors:jc("ExtHostNotebookEditors"),ExtHostNotebookKernels:jc("ExtHostNotebookKernels"),ExtHostNotebookRenderers:jc("ExtHostNotebookRenderers"),ExtHostInteractive:jc("ExtHostInteractive"),ExtHostTheming:jc("ExtHostTheming"),ExtHostTunnelService:jc("ExtHostTunnelService"),ExtHostAuthentication:jc("ExtHostAuthentication"),ExtHostTimeline:jc("ExtHostTimeline"),ExtHostTesting:jc("ExtHostTesting"),ExtHostTelemetry:jc("ExtHostTelemetry")},Kc=(0,En.yh)("IExtHostRpcService"),$c=function(){function e(t,n){var r=this;zi(this,e),qc.set(this,void 0),this._commands=new Map,this._apiCommands=new Map,Hc.set(this,void 0),(0,k.b)(this,qc,t.getProxy(Wc.MainThreadCommands),"f"),this._logService=n,(0,k.b)(this,Hc,t.getProxy(Wc.MainThreadTelemetry),"f"),this.converter=new Bc(this,(function(e){var t=r._apiCommands.get(e);return(null==t?void 0:t.result)===Vc.Void?t:void 0}),n),this._argumentProcessors=[{processArgument:function(e){return(0,xn.w)(e)}},{processArgument:function(e){return(0,y.rs)(e,(function(e){return io.isIRange(e)?bu.to(e):go.isIPosition(e)?_u.to(e):io.isIRange(e.range)&&R.o.isUri(e.uri)?Hu.to(e):e instanceof f.KN?e.buffer.buffer:Array.isArray(e)?void 0:e}))}}]}var t,n;return Ji(e,[{key:"registerArgumentProcessor",value:function(e){this._argumentProcessors.push(e)}},{key:"registerApiCommand",value:function(e){var t=this,n=this.registerCommand(!1,e.id,Oi(Ti().mark((function n(){var r,i,o,a,s,u=arguments;return Ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(r=u.length,i=new Array(r),o=0;o<r;o++)i[o]=u[o];return a=e.args.map((function(t,n){if(!t.validate(i[n]))throw new Error("Invalid argument '".concat(t.name,"' when running '").concat(e.id,"', received: ").concat(i[n]));return t.convert(i[n])})),n.next=4,t.executeCommand.apply(t,[e.internalId].concat(Ki(a)));case 4:return s=n.sent,n.abrupt("return",e.result.convert(s,i,t.converter));case 6:case"end":return n.stop()}}),n)}))),void 0,{description:e.description,args:e.args,returns:e.result.description});return this._apiCommands.set(e.id,e),new Bo((function(){n.dispose(),t._apiCommands.delete(e.id)}))}},{key:"registerCommand",value:function(e,t,n,r,i,o){var a=this;if(this._logService.trace("ExtHostCommands#registerCommand",t),!t.trim().length)throw new Error("invalid id");if(this._commands.has(t))throw new Error("command '".concat(t,"' already exists"));return this._commands.set(t,{callback:n,thisArg:r,description:i,extension:o}),e&&(0,k.c)(this,qc,"f").$registerCommand(t),new Bo((function(){a._commands.delete(t)&&e&&(0,k.c)(a,qc,"f").$unregisterCommand(t)}))}},{key:"executeCommand",value:function(e){this._logService.trace("ExtHostCommands#executeCommand",e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._doExecuteCommand(e,n,!0)}},{key:"_doExecuteCommand",value:(n=Oi(Ti().mark((function e(t,n,r){var i,o,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._commands.has(t)){e.next=5;break}return(0,k.c)(this,qc,"f").$fireCommandActivationEvent(t),e.abrupt("return",this._executeContributedCommand(t,n,!1));case 5:return i=!1,o=(0,y.rs)(n,(function(e){return e instanceof Vo?_u.from(e):e instanceof zo?bu.from(e):e instanceof ra?Hu.from(e):Ys.isNotebookRange(e)?hc.from(e):e instanceof ArrayBuffer?(i=!0,f.KN.wrap(new Uint8Array(e))):e instanceof Uint8Array?(i=!0,f.KN.wrap(e)):e instanceof f.KN?(i=!0,e):Array.isArray(e)?void 0:e})),e.prev=7,e.next=10,(0,k.c)(this,qc,"f").$executeCommand(t,i?new Fc(o):o,r);case 10:return a=e.sent,e.abrupt("return",(0,xn.w)(a));case 14:if(e.prev=14,e.t0=e.catch(7),!(e.t0 instanceof Error&&"$executeCommand:retry"===e.t0.message)){e.next=20;break}return e.abrupt("return",this._doExecuteCommand(t,n,!1));case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,this,[[7,14]])}))),function(e,t,r){return n.apply(this,arguments)})},{key:"_executeContributedCommand",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o,a,s,u,c,l,f;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this._commands.get(t)){e.next=3;break}throw new Error("Unknown command");case 3:if(this._reportTelemetry(i,t),o=i.callback,a=i.thisArg,!(s=i.description)){e.next=18;break}u=0;case 7:if(!(u<s.args.length)){e.next=18;break}e.prev=8,(0,b.Nf)(n[u],s.args[u].constraint),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(8),new Error("Running the contributed command: '".concat(t,"' failed. Illegal argument '").concat(s.args[u].name,"' - ").concat(s.args[u].description));case 15:u++,e.next=7;break;case 18:return e.prev=18,e.next=21,o.apply(a,n);case 21:return e.abrupt("return",e.sent);case 24:if(e.prev=24,e.t1=e.catch(18),t===this.converter.delegatingCommandId&&(f=(l=this.converter).getActualCommand.apply(l,Ki(n)))&&(t=f.command),this._logService.error(e.t1,t,null===(c=i.extension)||void 0===c?void 0:c.identifier),r){e.next=30;break}throw e.t1;case 30:throw new(function(n){Ri(o,n);var r=Li(o);function o(){var n,a,s,u;return zi(this,o),(u=r.call(this,(0,Dn.y)(e.t1))).id=t,u.source=null!==(n=null===(a=i.extension)||void 0===a?void 0:a.displayName)&&void 0!==n?n:null===(s=i.extension)||void 0===s?void 0:s.name,u}return Ji(o)}(Ei(Error)));case 31:case"end":return e.stop()}}),e,this,[[8,12],[18,24]])}))),function(e,n,r){return t.apply(this,arguments)})},{key:"_reportTelemetry",value:function(e,t){e.extension&&!e.extension.isBuiltin&&(0,k.c)(this,Hc,"f").$publicLog2("Extension:ActionExecuted",{extensionId:e.extension.identifier.value,id:t})}},{key:"$executeContributedCommand",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this._logService.trace("ExtHostCommands#$executeContributedCommand",e),this._commands.has(e)?(r=r.map((function(e){return t._argumentProcessors.reduce((function(e,t){return t.processArgument(e)}),e)})),this._executeContributedCommand(e,r,!0)):Promise.reject(new Error("Contributed command '".concat(e,"' does not exist.")))}},{key:"getCommands",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._logService.trace("ExtHostCommands#getCommands",e),(0,k.c)(this,qc,"f").$getCommands().then((function(t){return e&&(t=t.filter((function(e){return"_"!==e[0]}))),t}))}},{key:"$getContributedCommandHandlerDescriptions",value:function(){var e,t=Object.create(null),n=Ui(this._commands);try{for(n.s();!(e=n.n()).done;){var r=Mi(e.value,2),i=r[0],o=r[1].description;o&&(t[i]=o)}}catch(e){n.e(e)}finally{n.f()}return Promise.resolve(t)}}]),e}();qc=new WeakMap,Hc=new WeakMap,$c=(0,k._)([(0,k.a)(0,Kc),(0,k.a)(1,Z.VZ)],$c);var Bc=function(){function e(t,n,r){zi(this,e),this._commands=t,this._lookupApiCommand=n,this._logService=r,this.delegatingCommandId="_vscode_delegate_cmd_".concat(Date.now().toString(36)),this._cache=new Map,this._cachIdPool=0,this._commands.registerCommand(!0,this.delegatingCommandId,this._executeConvertedCommand,this)}return Ji(e,[{key:"toInternal",value:function(e,t){var n=this;if(e){var r={$ident:void 0,id:e.command,title:e.title,tooltip:e.tooltip};if(!e.command)return r;var i=this._lookupApiCommand(e.command);if(i)r.id=i.internalId,r.arguments=i.args.map((function(t,n){return t.convert(e.arguments&&e.arguments[n])}));else if((0,x.Of)(e.arguments)){var o=++this._cachIdPool;this._cache.set(o,e),t.add((0,d.OF)((function(){n._cache.delete(o),n._logService.trace("CommandsConverter#DISPOSE",o)}))),r.$ident=o,r.id=this.delegatingCommandId,r.arguments=[o],this._logService.trace("CommandsConverter#CREATE",e.command,o)}return r}}},{key:"fromInternal",value:function(e){return"number"==typeof e.$ident?this._cache.get(e.$ident):{command:e.id,title:e.title,arguments:e.arguments}}},{key:"getActualCommand",value:function(){return this._cache.get(arguments.length<=0?void 0:arguments[0])}},{key:"_executeConvertedCommand",value:function(){var e,t=this.getActualCommand.apply(this,arguments);return this._logService.trace("CommandsConverter#EXECUTE",arguments.length<=0?void 0:arguments[0],t?t.command:"MISSING"),t?(e=this._commands).executeCommand.apply(e,[t.command].concat(Ki(t.arguments||[]))):Promise.reject("actual command NOT FOUND")}}]),e}(),Vc=Ji((function e(t,n){zi(this,e),this.description=t,this.convert=n}));function zc(e){return function(t){Gc.INSTANCE.registerNamedCustomer(e,t)}}Vc.Void=new Vc("no result",(function(e){return e}));var Gc=function(){function e(){zi(this,e),this._namedCustomers=[],this._customers=[]}return Ji(e,[{key:"registerNamedCustomer",value:function(e,t){var n=[e,t];this._namedCustomers.push(n)}},{key:"getNamedCustomers",value:function(){return this._namedCustomers}},{key:"registerCustomer",value:function(e){this._customers.push(e)}},{key:"getCustomers",value:function(){return this._customers}}]),e}();Gc.INSTANCE=new Gc;var Jc=function(){function e(t,n,r){var i=this;zi(this,e),this._commandService=n,this._extensionService=r,this._commandRegistrations=new Map,this._proxy=t.getProxy(Uc.ExtHostCommands),this._generateCommandsDocumentationRegistration=zr.P0.registerCommand("_generateCommandsDocumentation",(function(){return i._generateCommandsDocumentation()}))}var t,n;return Ji(e,[{key:"dispose",value:function(){(0,d.B9)(this._commandRegistrations.values()),this._commandRegistrations.clear(),this._generateCommandsDocumentationRegistration.dispose()}},{key:"_generateCommandsDocumentation",value:(n=Oi(Ti().mark((function e(){var t,n,r,i,o,a,s,u,c;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._proxy.$getContributedCommandHandlerDescriptions();case 2:t=e.sent,n=zr.P0.getCommands(),r=Ui(n);try{for(r.s();!(i=r.n()).done;)o=Mi(i.value,2),a=o[0],(s=o[1]).description&&(t[a]=s.description)}catch(e){r.e(e)}finally{r.f()}for(c in u=[],t)u.push("`"+c+"` - "+Yc(t[c]));console.log(u.join("\n"));case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"$registerCommand",value:function(e){var t=this;this._commandRegistrations.set(e,zr.P0.registerCommand(e,(function(n){for(var r,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return(r=t._proxy).$executeContributedCommand.apply(r,[e].concat(o)).then((function(e){return(0,xn.w)(e)}))})))}},{key:"$unregisterCommand",value:function(e){var t=this._commandRegistrations.get(e);t&&(t.dispose(),this._commandRegistrations.delete(e))}},{key:"$fireCommandActivationEvent",value:function(e){var t="onCommand:".concat(e);this._extensionService.activationEventIsDone(t)||this._extensionService.activateByEvent(t)}},{key:"$executeCommand",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n instanceof Fc&&(n=n.value),o=0;o<n.length;o++)n[o]=(0,xn.w)(n[o]);if(!(r&&n.length>0)||zr.P0.getCommand(t)){e.next=6;break}return e.next=5,this._extensionService.activateByEvent("onCommand:".concat(t));case 5:throw new Error("$executeCommand:retry");case 6:return e.abrupt("return",(i=this._commandService).executeCommand.apply(i,[t].concat(Ki(n))));case 7:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"$getCommands",value:function(){return Promise.resolve(Ki(zr.P0.getCommands().keys()))}}]),e}();function Yc(e){if("string"==typeof e)return e;var t=[e.description];if(t.push("\n\n"),e.args){var n,r=Ui(e.args);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.push("* _".concat(i.name,"_ - ").concat(i.description||"","\n"))}}catch(e){r.e(e)}finally{r.f()}}return e.returns&&t.push("* _(returns)_ - ".concat(e.returns)),t.push("\n\n"),t.join("")}Jc=(0,k._)([zc(Wc.MainThreadCommands),(0,k.a)(1,zr.Hy),(0,k.a)(2,hr)],Jc);var Qc=function(){function e(t,n){zi(this,e),this._extHostLogService=n,this._reportedUsages=new Set,this._telemetryShape=t.getProxy(Wc.MainThreadTelemetry)}return Ji(e,[{key:"report",value:function(e,t,n){var r=this.getUsageKey(e,t);this._reportedUsages.has(r)||(this._reportedUsages.add(r),t.isUnderDevelopment&&this._extHostLogService.warn("[Deprecation Warning] '".concat(e,"' is deprecated. ").concat(n)),this._telemetryShape.$publicLog2("extHostDeprecatedApiUsage",{extensionId:t.identifier.value,apiId:e}))}},{key:"getUsageKey",value:function(e,t){return"".concat(e,"-").concat(t.identifier.value)}}]),e}();Qc=(0,k._)([(0,k.a)(0,Kc),(0,k.a)(1,Z.VZ)],Qc);var Zc,Xc,el,tl=function(){function e(){var t=this;zi(this,e),this._systemSchemes=new Set(Object.keys(Kn.lg)),this._providerInfo=new Map,this.extUri=new An.U9((function(e){var n=t._providerInfo.get(e.scheme);return void 0!==n&&!(1024&n)}))}return Ji(e,[{key:"$acceptProviderInfos",value:function(e,t){null===t?this._providerInfo.delete(e.scheme):this._providerInfo.set(e.scheme,t)}},{key:"isFreeScheme",value:function(e){return!this._providerInfo.has(e)&&!this._systemSchemes.has(e)}},{key:"getCapabilities",value:function(e){return this._providerInfo.get(e)}}]),e}(),nl=(0,En.yh)("IExtHostFileSystemInfo"),rl=function(e){function t(e,n,r,i,o,a){zi(this,t),this._name=e,this._owner=n,this._maxDiagnosticsPerFile=r,Zc.set(this,void 0),Xc.set(this,void 0),el.set(this,void 0),this._isDisposed=!1,(0,k.b)(this,el,new I.Y9((function(e){return i.getComparisonKey(e)})),"f"),(0,k.b)(this,Zc,o,"f"),(0,k.b)(this,Xc,a,"f")}return Ji(t,[{key:"dispose",value:function(){var e;this._isDisposed||((0,k.c)(this,Xc,"f").fire(Ki((0,k.c)(this,el,"f").keys())),null===(e=(0,k.c)(this,Zc,"f"))||void 0===e||e.$clear(this._owner),(0,k.c)(this,el,"f").clear(),this._isDisposed=!0)}},{key:"name",get:function(){return this._checkDisposed(),this._name}},{key:"set",value:function(e,n){if(e){this._checkDisposed();var r=[];if(R.o.isUri(e)){if(!n)return void this.delete(e);(0,k.c)(this,el,"f").set(e,n.slice()),r=[e]}else if(Array.isArray(e)){var i;r=[];var o,a=Ui(e=Ki(e).sort(t._compareIndexedTuplesByUri));try{for(a.s();!(o=a.n()).done;){var s=Mi(o.value,2),u=s[0],c=s[1];if(i&&u.toString()===i.toString()||(i&&0===(0,k.c)(this,el,"f").get(i).length&&(0,k.c)(this,el,"f").delete(i),i=u,r.push(u),(0,k.c)(this,el,"f").set(u,[])),c){var l=(0,k.c)(this,el,"f").get(u);null==l||l.push.apply(l,Ki(c))}else{var f=(0,k.c)(this,el,"f").get(u);f&&(f.length=0)}}}catch(e){a.e(e)}finally{a.f()}}if((0,k.c)(this,Xc,"f").fire(r),(0,k.c)(this,Zc,"f")){for(var d=[],h=0,p=r;h<p.length;h++){var v=p[h],y=[],g=(0,k.c)(this,el,"f").get(v);if(g)if(g.length>this._maxDiagnosticsPerFile){y=[];var m=[ta.Error,ta.Warning,ta.Information,ta.Hint];e:for(var b=0;b<4;b++){var w,_=Ui(g);try{for(_.s();!(w=_.n()).done;){var S=w.value;if(S.severity===m[b])if(y.push(xu.from(S))===this._maxDiagnosticsPerFile)break e}}catch(e){_.e(e)}finally{_.f()}}y.push({severity:Sn.ZL.Info,message:(0,Ln.NC)({key:"limitHit",comment:["amount of errors/warning skipped due to limits"]},"Not showing {0} further errors and warnings.",g.length-this._maxDiagnosticsPerFile),startLineNumber:y[y.length-1].startLineNumber,startColumn:y[y.length-1].startColumn,endLineNumber:y[y.length-1].endLineNumber,endColumn:y[y.length-1].endColumn})}else y=g.map((function(e){return xu.from(e)}));d.push([v,y])}(0,k.c)(this,Zc,"f").$changeMany(this._owner,d)}}else this.clear()}},{key:"delete",value:function(e){var t;this._checkDisposed(),(0,k.c)(this,Xc,"f").fire([e]),(0,k.c)(this,el,"f").delete(e),null===(t=(0,k.c)(this,Zc,"f"))||void 0===t||t.$changeMany(this._owner,[[e,void 0]])}},{key:"clear",value:function(){var e;this._checkDisposed(),(0,k.c)(this,Xc,"f").fire(Ki((0,k.c)(this,el,"f").keys())),(0,k.c)(this,el,"f").clear(),null===(e=(0,k.c)(this,Zc,"f"))||void 0===e||e.$clear(this._owner)}},{key:"forEach",value:function(e,t){this._checkDisposed();var n,r=Ui(this);try{for(r.s();!(n=r.n()).done;){var i=Mi(n.value,2),o=i[0],a=i[1];e.call(t,o,a,this)}}catch(e){r.e(e)}finally{r.f()}}},{key:e,value:Ti().mark((function e(){var t,n,r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._checkDisposed(),t=Ui((0,k.c)(this,el,"f").keys()),e.prev=2,t.s();case 4:if((n=t.n()).done){e.next=10;break}return r=n.value,e.next=8,[r,this.get(r)];case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t.e(e.t0);case 15:return e.prev=15,t.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])}))},{key:"get",value:function(e){this._checkDisposed();var t=(0,k.c)(this,el,"f").get(e);return Array.isArray(t)?Object.freeze(t.slice(0)):[]}},{key:"has",value:function(e){return this._checkDisposed(),Array.isArray((0,k.c)(this,el,"f").get(e))}},{key:"_checkDisposed",value:function(){if(this._isDisposed)throw new Error("illegal state - object is disposed")}}],[{key:"_compareIndexedTuplesByUri",value:function(e,t){return e[0].toString()<t[0].toString()?-1:e[0].toString()>t[0].toString()?1:0}}]),t}((Zc=new WeakMap,Xc=new WeakMap,el=new WeakMap,Symbol.iterator)),il=function(){function e(t,n,r){zi(this,e),this._logService=n,this._fileSystemInfoService=r,this._collections=new Map,this._onDidChangeDiagnostics=new N.D0({merge:function(e){return e.flat()},delay:50}),this.onDidChangeDiagnostics=N.ju.map(this._onDidChangeDiagnostics.event,e._mapper),this._proxy=t.getProxy(Wc.MainThreadDiagnostics)}return Ji(e,[{key:"createDiagnosticCollection",value:function(t,n){var r,i=this._collections,o=this._proxy,a=this._onDidChangeDiagnostics,s=this._logService,u=this._fileSystemInfoService,c=new(function(){function e(){zi(this,e)}return Ji(e,[{key:"$changeMany",value:function(e,n){o.$changeMany(e,n),s.trace("[DiagnosticCollection] change many (extension, owner, uris)",t.value,e,0===n.length?"CLEARING":n)}},{key:"$clear",value:function(e){o.$clear(e),s.trace("[DiagnosticCollection] remove all (extension, owner)",t.value,e)}},{key:"dispose",value:function(){o.dispose()}}]),e}());if(n)if(i.has(n)){this._logService.warn("DiagnosticCollection with name '".concat(n,"' does already exist."));do{r=n+e._idPool++}while(i.has(r))}else r=n;else n="_generated_diagnostic_collection_name_#"+e._idPool++,r=n;return new(function(t){Ri(s,t);var o=Li(s);function s(){var t;return zi(this,s),t=o.call(this,n,r,e._maxDiagnosticsPerFile,u.extUri,c,a),i.set(r,Ai(t)),t}return Ji(s,[{key:"dispose",value:function(){xi(Fi(s.prototype),"dispose",this).call(this),i.delete(r)}}]),s}(rl))}},{key:"getDiagnostics",value:function(e){if(e)return this._getDiagnostics(e);var t,n=new Map,r=[],i=Ui(this._collections.values());try{for(i.s();!(t=i.n()).done;){t.value.forEach((function(e,t){var i,o=n.get(e.toString());void 0===o&&(o=r.length,n.set(e.toString(),o),r.push([e,[]])),r[o][1]=(i=r[o][1]).concat.apply(i,Ki(t))}))}}catch(e){i.e(e)}finally{i.f()}return r}},{key:"_getDiagnostics",value:function(e){var t,n=[],r=Ui(this._collections.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.has(e)&&(n=n.concat(i.get(e)))}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"$acceptMarkersChange",value:function(t){if(!this._mirrorCollection){var n="_generated_mirror",r=new rl(n,n,e._maxDiagnosticsPerFile,this._fileSystemInfoService.extUri,void 0,this._onDidChangeDiagnostics);this._collections.set(n,r),this._mirrorCollection=r}var i,o=Ui(t);try{for(o.s();!(i=o.n()).done;){var a=Mi(i.value,2),s=a[0],u=a[1];this._mirrorCollection.set(R.o.revive(s),u.map(xu.to))}}catch(e){o.e(e)}finally{o.f()}}}],[{key:"_mapper",value:function(e){var t,n=new I.Y9,r=Ui(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.set(i,i)}}catch(e){r.e(e)}finally{r.f()}return{uris:Object.freeze(Array.from(n.values()))}}}]),e}();function ol(e,t,n,r){if(!e||r>200)return null;if("object"===Vi(e)){if(1===e.$mid)return n?R.o.revive(t.transformIncoming(e)):t.transformIncoming(e);for(var i in e)if(Object.hasOwnProperty.call(e,i)){var o=ol(e[i],t,n,r+1);null!==o&&(e[i]=o)}}return null}function al(e,t){var n=ol(e,t,!1,0);return null===n?e:n}il._idPool=0,il._maxDiagnosticsPerFile=1e3,il=(0,k._)([(0,k.a)(1,Z.VZ),(0,k.a)(2,nl)],il);var sl,ul=function(e){function t(){zi(this,t),this._actual=null,this._actualOk=null,this._actualErr=null,this._hasValue=!1,this._value=null,this._hasErr=!1,this._err=null}return Ji(t,[{key:Symbol.toStringTag,get:function(){return this.toString()}},{key:"_ensureActual",value:function(){var e=this;return this._actual||(this._actual=new Promise((function(t,n){e._actualOk=t,e._actualErr=n,e._hasValue&&e._actualOk(e._value),e._hasErr&&e._actualErr(e._err)}))),this._actual}},{key:"resolveOk",value:function(e){this._hasValue||this._hasErr||(this._hasValue=!0,this._value=e,this._actual&&this._actualOk(e))}},{key:"resolveErr",value:function(e){this._hasValue||this._hasErr||(this._hasErr=!0,this._err=e,this._actual?this._actualErr(e):(0,h.dL)(e))}},{key:"then",value:function(e,t){return this._ensureActual().then(e,t)}},{key:"catch",value:function(e){return this._ensureActual().then(void 0,e)}},{key:"finally",value:function(e){return this._ensureActual().finally(e)}}]),t}(),cl=function(e){Ri(n,e);var t=Li(n);function n(){var e;return zi(this,n),(e=t.call(this))._hasErr=!0,e._err=new h.FU,e}return Ji(n)}(ul);function ll(e,t){try{return JSON.stringify(e,t)}catch(e){return"null"}}var fl="$$ref$$",dl=Wi({},fl,-1);function hl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[],i=(n?ll:JSON.stringify)(e,(function(e,n){if(void 0===n)return dl;if("object"===Vi(n)){if(n instanceof f.KN){var i=r.push(n)-1;return Wi({},fl,i)}if(t)return t(e,n)}return n}));return{jsonString:i,referencedBuffers:r}}function pl(e,t,n){return JSON.parse(e,(function(e,r){if(r){var i=r[fl];if("number"==typeof i)return t[i];if(n&&1===r.$mid)return n.transformIncoming(r)}return r}))}function vl(e,t){return JSON.stringify(e,t)}function yl(e){return e?function(t,n){return n&&1===n.$mid?e.transformOutgoing(n):n}:null}var gl=function(){},ml=Symbol.for("rpcProtocol"),bl=Symbol.for("rpcProxy"),wl=function(e){Ri(n,e);var t=Li(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;zi(this,n),(r=t.call(this))[sl]=!0,r._onDidChangeResponsiveState=r._register(new k.E),r.onDidChangeResponsiveState=r._onDidChangeResponsiveState.event,r._protocol=e,r._logger=i,r._uriTransformer=o,r._uriReplacer=yl(r._uriTransformer),r._isDisposed=!1,r._locals=[],r._proxies=[];for(var a=0,s=Ic.count;a<s;a++)r._locals[a]=null,r._proxies[a]=null;return r._lastMessageId=0,r._cancelInvokedHandlers=Object.create(null),r._pendingRPCReplies={},r._responsiveState=0,r._unacknowledgedCount=0,r._unresponsiveTime=0,r._asyncCheckUresponsive=r._register(new g.pY((function(){return r._checkUnresponsive()}),1e3)),r._protocol.onMessage((function(e){return r._receiveOneMessage(e)})),r}return Ji(n,[{key:"dispose",value:function(){var e=this;this._isDisposed=!0,Object.keys(this._pendingRPCReplies).forEach((function(t){e._pendingRPCReplies[t].resolveErr((0,h.F0)())}))}},{key:"drain",value:function(){return"function"==typeof this._protocol.drain?this._protocol.drain():Promise.resolve()}},{key:"_onWillSendRequest",value:function(e){0===this._unacknowledgedCount&&(this._unresponsiveTime=Date.now()+n.UNRESPONSIVE_TIME),this._unacknowledgedCount++,this._asyncCheckUresponsive.isScheduled()||this._asyncCheckUresponsive.schedule()}},{key:"_onDidReceiveAcknowledge",value:function(e){this._unresponsiveTime=Date.now()+n.UNRESPONSIVE_TIME,this._unacknowledgedCount--,0===this._unacknowledgedCount&&this._asyncCheckUresponsive.cancel(),this._setResponsiveState(0)}},{key:"_checkUnresponsive",value:function(){0!==this._unacknowledgedCount&&(Date.now()>this._unresponsiveTime?this._setResponsiveState(1):this._asyncCheckUresponsive.schedule())}},{key:"_setResponsiveState",value:function(e){this._responsiveState!==e&&(this._responsiveState=e,this._onDidChangeResponsiveState.fire(this._responsiveState))}},{key:"responsiveState",get:function(){return this._responsiveState}},{key:"transformIncomingURIs",value:function(e){return this._uriTransformer?al(e,this._uriTransformer):e}},{key:"getProxy",value:function(e){var t=e.nid,n=e.sid;return this._proxies[t]||(this._proxies[t]=this._createProxy(t,n)),this._proxies[t]}},{key:"_createProxy",value:function(e,t){var n=this,r={get:function(r,i){return"string"!=typeof i||r[i]||36!==i.charCodeAt(0)||(r[i]=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return n._remoteCall(e,i,r)}),i===bl?t:r[i]}};return new Proxy(Object.create(null),r)}},{key:"set",value:function(e,t){return this._locals[e.nid]=t,t}},{key:"assertRegistered",value:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(!this._locals[r.nid])throw new Error("Missing proxy instance ".concat(r.sid))}}},{key:"_receiveOneMessage",value:function(e){if(!this._isDisposed){var t=e.byteLength,n=_l.read(e,0),r=n.readUInt8(),i=n.readUInt32();switch(r){case 1:case 2:var o=Sl.deserializeRequestJSONArgs(n),a=o.rpcId,s=o.method,u=o.args;this._uriTransformer&&(u=al(u,this._uriTransformer)),this._receiveRequest(t,i,a,s,u,2===r);break;case 3:case 4:var c=Sl.deserializeRequestMixedArgs(n),l=c.rpcId,f=c.method,d=c.args;this._uriTransformer&&(d=al(d,this._uriTransformer)),this._receiveRequest(t,i,l,f,d,4===r);break;case 5:var h;null===(h=this._logger)||void 0===h||h.logIncoming(t,i,0,"ack"),this._onDidReceiveAcknowledge(i);break;case 6:this._receiveCancel(t,i);break;case 7:this._receiveReply(t,i,void 0);break;case 9:var p=Sl.deserializeReplyOKJSON(n);this._uriTransformer&&(p=al(p,this._uriTransformer)),this._receiveReply(t,i,p);break;case 10:var v=Sl.deserializeReplyOKJSONWithBuffers(n,this._uriTransformer);this._receiveReply(t,i,v);break;case 8:var y=Sl.deserializeReplyOKVSBuffer(n);this._receiveReply(t,i,y);break;case 11:var g=Sl.deserializeReplyErrError(n);this._uriTransformer&&(g=al(g,this._uriTransformer)),this._receiveReplyErr(t,i,g);break;case 12:this._receiveReplyErr(t,i,void 0);break;default:console.error("received unexpected message"),console.error(e)}}}},{key:"_receiveRequest",value:function(e,t,n,r,i,o){var a,s,u=this;null===(a=this._logger)||void 0===a||a.logIncoming(e,t,1,"receiveRequest ".concat(Ac(n),".").concat(r,"("),i);var c,l,f=String(t);if(o){var d=new vn.C;i.push(d.token),c=this._invokeHandler(n,r,i),l=function(){return d.cancel()}}else c=this._invokeHandler(n,r,i),l=gl;this._cancelInvokedHandlers[f]=l;var h=Sl.serializeAcknowledged(t);null===(s=this._logger)||void 0===s||s.logOutgoing(h.byteLength,t,1,"ack"),this._protocol.send(h),c.then((function(e){var n;delete u._cancelInvokedHandlers[f];var r=Sl.serializeReplyOK(t,e,u._uriReplacer);null===(n=u._logger)||void 0===n||n.logOutgoing(r.byteLength,t,1,"reply:",e),u._protocol.send(r)}),(function(e){var n;delete u._cancelInvokedHandlers[f];var r=Sl.serializeReplyErr(t,e);null===(n=u._logger)||void 0===n||n.logOutgoing(r.byteLength,t,1,"replyErr:",e),u._protocol.send(r)}))}},{key:"_receiveCancel",value:function(e,t){var n,r,i;null===(n=this._logger)||void 0===n||n.logIncoming(e,t,1,"receiveCancel");var o=String(t);null===(r=(i=this._cancelInvokedHandlers)[o])||void 0===r||r.call(i)}},{key:"_receiveReply",value:function(e,t,n){var r;null===(r=this._logger)||void 0===r||r.logIncoming(e,t,0,"receiveReply:",n);var i=String(t);if(this._pendingRPCReplies.hasOwnProperty(i)){var o=this._pendingRPCReplies[i];delete this._pendingRPCReplies[i],o.resolveOk(n)}}},{key:"_receiveReplyErr",value:function(e,t,n){var r;null===(r=this._logger)||void 0===r||r.logIncoming(e,t,0,"receiveReplyErr:",n);var i=String(t);if(this._pendingRPCReplies.hasOwnProperty(i)){var o=this._pendingRPCReplies[i];delete this._pendingRPCReplies[i];var a=void 0;n&&(n.$isError?((a=new Error).name=n.name,a.message=n.message,a.stack=n.stack):a=n),o.resolveErr(a)}}},{key:"_invokeHandler",value:function(e,t,n){try{return Promise.resolve(this._doInvokeHandler(e,t,n))}catch(e){return Promise.reject(e)}}},{key:"_doInvokeHandler",value:function(e,t,n){var r=this._locals[e];if(!r)throw new Error("Unknown actor "+Ac(e));var i=r[t];if("function"!=typeof i)throw new Error("Unknown method "+t+" on actor "+Ac(e));return i.apply(r,n)}},{key:"_remoteCall",value:function(e,t,n){var r,i=this;if(this._isDisposed)return new cl;var o=null;if(n.length>0&&Gr.T.isCancellationToken(n[n.length-1])&&(o=n.pop()),o&&o.isCancellationRequested)return Promise.reject((0,h.F0)());var a=Sl.serializeRequestArguments(n,this._uriReplacer),s=++this._lastMessageId,u=String(s),c=new ul;o&&o.onCancellationRequested((function(){var e,t=Sl.serializeCancel(s);null===(e=i._logger)||void 0===e||e.logOutgoing(t.byteLength,s,0,"cancel"),i._protocol.send(Sl.serializeCancel(s))})),this._pendingRPCReplies[u]=c,this._onWillSendRequest(s);var l=Sl.serializeRequest(s,e,t,a,!!o);return null===(r=this._logger)||void 0===r||r.logOutgoing(l.byteLength,s,0,"request: ".concat(Ac(e),".").concat(t,"("),n),this._protocol.send(l),c}}]),n}(d.JT);sl=ml,wl.UNRESPONSIVE_TIME=3e3;var _l=function(){function e(t,n){zi(this,e),this._buff=t,this._offset=n}return Ji(e,[{key:"buffer",get:function(){return this._buff}},{key:"writeUInt8",value:function(e){this._buff.writeUInt8(e,this._offset),this._offset+=1}},{key:"readUInt8",value:function(){var e=this._buff.readUInt8(this._offset);return this._offset+=1,e}},{key:"writeUInt32",value:function(e){this._buff.writeUInt32BE(e,this._offset),this._offset+=4}},{key:"readUInt32",value:function(){var e=this._buff.readUInt32BE(this._offset);return this._offset+=4,e}},{key:"writeShortString",value:function(e){this._buff.writeUInt8(e.byteLength,this._offset),this._offset+=1,this._buff.set(e,this._offset),this._offset+=e.byteLength}},{key:"readShortString",value:function(){var e=this._buff.readUInt8(this._offset);this._offset+=1;var t=this._buff.slice(this._offset,this._offset+e).toString();return this._offset+=e,t}},{key:"writeLongString",value:function(e){this._buff.writeUInt32BE(e.byteLength,this._offset),this._offset+=4,this._buff.set(e,this._offset),this._offset+=e.byteLength}},{key:"readLongString",value:function(){var e=this._buff.readUInt32BE(this._offset);this._offset+=4;var t=this._buff.slice(this._offset,this._offset+e).toString();return this._offset+=e,t}},{key:"writeBuffer",value:function(e){this._buff.writeUInt32BE(e.byteLength,this._offset),this._offset+=4,this._buff.set(e,this._offset),this._offset+=e.byteLength}},{key:"writeVSBuffer",value:function(e){this._buff.writeUInt32BE(e.byteLength,this._offset),this._offset+=4,this._buff.set(e,this._offset),this._offset+=e.byteLength}},{key:"readVSBuffer",value:function(){var e=this._buff.readUInt32BE(this._offset);this._offset+=4;var t=this._buff.slice(this._offset,this._offset+e);return this._offset+=e,t}},{key:"writeMixedArray",value:function(e){this._buff.writeUInt8(e.length,this._offset),this._offset+=1;for(var t=0,n=e.length;t<n;t++){var r=e[t];switch(r.type){case 1:this.writeUInt8(1),this.writeLongString(r.value);break;case 2:this.writeUInt8(2),this.writeVSBuffer(r.value);break;case 3:this.writeUInt8(3),this.writeUInt32(r.buffers.length),this.writeLongString(r.value);for(var i=0;i<r.buffers.length;++i)this.writeBuffer(r.buffers[i]);break;case 4:this.writeUInt8(4)}}}},{key:"readMixedArray",value:function(){var e=this._buff.readUInt8(this._offset);this._offset+=1;for(var t=new Array(e),n=0;n<e;n++){switch(this.readUInt8()){case 1:t[n]=this.readLongString();break;case 2:t[n]=this.readVSBuffer();break;case 3:for(var r=this.readUInt32(),i=this.readLongString(),o=[],a=0;a<r;++a)o.push(this.readVSBuffer());t[n]=new Fc(pl(i,o,null));break;case 4:t[n]=void 0}}return t}}],[{key:"alloc",value:function(t,n,r){var i=new e(f.KN.alloc(r+1+4),0);return i.writeUInt8(t),i.writeUInt32(n),i}},{key:"read",value:function(t,n){return new e(t,n)}},{key:"sizeUInt8",value:function(){return 1}},{key:"sizeShortString",value:function(e){return 1+e.byteLength}},{key:"sizeLongString",value:function(e){return 4+e.byteLength}},{key:"sizeVSBuffer",value:function(e){return 4+e.byteLength}},{key:"sizeMixedArray",value:function(e){var t=0;t+=1;for(var n=0,r=e.length;n<r;n++){var i=e[n];switch(t+=1,i.type){case 1:t+=this.sizeLongString(i.value);break;case 2:t+=this.sizeVSBuffer(i.value);break;case 3:t+=this.sizeUInt32,t+=this.sizeLongString(i.value);for(var o=0;o<i.buffers.length;++o)t+=this.sizeVSBuffer(i.buffers[o])}}return t}}]),e}();_l.sizeUInt32=4;var kl,Sl=function(){function e(){zi(this,e)}return Ji(e,null,[{key:"_useMixedArgSerialization",value:function(e){for(var t=0,n=e.length;t<n;t++){if(e[t]instanceof f.KN)return!0;if(e[t]instanceof Fc)return!0;if(void 0===e[t])return!0}return!1}},{key:"serializeRequestArguments",value:function(e,t){if(this._useMixedArgSerialization(e)){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];if(o instanceof f.KN)n[r]={type:2,value:o};else if(void 0===o)n[r]={type:4};else if(o instanceof Fc){var a=hl(o.value,t),s=a.jsonString,u=a.referencedBuffers;n[r]={type:3,value:f.KN.fromString(s),buffers:u}}else n[r]={type:1,value:f.KN.fromString(vl(o,t))}}return{type:1,args:n}}return{type:0,args:vl(e,t)}}},{key:"serializeRequest",value:function(e,t,n,r,i){switch(r.type){case 0:return this._requestJSONArgs(e,t,n,r.args,i);case 1:return this._requestMixedArgs(e,t,n,r.args,i)}}},{key:"_requestJSONArgs",value:function(e,t,n,r,i){var o=f.KN.fromString(n),a=f.KN.fromString(r),s=0;s+=_l.sizeUInt8(),s+=_l.sizeShortString(o),s+=_l.sizeLongString(a);var u=_l.alloc(i?2:1,e,s);return u.writeUInt8(t),u.writeShortString(o),u.writeLongString(a),u.buffer}},{key:"deserializeRequestJSONArgs",value:function(e){var t=e.readUInt8(),n=e.readShortString(),r=e.readLongString();return{rpcId:t,method:n,args:JSON.parse(r)}}},{key:"_requestMixedArgs",value:function(e,t,n,r,i){var o=f.KN.fromString(n),a=0;a+=_l.sizeUInt8(),a+=_l.sizeShortString(o),a+=_l.sizeMixedArray(r);var s=_l.alloc(i?4:3,e,a);return s.writeUInt8(t),s.writeShortString(o),s.writeMixedArray(r),s.buffer}},{key:"deserializeRequestMixedArgs",value:function(e){for(var t=e.readUInt8(),n=e.readShortString(),r=e.readMixedArray(),i=new Array(r.length),o=0,a=r.length;o<a;o++){var s=r[o];i[o]="string"==typeof s?JSON.parse(s):s}return{rpcId:t,method:n,args:i}}},{key:"serializeAcknowledged",value:function(e){return _l.alloc(5,e,0).buffer}},{key:"serializeCancel",value:function(e){return _l.alloc(6,e,0).buffer}},{key:"serializeReplyOK",value:function(e,t,n){if(void 0===t)return this._serializeReplyOKEmpty(e);if(t instanceof f.KN)return this._serializeReplyOKVSBuffer(e,t);if(t instanceof Fc){var r=hl(t.value,n,!0),i=r.jsonString,o=r.referencedBuffers;return this._serializeReplyOKJSONWithBuffers(e,i,o)}return this._serializeReplyOKJSON(e,ll(t,n))}},{key:"_serializeReplyOKEmpty",value:function(e){return _l.alloc(7,e,0).buffer}},{key:"_serializeReplyOKVSBuffer",value:function(e,t){var n=0;n+=_l.sizeVSBuffer(t);var r=_l.alloc(8,e,n);return r.writeVSBuffer(t),r.buffer}},{key:"deserializeReplyOKVSBuffer",value:function(e){return e.readVSBuffer()}},{key:"_serializeReplyOKJSON",value:function(e,t){var n=f.KN.fromString(t),r=0;r+=_l.sizeLongString(n);var i=_l.alloc(9,e,r);return i.writeLongString(n),i.buffer}},{key:"_serializeReplyOKJSONWithBuffers",value:function(e,t,n){var r=f.KN.fromString(t),i=0;i+=_l.sizeUInt32,i+=_l.sizeLongString(r);var o,a=Ui(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;i+=_l.sizeVSBuffer(s)}}catch(e){a.e(e)}finally{a.f()}var u=_l.alloc(10,e,i);u.writeUInt32(n.length),u.writeLongString(r);var c,l=Ui(n);try{for(l.s();!(c=l.n()).done;){var d=c.value;u.writeBuffer(d)}}catch(e){l.e(e)}finally{l.f()}return u.buffer}},{key:"deserializeReplyOKJSON",value:function(e){var t=e.readLongString();return JSON.parse(t)}},{key:"deserializeReplyOKJSONWithBuffers",value:function(e,t){for(var n=e.readUInt32(),r=e.readLongString(),i=[],o=0;o<n;++o)i.push(e.readVSBuffer());return new Fc(pl(r,i,t))}},{key:"serializeReplyErr",value:function(e,t){var n=t?ll((0,h.ri)(t),null):void 0;if("string"!=typeof n)return this._serializeReplyErrEmpty(e);var r=f.KN.fromString(n),i=0;i+=_l.sizeLongString(r);var o=_l.alloc(11,e,i);return o.writeLongString(r),o.buffer}},{key:"deserializeReplyErrError",value:function(e){var t=e.readLongString();return JSON.parse(t)}},{key:"_serializeReplyErrEmpty",value:function(e){return _l.alloc(12,e,0).buffer}}]),e}();function xl(e){var t=f.KN.alloc(1);return t.writeUInt8(e,0),t}!function(e){e[e.Undefined=0]="Undefined",e[e.String=1]="String",e[e.Buffer=2]="Buffer",e[e.VSBuffer=3]="VSBuffer",e[e.Array=4]="Array",e[e.Object=5]="Object"}(kl||(kl={})),xl(kl.Undefined),xl(kl.String),xl(kl.Buffer),xl(kl.VSBuffer),xl(kl.Array),xl(kl.Object);var Cl=function(){function e(){var t=this;zi(this,e),this._hasListeners=!1,this._isDeliveringMessages=!1,this._bufferedMessages=[],this._emitter=new k.E({onFirstListenerAdd:function(){t._hasListeners=!0,queueMicrotask((function(){return t._deliverMessages()}))},onLastListenerRemove:function(){t._hasListeners=!1}}),this.event=this._emitter.event}return Ji(e,[{key:"_deliverMessages",value:function(){if(!this._isDeliveringMessages){for(this._isDeliveringMessages=!0;this._hasListeners&&this._bufferedMessages.length>0;)this._emitter.fire(this._bufferedMessages.shift());this._isDeliveringMessages=!1}}},{key:"fire",value:function(e){this._hasListeners?this._bufferedMessages.length>0?this._bufferedMessages.push(e):this._emitter.fire(e):this._bufferedMessages.push(e)}},{key:"flushBuffer",value:function(){this._bufferedMessages=[]}}]),e}(),El=new Map;var Dl=function(e){Ri(n,e);var t=Li(n);function n(e,r,i,o,a,s,u,c){var l;return zi(this,n),(l=t.call(this,r,i,o,a))._proxy=e,l._languageId=s,l._isDirty=u,l.notebook=c,l._isDisposed=!1,l}return Ji(n,[{key:"dispose",value:function(){(0,Yr.ok)(!this._isDisposed),this._isDisposed=!0,this._isDirty=!1}},{key:"equalLines",value:function(e){return(0,x.fS)(this._lines,e)}},{key:"document",get:function(){if(!this._document){var e=this;this._document={get uri(){return e._uri},get fileName(){return e._uri.fsPath},get isUntitled(){return e._uri.scheme===Kn.lg.untitled},get languageId(){return e._languageId},get version(){return e._versionId},get isClosed(){return e._isDisposed},get isDirty(){return e._isDirty},save:function(){return e._save()},getText:function(t){return t?e._getTextInRange(t):e.getText()},get eol(){return"\n"===e._eol?Go.LF:Go.CRLF},get lineCount(){return e._lines.length},lineAt:function(t){return e._lineAt(t)},offsetAt:function(t){return e._offsetAt(t)},positionAt:function(t){return e._positionAt(t)},validateRange:function(t){return e._validateRange(t)},validatePosition:function(t){return e._validatePosition(t)},getWordRangeAtPosition:function(t,n){return e._getWordRangeAtPosition(t,n)}}}return Object.freeze(this._document)}},{key:"_acceptLanguageId",value:function(e){(0,Yr.ok)(!this._isDisposed),this._languageId=e}},{key:"_acceptIsDirty",value:function(e){(0,Yr.ok)(!this._isDisposed),this._isDirty=e}},{key:"_save",value:function(){return this._isDisposed?Promise.reject(new Error("Document has been closed")):this._proxy.$trySaveDocument(this._uri)}},{key:"_getTextInRange",value:function(e){var t=this._validateRange(e);if(t.isEmpty)return"";if(t.isSingleLine)return this._lines[t.start.line].substring(t.start.character,t.end.character);var n=this._eol,r=t.start.line,i=t.end.line,o=[];o.push(this._lines[r].substring(t.start.character));for(var a=r+1;a<i;a++)o.push(this._lines[a]);return o.push(this._lines[i].substring(0,t.end.character)),o.join(n)}},{key:"_lineAt",value:function(e){var t;if(e instanceof Vo?t=e.line:"number"==typeof e&&(t=e),"number"!=typeof t||t<0||t>=this._lines.length||Math.floor(t)!==t)throw new Error("Illegal value for `line`");return new Tl(t,this._lines[t],t===this._lines.length-1)}},{key:"_offsetAt",value:function(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.line-1)+e.character}},{key:"_positionAt",value:function(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();var t=this._lineStarts.getIndexOf(e),n=this._lines[t.index].length;return new Vo(t.index,Math.min(t.remainder,n))}},{key:"_validateRange",value:function(e){if(!(e instanceof zo))throw new Error("Invalid argument");var t=this._validatePosition(e.start),n=this._validatePosition(e.end);return t===e.start&&n===e.end?e:new zo(t.line,t.character,n.line,n.character)}},{key:"_validatePosition",value:function(e){if(!(e instanceof Vo))throw new Error("Invalid argument");if(0===this._lines.length)return e.with(0,0);var t=e.line,n=e.character,r=!1;if(t<0)t=0,n=0,r=!0;else if(t>=this._lines.length)t=this._lines.length-1,n=this._lines[t].length,r=!0;else{var i=this._lines[t].length;n<0?(n=0,r=!0):n>i&&(n=i,r=!0)}return r?new Vo(t,n):e}},{key:"_getWordRangeAtPosition",value:function(e,t){var n,r=this._validatePosition(e);if(t){if((0,L.IO)(t))throw new Error("[getWordRangeAtPosition]: ignoring custom regexp '".concat(t.source,"' because it matches the empty string."))}else n=this._languageId,t=El.get(n);var i=(0,Qr.t2)(r.character+1,(0,Qr.eq)(t),this._lines[r.line],0);if(i)return new zo(r.line,i.startColumn-1,r.line,i.endColumn-1)}}]),n}(Jr.v),Tl=function(){function e(t,n,r){zi(this,e),this._line=t,this._text=n,this._isLastLine=r}return Ji(e,[{key:"lineNumber",get:function(){return this._line}},{key:"text",get:function(){return this._text}},{key:"range",get:function(){return new zo(this._line,0,this._line,this._text.length)}},{key:"rangeIncludingLineBreak",get:function(){return this._isLastLine?this.range:new zo(this._line,0,this._line+1,0)}},{key:"firstNonWhitespaceCharacterIndex",get:function(){return/^(\s*)/.exec(this._text)[1].length}},{key:"isEmptyOrWhitespace",get:function(){return this.firstNonWhitespaceCharacterIndex===this._text.length}}]),e}(),Pl=function(){function e(t,n){var r=this;zi(this,e),this._onDidAddDocument=new k.E,this._onDidRemoveDocument=new k.E,this._onDidChangeDocument=new k.E,this._onDidSaveDocument=new k.E,this.onDidAddDocument=this._onDidAddDocument.event,this.onDidRemoveDocument=this._onDidRemoveDocument.event,this.onDidChangeDocument=this._onDidChangeDocument.event,this.onDidSaveDocument=this._onDidSaveDocument.event,this._toDispose=new d.SL,this._documentLoader=new Map,this._proxy=t.getProxy(Wc.MainThreadDocuments),this._documentsAndEditors=n,this._documentsAndEditors.onDidRemoveDocuments((function(e){var t,n=Ui(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;r._onDidRemoveDocument.fire(i.document)}}catch(e){n.e(e)}finally{n.f()}}),void 0,this._toDispose),this._documentsAndEditors.onDidAddDocuments((function(e){var t,n=Ui(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;r._onDidAddDocument.fire(i.document)}}catch(e){n.e(e)}finally{n.f()}}),void 0,this._toDispose)}return Ji(e,[{key:"dispose",value:function(){this._toDispose.dispose()}},{key:"getAllDocumentData",value:function(){return Ki(this._documentsAndEditors.allDocuments())}},{key:"getDocumentData",value:function(e){if(e){var t=this._documentsAndEditors.getDocument(e);return t||void 0}}},{key:"getDocument",value:function(e){var t=this.getDocumentData(e);if(null==t||!t.document)throw new Error("Unable to retrieve document from URI '".concat(e,"'"));return t.document}},{key:"ensureDocumentData",value:function(e){var t=this,n=this._documentsAndEditors.getDocument(e);if(n)return Promise.resolve(n);var r=this._documentLoader.get(e.toString());return r||(r=this._proxy.$tryOpenDocument(e).then((function(n){t._documentLoader.delete(e.toString());var r=R.o.revive(n);return(0,b.cW)(t._documentsAndEditors.getDocument(r))}),(function(n){return t._documentLoader.delete(e.toString()),Promise.reject(n)})),this._documentLoader.set(e.toString(),r)),r}},{key:"createDocumentData",value:function(e){return this._proxy.$tryCreateDocument(e).then((function(e){return R.o.revive(e)}))}},{key:"$acceptModelLanguageChanged",value:function(e,t){var n=R.o.revive(e),r=this._documentsAndEditors.getDocument(n);if(!r)throw new Error("unknown document");this._onDidRemoveDocument.fire(r.document),r._acceptLanguageId(t),this._onDidAddDocument.fire(r.document)}},{key:"$acceptModelSaved",value:function(e){var t=R.o.revive(e),n=this._documentsAndEditors.getDocument(t);if(!n)throw new Error("unknown document");this.$acceptDirtyStateChanged(e,!1),this._onDidSaveDocument.fire(n.document)}},{key:"$acceptDirtyStateChanged",value:function(e,t){var n=R.o.revive(e),r=this._documentsAndEditors.getDocument(n);if(!r)throw new Error("unknown document");r._acceptIsDirty(t),this._onDidChangeDocument.fire({document:r.document,contentChanges:[],reason:void 0})}},{key:"$acceptModelChanged",value:function(e,t,n){var r=R.o.revive(e),i=this._documentsAndEditors.getDocument(r);if(!i)throw new Error("unknown document");i._acceptIsDirty(n),i.onEvents(t);var o=void 0;t.isUndoing?o=Ua.Undo:t.isRedoing&&(o=Ua.Redo),this._onDidChangeDocument.fire((0,y._A)({document:i.document,contentChanges:t.changes.map((function(e){return{range:bu.to(e.range),rangeOffset:e.rangeOffset,rangeLength:e.rangeLength,text:e.text}})),reason:o}))}},{key:"setWordDefinitionFor",value:function(e,t){!function(e,t){t?El.set(e,t):El.delete(e)}(e,t)}}]),e}();function Ol(e,t,n){var r=e.getProxy(Wc.MainThreadQuickOpen),i=function(){function e(t,n){zi(this,e),this._sessions=new Map,this._instances=0,this._workspace=t,this._commands=n}var t,n;return Ji(e,[{key:"showQuickPick",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gr.T.None;this._onDidSelectItem=void 0;var o=Promise.resolve(e),a=++this._instances,s=r.$show(a,{title:null==t?void 0:t.title,placeHolder:null==t?void 0:t.placeHolder,matchOnDescription:null==t?void 0:t.matchOnDescription,matchOnDetail:null==t?void 0:t.matchOnDetail,ignoreFocusLost:null==t?void 0:t.ignoreFocusOut,canPickMany:null==t?void 0:t.canPickMany},i),u={},c=s.then((function(){return u}));return Promise.race([c,o]).then((function(e){if(e!==u)return o.then((function(e){for(var i=[],o=0;o<e.length;o++){var u=e[o];"string"==typeof u?i.push({label:u,handle:o}):u.kind===Bs.Separator?i.push({type:"separator",label:u.label}):i.push({label:u.label,description:u.description,detail:u.detail,picked:u.picked,alwaysShow:u.alwaysShow,handle:o})}return t&&"function"==typeof t.onDidSelectItem&&(n._onDidSelectItem=function(n){t.onDidSelectItem(e[n])}),r.$setItems(a,i),s.then((function(t){return"number"==typeof t?e[t]:Array.isArray(t)?t.map((function(t){return e[t]})):void 0}))}))})).then(void 0,(function(e){if(!(0,h.n2)(e))return r.$setError(a,e),Promise.reject(e)}))}},{key:"$onItemSelected",value:function(e){var t;null===(t=this._onDidSelectItem)||void 0===t||t.call(this,e)}},{key:"showInput",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gr.T.None;return this._validateInput=null==e?void 0:e.validateInput,r.$input(e,"function"==typeof this._validateInput,t).then(void 0,(function(e){if(!(0,h.n2)(e))return Promise.reject(e)}))}},{key:"$validateInput",value:(n=Oi(Ti().mark((function e(t){var n,r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._validateInput){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this._validateInput(t);case 4:if((n=e.sent)&&"string"!=typeof n){e.next=7;break}return e.abrupt("return",n);case 7:e.t0=n.severity,e.next=e.t0===Vs.Info?10:e.t0===Vs.Warning?12:e.t0===Vs.Error?14:16;break;case 10:return r=Fn.Z.Info,e.abrupt("break",18);case 12:return r=Fn.Z.Warning,e.abrupt("break",18);case 14:return r=Fn.Z.Error,e.abrupt("break",18);case 16:return r=n.message?Fn.Z.Error:Fn.Z.Ignore,e.abrupt("break",18);case 18:return e.abrupt("return",{content:n.message,severity:r});case 19:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"showWorkspaceFolderPick",value:(t=Oi(Ti().mark((function e(t){var n,r,i=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:Gr.T.None,e.next=3,this._commands.executeCommand("_workbench.pickWorkspaceFolder",[t]);case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return",void 0);case 6:return e.next=8,this._workspace.getWorkspaceFolders2();case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return",void 0);case 11:return e.abrupt("return",r.find((function(e){return e.uri.toString()===n.uri.toString()})));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"createQuickPick",value:function(e){var t=this,n=new u(e,(function(){return t._sessions.delete(n._id)}));return this._sessions.set(n._id,n),n}},{key:"createInputBox",value:function(e){var t=this,n=new c(e,(function(){return t._sessions.delete(n._id)}));return this._sessions.set(n._id,n),n}},{key:"$onDidChangeValue",value:function(e,t){var n=this._sessions.get(e);null==n||n._fireDidChangeValue(t)}},{key:"$onDidAccept",value:function(e){var t=this._sessions.get(e);t&&t._fireDidAccept()}},{key:"$onDidChangeActive",value:function(e,t){var n=this._sessions.get(e);n instanceof u&&n._fireDidChangeActive(t)}},{key:"$onDidChangeSelection",value:function(e,t){var n=this._sessions.get(e);n instanceof u&&n._fireDidChangeSelection(t)}},{key:"$onDidTriggerButton",value:function(e,t){var n=this._sessions.get(e);null==n||n._fireDidTriggerButton(t)}},{key:"$onDidTriggerItemButton",value:function(e,t,n){var r=this._sessions.get(e);r instanceof u&&r._fireDidTriggerItemButton(t,n)}},{key:"$onDidHide",value:function(e){var t=this._sessions.get(e);t&&t._fireDidHide()}}]),e}(),o=function(){function e(t,n){zi(this,e),this._extensionId=t,this._onDidDispose=n,this._id=u._nextId++,this._visible=!1,this._expectingHide=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!0,this._value="",this._buttons=[],this._handlesToButtons=new Map,this._onDidAcceptEmitter=new k.E,this._onDidChangeValueEmitter=new k.E,this._onDidTriggerButtonEmitter=new k.E,this._onDidHideEmitter=new k.E,this._pendingUpdate={id:this._id},this._disposed=!1,this._disposables=[this._onDidTriggerButtonEmitter,this._onDidHideEmitter,this._onDidAcceptEmitter,this._onDidChangeValueEmitter],this.onDidChangeValue=this._onDidChangeValueEmitter.event,this.onDidAccept=this._onDidAcceptEmitter.event,this.onDidTriggerButton=this._onDidTriggerButtonEmitter.event,this.onDidHide=this._onDidHideEmitter.event}return Ji(e,[{key:"title",get:function(){return this._title},set:function(e){this._title=e,this.update({title:e})}},{key:"step",get:function(){return this._steps},set:function(e){this._steps=e,this.update({step:e})}},{key:"totalSteps",get:function(){return this._totalSteps},set:function(e){this._totalSteps=e,this.update({totalSteps:e})}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e,this.update({enabled:e})}},{key:"busy",get:function(){return this._busy},set:function(e){this._busy=e,this.update({busy:e})}},{key:"ignoreFocusOut",get:function(){return this._ignoreFocusOut},set:function(e){this._ignoreFocusOut=e,this.update({ignoreFocusOut:e})}},{key:"value",get:function(){return this._value},set:function(e){this._value=e,this.update({value:e})}},{key:"placeholder",get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.update({placeholder:e})}},{key:"buttons",get:function(){return this._buttons},set:function(e){var t=this;this._buttons=e.slice(),this._handlesToButtons.clear(),e.forEach((function(e,n){var r=e===Gs.Back?-1:n;t._handlesToButtons.set(r,e)})),this.update({buttons:e.map((function(e,t){return Hi(Hi({},s(e)),{},{tooltip:e.tooltip,handle:e===Gs.Back?-1:t})}))})}},{key:"show",value:function(){this._visible=!0,this._expectingHide=!0,this.update({visible:!0})}},{key:"hide",value:function(){this._visible=!1,this.update({visible:!1})}},{key:"_fireDidAccept",value:function(){this._onDidAcceptEmitter.fire()}},{key:"_fireDidChangeValue",value:function(e){this._value=e,this._onDidChangeValueEmitter.fire(e)}},{key:"_fireDidTriggerButton",value:function(e){var t=this._handlesToButtons.get(e);t&&this._onDidTriggerButtonEmitter.fire(t)}},{key:"_fireDidHide",value:function(){this._expectingHide&&(this._expectingHide=this._visible,this._onDidHideEmitter.fire())}},{key:"dispose",value:function(){this._disposed||(this._disposed=!0,this._fireDidHide(),this._disposables=(0,d.B9)(this._disposables),this._updateTimeout&&(clearTimeout(this._updateTimeout),this._updateTimeout=void 0),this._onDidDispose(),r.$dispose(this._id))}},{key:"update",value:function(e){var t=this;if(!this._disposed){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n],o=e[i];this._pendingUpdate[i]=void 0===o?null:o}"visible"in this._pendingUpdate?(this._updateTimeout&&(clearTimeout(this._updateTimeout),this._updateTimeout=void 0),this.dispatchUpdate()):this._visible&&!this._updateTimeout&&(this._updateTimeout=setTimeout((function(){t._updateTimeout=void 0,t.dispatchUpdate()}),0))}}},{key:"dispatchUpdate",value:function(){r.$createOrUpdate(this._pendingUpdate),this._pendingUpdate={id:this._id}}}]),e}();function a(e){if(e instanceof ps)return{id:e.id};var t=function(e){return"object"===Vi(e)&&"dark"in e?e.dark:e}(e),n=function(e){return"object"===Vi(e)&&"light"in e?e.light:e}(e);return{dark:"string"==typeof t?R.o.file(t):t,light:"string"==typeof n?R.o.file(n):n}}function s(e){var t,n,r=a(e.iconPath);return"id"in r?n=p.kS.asClassName(r):t=r,{iconPath:t,iconClass:n}}o._nextId=1;var u=function(e){Ri(n,e);var t=Li(n);function n(e,r){var i;return zi(this,n),(i=t.call(this,e.identifier,r))._items=[],i._handlesToItems=new Map,i._itemsToHandles=new Map,i._canSelectMany=!1,i._matchOnDescription=!0,i._matchOnDetail=!0,i._sortByLabel=!0,i._keepScrollPosition=!1,i._activeItems=[],i._onDidChangeActiveEmitter=new k.E,i._selectedItems=[],i._onDidChangeSelectionEmitter=new k.E,i._onDidTriggerItemButtonEmitter=new k.E,i.onDidChangeActive=i._onDidChangeActiveEmitter.event,i.onDidChangeSelection=i._onDidChangeSelectionEmitter.event,i.onDidTriggerItemButton=i._onDidTriggerItemButtonEmitter.event,i._disposables.push(i._onDidChangeActiveEmitter,i._onDidChangeSelectionEmitter,i._onDidTriggerItemButtonEmitter),i.update({type:"quickPick"}),i}return Ji(n,[{key:"items",get:function(){return this._items},set:function(e){var t=this;this._items=e.slice(),this._handlesToItems.clear(),this._itemsToHandles.clear(),e.forEach((function(e,n){t._handlesToItems.set(n,e),t._itemsToHandles.set(e,n)}));for(var n=[],r=0;r<e.length;r++){var i,o=e[r];if(o.kind===Bs.Separator)n.push({type:"separator",label:o.label});else n.push({handle:r,label:o.label,description:o.description,detail:o.detail,picked:o.picked,alwaysShow:o.alwaysShow,buttons:null===(i=o.buttons)||void 0===i?void 0:i.map((function(e,t){return Hi(Hi({},s(e)),{},{tooltip:e.tooltip,handle:t})}))})}this.update({items:n})}},{key:"canSelectMany",get:function(){return this._canSelectMany},set:function(e){this._canSelectMany=e,this.update({canSelectMany:e})}},{key:"matchOnDescription",get:function(){return this._matchOnDescription},set:function(e){this._matchOnDescription=e,this.update({matchOnDescription:e})}},{key:"matchOnDetail",get:function(){return this._matchOnDetail},set:function(e){this._matchOnDetail=e,this.update({matchOnDetail:e})}},{key:"sortByLabel",get:function(){return this._sortByLabel},set:function(e){this._sortByLabel=e,this.update({sortByLabel:e})}},{key:"keepScrollPosition",get:function(){return this._keepScrollPosition},set:function(e){this._keepScrollPosition=e,this.update({keepScrollPosition:e})}},{key:"activeItems",get:function(){return this._activeItems},set:function(e){var t=this;this._activeItems=e.filter((function(e){return t._itemsToHandles.has(e)})),this.update({activeItems:this._activeItems.map((function(e){return t._itemsToHandles.get(e)}))})}},{key:"selectedItems",get:function(){return this._selectedItems},set:function(e){var t=this;this._selectedItems=e.filter((function(e){return t._itemsToHandles.has(e)})),this.update({selectedItems:this._selectedItems.map((function(e){return t._itemsToHandles.get(e)}))})}},{key:"_fireDidChangeActive",value:function(e){var t=this,n=(0,x.kX)(e.map((function(e){return t._handlesToItems.get(e)})));this._activeItems=n,this._onDidChangeActiveEmitter.fire(n)}},{key:"_fireDidChangeSelection",value:function(e){var t=this,n=(0,x.kX)(e.map((function(e){return t._handlesToItems.get(e)})));this._selectedItems=n,this._onDidChangeSelectionEmitter.fire(n)}},{key:"_fireDidTriggerItemButton",value:function(e,t){var n=this._handlesToItems.get(e);if(n&&n.buttons&&n.buttons.length){var r=n.buttons[t];r&&this._onDidTriggerItemButtonEmitter.fire({button:r,item:n})}}}]),n}(o),c=function(e){Ri(n,e);var t=Li(n);function n(e,r){var i;return zi(this,n),(i=t.call(this,e.identifier,r))._password=!1,i.update({type:"inputBox"}),i}return Ji(n,[{key:"password",get:function(){return this._password},set:function(e){this._password=e,this.update({password:e})}},{key:"prompt",get:function(){return this._prompt},set:function(e){this._prompt=e,this.update({prompt:e})}},{key:"validationMessage",get:function(){return this._validationMessage},set:function(e){if(this._validationMessage=e,e)if("string"==typeof e)this.update({validationMessage:e,severity:Fn.Z.Error});else{var t;this.update({validationMessage:e.message,severity:null!==(t=e.severity)&&void 0!==t?t:Fn.Z.Error})}else this.update({validationMessage:void 0,severity:Fn.Z.Ignore})}}]),n}(o);return new i(t,n)}var Rl=(0,En.yh)("IExtHostInitDataService");function Il(e){return!!e.preview}function Ll(e,t,n){return new An.U9((function(e){return Fl(e,n)})).isEqual(e,t)}function jl(e,t,n){return Ll(e.uri,t.uri,n)?0:(0,L.qu)(e.uri.toString(),t.uri.toString())}function Al(e,t,n){return e.index!==t.index?e.index<t.index?-1:1:Ll(e.uri,t.uri,n)?(0,L.qu)(e.name,t.name):(0,L.qu)(e.uri.toString(),t.uri.toString())}function Nl(e,t,n,r){var i=e.slice(0).sort((function(e,t){return n(e,t,r)})),o=t.slice(0).sort((function(e,t){return n(e,t,r)}));return(0,k.e)(i,o,(function(e,t){return n(e,t,r)}))}function Fl(e,t){var n=t.getCapabilities(e.scheme);return!(n&&1024&n)}var Ml=function(e){Ri(n,e);var t=Li(n);function n(e,r,i,o,a,s,u){var c;return zi(this,n),(c=t.call(this,e,i.map((function(e){return new H.md(e)})),o,a,u))._name=r,c._isUntitled=s,c._workspaceFolders=[],c._structure=I.Id.forUris(u),i.forEach((function(e){c._workspaceFolders.push(e),c._structure.set(e.uri,e)})),c}return Ji(n,[{key:"name",get:function(){return this._name}},{key:"isUntitled",get:function(){return this._isUntitled}},{key:"workspaceFolders",get:function(){return this._workspaceFolders.slice(0)}},{key:"getWorkspaceFolder",value:function(e,t){return t&&this._structure.get(e)&&(e=(0,An.XX)(e)),this._structure.findSubstr(e)}},{key:"resolveWorkspaceFolder",value:function(e){return this._structure.get(e)}}],[{key:"toExtHostWorkspace",value:function(e,t,r,i){if(!e)return{workspace:null,added:[],removed:[]};var o=e.id,a=e.name,s=e.folders,u=e.configuration,c=e.transient,l=e.isUntitled,f=[],d=t;t?s.forEach((function(e,o){var a=R.o.revive(e.uri),s=n._findFolder(r||t,a,i);s?(s.name=e.name,s.index=e.index,f.push(s)):f.push({uri:a,name:e.name,index:o})})):f.push.apply(f,Ki(s.map((function(e){var t=e.uri,n=e.name,r=e.index;return{uri:R.o.revive(t),name:n,index:r}})))),f.sort((function(e,t){return e.index<t.index?-1:1}));var h=new n(o,a,f,!!c,u?R.o.revive(u):null,!!l,(function(e){return Fl(e,i)})),p=Nl(d?d.workspaceFolders:[],h.workspaceFolders,jl,i);return{workspace:h,added:p.added,removed:p.removed}}},{key:"_findFolder",value:function(e,t,n){for(var r=0;r<e.folders.length;r++){var i=e.workspaceFolders[r];if(Ll(i.uri,t,n))return i}}}]),n}(H.j$),ql=function(){function e(t,n,r,i){zi(this,e),this._onDidChangeWorkspace=new k.E,this.onDidChangeWorkspace=this._onDidChangeWorkspace.event,this._onDidGrantWorkspaceTrust=new k.E,this.onDidGrantWorkspaceTrust=this._onDidGrantWorkspaceTrust.event,this._activeSearchCallbacks=[],this._trusted=!1,this._logService=i,this._extHostFileSystemInfo=r,this._requestIdProvider=new Ko,this._barrier=new lr,this._proxy=t.getProxy(Wc.MainThreadWorkspace),this._messageService=t.getProxy(Wc.MainThreadMessageService);var o=n.workspace;this._confirmedWorkspace=o?new Ml(o.id,o.name,[],!!o.transient,o.configuration?R.o.revive(o.configuration):null,!!o.isUntitled,(function(e){return Fl(e,r)})):void 0}var t,n,r,i;return Ji(e,[{key:"$initializeWorkspace",value:function(e,t){this._trusted=t,this.$acceptWorkspaceData(e),this._barrier.open()}},{key:"waitForInitializeCall",value:function(){return this._barrier.wait()}},{key:"workspace",get:function(){return this._actualWorkspace}},{key:"name",get:function(){return this._actualWorkspace?this._actualWorkspace.name:void 0}},{key:"workspaceFile",get:function(){if(this._actualWorkspace&&this._actualWorkspace.configuration)return this._actualWorkspace.isUntitled?R.o.from({scheme:Kn.lg.untitled,path:(0,An.EZ)((0,An.XX)(this._actualWorkspace.configuration))}):this._actualWorkspace.configuration}},{key:"_actualWorkspace",get:function(){return this._unconfirmedWorkspace||this._confirmedWorkspace}},{key:"getWorkspaceFolders",value:function(){if(this._actualWorkspace)return this._actualWorkspace.workspaceFolders.slice(0)}},{key:"getWorkspaceFolders2",value:(i=Oi(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._barrier.wait();case 2:if(this._actualWorkspace){e.next=4;break}return e.abrupt("return",void 0);case 4:return e.abrupt("return",this._actualWorkspace.workspaceFolders.slice(0));case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"updateWorkspaceFolders",value:function(e,t,n){for(var r=this,i=[],o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];if(Array.isArray(a)&&a.forEach((function(e){R.o.isUri(e.uri)&&!i.some((function(t){return Ll(t.uri,e.uri,r._extHostFileSystemInfo)}))&&i.push({uri:e.uri,name:e.name||(0,An.Hx)(e.uri)})})),this._unconfirmedWorkspace)return!1;if([t,n].some((function(e){return"number"!=typeof e||e<0})))return!1;if(0===n&&0===i.length)return!1;var u=this._actualWorkspace?this._actualWorkspace.workspaceFolders:[];if(t+n>u.length)return!1;var c=u.slice(0);c.splice.apply(c,[t,n].concat(Ki(i.map((function(e){return{uri:e.uri,name:e.name||(0,An.Hx)(e.uri),index:void 0}})))));for(var l=function(e){var t=c[e];if(c.some((function(n,i){return i!==e&&Ll(t.uri,n.uri,r._extHostFileSystemInfo)})))return{v:!1}},f=0;f<c.length;f++){var d=l(f);if("object"===Vi(d))return d.v}c.forEach((function(e,t){return e.index=t}));var h=Nl(u,c,Al,this._extHostFileSystemInfo),p=h.added,v=h.removed;if(0===p.length&&0===v.length)return!1;if(this._proxy){var y=e.displayName||e.name;this._proxy.$updateWorkspaceFolders(y,t,n,i).then(void 0,(function(t){r._unconfirmedWorkspace=void 0;var n={source:{identifier:e.identifier,label:e.displayName||e.name}};r._messageService.$showMessage(D.zb.Error,(0,Ln.NC)("updateerror","Extension '{0}' failed to update workspace folders: {1}",y,t.toString()),n,[])}))}return this.trySetWorkspaceFolders(c),!0}},{key:"getWorkspaceFolder",value:function(e,t){if(this._actualWorkspace)return this._actualWorkspace.getWorkspaceFolder(e,t)}},{key:"getWorkspaceFolder2",value:(r=Oi(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._barrier.wait();case 2:if(this._actualWorkspace){e.next=4;break}return e.abrupt("return",void 0);case 4:return e.abrupt("return",this._actualWorkspace.getWorkspaceFolder(t,n));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"resolveWorkspaceFolder",value:(n=Oi(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._barrier.wait();case 2:if(this._actualWorkspace){e.next=4;break}return e.abrupt("return",void 0);case 4:return e.abrupt("return",this._actualWorkspace.resolveWorkspaceFolder(t));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getPath",value:function(){if(this._actualWorkspace){var e=this._actualWorkspace.folders;if(0!==e.length)return e[0].uri.fsPath}}},{key:"getRelativePath",value:function(e,t){var n,r="";if("string"==typeof e?(n=R.o.file(e),r=e):void 0!==e&&(n=e,r=e.fsPath),!n)return r;var i=this.getWorkspaceFolder(n,!0);if(!i)return r;void 0===t&&this._actualWorkspace&&(t=this._actualWorkspace.folders.length>1);var o=(0,An.lX)(i.uri,n);return t&&i.name&&(o="".concat(i.name,"/").concat(o)),o}},{key:"trySetWorkspaceFolders",value:function(e){this._actualWorkspace&&(this._unconfirmedWorkspace=Ml.toExtHostWorkspace({id:this._actualWorkspace.id,name:this._actualWorkspace.name,configuration:this._actualWorkspace.configuration,folders:e,isUntitled:this._actualWorkspace.isUntitled},this._actualWorkspace,void 0,this._extHostFileSystemInfo).workspace||void 0)}},{key:"$acceptWorkspaceData",value:function(e){var t=Ml.toExtHostWorkspace(e,this._confirmedWorkspace,this._unconfirmedWorkspace,this._extHostFileSystemInfo),n=t.workspace,r=t.added,i=t.removed;this._confirmedWorkspace=n||void 0,this._unconfirmedWorkspace=void 0,this._onDidChangeWorkspace.fire(Object.freeze({added:r,removed:i}))}},{key:"findFiles",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Gr.T.None;this._logService.trace("extHostWorkspace#findFiles: fileSearch, extension: ".concat(r.value,", entryPoint: findFiles"));var o=void 0;if(null===t?o=!1:t&&(o="string"==typeof t?t:t.pattern),i&&i.isCancellationRequested)return Promise.resolve([]);var a=Wl(fc.from(e)),s=a.includePattern,u=a.folder;return this._proxy.$startFileSearch(yn(s),yn(u),yn(o),yn(n),i).then((function(e){return Array.isArray(e)?e.map((function(e){return R.o.revive(e)})):[]}))}},{key:"findTextInFiles",value:(t=Oi(Ti().mark((function e(t,n,r,i){var o,a,s,u,c,l,f,d,h,p=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=p.length>4&&void 0!==p[4]?p[4]:Gr.T.None,this._logService.trace("extHostWorkspace#findTextInFiles: textSearch, extension: ".concat(i.value,", entryPoint: findTextInFiles")),a=this._requestIdProvider.getNext(),s=void 0===n.previewOptions?{matchLines:100,charsPerLine:1e4}:n.previewOptions,u=Wl(fc.from(n.include)),c=u.includePattern,l=u.folder,f="string"==typeof n.exclude?n.exclude:n.exclude?n.exclude.pattern:void 0,d={ignoreSymlinks:"boolean"==typeof n.followSymlinks?!n.followSymlinks:void 0,disregardIgnoreFiles:"boolean"==typeof n.useIgnoreFiles?!n.useIgnoreFiles:void 0,disregardGlobalIgnoreFiles:"boolean"==typeof n.useGlobalIgnoreFiles?!n.useGlobalIgnoreFiles:void 0,disregardParentIgnoreFiles:"boolean"==typeof n.useParentIgnoreFiles?!n.useParentIgnoreFiles:void 0,disregardExcludeSettings:"boolean"!=typeof n.useDefaultExcludes||!n.useDefaultExcludes,fileEncoding:n.encoding,maxResults:n.maxResults,previewOptions:s,afterContext:n.afterContext,beforeContext:n.beforeContext,includePattern:c,excludePattern:f},this._activeSearchCallbacks[a]=function(e){var t=R.o.revive(e.resource);e.results.forEach((function(e){Il(e)?r({uri:t,preview:{text:e.preview.text,matches:(0,k.m)(e.preview.matches,(function(e){return new zo(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)}))},ranges:(0,k.m)(e.ranges,(function(e){return new zo(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)}))}):r({uri:t,text:e.text,lineNumber:e.lineNumber})}))},!o.isCancellationRequested){e.next=10;break}return e.abrupt("return",{});case 10:return e.prev=10,e.next=13,this._proxy.$startTextSearch(t,yn(l),d,a,o);case 13:return h=e.sent,delete this._activeSearchCallbacks[a],e.abrupt("return",h||{});case 18:throw e.prev=18,e.t0=e.catch(10),delete this._activeSearchCallbacks[a],e.t0;case 22:case"end":return e.stop()}}),e,this,[[10,18]])}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"$handleTextSearchResult",value:function(e,t){var n,r;null===(n=(r=this._activeSearchCallbacks)[t])||void 0===n||n.call(r,e)}},{key:"saveAll",value:function(e){return this._proxy.$saveAll(e)}},{key:"resolveProxy",value:function(e){return this._proxy.$resolveProxy(e)}},{key:"trusted",get:function(){return this._trusted}},{key:"requestWorkspaceTrust",value:function(e){return this._proxy.$requestWorkspaceTrust(e)}},{key:"$onDidGrantWorkspaceTrust",value:function(){this._trusted||(this._trusted=!0,this._onDidGrantWorkspaceTrust.fire())}}]),e}();ql=(0,k._)([(0,k.a)(0,Kc),(0,k.a)(1,Rl),(0,k.a)(2,nl),(0,k.a)(3,Z.VZ)],ql);var Hl=(0,En.yh)("IExtHostWorkspace");function Wl(e){var t,n;return e&&("string"==typeof e?t=e:(t=e.pattern,n=R.o.revive(e.baseUri))),{includePattern:t,folder:n}}function Ul(e){e.dark=R.o.revive(e.dark),e.light&&(e.light=R.o.revive(e.light))}var Kl=function(){function e(t,n){zi(this,e),this._items={},this.sessions=new Map,this._proxy=t.getProxy(Uc.ExtHostQuickOpen),this._quickInputService=n}return Ji(e,[{key:"dispose",value:function(){}},{key:"$show",value:function(e,t,n){var r=this,i=new Promise((function(t,n){r._items[e]={resolve:t,reject:n}}));return(t=Hi(Hi({},t),{},{onDidFocus:function(e){e&&r._proxy.$onItemSelected(e.handle)}})).canPickMany?this._quickInputService.pick(i,t,n).then((function(e){if(e)return e.map((function(e){return e.handle}))})):this._quickInputService.pick(i,t,n).then((function(e){if(e)return e.handle}))}},{key:"$setItems",value:function(e,t){return this._items[e]&&(this._items[e].resolve(t),delete this._items[e]),Promise.resolve()}},{key:"$setError",value:function(e,t){return this._items[e]&&(this._items[e].reject(t),delete this._items[e]),Promise.resolve()}},{key:"$input",value:function(e,t,n){var r=this,i=Object.create(null);return e&&(i.title=e.title,i.password=e.password,i.placeHolder=e.placeHolder,i.valueSelection=e.valueSelection,i.prompt=e.prompt,i.value=e.value,i.ignoreFocusLost=e.ignoreFocusOut),t&&(i.validateInput=function(e){return r._proxy.$validateInput(e)}),this._quickInputService.input(i,n)}},{key:"$createOrUpdate",value:function(e){var t=this,n=e.id,r=this.sessions.get(n);if(!r){var i="quickPick"===e.type?this._quickInputService.createQuickPick():this._quickInputService.createInputBox();if(i.onDidAccept((function(){t._proxy.$onDidAccept(n)})),i.onDidTriggerButton((function(e){t._proxy.$onDidTriggerButton(n,e.handle)})),i.onDidChangeValue((function(e){t._proxy.$onDidChangeValue(n,e)})),i.onDidHide((function(){t._proxy.$onDidHide(n)})),"quickPick"===e.type){var o=i;o.onDidChangeActive((function(e){t._proxy.$onDidChangeActive(n,e.map((function(e){return e.handle})))})),o.onDidChangeSelection((function(e){t._proxy.$onDidChangeSelection(n,e.map((function(e){return e.handle})))})),o.onDidTriggerItemButton((function(e){t._proxy.$onDidTriggerItemButton(n,e.item.handle,e.button.handle)}))}r={input:i,handlesToItems:new Map},this.sessions.set(n,r)}var a=r,s=a.input,u=a.handlesToItems;for(var c in e)"id"!==c&&"type"!==c&&("visible"===c?e.visible?s.show():s.hide():"items"===c?(u.clear(),e[c].forEach((function(e){"separator"!==e.type&&(e.buttons&&(e.buttons=e.buttons.map((function(e){return e.iconPath&&Ul(e.iconPath),e}))),u.set(e.handle,e))})),s[c]=e[c]):s[c]="activeItems"===c||"selectedItems"===c?e[c].filter((function(e){return u.has(e)})).map((function(e){return u.get(e)})):"buttons"===c?e.buttons.map((function(e){return-1===e.handle?t._quickInputService.backButton:(e.iconPath&&Ul(e.iconPath),e)})):e[c]);return Promise.resolve(void 0)}},{key:"$dispose",value:function(e){var t=this.sessions.get(e);return t&&(t.input.dispose(),this.sessions.delete(e)),Promise.resolve(void 0)}}]),e}();Kl=(0,k._)([zc(Wc.MainThreadQuickOpen),(0,k.a)(1,Zr.eJ)],Kl);var $l=function(){function e(t,n){zi(this,e),this._logService=n,this._proxy=t.getProxy(Wc.MainThreadMessageService)}return Ji(e,[{key:"showMessage",value:function(e,t,n,r,i){var o,a,s={source:{identifier:e.identifier,label:e.displayName||e.name}};"string"==typeof r||(a=r)&&a.title?o=[r].concat(Ki(i)):(s.modal=null==r?void 0:r.modal,s.useCustom=null==r?void 0:r.useCustom,s.detail=null==r?void 0:r.detail,o=i),s.useCustom&&function(e,t){var n,r;if(!pr(e,t))throw new Error("Extension '".concat(e.identifier.value,"' CANNOT use API proposal: ").concat(t,".\nIts package.json#enabledApiProposals-property declares: ").concat(null!==(n=null===(r=e.enabledApiProposals)||void 0===r?void 0:r.join(", "))&&void 0!==n?n:"[]"," but NOT ").concat(t,".\n The missing proposal MUST be added and you must start in extension development mode or use the following command line switch: --enable-proposed-api ").concat(e.identifier.value))}(e,"resolvers");for(var u=[],c=0;c<o.length;c++){var l=o[c];if("string"==typeof l)u.push({title:l,handle:c,isCloseAffordance:!1});else if("object"===Vi(l)){var f=l.title,d=l.isCloseAffordance;u.push({title:f,isCloseAffordance:!!d,handle:c})}else this._logService.warn("Invalid message item:",l)}return this._proxy.$showMessage(t,n,s,u).then((function(e){if("number"==typeof e)return o[e]}))}}]),e}();$l=(0,k._)([(0,k.a)(1,Z.VZ)],$l);var Bl=function(){function e(t,n,r,i){zi(this,e),this._notificationService=n,this._commandService=r,this._dialogService=i}var t;return Ji(e,[{key:"dispose",value:function(){}},{key:"$showMessage",value:function(e,t,n,r){return n.modal?this._showModalMessage(e,t,n.detail,r,n.useCustom):this._showMessage(e,t,r,n)}},{key:"_showMessage",value:function(e,t,n,r){var i=this;return new Promise((function(o){var a,s=[],u=function(e){Ri(n,e);var t=Li(n);function n(e,r,i){return zi(this,n),t.call(this,e,r,void 0,!0,(function(){return o(i),Promise.resolve()}))}return Ji(n)}(ei.aU),c=function(e){Ri(n,e);var t=Li(n);function n(e,r,i){return zi(this,n),t.call(this,e.value,r,void 0,!0,(function(){return i.executeCommand("_extensions.manage",e.value)}))}return Ji(n)}(ei.aU);n.forEach((function(e){s.push(new u("_extension_message_handle_"+e.handle,e.title,e.handle))})),r.source&&(a={label:(0,Ln.NC)("extensionSource","{0} (Extension)",r.source.label),id:r.source.identifier.value}),a||(a=(0,Ln.NC)("defaultSource","Extension"));var l=[];r.source&&l.push(new c(r.source.identifier,(0,Ln.NC)("manageExtension","Manage Extension"),i._commandService));var f=i._notificationService.notify({severity:e,message:t,actions:{primary:s,secondary:l},source:a});N.ju.once(f.onDidClose)((function(){(0,d.B9)(s),(0,d.B9)(l),o(void 0)}))}))}},{key:"_showModalMessage",value:(t=Oi(Ti().mark((function e(t,n,r,i,o){var a,s,u,c;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0,s=i.map((function(e,t){return!0===e.isCloseAffordance&&(a=t),e.title})),void 0===a&&(s.length>0?s.push((0,Ln.NC)("cancel","Cancel")):s.push((0,Ln.NC)("ok","OK")),a=s.length-1),e.next=5,this._dialogService.show(t,n,s,{cancelId:a,custom:o,detail:r});case 5:return u=e.sent,c=u.choice,e.abrupt("return",c===i.length?void 0:i[c].handle);case 8:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i,o){return t.apply(this,arguments)})}]),e}();Bl=(0,k._)([zc(Wc.MainThreadMessageService),(0,k.a)(1,D.lT),(0,k.a)(2,zr.Hy),(0,k.a)(3,Xr.S)],Bl);var Vl=function(){function e(t){zi(this,e),this._handles=0,this._mapHandleToCancellationSource=new Map,this._proxy=t}var t;return Ji(e,[{key:"withProgress",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o,a,s,u;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._handles++,o=n.title,a=n.location,s=n.cancellable,u={label:(0,Ln.NC)("extensionSource","{0} (Extension)",t.displayName||t.name),id:t.identifier.value},this._proxy.$startProgress(i,{location:uc.from(a),title:o,source:u,cancellable:s},t.isUnderDevelopment?void 0:t.identifier.value).catch(h.Cp),e.abrupt("return",this._withProgress(i,r,!!s));case 5:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"_withProgress",value:function(e,t,n){var r,i=this;n&&(r=new vn.C,this._mapHandleToCancellationSource.set(e,r));var o,a=function(e){i._proxy.$progressEnd(e),i._mapHandleToCancellationSource.delete(e),r&&r.dispose()};try{o=t(new zl(this._proxy,e),n&&r?r.token:Gr.T.None)}catch(t){throw a(e),t}return o.then((function(t){return a(e)}),(function(t){return a(e)})),o}},{key:"$acceptProgressCanceled",value:function(e){var t=this._mapHandleToCancellationSource.get(e);t&&(t.cancel(),this._mapHandleToCancellationSource.delete(e))}}]),e}(),zl=function(e){Ri(n,e);var t=Li(n);function n(e,r){var i;return zi(this,n),(i=t.call(this,(function(e){return i.throttledReport(e)})))._proxy=e,i._handle=r,i}return Ji(n,[{key:"throttledReport",value:function(e){this._proxy.$progressReport(this._handle,e)}}]),n}($n.Ex),Gl=function(e){Ri(n,e);var t=Li(n);function n(e,r,i){return zi(this,n),t.call(this,e,r,void 0,!0,(function(){return i.executeCommand("_extensions.manage",e)}))}return Ji(n)}(ei.aU),Jl=function(){function e(t,n,r){zi(this,e),this._commandService=r,this._progress=new Map,this._proxy=t.getProxy(Uc.ExtHostProgress),this._progressService=n}var t;return Ji(e,[{key:"dispose",value:function(){this._progress.forEach((function(e){return e.resolve()})),this._progress.clear()}},{key:"$startProgress",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o,a=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=this._createTask(t),15===n.location&&r&&(o=Hi(Hi({},n),{},{location:15,secondaryActions:[new Gl(r,(0,Ln.NC)("manageExtension","Manage Extension"),this._commandService)]}),n=o),this._progressService.withProgress(n,i,(function(){return a._proxy.$acceptProgressCanceled(t)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"$progressReport",value:function(e,t){var n=this._progress.get(e);null==n||n.progress.report(t)}},{key:"$progressEnd",value:function(e){var t=this._progress.get(e);t&&(t.resolve(),this._progress.delete(e))}},{key:"_createTask",value:function(e){var t=this;return function(n){return new Promise((function(r){t._progress.set(e,{resolve:r,progress:n})}))}}}]),e}();Jl=(0,k._)([zc(Wc.MainThreadProgress),(0,k.a)(1,$n.R9),(0,k.a)(2,zr.Hy)],Jl);var Yl=function(){function e(t,n,r,i,o){zi(this,e),this._textModelResolverService=n,this._languageService=r,this._modelService=i,this._editorWorkerService=o,this._resourceContentProvider=new Map,this._pendingUpdate=new Map,this._proxy=t.getProxy(Uc.ExtHostDocumentContentProviders)}return Ji(e,[{key:"dispose",value:function(){(0,d.B9)(this._resourceContentProvider.values()),(0,d.B9)(this._pendingUpdate.values())}},{key:"$registerTextContentProvider",value:function(e,t){var n=this,r=this._textModelResolverService.registerTextModelContentProvider(t,{provideTextContent:function(t){return n._proxy.$provideTextDocumentContent(e,t).then((function(e){if("string"==typeof e){var r=e.substr(0,1+e.search(/\r?\n/)),i=n._languageService.createByFilepathOrFirstLine(t,r);return n._modelService.createModel(e,i,t)}return null}))}});this._resourceContentProvider.set(e,r)}},{key:"$unregisterTextContentProvider",value:function(e){var t=this._resourceContentProvider.get(e);t&&(t.dispose(),this._resourceContentProvider.delete(e))}},{key:"$onVirtualDocumentChange",value:function(e,t){var n=this,r=this._modelService.getModel(R.o.revive(e));if(r){var i=this._pendingUpdate.get(r.id);i&&i.cancel();var o=new vn.C;this._pendingUpdate.set(r.id,o),this._editorWorkerService.computeMoreMinimalEdits(r.uri,[{text:t,range:r.getFullModelRange()}]).then((function(e){n._pendingUpdate.delete(r.id),o.token.isCancellationRequested||e&&e.length>0&&r.applyEdits(e.map((function(e){return ti.h.replace(io.lift(e.range),e.text)})))})).catch(h.dL)}}}]),e}();Yl=(0,k._)([zc(Wc.MainThreadDocumentContentProviders),(0,k.a)(1,ni.S),(0,k.a)(2,ri.O),(0,k.a)(3,ii.q),(0,k.a)(4,oi.p)],Yl);var Ql=function(){function e(t,n,r){zi(this,e),this._documentsAndEditors=n,this._logService=r,this._documentContentProviders=new Map,this._proxy=t.getProxy(Wc.MainThreadDocumentContentProviders)}return Ji(e,[{key:"registerTextDocumentContentProvider",value:function(t,n){var r=this;if(Object.keys(Kn.lg).indexOf(t)>=0)throw new Error("scheme '".concat(t,"' already registered"));var i,o=e._handlePool++;return this._documentContentProviders.set(o,n),this._proxy.$registerTextContentProvider(o,t),"function"==typeof n.onDidChange&&(i=n.onDidChange((function(e){e.scheme===t?r._documentsAndEditors.getDocument(e)&&r.$provideTextDocumentContent(o,e).then((function(t){if(t||"string"==typeof t){var n=r._documentsAndEditors.getDocument(e);if(n){var i=(0,L.uq)(t);return n.equalLines(i)?void 0:r._proxy.$onVirtualDocumentChange(e,t)}}}),h.dL):r._logService.warn("Provider for scheme '".concat(t,"' is firing event for schema '").concat(e.scheme,"' which will be IGNORED"))}))),new Bo((function(){r._documentContentProviders.delete(o)&&r._proxy.$unregisterTextContentProvider(o),i&&(i.dispose(),i=void 0)}))}},{key:"$provideTextDocumentContent",value:function(e,t){var n=this._documentContentProviders.get(e);return n?Promise.resolve(n.provideTextDocumentContent(R.o.revive(t),Gr.T.None)):Promise.reject(new Error("unsupported uri-scheme: ".concat(t.scheme)))}}]),e}();Ql._handlePool=0;var Zl=Ji((function e(t,n,r){zi(this,e);var i=e._Keys.nextId();t.$registerTextEditorDecorationType(n.identifier,i,Iu.from(r)),this.value=Object.freeze({key:i,dispose:function(){t.$removeTextEditorDecorationType(i)}})}));Zl._Keys=new ai.R("TextEditorDecorationType");var Xl=function(){function e(t,n){zi(this,e),this._collectedEdits=[],this._setEndOfLine=void 0,this._finalized=!1,this._document=t,this._documentVersionId=t.version,this._undoStopBefore=n.undoStopBefore,this._undoStopAfter=n.undoStopAfter}return Ji(e,[{key:"finalize",value:function(){return this._finalized=!0,{documentVersionId:this._documentVersionId,edits:this._collectedEdits,setEndOfLine:this._setEndOfLine,undoStopBefore:this._undoStopBefore,undoStopAfter:this._undoStopAfter}}},{key:"_throwIfFinalized",value:function(){if(this._finalized)throw new Error("Edit is only valid while callback runs")}},{key:"replace",value:function(e,t){this._throwIfFinalized();var n=null;if(e instanceof Vo)n=new zo(e,e);else{if(!(e instanceof zo))throw new Error("Unrecognized location");n=e}this._pushEdit(n,t,!1)}},{key:"insert",value:function(e,t){this._throwIfFinalized(),this._pushEdit(new zo(e,e),t,!0)}},{key:"delete",value:function(e){this._throwIfFinalized();var t=null;if(!(e instanceof zo))throw new Error("Unrecognized location");t=e,this._pushEdit(t,null,!0)}},{key:"_pushEdit",value:function(e,t,n){var r=this._document.validateRange(e);this._collectedEdits.push({range:r,text:t,forceMoveMarkers:n})}},{key:"setEndOfLine",value:function(e){if(this._throwIfFinalized(),e!==Go.LF&&e!==Go.CRLF)throw(0,h.b1)("endOfLine");this._setEndOfLine=e}}]),e}(),ef=function(){function e(t,n,r,i){zi(this,e),this._proxy=t,this._id=n,this._accept(r),this._logService=i;var o=this;this.value={get tabSize(){return o._tabSize},set tabSize(e){o._setTabSize(e)},get insertSpaces(){return o._insertSpaces},set insertSpaces(e){o._setInsertSpaces(e)},get cursorStyle(){return o._cursorStyle},set cursorStyle(e){o._setCursorStyle(e)},get lineNumbers(){return o._lineNumbers},set lineNumbers(e){o._setLineNumbers(e)}}}return Ji(e,[{key:"_accept",value:function(e){this._tabSize=e.tabSize,this._insertSpaces=e.insertSpaces,this._cursorStyle=e.cursorStyle,this._lineNumbers=ac.to(e.lineNumbers)}},{key:"_validateTabSize",value:function(e){if("auto"===e)return"auto";if("number"==typeof e){var t=Math.floor(e);return t>0?t:null}if("string"==typeof e){var n=parseInt(e,10);return isNaN(n)?null:n>0?n:null}return null}},{key:"_setTabSize",value:function(e){var t=this._validateTabSize(e);if(null!==t){if("number"==typeof t){if(this._tabSize===t)return;this._tabSize=t}this._warnOnError("setTabSize",this._proxy.$trySetOptions(this._id,{tabSize:t}))}}},{key:"_validateInsertSpaces",value:function(e){return"auto"===e?"auto":"false"!==e&&Boolean(e)}},{key:"_setInsertSpaces",value:function(e){var t=this._validateInsertSpaces(e);if("boolean"==typeof t){if(this._insertSpaces===t)return;this._insertSpaces=t}this._warnOnError("setInsertSpaces",this._proxy.$trySetOptions(this._id,{insertSpaces:t}))}},{key:"_setCursorStyle",value:function(e){this._cursorStyle!==e&&(this._cursorStyle=e,this._warnOnError("setCursorStyle",this._proxy.$trySetOptions(this._id,{cursorStyle:e})))}},{key:"_setLineNumbers",value:function(e){this._lineNumbers!==e&&(this._lineNumbers=e,this._warnOnError("setLineNumbers",this._proxy.$trySetOptions(this._id,{lineNumbers:ac.from(e)})))}},{key:"assign",value:function(e){var t={},n=!1;if(void 0!==e.tabSize){var r=this._validateTabSize(e.tabSize);"auto"===r?(n=!0,t.tabSize=r):"number"==typeof r&&this._tabSize!==r&&(this._tabSize=r,n=!0,t.tabSize=r)}if(void 0!==e.insertSpaces){var i=this._validateInsertSpaces(e.insertSpaces);"auto"===i?(n=!0,t.insertSpaces=i):this._insertSpaces!==i&&(this._insertSpaces=i,n=!0,t.insertSpaces=i)}void 0!==e.cursorStyle&&this._cursorStyle!==e.cursorStyle&&(this._cursorStyle=e.cursorStyle,n=!0,t.cursorStyle=e.cursorStyle),void 0!==e.lineNumbers&&this._lineNumbers!==e.lineNumbers&&(this._lineNumbers=e.lineNumbers,n=!0,t.lineNumbers=ac.from(e.lineNumbers)),n&&this._warnOnError("setOptions",this._proxy.$trySetOptions(this._id,t))}},{key:"_warnOnError",value:function(e,t){var n=this;t.catch((function(t){n._logService.warn("ExtHostTextEditorOptions '".concat(e,"' failed:'")),n._logService.warn(t)}))}}]),e}(),tf=function(){function e(t,n,r,i,o,a,s,u){zi(this,e),this.id=t,this._proxy=n,this._logService=r,this._disposed=!1,this._hasDecorationsForKey=new Set,this._selections=o,this._options=new ef(this._proxy,this.id,a,r),this._visibleRanges=s,this._viewColumn=u;var c=this;this.value=Object.freeze({get document(){return i.getValue()},set document(e){throw Oe("document")},get selection(){return c._selections&&c._selections[0]},set selection(e){if(!(e instanceof Yo))throw(0,h.b1)("selection");c._selections=[e],c._trySetSelection()},get selections(){return c._selections},set selections(e){if(!Array.isArray(e)||e.some((function(e){return!(e instanceof Yo)})))throw(0,h.b1)("selections");c._selections=e,c._trySetSelection()},get visibleRanges(){return c._visibleRanges},set visibleRanges(e){throw Oe("visibleRanges")},get options(){return c._options.value},set options(e){c._disposed||c._options.assign(e)},get viewColumn(){return c._viewColumn},set viewColumn(e){throw Oe("viewColumn")},edit:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{undoStopBefore:!0,undoStopAfter:!0};if(c._disposed)return Promise.reject(new Error("TextEditor#edit not possible on closed editors"));var n=new Xl(i.getValue(),t);return e(n),c._applyEdit(n)},insertSnippet:function(e,r){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{undoStopBefore:!0,undoStopAfter:!0};if(c._disposed)return Promise.reject(new Error("TextEditor#insertSnippet not possible on closed editors"));if(!r||Array.isArray(r)&&0===r.length)o=c._selections.map((function(e){return bu.from(e)}));else if(r instanceof Vo){var s=_u.from(r),u=s.lineNumber,l=s.column;o=[{startLineNumber:u,startColumn:l,endLineNumber:u,endColumn:l}]}else if(r instanceof zo)o=[bu.from(r)];else{o=[];var f,d=Ui(r);try{for(d.s();!(f=d.n()).done;){var h=f.value;if(h instanceof zo)o.push(bu.from(h));else{var p=_u.from(h),v=p.lineNumber,y=p.column;o.push({startLineNumber:v,startColumn:y,endLineNumber:v,endColumn:y})}}}catch(e){d.e(e)}finally{d.f()}}return n.$tryInsertSnippet(t,i.getValue().version,e.value,o,a)},setDecorations:function(e,r){var i=0===r.length;i&&!c._hasDecorationsForKey.has(e.key)||(i?c._hasDecorationsForKey.delete(e.key):c._hasDecorationsForKey.add(e.key),c._runOnProxy((function(){if(Oc(r))return n.$trySetDecorations(t,e.key,function(e){return Oc(e)?e.map((function(e){return{range:bu.from(e.range),hoverMessage:Array.isArray(e.hoverMessage)?Tu.fromMany(e.hoverMessage):e.hoverMessage?Tu.from(e.hoverMessage):void 0,renderOptions:e.renderOptions}})):e.map((function(e){return{range:bu.from(e)}}))}(r));for(var i=new Array(4*r.length),o=0,a=r.length;o<a;o++){var s=r[o];i[4*o]=s.start.line+1,i[4*o+1]=s.start.character+1,i[4*o+2]=s.end.line+1,i[4*o+3]=s.end.character+1}return n.$trySetDecorationsFast(t,e.key,i)})))},revealRange:function(e,r){c._runOnProxy((function(){return n.$tryRevealRange(t,bu.from(e),r||Ha.Default)}))},show:function(e){n.$tryShowEditor(t,Du.from(e))},hide:function(){n.$tryHideEditor(t)}})}var t;return Ji(e,[{key:"dispose",value:function(){(0,Yr.ok)(!this._disposed),this._disposed=!0}},{key:"_acceptOptions",value:function(e){(0,Yr.ok)(!this._disposed),this._options._accept(e)}},{key:"_acceptVisibleRanges",value:function(e){(0,Yr.ok)(!this._disposed),this._visibleRanges=e}},{key:"_acceptViewColumn",value:function(e){(0,Yr.ok)(!this._disposed),this._viewColumn=e}},{key:"_acceptSelections",value:function(e){(0,Yr.ok)(!this._disposed),this._selections=e}},{key:"_trySetSelection",value:(t=Oi(Ti().mark((function e(){var t,n=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._selections.map(mu.from),e.next=3,this._runOnProxy((function(){return n._proxy.$trySetSelections(n.id,t)}));case 3:return e.abrupt("return",this.value);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_applyEdit",value:function(e){var t=e.finalize();if(0===t.edits.length&&!t.setEndOfLine)return Promise.resolve(!0);var n=t.edits.map((function(e){return e.range}));n.sort((function(e,t){return e.end.line===t.end.line?e.end.character===t.end.character?e.start.line===t.start.line?e.start.character-t.start.character:e.start.line-t.start.line:e.end.character-t.end.character:e.end.line-t.end.line}));for(var r=0,i=n.length-1;r<i;r++){var o=n[r].end;if(n[r+1].start.isBefore(o))return Promise.reject(new Error("Overlapping ranges are not allowed!"))}var a=t.edits.map((function(e){return{range:bu.from(e.range),text:e.text,forceMoveMarkers:e.forceMoveMarkers}}));return this._proxy.$tryApplyEdits(this.id,t.documentVersionId,a,{setEndOfLine:"number"==typeof t.setEndOfLine?sc.from(t.setEndOfLine):void 0,undoStopBefore:t.undoStopBefore,undoStopAfter:t.undoStopAfter})}},{key:"_runOnProxy",value:function(e){var t=this;return this._disposed?(this._logService.warn("TextEditor is closed/disposed"),Promise.resolve(void 0)):e().then((function(){return t}),(function(e){return e instanceof Error&&"DISPOSED"===e.name||t._logService.warn(e),null}))}}]),e}(),nf=function(){function e(t){zi(this,e),this.value=t,this._count=0}return Ji(e,[{key:"ref",value:function(){this._count++}},{key:"unref",value:function(){return 0==--this._count}}]),e}(),rf=function(){function e(t,n){zi(this,e),this._extHostRpc=t,this._logService=n,this._activeEditorId=null,this._editors=new Map,this._documents=new I.Y9,this._onDidAddDocuments=new k.E,this._onDidRemoveDocuments=new k.E,this._onDidChangeVisibleTextEditors=new k.E,this._onDidChangeActiveTextEditor=new k.E,this.onDidAddDocuments=this._onDidAddDocuments.event,this.onDidRemoveDocuments=this._onDidRemoveDocuments.event,this.onDidChangeVisibleTextEditors=this._onDidChangeVisibleTextEditors.event,this.onDidChangeActiveTextEditor=this._onDidChangeActiveTextEditor.event}return Ji(e,[{key:"$acceptDocumentsAndEditorsDelta",value:function(e){this.acceptDocumentsAndEditorsDelta(e)}},{key:"acceptDocumentsAndEditorsDelta",value:function(e){var t=this,n=[],r=[],i=[];if(e.removedDocuments){var o,a=Ui(e.removedDocuments);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=R.o.revive(s),c=this._documents.get(u);null!=c&&c.unref()&&(this._documents.delete(u),n.push(c.value))}}catch(e){a.e(e)}finally{a.f()}}if(e.addedDocuments){var l,f=Ui(e.addedDocuments);try{for(f.s();!(l=f.n()).done;){var h=l.value,p=R.o.revive(h.uri),v=this._documents.get(p);if(v&&p.scheme!==Kn.lg.vscodeNotebookCell&&p.scheme!==Kn.lg.vscodeInteractiveInput)throw new Error("document '".concat(p," already exists!'"));v||(v=new nf(new Dl(this._extHostRpc.getProxy(Wc.MainThreadDocuments),p,h.lines,h.EOL,h.versionId,h.languageId,h.isDirty,h.notebook)),this._documents.set(p,v),r.push(v.value)),v.ref()}}catch(e){f.e(e)}finally{f.f()}}if(e.removedEditors){var y,g=Ui(e.removedEditors);try{for(g.s();!(y=g.n()).done;){var m=y.value,b=this._editors.get(m);this._editors.delete(m),b&&i.push(b)}}catch(e){g.e(e)}finally{g.f()}}if(e.addedEditors){var w,_=Ui(e.addedEditors);try{var k=function(){var e=w.value,n=R.o.revive(e.documentUri);(0,Yr.ok)(t._documents.has(n),"document '".concat(n,"' does not exist")),(0,Yr.ok)(!t._editors.has(e.id),"editor '".concat(e.id,"' already exists!"));var r=t._documents.get(n).value,i=new tf(e.id,t._extHostRpc.getProxy(Wc.MainThreadTextEditors),t._logService,new Rn.o((function(){return r.document})),e.selections.map(mu.to),e.options,e.visibleRanges.map((function(e){return bu.to(e)})),"number"==typeof e.editorPosition?Du.to(e.editorPosition):void 0);t._editors.set(e.id,i)};for(_.s();!(w=_.n()).done;)k()}catch(e){_.e(e)}finally{_.f()}}void 0!==e.newActiveEditor&&((0,Yr.ok)(null===e.newActiveEditor||this._editors.has(e.newActiveEditor),"active editor '".concat(e.newActiveEditor,"' does not exist")),this._activeEditorId=e.newActiveEditor),(0,d.B9)(n),(0,d.B9)(i),e.removedDocuments&&this._onDidRemoveDocuments.fire(n),e.addedDocuments&&this._onDidAddDocuments.fire(r),(e.removedEditors||e.addedEditors)&&this._onDidChangeVisibleTextEditors.fire(this.allEditors().map((function(e){return e.value}))),void 0!==e.newActiveEditor&&this._onDidChangeActiveTextEditor.fire(this.activeEditor())}},{key:"getDocument",value:function(e){var t;return null===(t=this._documents.get(e))||void 0===t?void 0:t.value}},{key:"allDocuments",value:function(){return si.$.map(this._documents.values(),(function(e){return e.value}))}},{key:"getEditor",value:function(e){return this._editors.get(e)}},{key:"activeEditor",value:function(e){if(this._activeEditorId){var t=this._editors.get(this._activeEditorId);return e?t:null==t?void 0:t.value}}},{key:"allEditors",value:function(){return Ki(this._editors.values())}}]),e}();rf=(0,k._)([(0,k.a)(0,Kc),(0,k.a)(1,Z.VZ)],rf);var of=function(){function e(t,n){var r=this;zi(this,e),this._extHostDocumentsAndEditors=n,this._onDidChangeTextEditorSelection=new k.E,this._onDidChangeTextEditorOptions=new k.E,this._onDidChangeTextEditorVisibleRanges=new k.E,this._onDidChangeTextEditorViewColumn=new k.E,this._onDidChangeActiveTextEditor=new k.E,this._onDidChangeVisibleTextEditors=new k.E,this.onDidChangeTextEditorSelection=this._onDidChangeTextEditorSelection.event,this.onDidChangeTextEditorOptions=this._onDidChangeTextEditorOptions.event,this.onDidChangeTextEditorVisibleRanges=this._onDidChangeTextEditorVisibleRanges.event,this.onDidChangeTextEditorViewColumn=this._onDidChangeTextEditorViewColumn.event,this.onDidChangeActiveTextEditor=this._onDidChangeActiveTextEditor.event,this.onDidChangeVisibleTextEditors=this._onDidChangeVisibleTextEditors.event,this._proxy=t.getProxy(Wc.MainThreadTextEditors),this._extHostDocumentsAndEditors.onDidChangeVisibleTextEditors((function(e){return r._onDidChangeVisibleTextEditors.fire(e)})),this._extHostDocumentsAndEditors.onDidChangeActiveTextEditor((function(e){return r._onDidChangeActiveTextEditor.fire(e)}))}var t;return Ji(e,[{key:"getActiveTextEditor",value:function(){return this._extHostDocumentsAndEditors.activeEditor()}},{key:"getVisibleTextEditors",value:function(e){var t=this._extHostDocumentsAndEditors.allEditors();return e?t:t.map((function(e){return e.value}))}},{key:"showTextDocument",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="number"==typeof n?{position:Du.from(n),preserveFocus:r}:"object"===Vi(n)?{position:Du.from(n.viewColumn),preserveFocus:n.preserveFocus,selection:"object"===Vi(n.selection)?bu.from(n.selection):void 0,pinned:"boolean"==typeof n.preview?!n.preview:void 0}:{preserveFocus:!1},e.next=3,this._proxy.$tryShowTextDocument(t.uri,i);case 3:if(o=e.sent,!(a=o&&this._extHostDocumentsAndEditors.getEditor(o))){e.next=7;break}return e.abrupt("return",a.value);case 7:if(!o){e.next=11;break}throw new Error('Could NOT open editor for "'.concat(t.uri.toString(),'" because another editor opened in the meantime.'));case 11:throw new Error('Could NOT open editor for "'.concat(t.uri.toString(),'".'));case 12:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"createTextEditorDecorationType",value:function(e,t){return new Zl(this._proxy,e,t).value}},{key:"$acceptEditorPropertiesChanged",value:function(e,t){var n=this._extHostDocumentsAndEditors.getEditor(e);if(!n)throw new Error("unknown text editor");if(t.options&&n._acceptOptions(t.options),t.selections){var r=t.selections.selections.map(mu.to);n._acceptSelections(r)}if(t.visibleRanges){var i=(0,x.kX)(t.visibleRanges.map(bu.to));n._acceptVisibleRanges(i)}if(t.options&&this._onDidChangeTextEditorOptions.fire({textEditor:n.value,options:Hi(Hi({},t.options),{},{lineNumbers:ac.to(t.options.lineNumbers)})}),t.selections){var o=Wa.fromValue(t.selections.source),a=t.selections.selections.map(mu.to);this._onDidChangeTextEditorSelection.fire({textEditor:n.value,selections:a,kind:o})}if(t.visibleRanges){var s=(0,x.kX)(t.visibleRanges.map(bu.to));this._onDidChangeTextEditorVisibleRanges.fire({textEditor:n.value,visibleRanges:s})}}},{key:"$acceptEditorPositionData",value:function(e){for(var t in e){var n=this._extHostDocumentsAndEditors.getEditor(t);if(!n)throw new Error("Unknown text editor");var r=Du.to(e[t]);n.value.viewColumn!==r&&(n._acceptViewColumn(r),this._onDidChangeTextEditorViewColumn.fire({textEditor:n.value,viewColumn:r}))}}},{key:"getDiffInformation",value:function(e){return Promise.resolve(this._proxy.$getDiffInformation(e))}}]),e}(),af=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18e4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:83886080,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50;zi(this,e),this._extUri=t,this._maxAge=n,this._maxLength=r,this._maxSize=i,this._data=new Array,this._length=0}return Ji(e,[{key:"dispose",value:function(){this._data=(0,d.B9)(this._data)}},{key:"remove",value:function(e){for(var t=0,n=Ki(this._data);t<n.length;t++){var r=n[t];this._extUri.isEqualOrParent(r.uri,e)&&r.dispose()}}},{key:"add",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=function(){var e=n._data.indexOf(a);e>=0&&(n._length-=r,t.dispose(),clearTimeout(o),n._data.splice(e,1))},o=setTimeout(i,this._maxAge),a={uri:e,length:r,dispose:i};this._data.push(a),this._length+=r,this._cleanup()}},{key:"_cleanup",value:function(){for(;this._length>this._maxLength;)this._data[0].dispose();var e=Math.ceil(1.2*this._maxSize);this._data.length>=e&&(0,d.B9)(this._data.slice(0,e-this._maxSize))}}]),e}(),sf=function(e){Ri(n,e);var t=Li(n);function n(e,r,i,o){var a;return zi(this,n),(a=t.call(this))._model=e,a._onIsCaughtUpWithContentChanges=r,a._proxy=i,a._textFileService=o,a._knownVersionId=a._model.getVersionId(),a._store.add(a._model.onDidChangeContent((function(e){a._knownVersionId=e.versionId,a._proxy.$acceptModelChanged(a._model.uri,e,a._textFileService.isDirty(a._model.uri)),a.isCaughtUpWithContentChanges()&&a._onIsCaughtUpWithContentChanges.fire(a._model.uri)}))),a}return Ji(n,[{key:"isCaughtUpWithContentChanges",value:function(){return this._model.getVersionId()===this._knownVersionId}}]),n}(d.JT),uf=function(e){Ri(s,e);var t,n,r,i,o,a=Li(s);function s(e,t,n,r,i,o,u,c,l){var f;return zi(this,s),(f=a.call(this))._modelService=t,f._textFileService=n,f._fileService=r,f._textModelResolverService=i,f._environmentService=o,f._uriIdentityService=u,f._pathService=l,f._onIsCaughtUpWithContentChanges=f._store.add(new k.E),f.onIsCaughtUpWithContentChanges=f._onIsCaughtUpWithContentChanges.event,f._modelTrackers=new I.Y9,f._modelReferenceCollection=f._store.add(new af(u.extUri)),f._proxy=e.getProxy(Uc.ExtHostDocuments),f._store.add(t.onModelLanguageChanged(f._onModelModeChanged,Ai(f))),f._store.add(n.files.onDidSave((function(e){f._shouldHandleFileEvent(e.model.resource)&&f._proxy.$acceptModelSaved(e.model.resource)}))),f._store.add(n.files.onDidChangeDirty((function(e){f._shouldHandleFileEvent(e.resource)&&f._proxy.$acceptDirtyStateChanged(e.resource,e.isDirty())}))),f._store.add(c.onDidRunWorkingCopyFileOperation((function(e){var t=2===e.operation;if(t||1===e.operation){var n,r=Ui(e.files);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=t?i.source:i.target;o&&f._modelReferenceCollection.remove(o)}}catch(e){r.e(e)}finally{r.f()}}}))),f}return Ji(s,[{key:"dispose",value:function(){(0,d.B9)(this._modelTrackers.values()),this._modelTrackers.clear(),xi(Fi(s.prototype),"dispose",this).call(this)}},{key:"isCaughtUpWithContentChanges",value:function(e){var t=this._modelTrackers.get(e);return!t||t.isCaughtUpWithContentChanges()}},{key:"_shouldHandleFileEvent",value:function(e){var t=this._modelService.getModel(e);return!!t&&(0,li.pt)(t)}},{key:"handleModelAdded",value:function(e){(0,li.pt)(e)&&this._modelTrackers.set(e.uri,new sf(e,this._onIsCaughtUpWithContentChanges,this._proxy,this._textFileService))}},{key:"_onModelModeChanged",value:function(e){var t=e.model;this._modelTrackers.has(t.uri)&&this._proxy.$acceptModelLanguageChanged(t.uri,t.getLanguageId())}},{key:"handleModelRemoved",value:function(e){this._modelTrackers.has(e)&&(this._modelTrackers.get(e).dispose(),this._modelTrackers.delete(e))}},{key:"$trySaveDocument",value:(o=Oi(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._textFileService.save(R.o.revive(t));case 2:return n=e.sent,e.abrupt("return",Boolean(n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"$tryOpenDocument",value:(i=Oi(Ti().mark((function e(t){var n,r,i,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=R.o.revive(t)).scheme&&(n.fsPath||n.authority)){e.next=3;break}throw new Error("Invalid uri. Scheme and authority or path must be set.");case 3:r=this._uriIdentityService.asCanonicalUri(n),e.t0=r.scheme,e.next=e.t0===Kn.lg.untitled?7:(e.t0,Kn.lg.file,9);break;case 7:return i=this._handleUntitledScheme(r),e.abrupt("break",11);case 9:return i=this._handleAsResourceInput(r),e.abrupt("break",11);case 11:return e.prev=11,e.next=14,i;case 14:o=e.sent,e.next=20;break;case 17:throw e.prev=17,e.t1=e.catch(11),new Error("cannot open ".concat(r.toString(),". Detail: ").concat((0,Dn.y)(e.t1)));case 20:if(o){e.next=24;break}throw new Error("cannot open ".concat(r.toString()));case 24:if(An.SF.isEqual(o,r)){e.next=28;break}throw new Error("cannot open ".concat(r.toString(),". Detail: Actual document opened as ").concat(o.toString()));case 28:if(this._modelTrackers.has(r)){e.next=32;break}throw new Error("cannot open ".concat(r.toString(),". Detail: Files above 50MB cannot be synchronized with extensions."));case 32:return e.abrupt("return",r);case 33:case"end":return e.stop()}}),e,this,[[11,17]])}))),function(e){return i.apply(this,arguments)})},{key:"$tryCreateDocument",value:function(e){return this._doCreateUntitled(void 0,e?e.language:void 0,e?e.content:void 0)}},{key:"_handleAsResourceInput",value:(r=Oi(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._textModelResolverService.createModelReference(t);case 2:return n=e.sent,this._modelReferenceCollection.add(t,n,n.object.textEditorModel.getValueLength()),e.abrupt("return",n.object.textEditorModel.uri);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"_handleUntitledScheme",value:(n=Oi(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=no(t,this._environmentService.remoteAuthority,this._pathService.defaultUriScheme),e.next=3,this._fileService.exists(n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return",Promise.reject(new Error("file already exists")));case 6:return e.next=8,this._doCreateUntitled(Boolean(t.path)?t:void 0);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_doCreateUntitled",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._textFileService.untitled.resolve({associatedResource:t,languageId:n,initialValue:r});case 2:if(i=e.sent,o=i.resource,this._modelTrackers.has(o)){e.next=6;break}throw new Error("expected URI ".concat(o.toString()," to have come to LIFE"));case 6:return this._proxy.$acceptDirtyStateChanged(o,!0),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),s}(d.JT);uf=(0,k._)([(0,k.a)(1,ii.q),(0,k.a)(2,vn.h),(0,k.a)(3,vn.i),(0,k.a)(4,ni.S),(0,k.a)(5,vn.j),(0,k.a)(6,vn.f),(0,k.a)(7,vn.k),(0,k.a)(8,vn.l)],uf);var cf=kn.Selection,lf=function(){function e(t,n,r){zi(this,e),this.selections=t,this.options=n,this.visibleRanges=r}return Ji(e,[{key:"generateDelta",value:function(t,n){var r={options:null,selections:null,visibleRanges:null};return t&&e._selectionsEqual(t.selections,this.selections)||(r.selections={selections:this.selections,source:(0,b.f6)(n)}),t&&e._optionsEqual(t.options,this.options)||(r.options=this.options),t&&e._rangesEqual(t.visibleRanges,this.visibleRanges)||(r.visibleRanges=this.visibleRanges),r.selections||r.options||r.visibleRanges?r:null}}],[{key:"readFromEditor",value:function(t,n,r){var i=e._readSelectionsFromCodeEditor(t,r),o=e._readOptionsFromCodeEditor(t,n,r),a=e._readVisibleRangesFromCodeEditor(t,r);return new e(i,o,a)}},{key:"_readSelectionsFromCodeEditor",value:function(e,t){var n=null;return t&&(n=t.getSelections()),!n&&e&&(n=e.selections),n||(n=[new cf(1,1,1,1)]),n}},{key:"_readOptionsFromCodeEditor",value:function(e,t,n){if(t.isDisposed()){if(e)return e.options;throw new Error("No valid properties")}var r,i;if(n){var o=n.getOptions(),a=o.get(62);r=o.get(24),i=a.renderType}else e?(r=e.options.cursorStyle,i=e.options.lineNumbers):(r=hi.d2.Line,i=1);var s=t.getOptions();return{insertSpaces:s.insertSpaces,tabSize:s.tabSize,cursorStyle:r,lineNumbers:i}}},{key:"_readVisibleRangesFromCodeEditor",value:function(e,t){return t?t.getVisibleRanges():[]}},{key:"_selectionsEqual",value:function(e,t){return(0,x.fS)(e,t,(function(e,t){return e.equalsSelection(t)}))}},{key:"_rangesEqual",value:function(e,t){return(0,x.fS)(e,t,(function(e,t){return e.equalsRange(t)}))}},{key:"_optionsEqual",value:function(e,t){return!(e&&!t||!e&&t)&&(!e&&!t||e.tabSize===t.tabSize&&e.insertSpaces===t.insertSpaces&&e.cursorStyle===t.cursorStyle&&e.lineNumbers===t.lineNumbers)}}]),e}(),ff=function(){function e(t,n,r,i,o,a,s){var u=this;zi(this,e),this._modelListeners=new d.SL,this._codeEditorListeners=new d.SL,this._id=t,this._model=n,this._codeEditor=null,this._properties=null,this._focusTracker=i,this._mainThreadDocuments=o,this._modelService=a,this._clipboardService=s,this._onPropertiesChanged=new k.E,this._modelListeners.add(this._model.onDidChangeOptions((function(e){u._updatePropertiesNow(null)}))),this.setCodeEditor(r),this._updatePropertiesNow(null)}var t;return Ji(e,[{key:"dispose",value:function(){this._modelListeners.dispose(),this._codeEditor=null,this._codeEditorListeners.dispose()}},{key:"_updatePropertiesNow",value:function(e){this._setProperties(lf.readFromEditor(this._properties,this._model,this._codeEditor),e)}},{key:"_setProperties",value:function(e,t){var n=e.generateDelta(this._properties,t);this._properties=e,n&&this._onPropertiesChanged.fire(n)}},{key:"getId",value:function(){return this._id}},{key:"getModel",value:function(){return this._model}},{key:"getCodeEditor",value:function(){return this._codeEditor}},{key:"hasCodeEditor",value:function(e){return this._codeEditor===e}},{key:"setCodeEditor",value:function(e){var t=this;if(!this.hasCodeEditor(e)&&(this._codeEditorListeners.clear(),this._codeEditor=e,this._codeEditor)){this._codeEditorListeners.add(this._codeEditor.onDidChangeModel((function(){t.setCodeEditor(null)}))),this._codeEditorListeners.add(this._codeEditor.onDidFocusEditorWidget((function(){t._focusTracker.onGainedFocus()}))),this._codeEditorListeners.add(this._codeEditor.onDidBlurEditorWidget((function(){t._focusTracker.onLostFocus()})));var n=null;this._codeEditorListeners.add(this._mainThreadDocuments.onIsCaughtUpWithContentChanges((function(e){if(e.toString()===t._model.uri.toString()){var r=n;n=null,t._updatePropertiesNow(r)}})));var r=function(){return t._codeEditor&&t._codeEditor.getModel()===t._model},i=function(e){t._mainThreadDocuments.isCaughtUpWithContentChanges(t._model.uri)?(n=null,t._updatePropertiesNow(e)):n=e};this._codeEditorListeners.add(this._codeEditor.onDidChangeCursorSelection((function(e){r()&&i(e.source)}))),this._codeEditorListeners.add(this._codeEditor.onDidChangeConfiguration((function(e){r()&&i(null)}))),this._codeEditorListeners.add(this._codeEditor.onDidLayoutChange((function(){r()&&i(null)}))),this._codeEditorListeners.add(this._codeEditor.onDidScrollChange((function(){r()&&i(null)}))),this._updatePropertiesNow(null)}}},{key:"isVisible",value:function(){return!!this._codeEditor}},{key:"getProperties",value:function(){return this._properties}},{key:"onPropertiesChanged",get:function(){return this._onPropertiesChanged.event}},{key:"setSelections",value:function(e){if(this._codeEditor)this._codeEditor.setSelections(e);else{var t=e.map(cf.liftSelection);this._setProperties(new lf(t,this._properties.options,this._properties.visibleRanges),null)}}},{key:"_setIndentConfiguration",value:function(e){var t=this._modelService.getCreationOptions(this._model.getLanguageId(),this._model.uri,this._model.isForSimpleWidget);if("auto"===e.tabSize||"auto"===e.insertSpaces){var n=t.insertSpaces,r=t.tabSize;return"auto"!==e.insertSpaces&&void 0!==e.insertSpaces&&(n=e.insertSpaces),"auto"!==e.tabSize&&void 0!==e.tabSize&&(r=e.tabSize),void this._model.detectIndentation(n,r)}var i={};void 0!==e.insertSpaces&&(i.insertSpaces=e.insertSpaces),void 0!==e.tabSize&&(i.tabSize=e.tabSize),this._model.updateOptions(i)}},{key:"setConfiguration",value:function(e){if(this._setIndentConfiguration(e),this._codeEditor){if(e.cursorStyle){var t=function(e){switch(e){case pu.Line:return"line";case pu.Block:return"block";case pu.Underline:return"underline";case pu.LineThin:return"line-thin";case pu.BlockOutline:return"block-outline";case pu.UnderlineThin:return"underline-thin"}}(e.cursorStyle);this._codeEditor.updateOptions({cursorStyle:t})}if(void 0!==e.lineNumbers){var n;switch(e.lineNumbers){case 1:n="on";break;case 2:n="relative";break;default:n="off"}this._codeEditor.updateOptions({lineNumbers:n})}}}},{key:"setDecorations",value:function(e,t){this._codeEditor&&this._codeEditor.setDecorationsByType("exthost-api",e,t)}},{key:"setDecorationsFast",value:function(e,t){if(this._codeEditor){for(var n=[],r=0,i=Math.floor(t.length/4);r<i;r++)n[r]=new io(t[4*r],t[4*r+1],t[4*r+2],t[4*r+3]);this._codeEditor.setDecorationsByTypeFast(e,n)}}},{key:"revealRange",value:function(e,t){if(this._codeEditor)switch(t){case Nc.Default:this._codeEditor.revealRange(e,0);break;case Nc.InCenter:this._codeEditor.revealRangeInCenter(e,0);break;case Nc.InCenterIfOutsideViewport:this._codeEditor.revealRangeInCenterIfOutsideViewport(e,0);break;case Nc.AtTop:this._codeEditor.revealRangeAtTop(e,0);break;default:console.warn("Unknown revealType: ".concat(t))}}},{key:"isFocused",value:function(){return!!this._codeEditor&&this._codeEditor.hasTextFocus()}},{key:"matches",value:function(e){return!!e&&e.getControl()===this._codeEditor}},{key:"applyEdits",value:function(e,t,n){if(this._model.getVersionId()!==e)return!1;if(!this._codeEditor)return!1;void 0!==n.setEndOfLine&&this._model.pushEOL(n.setEndOfLine);var r=t.map((function(e){return{range:io.lift(e.range),text:e.text,forceMoveMarkers:e.forceMoveMarkers}}));return n.undoStopBefore&&this._codeEditor.pushUndoStop(),this._codeEditor.executeEdits("MainThreadTextEditor",r),n.undoStopAfter&&this._codeEditor.pushUndoStop(),!0}},{key:"insertSnippet",value:(t=Oi(Ti().mark((function e(t,n,r,i){var o,a,s,u;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._codeEditor&&this._codeEditor.hasModel()){e.next=2;break}return e.abrupt("return",!1);case 2:if(!X.Yj.guessNeedsClipboard(n)){e.next=10;break}return a=new di.yy(this._codeEditor,5),e.next=7,this._clipboardService.readText();case 7:if(o=e.sent,a.validate(this._codeEditor)){e.next=10;break}return e.abrupt("return",!1);case 10:if(this._codeEditor.getModel().getVersionId(),s=fi.SnippetController2.get(this._codeEditor)){e.next=14;break}return e.abrupt("return",!1);case 14:return u=r.map((function(e){return new cf(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)})),this._codeEditor.setSelections(u),this._codeEditor.focus(),s.insert(n,{overwriteBefore:0,overwriteAfter:0,undoStopBefore:i.undoStopBefore,undoStopAfter:i.undoStopAfter,clipboardText:o}),e.abrupt("return",!0);case 19:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i){return t.apply(this,arguments)})}]),e}();function df(e,t){if("number"!=typeof t||t===vn.A||1===e.count&&e.activeGroup.isEmpty)return vn.A;if(t===vn.e)return vn.e;var n=e.getGroups(2)[t];return n?n.id:vn.e}function hf(e,t){var n="number"==typeof t?e.getGroup(t):t;return e.getGroups(2).indexOf(null!=n?n:e.activeGroup)}var pf=function(){function e(t,n,r,i,o){var a=this;zi(this,e),this._editorLocator=t,this._codeEditorService=r,this._editorService=i,this._editorGroupService=o,this._toDispose=new d.SL,this._instanceId=String(++e.INSTANCE_COUNT),this._proxy=n.getProxy(Uc.ExtHostEditors),this._textEditorsListenersMap=Object.create(null),this._editorPositionData=null,this._toDispose.add(this._editorService.onDidVisibleEditorsChange((function(){return a._updateActiveAndVisibleTextEditors()}))),this._toDispose.add(this._editorGroupService.onDidRemoveGroup((function(){return a._updateActiveAndVisibleTextEditors()}))),this._toDispose.add(this._editorGroupService.onDidMoveGroup((function(){return a._updateActiveAndVisibleTextEditors()}))),this._registeredDecorationTypes=Object.create(null)}var t,n,r;return Ji(e,[{key:"dispose",value:function(){var e=this;for(var t in Object.keys(this._textEditorsListenersMap).forEach((function(t){(0,d.B9)(e._textEditorsListenersMap[t])})),this._textEditorsListenersMap=Object.create(null),this._toDispose.dispose(),this._registeredDecorationTypes)this._codeEditorService.removeDecorationType(t);this._registeredDecorationTypes=Object.create(null)}},{key:"handleTextEditorAdded",value:function(e){var t=this,n=e.getId(),r=[];r.push(e.onPropertiesChanged((function(e){t._proxy.$acceptEditorPropertiesChanged(n,e)}))),this._textEditorsListenersMap[n]=r}},{key:"handleTextEditorRemoved",value:function(e){(0,d.B9)(this._textEditorsListenersMap[e]),delete this._textEditorsListenersMap[e]}},{key:"_updateActiveAndVisibleTextEditors",value:function(){var e=this._getTextEditorPositionData();(0,y.fS)(this._editorPositionData,e)||(this._editorPositionData=e,this._proxy.$acceptEditorPositionData(this._editorPositionData))}},{key:"_getTextEditorPositionData",value:function(){var e,t=Object.create(null),n=Ui(this._editorService.visibleEditorPanes);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=this._editorLocator.findTextEditorIdFor(r);i&&(t[i]=hf(this._editorGroupService,r.group))}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"$tryShowTextDocument",value:(r=Oi(Ti().mark((function e(t,n){var r,i,o,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R.o.revive(t),i={preserveFocus:n.preserveFocus,pinned:n.pinned,selection:n.selection,activation:n.preserveFocus?vu.RESTORE:void 0,override:yu.DISABLED},o={resource:r,options:i},e.next=5,this._editorService.openEditor(o,df(this._editorGroupService,n.position));case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return",void 0);case 8:return e.abrupt("return",this._editorLocator.findTextEditorIdFor(a));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"$tryShowEditor",value:(n=Oi(Ti().mark((function e(t,n){var r,i;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this._editorLocator.getEditor(t))){e.next=6;break}return i=r.getModel(),e.next=5,this._editorService.openEditor({resource:i.uri,options:{preserveFocus:!1}},df(this._editorGroupService,n));case 5:return e.abrupt("return");case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"$tryHideEditor",value:(t=Oi(Ti().mark((function e(t){var n,r,i,o,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._editorLocator.getEditor(t))){e.next=22;break}r=this._editorService.visibleEditorPanes,i=Ui(r),e.prev=4,i.s();case 6:if((o=i.n()).done){e.next=14;break}if(a=o.value,!n.matches(a)){e.next=12;break}return e.next=11,a.group.closeEditor(a.input);case 11:return e.abrupt("return");case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[4,16,19,22]])}))),function(e){return t.apply(this,arguments)})},{key:"$trySetSelections",value:function(e,t){var n=this._editorLocator.getEditor(e);return n?(n.setSelections(t),Promise.resolve(void 0)):Promise.reject(Re("TextEditor(".concat(e,")")))}},{key:"$trySetDecorations",value:function(e,t,n){t="".concat(this._instanceId,"-").concat(t);var r=this._editorLocator.getEditor(e);return r?(r.setDecorations(t,n),Promise.resolve(void 0)):Promise.reject(Re("TextEditor(".concat(e,")")))}},{key:"$trySetDecorationsFast",value:function(e,t,n){t="".concat(this._instanceId,"-").concat(t);var r=this._editorLocator.getEditor(e);return r?(r.setDecorationsFast(t,n),Promise.resolve(void 0)):Promise.reject(Re("TextEditor(".concat(e,")")))}},{key:"$tryRevealRange",value:function(e,t,n){var r=this._editorLocator.getEditor(e);return r?(r.revealRange(t,n),Promise.resolve()):Promise.reject(Re("TextEditor(".concat(e,")")))}},{key:"$trySetOptions",value:function(e,t){var n=this._editorLocator.getEditor(e);return n?(n.setConfiguration(t),Promise.resolve(void 0)):Promise.reject(Re("TextEditor(".concat(e,")")))}},{key:"$tryApplyEdits",value:function(e,t,n,r){var i=this._editorLocator.getEditor(e);return i?Promise.resolve(i.applyEdits(t,n,r)):Promise.reject(Re("TextEditor(".concat(e,")")))}},{key:"$tryInsertSnippet",value:function(e,t,n,r,i){var o=this._editorLocator.getEditor(e);return o?Promise.resolve(o.insertSnippet(t,n,r,i)):Promise.reject(Re("TextEditor(".concat(e,")")))}},{key:"$registerTextEditorDecorationType",value:function(e,t,n){t="".concat(this._instanceId,"-").concat(t),this._registeredDecorationTypes[t]=!0,this._codeEditorService.registerDecorationType("exthost-api-".concat(e),t,n)}},{key:"$removeTextEditorDecorationType",value:function(e){e="".concat(this._instanceId,"-").concat(e),delete this._registeredDecorationTypes[e],this._codeEditorService.removeDecorationType(e)}},{key:"$getDiffInformation",value:function(e){var t=this._editorLocator.getEditor(e);if(!t)return Promise.reject(new Error("No such TextEditor"));var n=t.getCodeEditor();if(!n)return Promise.reject(new Error("No such CodeEditor"));var r=n.getId(),i=Mi(this._codeEditorService.listDiffEditors().filter((function(e){return e.getOriginalEditor().getId()===r||e.getModifiedEditor().getId()===r})),1)[0];if(i)return Promise.resolve(i.getLineChanges()||[]);var o=n.getContribution("editor.contrib.dirtydiff");return o?Promise.resolve(o.getChanges()):Promise.resolve([])}}]),e}();pf.INSTANCE_COUNT=0,pf=(0,k._)([(0,k.a)(2,Un.$),(0,k.a)(3,vn.I),(0,k.a)(4,vn.b)],pf);var vf=Ji((function e(){zi(this,e)})),yf=Ji((function e(t){zi(this,e),this.editor=t,this.id="".concat(t.getId(),",").concat(t.getModel().id)})),gf=function(){function e(t,n,r,i,o,a){zi(this,e),this.removedDocuments=t,this.addedDocuments=n,this.removedEditors=r,this.addedEditors=i,this.oldActiveEditor=o,this.newActiveEditor=a,this.isEmpty=0===this.removedDocuments.length&&0===this.addedDocuments.length&&0===this.removedEditors.length&&0===this.addedEditors.length&&o===a}return Ji(e,[{key:"toString",value:function(){var e="DocumentAndEditorStateDelta\n";return e+="\tRemoved Documents: [".concat(this.removedDocuments.map((function(e){return e.uri.toString(!0)})).join(", "),"]\n"),e+="\tAdded Documents: [".concat(this.addedDocuments.map((function(e){return e.uri.toString(!0)})).join(", "),"]\n"),e+="\tRemoved Editors: [".concat(this.removedEditors.map((function(e){return e.id})).join(", "),"]\n"),e+="\tAdded Editors: [".concat(this.addedEditors.map((function(e){return e.id})).join(", "),"]\n"),e+="\tNew Active Editor: ".concat(this.newActiveEditor,"\n")}}]),e}(),mf=function(){function e(t,n,r){zi(this,e),this.documents=t,this.textEditors=n,this.activeEditor=r}return Ji(e,null,[{key:"compute",value:function(e,t){if(!e)return new gf([],Ki(t.documents.values()),[],Ki(t.textEditors.values()),void 0,t.activeEditor);var n=function(e,t){var n,r=[],i=[],o=Ui(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;t.has(a)||r.push(a)}}catch(e){o.e(e)}finally{o.f()}var s,u=Ui(t);try{for(u.s();!(s=u.n()).done;){var c=s.value;e.has(c)||i.push(c)}}catch(e){u.e(e)}finally{u.f()}return{removed:r,added:i}}(e.documents,t.documents),r=function(e,t){var n,r=[],i=[],o=Ui(e);try{for(o.s();!(n=o.n()).done;){var a=Mi(n.value,2),s=a[0],u=a[1];t.has(s)||r.push(u)}}catch(e){o.e(e)}finally{o.f()}var c,l=Ui(t);try{for(l.s();!(c=l.n()).done;){var f=Mi(c.value,2),d=f[0],h=f[1];e.has(d)||i.push(h)}}catch(e){l.e(e)}finally{l.f()}return{removed:r,added:i}}(e.textEditors,t.textEditors),i=e.activeEditor!==t.activeEditor?e.activeEditor:void 0,o=e.activeEditor!==t.activeEditor?t.activeEditor:void 0;return new gf(n.removed,n.added,r.removed,r.added,i,o)}}]),e}(),bf=function(){function e(t,n,r,i,o){var a=this;zi(this,e),this._onDidChangeState=t,this._modelService=n,this._codeEditorService=r,this._editorService=i,this._paneCompositeService=o,this._toDispose=new d.SL,this._toDisposeOnEditorRemove=new Map,this._activeEditorOrder=0,this._modelService.onModelAdded(this._updateStateOnModelAdd,this,this._toDispose),this._modelService.onModelRemoved((function(e){return a._updateState()}),this,this._toDispose),this._editorService.onDidActiveEditorChange((function(e){return a._updateState()}),this,this._toDispose),this._codeEditorService.onCodeEditorAdd(this._onDidAddEditor,this,this._toDispose),this._codeEditorService.onCodeEditorRemove(this._onDidRemoveEditor,this,this._toDispose),this._codeEditorService.listCodeEditors().forEach(this._onDidAddEditor,this),N.ju.filter(this._paneCompositeService.onDidPaneCompositeOpen,(function(e){return 1===e.viewContainerLocation}))((function(e){return a._activeEditorOrder=1}),void 0,this._toDispose),N.ju.filter(this._paneCompositeService.onDidPaneCompositeClose,(function(e){return 1===e.viewContainerLocation}))((function(e){return a._activeEditorOrder=0}),void 0,this._toDispose),this._editorService.onDidVisibleEditorsChange((function(e){return a._activeEditorOrder=0}),void 0,this._toDispose),this._updateState()}return Ji(e,[{key:"dispose",value:function(){this._toDispose.dispose()}},{key:"_onDidAddEditor",value:function(e){var t=this;this._toDisposeOnEditorRemove.set(e.getId(),(0,d.F8)(e.onDidChangeModel((function(){return t._updateState()})),e.onDidFocusEditorText((function(){return t._updateState()})),e.onDidFocusEditorWidget((function(){return t._updateState(e)})))),this._updateState()}},{key:"_onDidRemoveEditor",value:function(e){var t=this._toDisposeOnEditorRemove.get(e.getId());t&&(this._toDisposeOnEditorRemove.delete(e.getId()),t.dispose(),this._updateState())}},{key:"_updateStateOnModelAdd",value:function(e){(0,li.pt)(e)&&(this._currentState?(this._currentState=new mf(this._currentState.documents.add(e),this._currentState.textEditors,this._currentState.activeEditor),this._onDidChangeState(new gf([],[e],[],[],void 0,void 0))):this._updateState())}},{key:"_updateState",value:function(e){var t,n=new Set,r=Ui(this._modelService.getModels());try{for(r.s();!(t=r.n()).done;){var i=t.value;(0,li.pt)(i)&&n.add(i)}}catch(e){r.e(e)}finally{r.f()}var o,a,s=new Map,u=null,c=Ui(this._codeEditorService.listCodeEditors());try{for(c.s();!(o=c.n()).done;){var l=o.value;if(!l.isSimpleWidget){var f=l.getModel();if(l.hasModel()&&f&&(0,li.pt)(f)&&!f.isDisposed()&&Boolean(this._modelService.getModel(f.uri))){var d=new yf(l);s.set(d.id,d),(l.hasTextFocus()||e===l&&l.hasWidgetFocus())&&(u=d.id)}}}}catch(e){c.e(e)}finally{c.f()}if(!u&&(a=0===this._activeEditorOrder?this._getActiveEditorFromEditorPart()||this._getActiveEditorFromPanel():this._getActiveEditorFromPanel()||this._getActiveEditorFromEditorPart())){var h,p=Ui(s.values());try{for(p.s();!(h=p.n()).done;){var v=h.value;a===v.editor&&(u=v.id)}}catch(e){p.e(e)}finally{p.f()}}var y=new mf(n,s,u),g=mf.compute(this._currentState,y);g.isEmpty||(this._currentState=y,this._onDidChangeState(g))}},{key:"_getActiveEditorFromPanel",value:function(){var e=this._paneCompositeService.getActivePaneComposite(1);if(e instanceof vf){var t=e.getControl();if((0,vi.CL)(t))return t}}},{key:"_getActiveEditorFromEditorPart",value:function(){var e=this._editorService.activeTextEditorControl;return(0,vi.QI)(e)&&(e=e.getModifiedEditor()),e}}]),e}();bf=(0,k._)([(0,k.a)(1,ii.q),(0,k.a)(2,Un.$),(0,k.a)(3,vn.I),(0,k.a)(4,vn.g)],bf);var wf=function(){function e(t,n,r,i,o,a,s,u,c,l,f,h,p,v,y){var g=this;zi(this,e),this._modelService=n,this._textFileService=r,this._editorService=i,this._editorGroupService=u,this._clipboardService=p,this._toDispose=new d.SL,this._textEditors=new Map,this._proxy=t.getProxy(Uc.ExtHostDocumentsAndEditors),this._mainThreadDocuments=this._toDispose.add(new uf(t,this._modelService,this._textFileService,a,s,l,h,f,v)),t.set(Wc.MainThreadDocuments,this._mainThreadDocuments),this._mainThreadEditors=this._toDispose.add(new pf(this,t,o,this._editorService,this._editorGroupService)),t.set(Wc.MainThreadTextEditors,this._mainThreadEditors),this._toDispose.add(new bf((function(e){return g._onDelta(e)}),n,o,this._editorService,c))}return Ji(e,[{key:"dispose",value:function(){this._toDispose.dispose()}},{key:"_onDelta",value:function(e){var t,n=this,r=[],i=[],o=e.removedDocuments.map((function(e){return e.uri})),a=Ui(e.addedEditors);try{for(a.s();!(t=a.n()).done;){var s=t.value,u=new ff(s.id,s.editor.getModel(),s.editor,{onGainedFocus:function(){},onLostFocus:function(){}},this._mainThreadDocuments,this._modelService,this._clipboardService);this._textEditors.set(s.id,u),i.push(u)}}catch(e){a.e(e)}finally{a.f()}var c,l=Ui(e.removedEditors);try{for(l.s();!(c=l.n()).done;){var f=c.value.id,d=this._textEditors.get(f);d&&(d.dispose(),this._textEditors.delete(f),r.push(f))}}catch(e){l.e(e)}finally{l.f()}var h=Object.create(null),p=!0;void 0!==e.newActiveEditor&&(p=!1,h.newActiveEditor=e.newActiveEditor),o.length>0&&(p=!1,h.removedDocuments=o),r.length>0&&(p=!1,h.removedEditors=r),e.addedDocuments.length>0&&(p=!1,h.addedDocuments=e.addedDocuments.map((function(e){return n._toModelAddData(e)}))),e.addedEditors.length>0&&(p=!1,h.addedEditors=i.map((function(e){return n._toTextEditorAddData(e)}))),p||(this._proxy.$acceptDocumentsAndEditorsDelta(h),o.forEach(this._mainThreadDocuments.handleModelRemoved,this._mainThreadDocuments),e.addedDocuments.forEach(this._mainThreadDocuments.handleModelAdded,this._mainThreadDocuments),r.forEach(this._mainThreadEditors.handleTextEditorRemoved,this._mainThreadEditors),i.forEach(this._mainThreadEditors.handleTextEditorAdded,this._mainThreadEditors))}},{key:"_toModelAddData",value:function(e){return{uri:e.uri,versionId:e.getVersionId(),lines:e.getLinesContent(),EOL:e.getEOL(),languageId:e.getLanguageId(),isDirty:this._textFileService.isDirty(e.uri)}}},{key:"_toTextEditorAddData",value:function(e){var t=e.getProperties();return{id:e.getId(),documentUri:e.getModel().uri,options:t.options,selections:t.selections,visibleRanges:t.visibleRanges,editorPosition:this._findEditorPosition(e)}}},{key:"_findEditorPosition",value:function(e){var t,n=Ui(this._editorService.visibleEditorPanes);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.matches(r))return hf(this._editorGroupService,r.group)}}catch(e){n.e(e)}finally{n.f()}}},{key:"findTextEditorIdFor",value:function(e){var t,n=Ui(this._textEditors);try{for(n.s();!(t=n.n()).done;){var r=Mi(t.value,2),i=r[0];if(r[1].matches(e))return i}}catch(e){n.e(e)}finally{n.f()}}},{key:"getIdOfCodeEditor",value:function(e){var t,n=Ui(this._textEditors);try{for(n.s();!(t=n.n()).done;){var r=Mi(t.value,2),i=r[0];if(r[1].getCodeEditor()===e)return i}}catch(e){n.e(e)}finally{n.f()}}},{key:"getEditor",value:function(e){return this._textEditors.get(e)}}]),e}();wf=(0,k._)([function(e){Gc.INSTANCE.registerCustomer(e)},(0,k.a)(1,ii.q),(0,k.a)(2,vn.h),(0,k.a)(3,vn.I),(0,k.a)(4,Un.$),(0,k.a)(5,vn.i),(0,k.a)(6,ni.S),(0,k.a)(7,vn.b),(0,k.a)(8,vn.g),(0,k.a)(9,vn.j),(0,k.a)(10,vn.k),(0,k.a)(11,vn.f),(0,k.a)(12,pi.p),(0,k.a)(13,vn.l),(0,k.a)(14,En.TG)],wf);var _f,kf=function(){function e(t,n,r){zi(this,e),this._markerService=n,this._uriIdentService=r,this._activeOwners=new Set,this._proxy=t.getProxy(Uc.ExtHostDiagnostics),this._markerListener=this._markerService.onMarkerChanged(this._forwardMarkers,this)}return Ji(e,[{key:"dispose",value:function(){var e=this;this._markerListener.dispose(),this._activeOwners.forEach((function(t){return e._markerService.changeAll(t,[])})),this._activeOwners.clear()}},{key:"_forwardMarkers",value:function(e){var t,n=this,r=[],i=Ui(e);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=this._markerService.read({resource:o});if(0===a.length)r.push([o,[]]);else{var s=a.filter((function(e){return!n._activeOwners.has(e.owner)}));s.length>0&&r.push([o,s])}}}catch(e){i.e(e)}finally{i.f()}r.length>0&&this._proxy.$acceptMarkersChange(r)}},{key:"$changeMany",value:function(e,t){var n,r=Ui(t);try{for(r.s();!(n=r.n()).done;){var i=Mi(n.value,2),o=i[0],a=i[1];if(a){var s,u=Ui(a);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(c.relatedInformation){var l,f=Ui(c.relatedInformation);try{for(f.s();!(l=f.n()).done;){var d=l.value;d.resource=R.o.revive(d.resource)}}catch(e){f.e(e)}finally{f.f()}}c.code&&"string"!=typeof c.code&&(c.code.target=R.o.revive(c.code.target))}}catch(e){u.e(e)}finally{u.f()}}this._markerService.changeOne(e,this._uriIdentService.asCanonicalUri(R.o.revive(o)),a)}}catch(e){r.e(e)}finally{r.f()}this._activeOwners.add(e)}},{key:"$clear",value:function(e){this._markerService.changeAll(e,[]),this._activeOwners.delete(e)}}]),e}();function Sf(e,t){return!(t.disableTelemetry||!e.enableTelemetry||t.extensionTestsLocationURI)}kf=(0,k._)([zc(Wc.MainThreadDiagnostics),(0,k.a)(1,Sn.lT),(0,k.a)(2,vn.f)],kf);var xf=_f=function(e){Ri(n,e);var t=Li(n);function n(e,r,i,o){var a;return zi(this,n),(a=t.call(this))._telemetryService=r,a._environmentService=i,a._productService=o,a._proxy=e.getProxy(Uc.ExtHostTelemetry),Sf(a._productService,a._environmentService)&&a._register(r.telemetryLevel.onDidChange((function(e){a._proxy.$onDidChangeTelemetryLevel(e)}))),a._proxy.$initializeTelemetryLevel(a.telemetryLevel,a._productService.enabledTelemetryLevels),a}return Ji(n,[{key:"telemetryLevel",get:function(){return Sf(this._productService,this._environmentService)?this._telemetryService.telemetryLevel.value:0}},{key:"$publicLog",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null);t[_f._name]=!0,this._telemetryService.publicLog(e,t)}},{key:"$publicLog2",value:function(e,t){this.$publicLog(e,t)}}]),n}(d.JT);xf._name="pluginHostTelemetry",xf=_f=(0,k._)([zc(Wc.MainThreadTelemetry),(0,k.a)(1,yi.b),(0,k.a)(2,jn.Y),(0,k.a)(3,vn.c)],xf);var Cf=function(){function e(t,n){zi(this,e),this._proxy=t.getProxy(Wc.MainThreadBulkEdits),this._versionInformationProvider={getTextDocumentVersion:function(e){var t;return null===(t=n.getDocument(e))||void 0===t?void 0:t.version},getNotebookDocumentVersion:function(){}}}return Ji(e,[{key:"applyWorkspaceEdit",value:function(e,t){var n=pr(t,"snippetWorkspaceEdit"),r=ju.from(e,this._versionInformationProvider,n);return this._proxy.$tryApplyWorkspaceEdit(r)}}]),e}();Cf=(0,k._)([(0,k.a)(0,Kc)],Cf);var Ef=function(e){Ri(n,e);var t=Li(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return zi(this,n),(i=t.call(this,a)).resource=e,i.cellEdit=r,i.notebookVersionId=o,i}return Ji(n,null,[{key:"is",value:function(e){return e instanceof n||R.o.isUri(e.resource)&&(0,b.Kn)(e.cellEdit)}},{key:"lift",value:function(e){return e instanceof n?e:new n(e.resource,e.cellEdit,e.notebookVersionId,e.metadata)}}]),n}(gi.fo);var Df=function(){function e(t,n,r){zi(this,e),this._bulkEditService=n,this._logService=r}return Ji(e,[{key:"dispose",value:function(){}},{key:"$tryApplyWorkspaceEdit",value:function(e,t){var n=this,r=function(e){var t,n=null===(t=Mc(e))||void 0===t?void 0:t.edits;return n?n.map((function(e){if(gi.Gl.is(e))return gi.Gl.lift(e);if(gi.pH.is(e))return gi.pH.lift(e);if(Ef.is(e))return Ef.lift(e);throw new Error("Unsupported edit")})):[]}(e);return this._bulkEditService.apply(r,{undoRedoGroupId:t}).then((function(){return!0}),(function(e){return n._logService.warn("IGNORING workspace edit",e),!1}))}}]),e}();Df=(0,k._)([zc(Wc.MainThreadBulkEdits),(0,k.a)(1,gi.vu),(0,k.a)(2,Z.VZ)],Df);var Tf=function(){function e(t,n,r,i){zi(this,e),this._documents=n,this._commands=r,this._uriTransformer=i,this._languageIds=[],this._handlePool=0,this._ids=new Set,this._proxy=t.getProxy(Wc.MainThreadLanguages)}var t,n,r;return Ji(e,[{key:"$acceptLanguageIds",value:function(e){this._languageIds=e}},{key:"getLanguages",value:(r=Oi(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._languageIds.slice(0));case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"changeLanguage",value:(n=Oi(Ti().mark((function e(t,n){var r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._proxy.$changeLanguage(t,n);case 2:if(r=this._documents.getDocumentData(t)){e.next=5;break}throw new Error("document '".concat(t.toString(),"' NOT found"));case 5:return e.abrupt("return",r.document);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"tokenAtPosition",value:(t=Oi(Ti().mark((function e(t,n){var r,i,o,a,s,u;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.version,o=_u.from(n),e.next=4,this._proxy.$tokensAtPosition(t.uri,o);case 4:if(a=e.sent,s={type:au.Other,range:null!==(r=t.getWordRangeAtPosition(n))&&void 0!==r?r:new zo(n.line,n.character,n.line,n.character)},a){e.next=8;break}return e.abrupt("return",s);case 8:if((u={range:bu.to(a.range),type:wu.to(a.type)}).range.contains(n)){e.next=11;break}return e.abrupt("return",s);case 11:if(i===t.version){e.next=13;break}return e.abrupt("return",s);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"createLanguageStatusItem",value:function(e,t,n){var r,i=this,o=this._handlePool++,a=this._proxy,s=this._ids,u="".concat(e.identifier.value,"/").concat(t);if(s.has(u))throw new Error("LanguageStatusItem with id '".concat(t,"' ALREADY exists"));s.add(u);var c,l={selector:n,id:t,name:null!==(r=e.displayName)&&void 0!==r?r:e.name,severity:ga.Information,command:void 0,text:"",detail:"",busy:!1},f=new d.SL,h=function(){var t;null===(t=c)||void 0===t||t.dispose(),c=(0,g.Vg)((function(){var t,n,r,a;f.clear(),i._proxy.$setLanguageStatus(o,{id:u,name:null!==(t=null!==(n=l.name)&&void 0!==n?n:e.displayName)&&void 0!==t?t:e.name,source:null!==(r=e.displayName)&&void 0!==r?r:e.name,selector:ku.from(l.selector,i._uriTransformer),label:l.text,detail:null!==(a=l.detail)&&void 0!==a?a:"",severity:l.severity===ga.Error?Fn.Z.Error:l.severity===ga.Warning?Fn.Z.Warning:Fn.Z.Info,command:l.command&&i._commands.toInternal(l.command,f),accessibilityInfo:l.accessibilityInformation,busy:l.busy})}),0)},p={dispose:function(){var e;f.dispose(),null===(e=c)||void 0===e||e.dispose(),a.$removeLanguageStatus(o),s.delete(u)},get id(){return l.id},get name(){return l.name},set name(e){l.name=e,h()},get selector(){return l.selector},set selector(e){l.selector=e,h()},get text(){return l.text},set text(e){l.text=e,h()},get detail(){return l.detail},set detail(e){l.detail=e,h()},get severity(){return l.severity},set severity(e){l.severity=e,h()},get accessibilityInformation(){return l.accessibilityInformation},set accessibilityInformation(e){l.accessibilityInformation=e,h()},get command(){return l.command},set command(e){l.command=e,h()},get busy(){return l.busy},set busy(e){l.busy=e,h()}};return h(),p}}]),e}(),Pf=function(){function e(t,n,r,i,o){var a=this;zi(this,e),this._languageService=n,this._modelService=r,this._resolverService=i,this._languageStatusService=o,this._disposables=new d.SL,this._status=new Map,this._proxy=t.getProxy(Uc.ExtHostLanguages),this._proxy.$acceptLanguageIds(n.getRegisteredLanguageIds()),this._disposables.add(n.onDidChange((function(e){a._proxy.$acceptLanguageIds(n.getRegisteredLanguageIds())})))}var t,n;return Ji(e,[{key:"dispose",value:function(){this._disposables.dispose();var e,t=Ui(this._status.values());try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(e){t.e(e)}finally{t.f()}this._status.clear()}},{key:"$changeLanguage",value:(n=Oi(Ti().mark((function e(t,n){var r,i;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._languageService.isRegisteredLanguageId(n)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Unknown language id: ".concat(n))));case 2:return r=R.o.revive(t),e.next=5,this._resolverService.createModelReference(r);case 5:i=e.sent;try{this._modelService.setMode(i.object.textEditorModel,this._languageService.createById(n))}finally{i.dispose()}case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"$tokensAtPosition",value:(t=Oi(Ti().mark((function e(t,n){var r,i,o,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=R.o.revive(t),i=this._modelService.getModel(r)){e.next=4;break}return e.abrupt("return",void 0);case 4:return i.tokenization.tokenizeIfCheap(n.lineNumber),o=i.tokenization.getLineTokens(n.lineNumber),a=o.findTokenIndexAtOffset(n.column-1),e.abrupt("return",{type:o.getStandardTokenType(a),range:new io(n.lineNumber,1+o.getStartOffset(a),n.lineNumber,1+o.getEndOffset(a))});case 8:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"$setLanguageStatus",value:function(e,t){var n;null===(n=this._status.get(e))||void 0===n||n.dispose(),this._status.set(e,this._languageStatusService.addStatus(t))}},{key:"$removeLanguageStatus",value:function(e){var t;null===(t=this._status.get(e))||void 0===t||t.dispose()}}]),e}();Pf=(0,k._)([zc(Wc.MainThreadLanguages),(0,k.a)(1,ri.O),(0,k.a)(2,ii.q),(0,k.a)(3,ni.S),(0,k.a)(4,vn.n)],Pf);var Of=Ji((function e(t){zi(this,e),t?(this.transformIncoming=t.transformIncoming.bind(t),this.transformOutgoing=t.transformOutgoing.bind(t),this.transformOutgoingURI=t.transformOutgoingURI.bind(t),this.transformOutgoingScheme=t.transformOutgoingScheme.bind(t)):(this.transformIncoming=function(e){return e},this.transformOutgoing=function(e){return e},this.transformOutgoingURI=function(e){return e},this.transformOutgoingScheme=function(e){return e})})),Rf=function(){function e(t){var n=this;zi(this,e),this._onDidChangeWindowState=new k.E,this.onDidChangeWindowState=this._onDidChangeWindowState.event,this._state=e.InitialState,this._proxy=t.getProxy(Wc.MainThreadWindow),this._proxy.$getWindowVisibility().then((function(e){return n.$onDidChangeWindowFocus(e)}))}var t;return Ji(e,[{key:"state",get:function(){return this._state}},{key:"$onDidChangeWindowFocus",value:function(e){e!==this._state.focused&&(this._state=Hi(Hi({},this._state),{},{focused:e}),this._onDidChangeWindowState.fire(this._state))}},{key:"openUri",value:function(e,t){var n;if("string"==typeof e){n=e;try{e=R.o.parse(e)}catch(t){return Promise.reject("Invalid uri - '".concat(e,"'"))}}return(0,L.m5)(e.scheme)?Promise.reject("Invalid scheme - cannot be empty"):e.scheme===Kn.lg.command?Promise.reject("Invalid scheme '".concat(e.scheme,"'")):this._proxy.$openUri(e,n,t)}},{key:"asExternalUri",value:(t=Oi(Ti().mark((function e(t,n){var r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,L.m5)(t.scheme)){e.next=2;break}return e.abrupt("return",Promise.reject("Invalid scheme - cannot be empty"));case 2:return e.next=4,this._proxy.$asExternalUri(t,n);case 4:return r=e.sent,e.abrupt("return",R.o.from(r));case 6:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}();Rf.InitialState={focused:!0},Rf=(0,k._)([(0,k.a)(0,Kc)],Rf);var If=function(){function e(t,n,r){zi(this,e),this.hostService=n,this.openerService=r,this.disposables=new d.SL,this.resolved=new Map,this.proxy=t.getProxy(Uc.ExtHostWindow),N.ju.latch(n.onDidChangeFocus)(this.proxy.$onDidChangeWindowFocus,this.proxy,this.disposables)}var t,n;return Ji(e,[{key:"dispose",value:function(){this.disposables.dispose();var e,t=Ui(this.resolved.values());try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(e){t.e(e)}finally{t.f()}this.resolved.clear()}},{key:"$getWindowVisibility",value:function(){return Promise.resolve(this.hostService.hasFocus)}},{key:"$openUri",value:(n=Oi(Ti().mark((function e(t,n,r){var i,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=R.o.from(t),o=n&&R.o.parse(n).toString()===i.toString()?n:i,e.abrupt("return",this.openerService.open(o,{openExternal:!0,allowTunneling:r.allowTunneling,allowContributedOpeners:r.allowContributedOpeners}));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"$asExternalUri",value:(t=Oi(Ti().mark((function e(t,n){var r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openerService.resolveExternalUri(R.o.revive(t),n);case 2:return r=e.sent,e.abrupt("return",r.resolved);case 4:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}();If=(0,k._)([zc(Wc.MainThreadWindow),(0,k.a)(1,vn.o),(0,k.a)(2,mi.v4)],If);var Lf=function(){function e(t,n){zi(this,e),this._clipboardService=n}return Ji(e,[{key:"dispose",value:function(){}},{key:"$readText",value:function(){return this._clipboardService.readText()}},{key:"$writeText",value:function(e){return this._clipboardService.writeText(e)}}]),e}();Lf=(0,k._)([zc(Wc.MainThreadClipboard),(0,k.a)(1,pi.p)],Lf);var jf=Ji((function e(t){zi(this,e);var n=t.getProxy(Wc.MainThreadClipboard);this.value=Object.freeze({readText:function(){return n.$readText()},writeText:function(e){return n.$writeText(e)}})})),Af=function(){function e(){zi(this,e),this._onDidChangeTelemetryEnabled=new k.E,this.onDidChangeTelemetryEnabled=this._onDidChangeTelemetryEnabled.event,this._onDidChangeTelemetryConfiguration=new k.E,this.onDidChangeTelemetryConfiguration=this._onDidChangeTelemetryConfiguration.event,this._productConfig={usage:!0,error:!0},this._level=0}return Ji(e,[{key:"getTelemetryConfiguration",value:function(){return 3===this._level}},{key:"getTelemetryDetails",value:function(){return{isCrashEnabled:this._level>=1,isErrorsEnabled:!!this._productConfig.error&&this._level>=2,isUsageEnabled:!!this._productConfig.usage&&this._level>=3}}},{key:"$initializeTelemetryLevel",value:function(e,t){this._level=e,this._productConfig=t||{usage:!0,error:!0}}},{key:"$onDidChangeTelemetryLevel",value:function(e){this._oldTelemetryEnablement=this.getTelemetryConfiguration(),this._level=e,this._oldTelemetryEnablement!==this.getTelemetryConfiguration()&&this._onDidChangeTelemetryEnabled.fire(this.getTelemetryConfiguration()),this._onDidChangeTelemetryConfiguration.fire(this.getTelemetryDetails())}}]),e}();function Nf(e){var t=function(e){var t=e.buffer;if((0,G.r)()||function(e){for(var t=0,n=e.length;t<n;t+=4){var r=e[t+0],i=e[t+1],o=e[t+2],a=e[t+3];e[t+0]=a,e[t+1]=o,e[t+2]=i,e[t+3]=r}}(t),t.byteOffset%4==0)return new Uint32Array(t.buffer,t.byteOffset,t.length/4);var n=new Uint8Array(t.byteLength);return n.set(t),new Uint32Array(n.buffer,n.byteOffset,n.length/4)}(e),n=0,r=t[n++];if(1===t[n++]){var i=t[n++],o=t.subarray(n,n+i);return n+=i,{id:r,type:"full",data:o}}for(var a=t[n++],s=[],u=0;u<a;u++){var c=t[n++],l=t[n++],f=t[n++],d=void 0;f>0&&(d=t.subarray(n,n+f),n+=f),s[u]={start:c,deleteCount:l,data:d}}return{id:r,type:"delta",deltas:s}}var Ff=function(){function e(t){zi(this,e),this.id=t,this._data=new Map,this._idPool=1}return Ji(e,[{key:"add",value:function(e){var t=this._idPool++;return this._data.set(t,e),this.logDebugInfo(),t}},{key:"get",value:function(e,t){return this._data.has(e)?this._data.get(e)[t]:void 0}},{key:"delete",value:function(e){this._data.delete(e),this.logDebugInfo()}},{key:"logDebugInfo",value:function(){e.enableDebugLogging&&console.log("".concat(this.id," cache size - ").concat(this._data.size))}}]),e}();Ff.enableDebugLogging=!1;var Mf=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n}var t;return Ji(e,[{key:"provideDocumentSymbols",value:(t=Oi(Ti().mark((function t(n,r){var i,o;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this._documents.getDocument(n),t.next=3,this._provider.provideDocumentSymbols(i,r);case 3:if(o=t.sent,!(0,x.XY)(o)){t.next=8;break}return t.abrupt("return",void 0);case 8:if(!(o[0]instanceof ha)){t.next=12;break}return t.abrupt("return",o.map(Mu.from));case 12:return t.abrupt("return",e._asDocumentSymbolTree(o));case 13:case"end":return t.stop()}}),t,this)}))),function(e,n){return t.apply(this,arguments)})}],[{key:"_asDocumentSymbolTree",value:function(e){e=e.slice(0).sort((function(e,t){var n=e.location.range.start.compareTo(t.location.range.start);return 0===n&&(n=t.location.range.end.compareTo(e.location.range.end)),n}));var t,n=[],r=[],i=Ui(e);try{for(i.s();!(t=i.n()).done;)for(var o,a=t.value,s={name:a.name||"!!MISSING: name!!",kind:Au.from(a.kind),tags:(null===(o=a.tags)||void 0===o?void 0:o.map(Nu.from))||[],detail:"",containerName:a.containerName,range:bu.from(a.location.range),selectionRange:bu.from(a.location.range),children:[]};;){if(0===r.length){r.push(s),n.push(s);break}var u=r[r.length-1];if(io.containsRange(u.range,s.range)&&!io.equalsRange(u.range,s.range)){var c;null===(c=u.children)||void 0===c||c.push(s),r.push(s);break}r.pop()}}catch(e){i.e(e)}finally{i.f()}return n}}]),e}(),qf=function(){function e(t,n,r){zi(this,e),this._documents=t,this._commands=n,this._provider=r,this._cache=new Ff("CodeLens"),this._disposables=new Map}var t,n;return Ji(e,[{key:"provideCodeLenses",value:(n=Oi(Ti().mark((function e(t,n){var r,i,o,a,s,u;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._documents.getDocument(t),e.next=3,this._provider.provideCodeLenses(r,n);case 3:if((i=e.sent)&&!n.isCancellationRequested){e.next=6;break}return e.abrupt("return",void 0);case 6:for(o=this._cache.add(i),a=new d.SL,this._disposables.set(o,a),s={cacheId:o,lenses:[]},u=0;u<i.length;u++)s.lenses.push({cacheId:[o,u],range:bu.from(i[u].range),command:this._commands.toInternal(i[u].command,a)});return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"resolveCodeLens",value:(t=Oi(Ti().mark((function t(n,r){var i,o,a,s,u;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.cacheId&&(i=this._cache).get.apply(i,Ki(n.cacheId))){t.next=3;break}return t.abrupt("return",void 0);case 3:if("function"==typeof this._provider.resolveCodeLens&&!a.isResolved){t.next=7;break}s=a,t.next=10;break;case 7:return t.next=9,this._provider.resolveCodeLens(a,r);case 9:s=t.sent;case 10:if(s||(s=a),!r.isCancellationRequested){t.next=13;break}return t.abrupt("return",void 0);case 13:if(u=n.cacheId&&this._disposables.get(n.cacheId[0])){t.next=16;break}return t.abrupt("return",void 0);case 16:return n.command=this._commands.toInternal(null!==(o=s.command)&&void 0!==o?o:e._badCmd,u),t.abrupt("return",n);case 18:case"end":return t.stop()}}),t,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"releaseCodeLenses",value:function(e){var t;null===(t=this._disposables.get(e))||void 0===t||t.dispose(),this._disposables.delete(e),this._cache.delete(e)}}]),e}();function Hf(e){return Array.isArray(e)?e.map(Uu.from):e?[Uu.from(e)]:[]}qf._badCmd={command:"missing",title:"!!MISSING: command!!"};var Wf=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n}var t;return Ji(e,[{key:"provideDefinition",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._documents.getDocument(t),o=_u.to(n),e.next=4,this._provider.provideDefinition(i,o,r);case 4:return a=e.sent,e.abrupt("return",Hf(a));case 6:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),Uf=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n}var t;return Ji(e,[{key:"provideDeclaration",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._documents.getDocument(t),o=_u.to(n),e.next=4,this._provider.provideDeclaration(i,o,r);case 4:return a=e.sent,e.abrupt("return",Hf(a));case 6:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),Kf=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n}var t;return Ji(e,[{key:"provideImplementation",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._documents.getDocument(t),o=_u.to(n),e.next=4,this._provider.provideImplementation(i,o,r);case 4:return a=e.sent,e.abrupt("return",Hf(a));case 6:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),$f=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n}var t;return Ji(e,[{key:"provideTypeDefinition",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._documents.getDocument(t),o=_u.to(n),e.next=4,this._provider.provideTypeDefinition(i,o,r);case 4:return a=e.sent,e.abrupt("return",Hf(a));case 6:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),Bf=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n}var t;return Ji(e,[{key:"provideHover",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._documents.getDocument(t),o=_u.to(n),e.next=4,this._provider.provideHover(i,o,r);case 4:if((a=e.sent)&&!(0,x.XY)(a.contents)){e.next=7;break}return e.abrupt("return",void 0);case 7:return a.range||(a.range=i.getWordRangeAtPosition(o)),a.range||(a.range=new zo(o,o)),e.abrupt("return",Ku.from(a));case 10:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),Vf=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n}var t;return Ji(e,[{key:"provideEvaluatableExpression",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._documents.getDocument(t),o=_u.to(n),e.next=4,this._provider.provideEvaluatableExpression(i,o,r);case 4:if(!(a=e.sent)){e.next=7;break}return e.abrupt("return",$u.from(a));case 7:return e.abrupt("return",void 0);case 8:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),zf=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n}var t;return Ji(e,[{key:"provideInlineValues",value:(t=Oi(Ti().mark((function e(t,n,r,i){var o,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._documents.getDocument(t),e.next=3,this._provider.provideInlineValues(o,bu.to(n),Vu.to(r),i);case 3:if(a=e.sent,!Array.isArray(a)){e.next=6;break}return e.abrupt("return",a.map((function(e){return Bu.from(e)})));case 6:return e.abrupt("return",void 0);case 7:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i){return t.apply(this,arguments)})}]),e}(),Gf=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n}var t;return Ji(e,[{key:"provideDocumentHighlights",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._documents.getDocument(t),o=_u.to(n),e.next=4,this._provider.provideDocumentHighlights(i,o,r);case 4:if(a=e.sent,!Array.isArray(a)){e.next=7;break}return e.abrupt("return",a.map(zu.from));case 7:return e.abrupt("return",void 0);case 8:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),Jf=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n}var t;return Ji(e,[{key:"provideLinkedEditingRanges",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._documents.getDocument(t),o=_u.to(n),e.next=4,this._provider.provideLinkedEditingRanges(i,o,r);case 4:if(!(a=e.sent)||!Array.isArray(a.ranges)){e.next=7;break}return e.abrupt("return",{ranges:(0,x.kX)(a.ranges.map(bu.from)),wordPattern:a.wordPattern});case 7:return e.abrupt("return",void 0);case 8:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),Yf=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n}var t;return Ji(e,[{key:"provideReferences",value:(t=Oi(Ti().mark((function e(t,n,r,i){var o,a,s;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._documents.getDocument(t),a=_u.to(n),e.next=4,this._provider.provideReferences(o,a,r,i);case 4:if(s=e.sent,!Array.isArray(s)){e.next=7;break}return e.abrupt("return",s.map(Hu.from));case 7:return e.abrupt("return",void 0);case 8:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i){return t.apply(this,arguments)})}]),e}(),Qf=function(){function e(t,n,r,i,o,a,s){zi(this,e),this._documents=t,this._commands=n,this._diagnostics=r,this._provider=i,this._logService=o,this._extension=a,this._apiDeprecation=s,this._cache=new Ff("CodeAction"),this._disposables=new Map}var t,n;return Ji(e,[{key:"provideCodeActions",value:(n=Oi(Ti().mark((function t(n,r,i,o){var a,s,u,c,l,f,h,p,v,y,g,m,b,w;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=this._documents.getDocument(n),s=cf.isISelection(r)?mu.to(r):bu.to(r),u=[],c=Ui(this._diagnostics.getDiagnostics(n)),t.prev=4,c.s();case 6:if((l=c.n()).done){t.next=14;break}if(f=l.value,!s.intersection(f.range)){t.next=12;break}if(!(u.push(f)>e._maxCodeActionsPerFile)){t.next=12;break}return t.abrupt("break",14);case 12:t.next=6;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),c.e(t.t0);case 19:return t.prev=19,c.f(),t.finish(19);case 22:return h={diagnostics:u,only:i.only?new va(i.only):void 0,triggerKind:bc.to(i.trigger)},t.next=25,this._provider.provideCodeActions(a,s,h,o);case 25:if(p=t.sent,(0,x.Of)(p)&&!o.isCancellationRequested){t.next=28;break}return t.abrupt("return",void 0);case 28:v=this._cache.add(p),y=new d.SL,this._disposables.set(v,y),g=[],m=0;case 33:if(!(m<p.length)){t.next=41;break}if(b=p[m]){t.next=37;break}return t.abrupt("continue",38);case 37:e._isCommand(b)?(this._apiDeprecation.report("CodeActionProvider.provideCodeActions - return commands",this._extension,"Return 'CodeAction' instances instead."),g.push({_isSynthetic:!0,title:b.title,command:this._commands.toInternal(b,y)})):(h.only&&(b.kind?h.only.contains(b.kind)||this._logService.warn("".concat(this._extension.identifier.value," - Code actions of kind '").concat(h.only.value," 'requested but returned code action is of kind '").concat(b.kind.value,"'. Code action will be dropped. Please check 'CodeActionContext.only' to only return requested code actions.")):this._logService.warn("".concat(this._extension.identifier.value," - Code actions of kind '").concat(h.only.value," 'requested but returned code action does not have a 'kind'. Code action will be dropped. Please set 'CodeAction.kind'."))),g.push({cacheId:[v,m],title:b.title,command:b.command&&this._commands.toInternal(b.command,y),diagnostics:b.diagnostics&&b.diagnostics.map(xu.from),edit:b.edit&&ju.from(b.edit,void 0,pr(this._extension,"snippetWorkspaceEdit")),kind:b.kind&&b.kind.value,isPreferred:b.isPreferred,disabled:null===(w=b.disabled)||void 0===w?void 0:w.reason}));case 38:m++,t.next=33;break;case 41:return t.abrupt("return",{cacheId:v,actions:g});case 42:case"end":return t.stop()}}),t,this,[[4,16,19,22]])}))),function(e,t,r,i){return n.apply(this,arguments)})},{key:"resolveCodeAction",value:(t=Oi(Ti().mark((function t(n,r){var i,o,a,s,u,c;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=Mi(n,2),a=o[0],s=o[1],(u=this._cache.get(a,s))&&!e._isCommand(u)){t.next=4;break}return t.abrupt("return",void 0);case 4:if(this._provider.resolveCodeAction){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,this._provider.resolveCodeAction(u,r);case 8:if(t.t1=i=t.sent,t.t0=null!==t.t1,!t.t0){t.next=12;break}t.t0=void 0!==i;case 12:if(!t.t0){t.next=16;break}t.t2=i,t.next=17;break;case 16:t.t2=u;case 17:return c=t.t2,t.abrupt("return",null!=c&&c.edit?ju.from(c.edit,void 0,pr(this._extension,"snippetWorkspaceEdit")):void 0);case 19:case"end":return t.stop()}}),t,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"releaseCodeActions",value:function(e){var t;null===(t=this._disposables.get(e))||void 0===t||t.dispose(),this._disposables.delete(e),this._cache.delete(e)}}],[{key:"_isCommand",value:function(e){return"string"==typeof e.command&&"string"==typeof e.title}}]),e}();Qf._maxCodeActionsPerFile=1e3;var Zf=function(){function e(t,n,r,i){zi(this,e),this._proxy=t,this._documents=n,this._provider=r,this._handle=i}var t,n;return Ji(e,[{key:"prepareDocumentPaste",value:(n=Oi(Ti().mark((function e(t,n,r,i){var o,a,s;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider.prepareDocumentPaste){e.next=2;break}return e.abrupt("return",void 0);case 2:return o=this._documents.getDocument(t),a=n.map((function(e){return bu.to(e)})),s=kc.toDataTransfer(r,(function(){throw new Ie})),e.next=7,this._provider.prepareDocumentPaste(o,a,s,i);case 7:return e.abrupt("return",kc.toDataTransferDTO(s));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t,r,i){return n.apply(this,arguments)})},{key:"providePasteEdits",value:(t=Oi(Ti().mark((function e(t,n,r,i,o){var a,s,u,c,l=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this._documents.getDocument(n),s=r.map((function(e){return bu.to(e)})),u=kc.toDataTransfer(i,function(){var e=Oi(Ti().mark((function e(n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l._proxy.$resolvePasteFileData(l._handle,t,n);case 2:return e.abrupt("return",e.sent.buffer);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,this._provider.provideDocumentPasteEdits(a,s,u,o);case 5:if(c=e.sent){e.next=8;break}return e.abrupt("return");case 8:return e.abrupt("return",{insertText:"string"==typeof c.insertText?c.insertText:{snippet:c.insertText.value},additionalEdit:c.additionalEdit?ju.from(c.additionalEdit,void 0,!0):void 0});case 9:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i,o){return t.apply(this,arguments)})}]),e}(),Xf=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n}var t;return Ji(e,[{key:"provideDocumentFormattingEdits",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._documents.getDocument(t),e.next=3,this._provider.provideDocumentFormattingEdits(i,n,r);case 3:if(o=e.sent,!Array.isArray(o)){e.next=6;break}return e.abrupt("return",o.map(Lu.from));case 6:return e.abrupt("return",void 0);case 7:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),ed=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n}var t;return Ji(e,[{key:"provideDocumentRangeFormattingEdits",value:(t=Oi(Ti().mark((function e(t,n,r,i){var o,a,s;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._documents.getDocument(t),a=bu.to(n),e.next=4,this._provider.provideDocumentRangeFormattingEdits(o,a,r,i);case 4:if(s=e.sent,!Array.isArray(s)){e.next=7;break}return e.abrupt("return",s.map(Lu.from));case 7:return e.abrupt("return",void 0);case 8:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i){return t.apply(this,arguments)})}]),e}(),td=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n,this.autoFormatTriggerCharacters=[]}var t;return Ji(e,[{key:"provideOnTypeFormattingEdits",value:(t=Oi(Ti().mark((function e(t,n,r,i,o){var a,s,u;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this._documents.getDocument(t),s=_u.to(n),e.next=4,this._provider.provideOnTypeFormattingEdits(a,s,r,i,o);case 4:if(u=e.sent,!Array.isArray(u)){e.next=7;break}return e.abrupt("return",u.map(Lu.from));case 7:return e.abrupt("return",void 0);case 8:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i,o){return t.apply(this,arguments)})}]),e}(),nd=function(){function e(t,n){zi(this,e),this._provider=t,this._logService=n,this._cache=new Ff("WorkspaceSymbols")}var t,n;return Ji(e,[{key:"provideWorkspaceSymbols",value:(n=Oi(Ti().mark((function e(t,n){var r,i,o,a,s;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._provider.provideWorkspaceSymbols(t,n);case 2:if(r=e.sent,(0,x.Of)(r)){e.next=5;break}return e.abrupt("return",{symbols:[]});case 5:i=this._cache.add(r),o={cacheId:i,symbols:[]},a=0;case 8:if(!(a<r.length)){e.next=17;break}if((s=r[a])&&s.name){e.next=13;break}return this._logService.warn("INVALID SymbolInformation",s),e.abrupt("continue",14);case 13:o.symbols.push(Hi(Hi({},Fu.from(s)),{},{cacheId:[i,a]}));case 14:a++,e.next=8;break;case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"resolveWorkspaceSymbol",value:(t=Oi(Ti().mark((function e(t,n){var r,i,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"==typeof this._provider.resolveWorkspaceSymbol){e.next=2;break}return e.abrupt("return",t);case 2:if(t.cacheId){e.next=4;break}return e.abrupt("return",t);case 4:if(!(i=(r=this._cache).get.apply(r,Ki(t.cacheId)))){e.next=10;break}return e.next=8,this._provider.resolveWorkspaceSymbol(i,n);case 8:return o=e.sent,e.abrupt("return",o&&(0,y.jB)(t,Fu.from(o),!0));case 10:return e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"releaseWorkspaceSymbols",value:function(e){this._cache.delete(e)}}]),e}(),rd=function(){function e(t,n,r){zi(this,e),this._documents=t,this._provider=n,this._logService=r}var t,n;return Ji(e,[{key:"provideRenameEdits",value:(n=Oi(Ti().mark((function t(n,r,i,o){var a,s,u,c;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=this._documents.getDocument(n),s=_u.to(r),t.prev=2,t.next=5,this._provider.provideRenameEdits(a,s,i,o);case 5:if(u=t.sent){t.next=8;break}return t.abrupt("return",void 0);case 8:return t.abrupt("return",ju.from(u));case 11:if(t.prev=11,t.t0=t.catch(2),!(c=e._asMessage(t.t0))){t.next=18;break}return t.abrupt("return",{rejectReason:c,edits:void 0});case 18:return t.abrupt("return",Promise.reject(t.t0));case 19:case"end":return t.stop()}}),t,this,[[2,11]])}))),function(e,t,r,i){return n.apply(this,arguments)})},{key:"resolveRenameLocation",value:(t=Oi(Ti().mark((function t(n,r,i){var o,a,s,u,c,l;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"==typeof this._provider.prepareRename){t.next=2;break}return t.abrupt("return",Promise.resolve(void 0));case 2:return o=this._documents.getDocument(n),a=_u.to(r),t.prev=4,t.next=7,this._provider.prepareRename(o,a,i);case 7:if(s=t.sent,zo.isRange(s)?(u=s,c=o.getText(s)):(0,b.Kn)(s)&&(u=s.range,c=s.placeholder),u&&c){t.next=11;break}return t.abrupt("return",void 0);case 11:if(!(u.start.line>a.line||u.end.line<a.line)){t.next=14;break}return this._logService.warn("INVALID rename location: position line must be within range start/end lines"),t.abrupt("return",void 0);case 14:return t.abrupt("return",{range:bu.from(u),text:c});case 17:if(t.prev=17,t.t0=t.catch(4),!(l=e._asMessage(t.t0))){t.next=24;break}return t.abrupt("return",{rejectReason:l,range:void 0,text:void 0});case 24:return t.abrupt("return",Promise.reject(t.t0));case 25:case"end":return t.stop()}}),t,this,[[4,17]])}))),function(e,n,r){return t.apply(this,arguments)})}],[{key:"supportsResolving",value:function(e){return"function"==typeof e.prepareRename}},{key:"_asMessage",value:function(e){return"string"==typeof e?e:e instanceof Error&&"string"==typeof e.message?e.message:void 0}}]),e}(),id=Ji((function e(t,n){zi(this,e),this.resultId=t,this.tokens=n})),od=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n,this._nextResultId=1,this._previousResults=new Map}var t,n;return Ji(e,[{key:"provideDocumentSemanticTokens",value:(n=Oi(Ti().mark((function t(n,r,i){var o,a,s;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=this._documents.getDocument(n),"string"!=typeof(null==(a=0!==r?this._previousResults.get(r):null)?void 0:a.resultId)||"function"!=typeof this._provider.provideDocumentSemanticTokensEdits){t.next=8;break}return t.next=5,this._provider.provideDocumentSemanticTokensEdits(o,a.resultId,i);case 5:t.t0=t.sent,t.next=11;break;case 8:return t.next=10,this._provider.provideDocumentSemanticTokens(o,i);case 10:t.t0=t.sent;case 11:if(s=t.t0,a&&this._previousResults.delete(r),s){t.next=15;break}return t.abrupt("return",null);case 15:return s=e._fixProvidedSemanticTokens(s),t.abrupt("return",this._send(e._convertToEdits(a,s),s));case 17:case"end":return t.stop()}}),t,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"releaseDocumentSemanticColoring",value:(t=Oi(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._previousResults.delete(t);case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_send",value:function(t,n){if(e._isSemanticTokens(t)){var r=this._nextResultId++;return this._previousResults.set(r,new id(t.resultId,t.data)),(0,bi.C)({id:r,type:"full",data:t.data})}if(e._isSemanticTokensEdits(t)){var i=this._nextResultId++;return e._isSemanticTokens(n)?this._previousResults.set(i,new id(n.resultId,n.data)):this._previousResults.set(i,new id(t.resultId)),(0,bi.C)({id:i,type:"delta",deltas:(t.edits||[]).map((function(e){return{start:e.start,deleteCount:e.deleteCount,data:e.data}}))})}return null}}],[{key:"_fixProvidedSemanticTokens",value:function(t){return e._isSemanticTokens(t)?e._isCorrectSemanticTokens(t)?t:new Us(new Uint32Array(t.data),t.resultId):e._isSemanticTokensEdits(t)?e._isCorrectSemanticTokensEdits(t)?t:new $s(t.edits.map((function(e){return new Ks(e.start,e.deleteCount,e.data?new Uint32Array(e.data):e.data)})),t.resultId):t}},{key:"_isSemanticTokens",value:function(e){return e&&!!e.data}},{key:"_isCorrectSemanticTokens",value:function(e){return e.data instanceof Uint32Array}},{key:"_isSemanticTokensEdits",value:function(e){return e&&Array.isArray(e.edits)}},{key:"_isCorrectSemanticTokensEdits",value:function(e){var t,n=Ui(e.edits);try{for(n.s();!(t=n.n()).done;){if(!(t.value.data instanceof Uint32Array))return!1}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"_convertToEdits",value:function(t,n){if(!e._isSemanticTokens(n))return n;if(!t||!t.tokens)return n;for(var r=t.tokens,i=r.length,o=n.data,a=o.length,s=0,u=Math.min(i,a);s<u&&r[s]===o[s];)s++;if(s===i&&s===a)return new $s([],n.resultId);for(var c=0,l=u-s;c<l&&r[i-c-1]===o[a-c-1];)c++;return new $s([{start:s,deleteCount:i-s-c,data:o.subarray(s,a-c)}],n.resultId)}}]),e}(),ad=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n}var t;return Ji(e,[{key:"provideDocumentRangeSemanticTokens",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._documents.getDocument(t),e.next=3,this._provider.provideDocumentRangeSemanticTokens(i,bu.to(n),r);case 3:if(o=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",this._send(o));case 7:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"_send",value:function(e){return(0,bi.C)({id:0,type:"full",data:e.data})}}]),e}(),sd=function(){function e(t,n,r,i,o){zi(this,e),this._documents=t,this._commands=n,this._provider=r,this._apiDeprecation=i,this._extension=o,this._cache=new Ff("CompletionItem"),this._disposables=new Map}var t,n;return Ji(e,[{key:"provideCompletionItems",value:(n=Oi(Ti().mark((function t(n,r,i,o){var a,s,u,c,l,f,h,p,v,y,g,m,b,w,_;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=this._documents.getDocument(n),u=_u.to(r),c=s.getWordRangeAtPosition(u)||new zo(u,u),l=c.with({end:u}),f=new wi.G(!0),t.next=7,this._provider.provideCompletionItems(s,u,o,Ju.to(i));case 7:if(h=t.sent){t.next=10;break}return t.abrupt("return",void 0);case 10:if(!o.isCancellationRequested){t.next=12;break}return t.abrupt("return",void 0);case 12:for(p=Array.isArray(h)?new ja(h):h,v=e.supportsResolving(this._provider)?this._cache.add(p.items):this._cache.add([]),y=new d.SL,this._disposables.set(v,y),Wi(a={x:v},"b",g=[]),Wi(a,"a",{replace:bu.from(c),insert:bu.from(l)}),Wi(a,"c",p.isIncomplete||void 0),Wi(a,"d",f.elapsed()),m=a,b=0;b<p.items.length;b++)w=p.items[b],_=this._convertCompletionItem(w,[v,b],l,c),g.push(_);return t.abrupt("return",m);case 20:case"end":return t.stop()}}),t,this)}))),function(e,t,r,i){return n.apply(this,arguments)})},{key:"resolveCompletionItem",value:(t=Oi(Ti().mark((function e(t,n){var r,i,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"==typeof this._provider.resolveCompletionItem){e.next=2;break}return e.abrupt("return",void 0);case 2:if(i=(r=this._cache).get.apply(r,Ki(t))){e.next=5;break}return e.abrupt("return",void 0);case 5:return e.next=7,this._provider.resolveCompletionItem(i,n);case 7:if(o=e.sent){e.next=10;break}return e.abrupt("return",void 0);case 10:return e.abrupt("return",this._convertCompletionItem(o,t));case 11:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"releaseCompletionItems",value:function(e){var t;null===(t=this._disposables.get(e))||void 0===t||t.dispose(),this._disposables.delete(e),this._cache.delete(e)}},{key:"_convertCompletionItem",value:function(e,t,n,r){var i,o=this._disposables.get(t[0]);if(!o)throw Error("DisposableStore is missing...");var a,s=(Wi(i={x:t},"a",e.label),Wi(i,"b",void 0!==e.kind?Qu.from(e.kind):void 0),Wi(i,"n",e.tags&&e.tags.map(Yu.from)),Wi(i,"c",e.detail),Wi(i,"d",void 0===e.documentation?void 0:Tu.fromStrict(e.documentation)),Wi(i,"e",e.sortText!==e.label?e.sortText:void 0),Wi(i,"f",e.filterText!==e.label?e.filterText:void 0),Wi(i,"g",e.preselect||void 0),Wi(i,"i",e.keepWhitespace?1:0),Wi(i,"k",e.commitCharacters),Wi(i,"l",e.additionalTextEdits&&e.additionalTextEdits.map(Lu.from)),Wi(i,"m",this._commands.toInternal(e.command,o)),i);return e.textEdit?(this._apiDeprecation.report("CompletionItem.textEdit",this._extension,"Use 'CompletionItem.insertText' and 'CompletionItem.range' instead."),s.h=e.textEdit.newText):"string"==typeof e.insertText?s.h=e.insertText:e.insertText instanceof na&&(s.h=e.insertText.value,s.i|=4),e.textEdit?a=e.textEdit.range:e.range&&(a=e.range),zo.isRange(a)?s.j=bu.from(a):!a||null!=n&&n.isEqual(a.inserting)&&null!=r&&r.isEqual(a.replacing)||(s.j={insert:bu.from(a.inserting),replace:bu.from(a.replacing)}),s}}],[{key:"supportsResolving",value:function(e){return"function"==typeof e.resolveCompletionItem}}]),e}(),ud=function(){function e(){zi(this,e)}var t;return Ji(e,[{key:"provideInlineCompletions",value:(t=Oi(Ti().mark((function e(t,n,r,i){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"disposeCompletions",value:function(e){}},{key:"handleDidShowCompletionItem",value:function(e,t){}}]),e}(),cd=function(e){Ri(r,e);var t,n=Li(r);function r(e,t,i,o){var a,s;return zi(this,r),(s=n.call(this))._extension=e,s._documents=t,s._provider=i,s._commands=o,s._references=new fd,s._isAdditionsProposedApiEnabled=pr(s._extension,"inlineCompletionsAdditions"),s.languageTriggerKindToVSCodeTriggerKind=(Wi(a={},E.bw.Automatic,Cs.Automatic),Wi(a,E.bw.Explicit,Cs.Invoke),a),s}return Ji(r,[{key:"supportsHandleDidShowCompletionItem",get:function(){return pr(this._extension,"inlineCompletionsAdditions")&&"function"==typeof this._provider.handleDidShowCompletionItem}},{key:"provideInlineCompletions",value:(t=Oi(Ti().mark((function e(t,n,r,i){var o,a,s,u,c,l,f,h=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._documents.getDocument(t),a=_u.to(n),e.next=4,this._provider.provideInlineCompletionItems(o,a,{selectedCompletionInfo:r.selectedSuggestionInfo?{range:bu.to(r.selectedSuggestionInfo.range),text:r.selectedSuggestionInfo.text}:void 0,triggerKind:this.languageTriggerKindToVSCodeTriggerKind[r.triggerKind]},i);case 4:if(s=e.sent){e.next=7;break}return e.abrupt("return",void 0);case 7:if(!i.isCancellationRequested){e.next=9;break}return e.abrupt("return",void 0);case 9:return u=(0,b.kJ)(s)?s:s.items,c=this._isAdditionsProposedApiEnabled?(0,b.kJ)(s)?[]:s.commands||[]:[],l=void 0,f=this._references.createReferenceId({dispose:function(){l&&l.dispose()},items:u}),e.abrupt("return",{pid:f,items:u.map((function(e,t){var n=void 0;e.command&&(l||(l=new d.SL),n=h._commands.toInternal(e.command,l));var r=e.insertText;return{insertText:"string"==typeof r?r:{snippet:r.value},filterText:e.filterText,range:e.range?bu.from(e.range):void 0,command:n,idx:t,completeBracketPairs:!!h._isAdditionsProposedApiEnabled&&e.completeBracketPairs}})),commands:c.map((function(e){return l||(l=new d.SL),h._commands.toInternal(e,l)}))});case 14:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"disposeCompletions",value:function(e){var t=this._references.disposeReferenceId(e);null==t||t.dispose()}},{key:"handleDidShowCompletionItem",value:function(e,t){var n,r=null===(n=this._references.get(e))||void 0===n?void 0:n.items[t];r&&this._provider.handleDidShowCompletionItem&&this._isAdditionsProposedApiEnabled&&this._provider.handleDidShowCompletionItem(r)}}]),r}(ud),ld=function(e){Ri(r,e);var t,n=Li(r);function r(e,t,i,o){var a,s;return zi(this,r),(s=n.call(this)).extension=e,s._documents=t,s._provider=i,s._commands=o,s._references=new fd,s.isAdditionProposedApiEnabled=pr(s.extension,"inlineCompletionsAdditions"),s.languageTriggerKindToVSCodeTriggerKind=(Wi(a={},E.bw.Automatic,Es.Automatic),Wi(a,E.bw.Explicit,Es.Invoke),a),s}return Ji(r,[{key:"provideInlineCompletions",value:(t=Oi(Ti().mark((function e(t,n,r,i){var o,a,s,u,c,l,f,h=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._documents.getDocument(t),a=_u.to(n),e.next=4,this._provider.provideInlineCompletionItems(o,a,{selectedCompletionInfo:r.selectedSuggestionInfo?{range:bu.to(r.selectedSuggestionInfo.range),text:r.selectedSuggestionInfo.text}:void 0,triggerKind:this.languageTriggerKindToVSCodeTriggerKind[r.triggerKind]},i);case 4:if(s=e.sent){e.next=7;break}return e.abrupt("return",void 0);case 7:if(!i.isCancellationRequested){e.next=9;break}return e.abrupt("return",void 0);case 9:return u=(0,b.kJ)(s)?s:s.items,c=(0,b.kJ)(s)?[]:s.commands||[],l=void 0,f=this._references.createReferenceId({dispose:function(){l&&l.dispose()},items:u}),e.abrupt("return",{pid:f,items:u.map((function(e,t){var n=void 0;e.command&&(l||(l=new d.SL),n=h._commands.toInternal(e.command,l));var r=e.insertText;return{insertText:"string"==typeof r?r:{snippet:r.value},filterText:e.filterText,range:e.range?bu.from(e.range):void 0,command:n,idx:t,completeBracketPairs:!!h.isAdditionProposedApiEnabled&&e.completeBracketPairs}})),commands:c.map((function(e){return l||(l=new d.SL),h._commands.toInternal(e,l)}))});case 14:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"disposeCompletions",value:function(e){var t=this._references.disposeReferenceId(e);null==t||t.dispose()}},{key:"handleDidShowCompletionItem",value:function(e,t){var n,r=null===(n=this._references.get(e))||void 0===n?void 0:n.items[t];r&&this._provider.handleDidShowCompletionItem&&this.isAdditionProposedApiEnabled&&this._provider.handleDidShowCompletionItem(r)}}]),r}(ud),fd=function(){function e(){zi(this,e),this._references=new Map,this._idPool=1}return Ji(e,[{key:"createReferenceId",value:function(e){var t=this._idPool++;return this._references.set(t,e),t}},{key:"disposeReferenceId",value:function(e){var t=this._references.get(e);return this._references.delete(e),t}},{key:"get",value:function(e){return this._references.get(e)}}]),e}(),dd=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n,this._cache=new Ff("SignatureHelp")}var t;return Ji(e,[{key:"provideSignatureHelp",value:(t=Oi(Ti().mark((function e(t,n,r,i){var o,a,s,u,c;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._documents.getDocument(t),a=_u.to(n),s=this.reviveContext(r),e.next=5,this._provider.provideSignatureHelp(o,a,i,s);case 5:if(!(u=e.sent)){e.next=9;break}return c=this._cache.add([u]),e.abrupt("return",Hi(Hi({},ec.from(u)),{},{id:c}));case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"reviveContext",value:function(e){var t=void 0;if(e.activeSignatureHelp){var n=ec.to(e.activeSignatureHelp),r=this._cache.get(e.activeSignatureHelp.id,0);r?((t=r).activeSignature=n.activeSignature,t.activeParameter=n.activeParameter):t=n}return Hi(Hi({},e),{},{activeSignatureHelp:t})}},{key:"releaseSignatureHelp",value:function(e){this._cache.delete(e)}}]),e}(),hd=function(){function e(t,n,r,i,o){zi(this,e),this._documents=t,this._commands=n,this._provider=r,this._logService=i,this._extension=o,this._cache=new Ff("InlayHints"),this._disposables=new Map}var t,n;return Ji(e,[{key:"provideInlayHints",value:(n=Oi(Ti().mark((function e(t,n,r){var i,o,a,s,u,c;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._documents.getDocument(t),o=bu.to(n),e.next=4,this._provider.provideInlayHints(i,o,r);case 4:if(a=e.sent,Array.isArray(a)&&0!==a.length){e.next=8;break}return this._logService.trace("[InlayHints] NO inlay hints from '".concat(this._extension.identifier.value,"' for ").concat(n)),e.abrupt("return",void 0);case 8:if(!r.isCancellationRequested){e.next=10;break}return e.abrupt("return",void 0);case 10:for(s=this._cache.add(a),this._disposables.set(s,new d.SL),u={hints:[],cacheId:s},c=0;c<a.length;c++)this._isValidInlayHint(a[c],o)&&u.hints.push(this._convertInlayHint(a[c],[s,c]));return this._logService.trace("[InlayHints] ".concat(u.hints.length," inlay hints from '").concat(this._extension.identifier.value,"' for ").concat(n)),e.abrupt("return",u);case 16:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"resolveInlayHint",value:(t=Oi(Ti().mark((function e(t,n){var r,i,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"==typeof this._provider.resolveInlayHint){e.next=2;break}return e.abrupt("return",void 0);case 2:if(i=(r=this._cache).get.apply(r,Ki(t))){e.next=5;break}return e.abrupt("return",void 0);case 5:return e.next=7,this._provider.resolveInlayHint(i,n);case 7:if(o=e.sent){e.next=10;break}return e.abrupt("return",void 0);case 10:if(this._isValidInlayHint(o)){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",this._convertInlayHint(o,t));case 13:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"releaseHints",value:function(e){var t;null===(t=this._disposables.get(e))||void 0===t||t.dispose(),this._disposables.delete(e),this._cache.delete(e)}},{key:"_isValidInlayHint",value:function(e,t){return 0===e.label.length||Array.isArray(e.label)&&e.label.every((function(e){return 0===e.value.length}))?(console.log("INVALID inlay hint, empty label",e),!1):!(t&&!t.contains(e.position))}},{key:"_convertInlayHint",value:function(e,t){var n=this,r=this._disposables.get(t[0]);if(!r)throw Error("DisposableStore is missing...");var i={label:"",cacheId:t,tooltip:Tu.fromStrict(e.tooltip),position:_u.from(e.position),textEdits:e.textEdits&&e.textEdits.map(Lu.from),kind:e.kind&&tc.from(e.kind),paddingLeft:e.paddingLeft,paddingRight:e.paddingRight};return"string"==typeof e.label?i.label=e.label:i.label=e.label.map((function(e){var t={label:e.value};return t.tooltip=Tu.fromStrict(e.tooltip),ra.isLocation(e.location)&&(t.location=Hu.from(e.location)),e.command&&(t.command=n._commands.toInternal(e.command,r)),t})),i}}]),e}(),pd=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n,this._cache=new Ff("DocumentLink")}var t,n;return Ji(e,[{key:"provideLinks",value:(n=Oi(Ti().mark((function t(n,r){var i,o,a,s,u,c;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this._documents.getDocument(n),t.next=3,this._provider.provideDocumentLinks(i,r);case 3:if(o=t.sent,Array.isArray(o)&&0!==o.length){t.next=6;break}return t.abrupt("return",void 0);case 6:if(!r.isCancellationRequested){t.next=8;break}return t.abrupt("return",void 0);case 8:if("function"==typeof this._provider.resolveDocumentLink){t.next=12;break}return t.abrupt("return",{links:o.filter(e._validateLink).map(nc.from)});case 12:a=this._cache.add(o),s={links:[],cacheId:a},u=0;case 15:if(!(u<o.length)){t.next=24;break}if(e._validateLink(o[u])){t.next=18;break}return t.abrupt("continue",21);case 18:(c=nc.from(o[u])).cacheId=[a,u],s.links.push(c);case 21:u++,t.next=15;break;case 24:return t.abrupt("return",s);case 25:case"end":return t.stop()}}),t,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"resolveLink",value:(t=Oi(Ti().mark((function t(n,r){var i,o,a;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"==typeof this._provider.resolveDocumentLink){t.next=2;break}return t.abrupt("return",void 0);case 2:if(o=(i=this._cache).get.apply(i,Ki(n))){t.next=5;break}return t.abrupt("return",void 0);case 5:return t.next=7,this._provider.resolveDocumentLink(o,r);case 7:if((a=t.sent)&&e._validateLink(a)){t.next=10;break}return t.abrupt("return",void 0);case 10:return t.abrupt("return",nc.from(a));case 11:case"end":return t.stop()}}),t,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"releaseLinks",value:function(e){this._cache.delete(e)}}],[{key:"_validateLink",value:function(e){return!(e.target&&e.target.path.length>5e4)||(console.warn("DROPPING link because it is too long"),!1)}}]),e}(),vd=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n}var t,n;return Ji(e,[{key:"provideColors",value:(n=Oi(Ti().mark((function e(t,n){var r,i,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._documents.getDocument(t),e.next=3,this._provider.provideDocumentColors(r,n);case 3:if(i=e.sent,Array.isArray(i)){e.next=6;break}return e.abrupt("return",[]);case 6:return o=i.map((function(e){return{color:ic.from(e.color),range:bu.from(e.range)}})),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"provideColorPresentations",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o,a,s;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._documents.getDocument(t),o=bu.to(n.range),a=ic.to(n.color),e.next=5,this._provider.provideColorPresentations(a,{document:i,range:o},r);case 5:if(s=e.sent,Array.isArray(s)){e.next=8;break}return e.abrupt("return",void 0);case 8:return e.abrupt("return",s.map(rc.from));case 9:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),yd=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n}var t;return Ji(e,[{key:"provideFoldingRanges",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._documents.getDocument(t),e.next=3,this._provider.provideFoldingRanges(i,n,r);case 3:if(o=e.sent,Array.isArray(o)){e.next=6;break}return e.abrupt("return",void 0);case 6:return e.abrupt("return",o.map(cc.from));case 7:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),gd=function(){function e(t,n,r){zi(this,e),this._documents=t,this._provider=n,this._logService=r}var t;return Ji(e,[{key:"provideSelectionRanges",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o,a,s,u,c,l,f;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._documents.getDocument(t),o=n.map(_u.to),e.next=4,this._provider.provideSelectionRanges(i,o,r);case 4:if(a=e.sent,(0,x.Of)(a)){e.next=7;break}return e.abrupt("return",[]);case 7:if(a.length===o.length){e.next=10;break}return this._logService.warn("BAD selection ranges, provider must return ranges for each position"),e.abrupt("return",[]);case 10:s=[],u=0;case 12:if(!(u<o.length)){e.next=30;break}c=[],s.push(c),l=o[u],f=a[u];case 17:if(f.range.contains(l)){e.next=20;break}throw new Error("INVALID selection range, must contain the previous range");case 20:if(c.push(oc.from(f)),f.parent){e.next=23;break}return e.abrupt("break",27);case 23:l=f.range,f=f.parent,e.next=17;break;case 27:u++,e.next=12;break;case 30:return e.abrupt("return",s);case 31:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),md=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n,this._idPool=new ai.R(""),this._cache=new Map}var t,n,r;return Ji(e,[{key:"prepareSession",value:(r=Oi(Ti().mark((function e(t,n,r){var i,o,a,s,u=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._documents.getDocument(t),o=_u.to(n),e.next=4,this._provider.prepareCallHierarchy(i,o,r);case 4:if(a=e.sent){e.next=7;break}return e.abrupt("return",void 0);case 7:if(s=this._idPool.nextId(),this._cache.set(s,new Map),!Array.isArray(a)){e.next=13;break}return e.abrupt("return",a.map((function(e){return u._cacheAndConvertItem(s,e)})));case 13:return e.abrupt("return",[this._cacheAndConvertItem(s,a)]);case 14:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"provideCallsTo",value:(n=Oi(Ti().mark((function e(t,n,r){var i,o,a=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this._itemFromCache(t,n)){e.next=3;break}throw new Error("missing call hierarchy item");case 3:return e.next=5,this._provider.provideCallHierarchyIncomingCalls(i,r);case 5:if(o=e.sent){e.next=8;break}return e.abrupt("return",void 0);case 8:return e.abrupt("return",o.map((function(e){return{from:a._cacheAndConvertItem(t,e.from),fromRanges:e.fromRanges.map((function(e){return bu.from(e)}))}})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"provideCallsFrom",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o,a=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this._itemFromCache(t,n)){e.next=3;break}throw new Error("missing call hierarchy item");case 3:return e.next=5,this._provider.provideCallHierarchyOutgoingCalls(i,r);case 5:if(o=e.sent){e.next=8;break}return e.abrupt("return",void 0);case 8:return e.abrupt("return",o.map((function(e){return{to:a._cacheAndConvertItem(t,e.to),fromRanges:e.fromRanges.map((function(e){return bu.from(e)}))}})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"releaseSession",value:function(e){this._cache.delete(e)}},{key:"_cacheAndConvertItem",value:function(e,t){var n=this._cache.get(e),r=qu.from(t,e,n.size.toString(36));return n.set(r._itemId,t),r}},{key:"_itemFromCache",value:function(e,t){var n=this._cache.get(e);return null==n?void 0:n.get(t)}}]),e}(),bd=function(){function e(t,n){zi(this,e),this._documents=t,this._provider=n,this._idPool=new ai.R(""),this._cache=new Map}var t,n,r;return Ji(e,[{key:"prepareSession",value:(r=Oi(Ti().mark((function e(t,n,r){var i,o,a,s,u=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._documents.getDocument(t),o=_u.to(n),e.next=4,this._provider.prepareTypeHierarchy(i,o,r);case 4:if(a=e.sent){e.next=7;break}return e.abrupt("return",void 0);case 7:if(s=this._idPool.nextId(),this._cache.set(s,new Map),!Array.isArray(a)){e.next=13;break}return e.abrupt("return",a.map((function(e){return u._cacheAndConvertItem(s,e)})));case 13:return e.abrupt("return",[this._cacheAndConvertItem(s,a)]);case 14:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"provideSupertypes",value:(n=Oi(Ti().mark((function e(t,n,r){var i,o,a=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this._itemFromCache(t,n)){e.next=3;break}throw new Error("missing type hierarchy item");case 3:return e.next=5,this._provider.provideTypeHierarchySupertypes(i,r);case 5:if(o=e.sent){e.next=8;break}return e.abrupt("return",void 0);case 8:return e.abrupt("return",o.map((function(e){return a._cacheAndConvertItem(t,e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"provideSubtypes",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o,a=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this._itemFromCache(t,n)){e.next=3;break}throw new Error("missing type hierarchy item");case 3:return e.next=5,this._provider.provideTypeHierarchySubtypes(i,r);case 5:if(o=e.sent){e.next=8;break}return e.abrupt("return",void 0);case 8:return e.abrupt("return",o.map((function(e){return a._cacheAndConvertItem(t,e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"releaseSession",value:function(e){this._cache.delete(e)}},{key:"_cacheAndConvertItem",value:function(e,t){var n=this._cache.get(e),r=wc.from(t,e,n.size.toString(36));return n.set(r._itemId,t),r}},{key:"_itemFromCache",value:function(e,t){var n=this._cache.get(e);return null==n?void 0:n.get(t)}}]),e}(),wd=function(){function e(t,n,r,i){zi(this,e),this._proxy=t,this._documents=n,this._provider=r,this._handle=i}var t;return Ji(e,[{key:"provideDocumentOnDropEdits",value:(t=Oi(Ti().mark((function e(t,n,r,i,o){var a,s,u,c,l=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this._documents.getDocument(n),s=_u.to(r),u=kc.toDataTransfer(i,function(){var e=Oi(Ti().mark((function e(n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l._proxy.$resolveDocumentOnDropFileData(l._handle,t,n);case 2:return e.abrupt("return",e.sent.buffer);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,this._provider.provideDocumentDropEdits(a,s,u,o);case 5:if(c=e.sent){e.next=8;break}return e.abrupt("return",void 0);case 8:return e.abrupt("return",{insertText:"string"==typeof c.insertText?c.insertText:{snippet:c.insertText.value},additionalEdit:c.additionalEdit?ju.from(c.additionalEdit,void 0,!0):void 0});case 9:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i,o){return t.apply(this,arguments)})}]),e}(),_d=Ji((function e(t,n){zi(this,e),this.adapter=t,this.extension=n})),kd=function(){function e(t,n,r,i,o,a,s){zi(this,e),this._adapter=new Map,this._uriTransformer=n,this._proxy=t.getProxy(Wc.MainThreadLanguageFeatures),this._documents=r,this._commands=i,this._diagnostics=o,this._logService=a,this._apiDeprecation=s}var t;return Ji(e,[{key:"_transformDocumentSelector",value:function(e){return ku.from(e,this._uriTransformer)}},{key:"_createDisposable",value:function(e){var t=this;return new Bo((function(){t._adapter.delete(e),t._proxy.$unregister(e)}))}},{key:"_nextHandle",value:function(){return e._handlePool++}},{key:"_withAdapter",value:(t=Oi(Ti().mark((function e(t,n,r,i,o){var a,s,u,c,l=this,f=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=f.length>5&&void 0!==f[5]&&f[5],(s=this._adapter.get(t))&&s.adapter instanceof n){e.next=4;break}return e.abrupt("return",i);case 4:if(u=Date.now(),a||this._logService.trace("[".concat(s.extension.identifier.value,"] INVOKE provider '").concat(r.toString().replace(/[\r\n]/g,""),"'")),c=r(s.adapter,s.extension),Promise.resolve(c).catch((function(e){(0,h.n2)(e)||(l._logService.error("[".concat(s.extension.identifier.value,"] provider FAILED")),l._logService.error(e))})).finally((function(){a||l._logService.trace("[".concat(s.extension.identifier.value,"] provider DONE after ").concat(Date.now()-u,"ms"))})),!Gr.T.isCancellationToken(o)){e.next=10;break}return e.abrupt("return",cr(c,o));case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}}),e,this)}))),function(e,n,r,i,o){return t.apply(this,arguments)})},{key:"_addNewAdapter",value:function(e,t){var n=this._nextHandle();return this._adapter.set(n,new _d(e,t)),n}},{key:"registerDocumentSymbolProvider",value:function(t,n,r,i){var o=this._addNewAdapter(new Mf(this._documents,r),t),a=i&&i.label||e._extLabel(t);return this._proxy.$registerDocumentSymbolProvider(o,this._transformDocumentSelector(n),a),this._createDisposable(o)}},{key:"$provideDocumentSymbols",value:function(e,t,n){return this._withAdapter(e,Mf,(function(e){return e.provideDocumentSymbols(R.o.revive(t),n)}),void 0,n)}},{key:"registerCodeLensProvider",value:function(e,t,n){var r=this,i=this._nextHandle(),o="function"==typeof n.onDidChangeCodeLenses?this._nextHandle():void 0;this._adapter.set(i,new _d(new qf(this._documents,this._commands.converter,n),e)),this._proxy.$registerCodeLensSupport(i,this._transformDocumentSelector(t),o);var a=this._createDisposable(i);if(void 0!==o){var s=n.onDidChangeCodeLenses((function(e){return r._proxy.$emitCodeLensEvent(o)}));a=Bo.from(a,s)}return a}},{key:"$provideCodeLenses",value:function(e,t,n){return this._withAdapter(e,qf,(function(e){return e.provideCodeLenses(R.o.revive(t),n)}),void 0,n)}},{key:"$resolveCodeLens",value:function(e,t,n){return this._withAdapter(e,qf,(function(e){return e.resolveCodeLens(t,n)}),void 0,void 0)}},{key:"$releaseCodeLenses",value:function(e,t){this._withAdapter(e,qf,(function(e){return Promise.resolve(e.releaseCodeLenses(t))}),void 0,void 0)}},{key:"registerDefinitionProvider",value:function(e,t,n){var r=this._addNewAdapter(new Wf(this._documents,n),e);return this._proxy.$registerDefinitionSupport(r,this._transformDocumentSelector(t)),this._createDisposable(r)}},{key:"$provideDefinition",value:function(e,t,n,r){return this._withAdapter(e,Wf,(function(e){return e.provideDefinition(R.o.revive(t),n,r)}),[],r)}},{key:"registerDeclarationProvider",value:function(e,t,n){var r=this._addNewAdapter(new Uf(this._documents,n),e);return this._proxy.$registerDeclarationSupport(r,this._transformDocumentSelector(t)),this._createDisposable(r)}},{key:"$provideDeclaration",value:function(e,t,n,r){return this._withAdapter(e,Uf,(function(e){return e.provideDeclaration(R.o.revive(t),n,r)}),[],r)}},{key:"registerImplementationProvider",value:function(e,t,n){var r=this._addNewAdapter(new Kf(this._documents,n),e);return this._proxy.$registerImplementationSupport(r,this._transformDocumentSelector(t)),this._createDisposable(r)}},{key:"$provideImplementation",value:function(e,t,n,r){return this._withAdapter(e,Kf,(function(e){return e.provideImplementation(R.o.revive(t),n,r)}),[],r)}},{key:"registerTypeDefinitionProvider",value:function(e,t,n){var r=this._addNewAdapter(new $f(this._documents,n),e);return this._proxy.$registerTypeDefinitionSupport(r,this._transformDocumentSelector(t)),this._createDisposable(r)}},{key:"$provideTypeDefinition",value:function(e,t,n,r){return this._withAdapter(e,$f,(function(e){return e.provideTypeDefinition(R.o.revive(t),n,r)}),[],r)}},{key:"registerHoverProvider",value:function(e,t,n,r){var i=this._addNewAdapter(new Bf(this._documents,n),e);return this._proxy.$registerHoverProvider(i,this._transformDocumentSelector(t)),this._createDisposable(i)}},{key:"$provideHover",value:function(e,t,n,r){return this._withAdapter(e,Bf,(function(e){return e.provideHover(R.o.revive(t),n,r)}),void 0,r)}},{key:"registerEvaluatableExpressionProvider",value:function(e,t,n,r){var i=this._addNewAdapter(new Vf(this._documents,n),e);return this._proxy.$registerEvaluatableExpressionProvider(i,this._transformDocumentSelector(t)),this._createDisposable(i)}},{key:"$provideEvaluatableExpression",value:function(e,t,n,r){return this._withAdapter(e,Vf,(function(e){return e.provideEvaluatableExpression(R.o.revive(t),n,r)}),void 0,r)}},{key:"registerInlineValuesProvider",value:function(e,t,n,r){var i=this,o="function"==typeof n.onDidChangeInlineValues?this._nextHandle():void 0,a=this._addNewAdapter(new zf(this._documents,n),e);this._proxy.$registerInlineValuesProvider(a,this._transformDocumentSelector(t),o);var s=this._createDisposable(a);if(void 0!==o){var u=n.onDidChangeInlineValues((function(e){return i._proxy.$emitInlineValuesEvent(o)}));s=Bo.from(s,u)}return s}},{key:"$provideInlineValues",value:function(e,t,n,r,i){return this._withAdapter(e,zf,(function(e){return e.provideInlineValues(R.o.revive(t),n,r,i)}),void 0,i)}},{key:"registerDocumentHighlightProvider",value:function(e,t,n){var r=this._addNewAdapter(new Gf(this._documents,n),e);return this._proxy.$registerDocumentHighlightProvider(r,this._transformDocumentSelector(t)),this._createDisposable(r)}},{key:"$provideDocumentHighlights",value:function(e,t,n,r){return this._withAdapter(e,Gf,(function(e){return e.provideDocumentHighlights(R.o.revive(t),n,r)}),void 0,r)}},{key:"registerLinkedEditingRangeProvider",value:function(e,t,n){var r=this._addNewAdapter(new Jf(this._documents,n),e);return this._proxy.$registerLinkedEditingRangeProvider(r,this._transformDocumentSelector(t)),this._createDisposable(r)}},{key:"$provideLinkedEditingRanges",value:function(t,n,r,i){return this._withAdapter(t,Jf,function(){var t=Oi(Ti().mark((function t(o){var a;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.provideLinkedEditingRanges(R.o.revive(n),r,i);case 2:if(!(a=t.sent)){t.next=5;break}return t.abrupt("return",{ranges:a.ranges,wordPattern:a.wordPattern?e._serializeRegExp(a.wordPattern):void 0});case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),void 0,i)}},{key:"registerReferenceProvider",value:function(e,t,n){var r=this._addNewAdapter(new Yf(this._documents,n),e);return this._proxy.$registerReferenceSupport(r,this._transformDocumentSelector(t)),this._createDisposable(r)}},{key:"$provideReferences",value:function(e,t,n,r,i){return this._withAdapter(e,Yf,(function(e){return e.provideReferences(R.o.revive(t),n,r,i)}),void 0,i)}},{key:"registerCodeActionProvider",value:function(t,n,r,i){var o,a,s=this,u=new d.SL,c=this._addNewAdapter(new Qf(this._documents,this._commands.converter,this._diagnostics,r,this._logService,t,this._apiDeprecation),t);return this._proxy.$registerQuickFixSupport(c,this._transformDocumentSelector(n),{providedKinds:null==i||null===(o=i.providedCodeActionKinds)||void 0===o?void 0:o.map((function(e){return e.value})),documentation:null==i||null===(a=i.documentation)||void 0===a?void 0:a.map((function(e){return{kind:e.kind.value,command:s._commands.converter.toInternal(e.command,u)}}))},e._extLabel(t),Boolean(r.resolveCodeAction)),u.add(this._createDisposable(c)),u}},{key:"$provideCodeActions",value:function(e,t,n,r,i){return this._withAdapter(e,Qf,(function(e){return e.provideCodeActions(R.o.revive(t),n,r,i)}),void 0,i)}},{key:"$resolveCodeAction",value:function(e,t,n){return this._withAdapter(e,Qf,(function(e){return e.resolveCodeAction(t,n)}),void 0,void 0)}},{key:"$releaseCodeActions",value:function(e,t){this._withAdapter(e,Qf,(function(e){return Promise.resolve(e.releaseCodeActions(t))}),void 0,void 0)}},{key:"registerDocumentFormattingEditProvider",value:function(e,t,n){var r=this._addNewAdapter(new Xf(this._documents,n),e);return this._proxy.$registerDocumentFormattingSupport(r,this._transformDocumentSelector(t),e.identifier,e.displayName||e.name),this._createDisposable(r)}},{key:"$provideDocumentFormattingEdits",value:function(e,t,n,r){return this._withAdapter(e,Xf,(function(e){return e.provideDocumentFormattingEdits(R.o.revive(t),n,r)}),void 0,r)}},{key:"registerDocumentRangeFormattingEditProvider",value:function(e,t,n){var r=this._addNewAdapter(new ed(this._documents,n),e);return this._proxy.$registerRangeFormattingSupport(r,this._transformDocumentSelector(t),e.identifier,e.displayName||e.name),this._createDisposable(r)}},{key:"$provideDocumentRangeFormattingEdits",value:function(e,t,n,r,i){return this._withAdapter(e,ed,(function(e){return e.provideDocumentRangeFormattingEdits(R.o.revive(t),n,r,i)}),void 0,i)}},{key:"registerOnTypeFormattingEditProvider",value:function(e,t,n,r){var i=this._addNewAdapter(new td(this._documents,n),e);return this._proxy.$registerOnTypeFormattingSupport(i,this._transformDocumentSelector(t),r,e.identifier),this._createDisposable(i)}},{key:"$provideOnTypeFormattingEdits",value:function(e,t,n,r,i,o){return this._withAdapter(e,td,(function(e){return e.provideOnTypeFormattingEdits(R.o.revive(t),n,r,i,o)}),void 0,o)}},{key:"registerWorkspaceSymbolProvider",value:function(e,t){var n=this._addNewAdapter(new nd(t,this._logService),e);return this._proxy.$registerNavigateTypeSupport(n,"function"==typeof t.resolveWorkspaceSymbol),this._createDisposable(n)}},{key:"$provideWorkspaceSymbols",value:function(e,t,n){return this._withAdapter(e,nd,(function(e){return e.provideWorkspaceSymbols(t,n)}),{symbols:[]},n)}},{key:"$resolveWorkspaceSymbol",value:function(e,t,n){return this._withAdapter(e,nd,(function(e){return e.resolveWorkspaceSymbol(t,n)}),void 0,void 0)}},{key:"$releaseWorkspaceSymbols",value:function(e,t){this._withAdapter(e,nd,(function(e){return e.releaseWorkspaceSymbols(t)}),void 0,void 0)}},{key:"registerRenameProvider",value:function(e,t,n){var r=this._addNewAdapter(new rd(this._documents,n,this._logService),e);return this._proxy.$registerRenameSupport(r,this._transformDocumentSelector(t),rd.supportsResolving(n)),this._createDisposable(r)}},{key:"$provideRenameEdits",value:function(e,t,n,r,i){return this._withAdapter(e,rd,(function(e){return e.provideRenameEdits(R.o.revive(t),n,r,i)}),void 0,i)}},{key:"$resolveRenameLocation",value:function(e,t,n,r){return this._withAdapter(e,rd,(function(e){return e.resolveRenameLocation(R.o.revive(t),n,r)}),void 0,r)}},{key:"registerDocumentSemanticTokensProvider",value:function(e,t,n,r){var i=this,o=this._addNewAdapter(new od(this._documents,n),e),a="function"==typeof n.onDidChangeSemanticTokens?this._nextHandle():void 0;this._proxy.$registerDocumentSemanticTokensProvider(o,this._transformDocumentSelector(t),r,a);var s=this._createDisposable(o);if(a){var u=n.onDidChangeSemanticTokens((function(e){return i._proxy.$emitDocumentSemanticTokensEvent(a)}));s=Bo.from(s,u)}return s}},{key:"$provideDocumentSemanticTokens",value:function(e,t,n,r){return this._withAdapter(e,od,(function(e){return e.provideDocumentSemanticTokens(R.o.revive(t),n,r)}),null,r)}},{key:"$releaseDocumentSemanticTokens",value:function(e,t){this._withAdapter(e,od,(function(e){return e.releaseDocumentSemanticColoring(t)}),void 0,void 0)}},{key:"registerDocumentRangeSemanticTokensProvider",value:function(e,t,n,r){var i=this._addNewAdapter(new ad(this._documents,n),e);return this._proxy.$registerDocumentRangeSemanticTokensProvider(i,this._transformDocumentSelector(t),r),this._createDisposable(i)}},{key:"$provideDocumentRangeSemanticTokens",value:function(e,t,n,r){return this._withAdapter(e,ad,(function(e){return e.provideDocumentRangeSemanticTokens(R.o.revive(t),n,r)}),null,r)}},{key:"registerCompletionItemProvider",value:function(e,t,n,r){var i=this._addNewAdapter(new sd(this._documents,this._commands.converter,n,this._apiDeprecation,e),e);return this._proxy.$registerCompletionsProvider(i,this._transformDocumentSelector(t),r,sd.supportsResolving(n),"".concat(e.identifier.value,"(").concat(r.join(""),")")),this._createDisposable(i)}},{key:"$provideCompletionItems",value:function(e,t,n,r,i){return this._withAdapter(e,sd,(function(e){return e.provideCompletionItems(R.o.revive(t),n,r,i)}),void 0,i)}},{key:"$resolveCompletionItem",value:function(e,t,n){return this._withAdapter(e,sd,(function(e){return e.resolveCompletionItem(t,n)}),void 0,n)}},{key:"$releaseCompletionItems",value:function(e,t){this._withAdapter(e,sd,(function(e){return e.releaseCompletionItems(t)}),void 0,void 0)}},{key:"registerInlineCompletionsProvider",value:function(e,t,n){var r=new cd(e,this._documents,n,this._commands.converter),i=this._addNewAdapter(r,e);return this._proxy.$registerInlineCompletionsSupport(i,this._transformDocumentSelector(t),r.supportsHandleDidShowCompletionItem),this._createDisposable(i)}},{key:"registerInlineCompletionsProviderNew",value:function(e,t,n){var r=this._addNewAdapter(new ld(e,this._documents,n,this._commands.converter),e);return this._proxy.$registerInlineCompletionsSupport(r,this._transformDocumentSelector(t),!0),this._createDisposable(r)}},{key:"$provideInlineCompletions",value:function(e,t,n,r,i){return this._withAdapter(e,ud,(function(e){return e.provideInlineCompletions(R.o.revive(t),n,r,i)}),void 0,i)}},{key:"$handleInlineCompletionDidShow",value:function(e,t,n){this._withAdapter(e,ud,function(){var e=Oi(Ti().mark((function e(r){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.handleDidShowCompletionItem(t,n);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),void 0,void 0)}},{key:"$freeInlineCompletionsList",value:function(e,t){this._withAdapter(e,ud,function(){var e=Oi(Ti().mark((function e(n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.disposeCompletions(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),void 0,void 0)}},{key:"registerSignatureHelpProvider",value:function(e,t,n,r){var i=Array.isArray(r)?{triggerCharacters:r,retriggerCharacters:[]}:r,o=this._addNewAdapter(new dd(this._documents,n),e);return this._proxy.$registerSignatureHelpProvider(o,this._transformDocumentSelector(t),i),this._createDisposable(o)}},{key:"$provideSignatureHelp",value:function(e,t,n,r,i){return this._withAdapter(e,dd,(function(e){return e.provideSignatureHelp(R.o.revive(t),n,r,i)}),void 0,i)}},{key:"$releaseSignatureHelp",value:function(e,t){this._withAdapter(e,dd,(function(e){return e.releaseSignatureHelp(t)}),void 0,void 0)}},{key:"registerInlayHintsProvider",value:function(t,n,r){var i=this,o="function"==typeof r.onDidChangeInlayHints?this._nextHandle():void 0,a=this._addNewAdapter(new hd(this._documents,this._commands.converter,r,this._logService,t),t);this._proxy.$registerInlayHintsProvider(a,this._transformDocumentSelector(n),"function"==typeof r.resolveInlayHint,o,e._extLabel(t));var s=this._createDisposable(a);if(void 0!==o){var u=r.onDidChangeInlayHints((function(e){return i._proxy.$emitInlayHintsEvent(o)}));s=Bo.from(s,u)}return s}},{key:"$provideInlayHints",value:function(e,t,n,r){return this._withAdapter(e,hd,(function(e){return e.provideInlayHints(R.o.revive(t),n,r)}),void 0,r)}},{key:"$resolveInlayHint",value:function(e,t,n){return this._withAdapter(e,hd,(function(e){return e.resolveInlayHint(t,n)}),void 0,n)}},{key:"$releaseInlayHints",value:function(e,t){this._withAdapter(e,hd,(function(e){return e.releaseHints(t)}),void 0,void 0)}},{key:"registerDocumentLinkProvider",value:function(e,t,n){var r=this._addNewAdapter(new pd(this._documents,n),e);return this._proxy.$registerDocumentLinkProvider(r,this._transformDocumentSelector(t),"function"==typeof n.resolveDocumentLink),this._createDisposable(r)}},{key:"$provideDocumentLinks",value:function(e,t,n){return this._withAdapter(e,pd,(function(e){return e.provideLinks(R.o.revive(t),n)}),void 0,n,"output"===t.scheme)}},{key:"$resolveDocumentLink",value:function(e,t,n){return this._withAdapter(e,pd,(function(e){return e.resolveLink(t,n)}),void 0,void 0,!0)}},{key:"$releaseDocumentLinks",value:function(e,t){this._withAdapter(e,pd,(function(e){return e.releaseLinks(t)}),void 0,void 0,!0)}},{key:"registerColorProvider",value:function(e,t,n){var r=this._addNewAdapter(new vd(this._documents,n),e);return this._proxy.$registerDocumentColorProvider(r,this._transformDocumentSelector(t)),this._createDisposable(r)}},{key:"$provideDocumentColors",value:function(e,t,n){return this._withAdapter(e,vd,(function(e){return e.provideColors(R.o.revive(t),n)}),[],n)}},{key:"$provideColorPresentations",value:function(e,t,n,r){return this._withAdapter(e,vd,(function(e){return e.provideColorPresentations(R.o.revive(t),n,r)}),void 0,r)}},{key:"registerFoldingRangeProvider",value:function(e,t,n){var r=this,i=this._nextHandle(),o="function"==typeof n.onDidChangeFoldingRanges?this._nextHandle():void 0;this._adapter.set(i,new _d(new yd(this._documents,n),e)),this._proxy.$registerFoldingRangeProvider(i,this._transformDocumentSelector(t),o);var a=this._createDisposable(i);if(void 0!==o){var s=n.onDidChangeFoldingRanges((function(){return r._proxy.$emitFoldingRangeEvent(o)}));a=Bo.from(a,s)}return a}},{key:"$provideFoldingRanges",value:function(e,t,n,r){return this._withAdapter(e,yd,(function(e){return e.provideFoldingRanges(R.o.revive(t),n,r)}),void 0,r)}},{key:"registerSelectionRangeProvider",value:function(e,t,n){var r=this._addNewAdapter(new gd(this._documents,n,this._logService),e);return this._proxy.$registerSelectionRangeProvider(r,this._transformDocumentSelector(t)),this._createDisposable(r)}},{key:"$provideSelectionRanges",value:function(e,t,n,r){return this._withAdapter(e,gd,(function(e){return e.provideSelectionRanges(R.o.revive(t),n,r)}),[],r)}},{key:"registerCallHierarchyProvider",value:function(e,t,n){var r=this._addNewAdapter(new md(this._documents,n),e);return this._proxy.$registerCallHierarchyProvider(r,this._transformDocumentSelector(t)),this._createDisposable(r)}},{key:"$prepareCallHierarchy",value:function(e,t,n,r){return this._withAdapter(e,md,(function(e){return Promise.resolve(e.prepareSession(R.o.revive(t),n,r))}),void 0,r)}},{key:"$provideCallHierarchyIncomingCalls",value:function(e,t,n,r){return this._withAdapter(e,md,(function(e){return e.provideCallsTo(t,n,r)}),void 0,r)}},{key:"$provideCallHierarchyOutgoingCalls",value:function(e,t,n,r){return this._withAdapter(e,md,(function(e){return e.provideCallsFrom(t,n,r)}),void 0,r)}},{key:"$releaseCallHierarchy",value:function(e,t){this._withAdapter(e,md,(function(e){return Promise.resolve(e.releaseSession(t))}),void 0,void 0)}},{key:"registerTypeHierarchyProvider",value:function(e,t,n){var r=this._addNewAdapter(new bd(this._documents,n),e);return this._proxy.$registerTypeHierarchyProvider(r,this._transformDocumentSelector(t)),this._createDisposable(r)}},{key:"$prepareTypeHierarchy",value:function(e,t,n,r){return this._withAdapter(e,bd,(function(e){return Promise.resolve(e.prepareSession(R.o.revive(t),n,r))}),void 0,r)}},{key:"$provideTypeHierarchySupertypes",value:function(e,t,n,r){return this._withAdapter(e,bd,(function(e){return e.provideSupertypes(t,n,r)}),void 0,r)}},{key:"$provideTypeHierarchySubtypes",value:function(e,t,n,r){return this._withAdapter(e,bd,(function(e){return e.provideSubtypes(t,n,r)}),void 0,r)}},{key:"$releaseTypeHierarchy",value:function(e,t){this._withAdapter(e,bd,(function(e){return Promise.resolve(e.releaseSession(t))}),void 0,void 0)}},{key:"registerDocumentOnDropEditProvider",value:function(e,t,n){var r=this._nextHandle();return this._adapter.set(r,new _d(new wd(this._proxy,this._documents,n,r),e)),this._proxy.$registerDocumentOnDropEditProvider(r,this._transformDocumentSelector(t)),this._createDisposable(r)}},{key:"$provideDocumentOnDropEdits",value:function(e,t,n,r,i,o){return this._withAdapter(e,wd,(function(e){return Promise.resolve(e.provideDocumentOnDropEdits(t,R.o.revive(n),r,i,o))}),void 0,void 0)}},{key:"registerDocumentPasteEditProvider",value:function(e,t,n,r){var i=this._nextHandle();return this._adapter.set(i,new _d(new Zf(this._proxy,this._documents,n,i),e)),this._proxy.$registerPasteEditProvider(i,this._transformDocumentSelector(t),!!n.prepareDocumentPaste,r.pasteMimeTypes),this._createDisposable(i)}},{key:"$prepareDocumentPaste",value:function(e,t,n,r,i){return this._withAdapter(e,Zf,(function(e){return e.prepareDocumentPaste(R.o.revive(t),n,r,i)}),void 0,i)}},{key:"$providePasteEdits",value:function(e,t,n,r,i,o){return this._withAdapter(e,Zf,(function(e){return e.providePasteEdits(t,R.o.revive(n),r,i,o)}),void 0,o)}},{key:"setLanguageConfiguration",value:function(t,n,r){var i=r.wordPattern;if(i&&(0,L.IO)(i))throw new Error("Invalid language configuration: wordPattern '".concat(i,"' is not allowed to match the empty string."));i?this._documents.setWordDefinitionFor(n,i):this._documents.setWordDefinitionFor(n,void 0),r.__electricCharacterSupport&&this._apiDeprecation.report("LanguageConfiguration.__electricCharacterSupport",t,"Do not use."),r.__characterPairSupport&&this._apiDeprecation.report("LanguageConfiguration.__characterPairSupport",t,"Do not use.");var o=this._nextHandle(),a={comments:r.comments,brackets:r.brackets,wordPattern:r.wordPattern?e._serializeRegExp(r.wordPattern):void 0,indentationRules:r.indentationRules?e._serializeIndentationRule(r.indentationRules):void 0,onEnterRules:r.onEnterRules?e._serializeOnEnterRules(r.onEnterRules):void 0,__electricCharacterSupport:r.__electricCharacterSupport,__characterPairSupport:r.__characterPairSupport};return this._proxy.$setLanguageConfiguration(o,n,a),this._createDisposable(o)}},{key:"$setWordDefinitions",value:function(e){var t,n=Ui(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._documents.setWordDefinitionFor(r.languageId,new RegExp(r.regexSource,r.regexFlags))}}catch(e){n.e(e)}finally{n.f()}}}],[{key:"_extLabel",value:function(e){return e.displayName||e.name}},{key:"_serializeRegExp",value:function(e){return{pattern:e.source,flags:(0,L.mr)(e)}}},{key:"_serializeIndentationRule",value:function(t){return{decreaseIndentPattern:e._serializeRegExp(t.decreaseIndentPattern),increaseIndentPattern:e._serializeRegExp(t.increaseIndentPattern),indentNextLinePattern:t.indentNextLinePattern?e._serializeRegExp(t.indentNextLinePattern):void 0,unIndentedLinePattern:t.unIndentedLinePattern?e._serializeRegExp(t.unIndentedLinePattern):void 0}}},{key:"_serializeOnEnterRule",value:function(t){return{beforeText:e._serializeRegExp(t.beforeText),afterText:t.afterText?e._serializeRegExp(t.afterText):void 0,previousLineText:t.previousLineText?e._serializeRegExp(t.previousLineText):void 0,action:t.action}}},{key:"_serializeOnEnterRules",value:function(t){return t.map(e._serializeOnEnterRule)}}]),e}();kd._handlePool=0;var Sd,xd=function(){function e(){zi(this,e),this.requestIdPool=0,this.dataTransfers=new Map}var t;return Ji(e,[{key:"add",value:function(e){var t=this,n=this.requestIdPool++;return this.dataTransfers.set(n,Ki(e.values())),{id:n,dispose:function(){t.dataTransfers.delete(n)}}}},{key:"resolveDropFileData",value:(t=Oi(Ti().mark((function e(t,n){var r,i,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.dataTransfers.get(t)){e.next=3;break}throw new Error("No data transfer found");case 3:if(o=null===(r=i[n])||void 0===r?void 0:r.asFile()){e.next=6;break}throw new Error("No file item found in data transfer");case 6:return e.t0=f.KN,e.next=9,o.data();case 9:return e.t1=e.sent,e.abrupt("return",e.t0.wrap.call(e.t0,e.t1));case 11:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"dispose",value:function(){this.dataTransfers.clear()}}]),e}(),Cd=new Bn.c;!function(e){var t=[];e.register=function(e){var n=e;return n&&t.push(n),{dispose:function(){if(n){var e=t.indexOf(n);e>=0&&(t.splice(e,1),n=void 0)}}}},e.all=function(){return t.slice(0)}}(Sd||(Sd={}));var Ed,Dd=new Bn.c,Td=Ed=function(e){Ri(r,e);var t,n=Li(r);function r(e,t,i,o){var a;if(zi(this,r),(a=n.call(this))._languageService=t,a._languageConfigurationService=i,a._languageFeaturesService=o,a._registrations=new Map,a._pasteEditProviders=new Map,a._documentOnDropEditProviders=new Map,a._proxy=e.getProxy(Uc.ExtHostLanguageFeatures),a._languageService){var s=function(){var e,n=[],r=Ui(t.getRegisteredLanguageIds());try{for(r.s();!(e=r.n()).done;){var i=e.value,o=a._languageConfigurationService.getLanguageConfiguration(i).getWordDefinition();n.push({languageId:i,regexSource:o.source,regexFlags:o.flags})}}catch(e){r.e(e)}finally{r.f()}a._proxy.$setWordDefinitions(n)};a._languageConfigurationService.onDidChange((function(e){if(e.languageId){var t=a._languageConfigurationService.getLanguageConfiguration(e.languageId).getWordDefinition();a._proxy.$setWordDefinitions([{languageId:e.languageId,regexSource:t.source,regexFlags:t.flags}])}else s()})),s()}return a}return Ji(r,[{key:"dispose",value:function(){var e,t=Ui(this._registrations.values());try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(e){t.e(e)}finally{t.f()}this._registrations.clear(),xi(Fi(r.prototype),"dispose",this).call(this)}},{key:"$unregister",value:function(e){var t=this._registrations.get(e);t&&(t.dispose(),this._registrations.delete(e))}},{key:"$registerDocumentSymbolProvider",value:function(e,t,n){var r=this;this._registrations.set(e,this._languageFeaturesService.documentSymbolProvider.register(t,{displayName:n,provideDocumentSymbols:function(t,n){return r._proxy.$provideDocumentSymbols(e,t.uri,n)}}))}},{key:"$registerCodeLensSupport",value:function(e,t,n){var r,i=this,o={provideCodeLenses:(r=Oi(Ti().mark((function t(n,r){var o;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i._proxy.$provideCodeLenses(e,n.uri,r);case 2:if(o=t.sent){t.next=5;break}return t.abrupt("return",void 0);case 5:return t.abrupt("return",{lenses:o.lenses,dispose:function(){return o.cacheId&&i._proxy.$releaseCodeLenses(e,o.cacheId)}});case 6:case"end":return t.stop()}}),t)}))),function(e,t){return r.apply(this,arguments)}),resolveCodeLens:function(t,n,r){return i._proxy.$resolveCodeLens(e,n,r)}};if("number"==typeof n){var a=new k.E;this._registrations.set(n,a),o.onDidChange=a.event}this._registrations.set(e,this._languageFeaturesService.codeLensProvider.register(t,o))}},{key:"$emitCodeLensEvent",value:function(e,t){var n=this._registrations.get(e);n instanceof k.E&&n.fire(t)}},{key:"$registerDefinitionSupport",value:function(e,t){var n=this;this._registrations.set(e,this._languageFeaturesService.definitionProvider.register(t,{provideDefinition:function(t,r,i){return n._proxy.$provideDefinition(e,t.uri,r,i).then(Ed._reviveLocationLinkDto)}}))}},{key:"$registerDeclarationSupport",value:function(e,t){var n=this;this._registrations.set(e,this._languageFeaturesService.declarationProvider.register(t,{provideDeclaration:function(t,r,i){return n._proxy.$provideDeclaration(e,t.uri,r,i).then(Ed._reviveLocationLinkDto)}}))}},{key:"$registerImplementationSupport",value:function(e,t){var n=this;this._registrations.set(e,this._languageFeaturesService.implementationProvider.register(t,{provideImplementation:function(t,r,i){return n._proxy.$provideImplementation(e,t.uri,r,i).then(Ed._reviveLocationLinkDto)}}))}},{key:"$registerTypeDefinitionSupport",value:function(e,t){var n=this;this._registrations.set(e,this._languageFeaturesService.typeDefinitionProvider.register(t,{provideTypeDefinition:function(t,r,i){return n._proxy.$provideTypeDefinition(e,t.uri,r,i).then(Ed._reviveLocationLinkDto)}}))}},{key:"$registerHoverProvider",value:function(e,t){var n=this;this._registrations.set(e,this._languageFeaturesService.hoverProvider.register(t,{provideHover:function(t,r,i){return n._proxy.$provideHover(e,t.uri,r,i)}}))}},{key:"$registerEvaluatableExpressionProvider",value:function(e,t){var n=this;this._registrations.set(e,this._languageFeaturesService.evaluatableExpressionProvider.register(t,{provideEvaluatableExpression:function(t,r,i){return n._proxy.$provideEvaluatableExpression(e,t.uri,r,i)}}))}},{key:"$registerInlineValuesProvider",value:function(e,t,n){var r=this,i={provideInlineValues:function(t,n,i,o){return r._proxy.$provideInlineValues(e,t.uri,n,i,o)}};if("number"==typeof n){var o=new k.E;this._registrations.set(n,o),i.onDidChangeInlineValues=o.event}this._registrations.set(e,this._languageFeaturesService.inlineValuesProvider.register(t,i))}},{key:"$emitInlineValuesEvent",value:function(e,t){var n=this._registrations.get(e);n instanceof k.E&&n.fire(t)}},{key:"$registerDocumentHighlightProvider",value:function(e,t){var n=this;this._registrations.set(e,this._languageFeaturesService.documentHighlightProvider.register(t,{provideDocumentHighlights:function(t,r,i){return n._proxy.$provideDocumentHighlights(e,t.uri,r,i)}}))}},{key:"$registerLinkedEditingRangeProvider",value:function(e,t){var n,r=this;this._registrations.set(e,this._languageFeaturesService.linkedEditingRangeProvider.register(t,{provideLinkedEditingRanges:(n=Oi(Ti().mark((function t(n,i,o){var a;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r._proxy.$provideLinkedEditingRanges(e,n.uri,i,o);case 2:if(!(a=t.sent)){t.next=5;break}return t.abrupt("return",{ranges:a.ranges,wordPattern:a.wordPattern?Ed._reviveRegExp(a.wordPattern):void 0});case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}}),t)}))),function(e,t,r){return n.apply(this,arguments)})}))}},{key:"$registerReferenceSupport",value:function(e,t){var n=this;this._registrations.set(e,this._languageFeaturesService.referenceProvider.register(t,{provideReferences:function(t,r,i,o){return n._proxy.$provideReferences(e,t.uri,r,i,o).then(Ed._reviveLocationDto)}}))}},{key:"$registerQuickFixSupport",value:function(e,t,n,r,i){var o,a=this,s={provideCodeActions:(o=Oi(Ti().mark((function t(n,r,i,o){var s;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a._proxy.$provideCodeActions(e,n.uri,r,i,o);case 2:if(s=t.sent){t.next=5;break}return t.abrupt("return",void 0);case 5:return t.abrupt("return",{actions:Ed._reviveCodeActionDto(s.actions),dispose:function(){"number"==typeof s.cacheId&&a._proxy.$releaseCodeActions(e,s.cacheId)}});case 6:case"end":return t.stop()}}),t)}))),function(e,t,n,r){return o.apply(this,arguments)}),providedCodeActionKinds:n.providedKinds,documentation:n.documentation,displayName:r};i&&(s.resolveCodeAction=function(){var t=Oi(Ti().mark((function t(n,r){var i;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a._proxy.$resolveCodeAction(e,n.cacheId,r);case 2:return i=t.sent,n.edit=Mc(i),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),this._registrations.set(e,this._languageFeaturesService.codeActionProvider.register(t,s))}},{key:"$registerPasteEditProvider",value:function(e,t,n,r){var i=this,o=new Pd(e,this._proxy,n,r);this._pasteEditProviders.set(e,o),this._registrations.set(e,(0,d.F8)(this._languageFeaturesService.documentPasteEditProvider.register(t,o),(0,d.OF)((function(){return i._pasteEditProviders.delete(e)}))))}},{key:"$resolvePasteFileData",value:function(e,t,n){var r=this._pasteEditProviders.get(e);if(!r)throw new Error("Could not find provider");return r.resolveFileData(t,n)}},{key:"$registerDocumentFormattingSupport",value:function(e,t,n,r){var i=this;this._registrations.set(e,this._languageFeaturesService.documentFormattingEditProvider.register(t,{extensionId:n,displayName:r,provideDocumentFormattingEdits:function(t,n,r){return i._proxy.$provideDocumentFormattingEdits(e,t.uri,n,r)}}))}},{key:"$registerRangeFormattingSupport",value:function(e,t,n,r){var i=this;this._registrations.set(e,this._languageFeaturesService.documentRangeFormattingEditProvider.register(t,{extensionId:n,displayName:r,provideDocumentRangeFormattingEdits:function(t,n,r,o){return i._proxy.$provideDocumentRangeFormattingEdits(e,t.uri,n,r,o)}}))}},{key:"$registerOnTypeFormattingSupport",value:function(e,t,n,r){var i=this;this._registrations.set(e,this._languageFeaturesService.onTypeFormattingEditProvider.register(t,{extensionId:r,autoFormatTriggerCharacters:n,provideOnTypeFormattingEdits:function(t,n,r,o,a){return i._proxy.$provideOnTypeFormattingEdits(e,t.uri,n,r,o,a)}}))}},{key:"$registerNavigateTypeSupport",value:function(e,t){var n,r,i=this,o={provideWorkspaceSymbols:(r=Oi(Ti().mark((function t(r,o){var a;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i._proxy.$provideWorkspaceSymbols(e,r,o);case 2:return a=t.sent,void 0!==n&&i._proxy.$releaseWorkspaceSymbols(e,n),n=a.cacheId,t.abrupt("return",Ed._reviveWorkspaceSymbolDto(a.symbols));case 6:case"end":return t.stop()}}),t)}))),function(e,t){return r.apply(this,arguments)})};t&&(o.resolveWorkspaceSymbol=function(){var t=Oi(Ti().mark((function t(n,r){var o;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i._proxy.$resolveWorkspaceSymbol(e,n,r);case 2:return o=t.sent,t.abrupt("return",o&&Ed._reviveWorkspaceSymbolDto(o));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),this._registrations.set(e,Sd.register(o))}},{key:"$registerRenameSupport",value:function(e,t,n){var r=this;this._registrations.set(e,this._languageFeaturesService.renameProvider.register(t,{provideRenameEdits:function(t,n,i,o){return r._proxy.$provideRenameEdits(e,t.uri,n,i,o).then(Mc)},resolveRenameLocation:n?function(t,n,i){return r._proxy.$resolveRenameLocation(e,t.uri,n,i)}:void 0}))}},{key:"$registerDocumentSemanticTokensProvider",value:function(e,t,n,r){var i=void 0;if("number"==typeof r){var o=new k.E;this._registrations.set(r,o),i=o.event}this._registrations.set(e,this._languageFeaturesService.documentSemanticTokensProvider.register(t,new Rd(this._proxy,e,n,i)))}},{key:"$emitDocumentSemanticTokensEvent",value:function(e){var t=this._registrations.get(e);t instanceof k.E&&t.fire(void 0)}},{key:"$registerDocumentRangeSemanticTokensProvider",value:function(e,t,n){this._registrations.set(e,this._languageFeaturesService.documentRangeSemanticTokensProvider.register(t,new Id(this._proxy,e,n)))}},{key:"$registerCompletionsProvider",value:function(e,t,n,r,i){var o,a=this,s={triggerCharacters:n,_debugDisplayName:i,provideCompletionItems:(o=Oi(Ti().mark((function t(n,r,i,o){var s;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a._proxy.$provideCompletionItems(e,n.uri,r,i,o);case 2:if(s=t.sent){t.next=5;break}return t.abrupt("return",s);case 5:return t.abrupt("return",{suggestions:s.b.map((function(e){return Ed._inflateSuggestDto(s.a,e)})),incomplete:s.c||!1,duration:s.d,dispose:function(){"number"==typeof s.x&&a._proxy.$releaseCompletionItems(e,s.x)}});case 6:case"end":return t.stop()}}),t)}))),function(e,t,n,r){return o.apply(this,arguments)})};r&&(s.resolveCompletionItem=function(t,n){return a._proxy.$resolveCompletionItem(e,t._id,n).then((function(e){if(!e)return t;var n=Ed._inflateSuggestDto(t.range,e);return(0,y.jB)(t,n,!0)}))}),this._registrations.set(e,this._languageFeaturesService.completionProvider.register(t,s))}},{key:"$registerInlineCompletionsSupport",value:function(e,t,n){var r,i,o=this,a={provideInlineCompletions:(i=Oi(Ti().mark((function t(n,r,i,a){return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o._proxy.$provideInlineCompletions(e,n.uri,r,i,a));case 1:case"end":return t.stop()}}),t)}))),function(e,t,n,r){return i.apply(this,arguments)}),handleItemDidShow:(r=Oi(Ti().mark((function t(r,i){return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,o._proxy.$handleInlineCompletionDidShow(e,r.pid,i.idx);case 3:case"end":return t.stop()}}),t)}))),function(e,t){return r.apply(this,arguments)}),freeInlineCompletions:function(t){o._proxy.$freeInlineCompletionsList(e,t.pid)}};this._registrations.set(e,this._languageFeaturesService.inlineCompletionsProvider.register(t,a))}},{key:"$registerSignatureHelpProvider",value:function(e,t,n){var r,i=this;this._registrations.set(e,this._languageFeaturesService.signatureHelpProvider.register(t,{signatureHelpTriggerCharacters:n.triggerCharacters,signatureHelpRetriggerCharacters:n.retriggerCharacters,provideSignatureHelp:(r=Oi(Ti().mark((function t(n,r,o,a){var s;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i._proxy.$provideSignatureHelp(e,n.uri,r,a,o);case 2:if(s=t.sent){t.next=5;break}return t.abrupt("return",void 0);case 5:return t.abrupt("return",{value:s,dispose:function(){i._proxy.$releaseSignatureHelp(e,s.id)}});case 6:case"end":return t.stop()}}),t)}))),function(e,t,n,i){return r.apply(this,arguments)})}))}},{key:"$registerInlayHintsProvider",value:function(e,t,n,r,i){var o,a=this,s={displayName:i,provideInlayHints:(o=Oi(Ti().mark((function t(n,r,i){var o;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a._proxy.$provideInlayHints(e,n.uri,r,i);case 2:if(o=t.sent){t.next=5;break}return t.abrupt("return");case 5:return t.abrupt("return",{hints:(0,xn.w)(o.hints),dispose:function(){o.cacheId&&a._proxy.$releaseInlayHints(e,o.cacheId)}});case 6:case"end":return t.stop()}}),t)}))),function(e,t,n){return o.apply(this,arguments)})};if(n&&(s.resolveInlayHint=function(){var t=Oi(Ti().mark((function t(n,r){var i,o;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n).cacheId){t.next=3;break}return t.abrupt("return",n);case 3:return t.next=5,a._proxy.$resolveInlayHint(e,i.cacheId,r);case 5:if(o=t.sent,!r.isCancellationRequested){t.next=8;break}throw new h.FU;case 8:if(o){t.next=10;break}return t.abrupt("return",n);case 10:return t.abrupt("return",Hi(Hi({},n),{},{tooltip:o.tooltip,label:(0,xn.w)(o.label)}));case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),"number"==typeof r){var u=new k.E;this._registrations.set(r,u),s.onDidChangeInlayHints=u.event}this._registrations.set(e,this._languageFeaturesService.inlayHintsProvider.register(t,s))}},{key:"$emitInlayHintsEvent",value:function(e){var t=this._registrations.get(e);t instanceof k.E&&t.fire(void 0)}},{key:"$registerDocumentLinkProvider",value:function(e,t,n){var r=this,i={provideLinks:function(t,n){return r._proxy.$provideDocumentLinks(e,t.uri,n).then((function(t){if(t)return{links:t.links.map(Ed._reviveLinkDTO),dispose:function(){"number"==typeof t.cacheId&&r._proxy.$releaseDocumentLinks(e,t.cacheId)}}}))}};n&&(i.resolveLink=function(t,n){var i=t;return i.cacheId?r._proxy.$resolveDocumentLink(e,i.cacheId,n).then((function(e){return e&&Ed._reviveLinkDTO(e)})):t}),this._registrations.set(e,this._languageFeaturesService.linkProvider.register(t,i))}},{key:"$registerDocumentColorProvider",value:function(e,t){var n=this._proxy;this._registrations.set(e,this._languageFeaturesService.colorProvider.register(t,{provideDocumentColors:function(t,r){return n.$provideDocumentColors(e,t.uri,r).then((function(e){return e.map((function(e){var t=Mi(e.color,4);return{color:{red:t[0],green:t[1],blue:t[2],alpha:t[3]},range:e.range}}))}))},provideColorPresentations:function(t,r,i){return n.$provideColorPresentations(e,t.uri,{color:[r.color.red,r.color.green,r.color.blue,r.color.alpha],range:r.range},i)}}))}},{key:"$registerFoldingRangeProvider",value:function(e,t,n){var r=this,i={provideFoldingRanges:function(t,n,i){return r._proxy.$provideFoldingRanges(e,t.uri,n,i)}};if("number"==typeof n){var o=new k.E;this._registrations.set(n,o),i.onDidChange=o.event}this._registrations.set(e,this._languageFeaturesService.foldingRangeProvider.register(t,i))}},{key:"$emitFoldingRangeEvent",value:function(e,t){var n=this._registrations.get(e);n instanceof k.E&&n.fire(t)}},{key:"$registerSelectionRangeProvider",value:function(e,t){var n=this;this._registrations.set(e,this._languageFeaturesService.selectionRangeProvider.register(t,{provideSelectionRanges:function(t,r,i){return n._proxy.$provideSelectionRanges(e,t.uri,r,i)}}))}},{key:"$registerCallHierarchyProvider",value:function(e,t){var n,r,i,o=this;this._registrations.set(e,Cd.register(t,{prepareCallHierarchy:(i=Oi(Ti().mark((function t(n,r,i){var a;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o._proxy.$prepareCallHierarchy(e,n.uri,r,i);case 2:if((a=t.sent)&&0!==a.length){t.next=5;break}return t.abrupt("return",void 0);case 5:return t.abrupt("return",{dispose:function(){var t,n=Ui(a);try{for(n.s();!(t=n.n()).done;){var r=t.value;o._proxy.$releaseCallHierarchy(e,r._sessionId)}}catch(e){n.e(e)}finally{n.f()}},roots:a.map(Ed._reviveCallHierarchyItemDto)});case 6:case"end":return t.stop()}}),t)}))),function(e,t,n){return i.apply(this,arguments)}),provideOutgoingCalls:(r=Oi(Ti().mark((function t(n,r){var i;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o._proxy.$provideCallHierarchyOutgoingCalls(e,n._sessionId,n._itemId,r);case 2:if(i=t.sent){t.next=5;break}return t.abrupt("return",i);case 5:return i.forEach((function(e){e.to=Ed._reviveCallHierarchyItemDto(e.to)})),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)}))),function(e,t){return r.apply(this,arguments)}),provideIncomingCalls:(n=Oi(Ti().mark((function t(n,r){var i;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o._proxy.$provideCallHierarchyIncomingCalls(e,n._sessionId,n._itemId,r);case 2:if(i=t.sent){t.next=5;break}return t.abrupt("return",i);case 5:return i.forEach((function(e){e.from=Ed._reviveCallHierarchyItemDto(e.from)})),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)}))),function(e,t){return n.apply(this,arguments)})}))}},{key:"$setLanguageConfiguration",value:function(e,t,n){var r={comments:n.comments,brackets:n.brackets,wordPattern:n.wordPattern?Ed._reviveRegExp(n.wordPattern):void 0,indentationRules:n.indentationRules?Ed._reviveIndentationRule(n.indentationRules):void 0,onEnterRules:n.onEnterRules?Ed._reviveOnEnterRules(n.onEnterRules):void 0,autoClosingPairs:void 0,surroundingPairs:void 0,__electricCharacterSupport:void 0};n.__characterPairSupport&&(r.autoClosingPairs=n.__characterPairSupport.autoClosingPairs),n.__electricCharacterSupport&&n.__electricCharacterSupport.docComment&&(r.__electricCharacterSupport={docComment:{open:n.__electricCharacterSupport.docComment.open,close:n.__electricCharacterSupport.docComment.close}}),this._languageService.isRegisteredLanguageId(t)&&this._registrations.set(e,this._languageConfigurationService.register(t,r,100))}},{key:"$registerTypeHierarchyProvider",value:function(e,t){var n,r,i,o=this;this._registrations.set(e,Dd.register(t,{prepareTypeHierarchy:(i=Oi(Ti().mark((function t(n,r,i){var a;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o._proxy.$prepareTypeHierarchy(e,n.uri,r,i);case 2:if(a=t.sent){t.next=5;break}return t.abrupt("return",void 0);case 5:return t.abrupt("return",{dispose:function(){var t,n=Ui(a);try{for(n.s();!(t=n.n()).done;){var r=t.value;o._proxy.$releaseTypeHierarchy(e,r._sessionId)}}catch(e){n.e(e)}finally{n.f()}},roots:a.map(Ed._reviveTypeHierarchyItemDto)});case 6:case"end":return t.stop()}}),t)}))),function(e,t,n){return i.apply(this,arguments)}),provideSupertypes:(r=Oi(Ti().mark((function t(n,r){var i;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o._proxy.$provideTypeHierarchySupertypes(e,n._sessionId,n._itemId,r);case 2:if(i=t.sent){t.next=5;break}return t.abrupt("return",i);case 5:return t.abrupt("return",i.map(Ed._reviveTypeHierarchyItemDto));case 6:case"end":return t.stop()}}),t)}))),function(e,t){return r.apply(this,arguments)}),provideSubtypes:(n=Oi(Ti().mark((function t(n,r){var i;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o._proxy.$provideTypeHierarchySubtypes(e,n._sessionId,n._itemId,r);case 2:if(i=t.sent){t.next=5;break}return t.abrupt("return",i);case 5:return t.abrupt("return",i.map(Ed._reviveTypeHierarchyItemDto));case 6:case"end":return t.stop()}}),t)}))),function(e,t){return n.apply(this,arguments)})}))}},{key:"$registerDocumentOnDropEditProvider",value:function(e,t){var n=this,r=new Od(e,this._proxy);this._documentOnDropEditProviders.set(e,r),this._registrations.set(e,(0,d.F8)(this._languageFeaturesService.documentOnDropEditProvider.register(t,r),(0,d.OF)((function(){return n._documentOnDropEditProviders.delete(e)}))))}},{key:"$resolveDocumentOnDropFileData",value:(t=Oi(Ti().mark((function e(t,n,r){var i;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this._documentOnDropEditProviders.get(t)){e.next=3;break}throw new Error("Could not find provider");case 3:return e.abrupt("return",i.resolveDocumentOnDropFileData(n,r));case 4:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}],[{key:"_reviveLocationDto",value:function(e){return e?Array.isArray(e)?(e.forEach((function(e){return Ed._reviveLocationDto(e)})),e):(e.uri=R.o.revive(e.uri),e):e}},{key:"_reviveLocationLinkDto",value:function(e){return e?Array.isArray(e)?(e.forEach((function(e){return Ed._reviveLocationLinkDto(e)})),e):(e.uri=R.o.revive(e.uri),e):e}},{key:"_reviveWorkspaceSymbolDto",value:function(e){return e?Array.isArray(e)?(e.forEach(Ed._reviveWorkspaceSymbolDto),e):(e.location=Ed._reviveLocationDto(e.location),e):e}},{key:"_reviveCodeActionDto",value:function(e){return null==e||e.forEach((function(e){return Mc(e.edit)})),e}},{key:"_reviveLinkDTO",value:function(e){return e.url&&"string"!=typeof e.url&&(e.url=R.o.revive(e.url)),e}},{key:"_reviveCallHierarchyItemDto",value:function(e){return e&&(e.uri=R.o.revive(e.uri)),e}},{key:"_reviveTypeHierarchyItemDto",value:function(e){return e&&(e.uri=R.o.revive(e.uri)),e}},{key:"_inflateSuggestDto",value:function(e,t){var n,r,i,o=t.a;return{label:o,kind:null!==(n=t.b)&&void 0!==n?n:9,tags:t.n,detail:t.c,documentation:t.d,sortText:t.e,filterText:t.f,preselect:t.g,insertText:null!==(r=t.h)&&void 0!==r?r:"string"==typeof o?o:o.label,range:null!==(i=t.j)&&void 0!==i?i:e,insertTextRules:t.i,commitCharacters:t.k,additionalTextEdits:t.l,command:t.m,_id:t.x}}},{key:"_reviveRegExp",value:function(e){return new RegExp(e.pattern,e.flags)}},{key:"_reviveIndentationRule",value:function(e){return{decreaseIndentPattern:Ed._reviveRegExp(e.decreaseIndentPattern),increaseIndentPattern:Ed._reviveRegExp(e.increaseIndentPattern),indentNextLinePattern:e.indentNextLinePattern?Ed._reviveRegExp(e.indentNextLinePattern):void 0,unIndentedLinePattern:e.unIndentedLinePattern?Ed._reviveRegExp(e.unIndentedLinePattern):void 0}}},{key:"_reviveOnEnterRule",value:function(e){return{beforeText:Ed._reviveRegExp(e.beforeText),afterText:e.afterText?Ed._reviveRegExp(e.afterText):void 0,previousLineText:e.previousLineText?Ed._reviveRegExp(e.previousLineText):void 0,action:e.action}}},{key:"_reviveOnEnterRules",value:function(e){return e.map(Ed._reviveOnEnterRule)}}]),r}(d.JT);Td=Ed=(0,k._)([zc(Wc.MainThreadLanguageFeatures),(0,k.a)(1,ri.O),(0,k.a)(2,_i.c_),(0,k.a)(3,ki.p)],Td);var Pd=function(){function e(t,n,r,i){var o=this;zi(this,e),this.handle=t,this._proxy=n,this.dataTransfers=new xd,this.pasteMimeTypes=i,r&&(this.prepareDocumentPaste=function(){var e=Oi(Ti().mark((function e(n,r,i,a){var s,u,c;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kc.toDataTransferDTO(i);case 2:if(s=e.sent,!a.isCancellationRequested){e.next=5;break}return e.abrupt("return",void 0);case 5:return e.next=7,o._proxy.$prepareDocumentPaste(t,n.uri,r,s,a);case 7:if(u=e.sent){e.next=10;break}return e.abrupt("return",void 0);case 10:return c=new Si.Hl,u.items.forEach((function(e){var t=Mi(e,2),n=t[0],r=t[1];c.replace(n,(0,Si.ZO)(r.asString))})),e.abrupt("return",c);case 13:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}())}var t;return Ji(e,[{key:"provideDocumentPasteEdits",value:(t=Oi(Ti().mark((function e(t,n,r,i){var o,a,s;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.dataTransfers.add(r),e.prev=1,e.next=4,kc.toDataTransferDTO(r);case 4:return a=e.sent,e.next=7,this._proxy.$providePasteEdits(this.handle,o.id,t.uri,n,a,i);case 7:if(s=e.sent){e.next=10;break}return e.abrupt("return",void 0);case 10:return e.abrupt("return",{insertText:s.insertText,additionalEdit:s.additionalEdit?Mc(s.additionalEdit):void 0});case 11:return e.prev=11,o.dispose(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[1,,11,14]])}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"resolveFileData",value:function(e,t){return this.dataTransfers.resolveDropFileData(e,t)}}]),e}(),Od=function(){function e(t,n){zi(this,e),this.handle=t,this._proxy=n,this.dataTransfers=new xd}var t;return Ji(e,[{key:"provideDocumentOnDropEdits",value:(t=Oi(Ti().mark((function e(t,n,r,i){var o,a,s;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.dataTransfers.add(r),e.prev=1,e.next=4,kc.toDataTransferDTO(r);case 4:return a=e.sent,e.next=7,this._proxy.$provideDocumentOnDropEdits(this.handle,o.id,t.uri,n,a,i);case 7:if(s=e.sent){e.next=10;break}return e.abrupt("return",void 0);case 10:return e.abrupt("return",{insertText:s.insertText,additionalEdit:Mc(s.additionalEdit)});case 11:return e.prev=11,o.dispose(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[1,,11,14]])}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"resolveDocumentOnDropFileData",value:function(e,t){return this.dataTransfers.resolveDropFileData(e,t)}}]),e}(),Rd=function(){function e(t,n,r,i){zi(this,e),this._proxy=t,this._handle=n,this._legend=r,this.onDidChange=i}var t;return Ji(e,[{key:"releaseDocumentSemanticTokens",value:function(e){e&&this._proxy.$releaseDocumentSemanticTokens(this._handle,parseInt(e,10))}},{key:"getLegend",value:function(){return this._legend}},{key:"provideDocumentSemanticTokens",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n?parseInt(n,10):0,e.next=3,this._proxy.$provideDocumentSemanticTokens(this._handle,t.uri,i,r);case 3:if(o=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:if(!r.isCancellationRequested){e.next=8;break}return e.abrupt("return",null);case 8:if("full"!==(a=Nf(o)).type){e.next=11;break}return e.abrupt("return",{resultId:String(a.id),data:a.data});case 11:return e.abrupt("return",{resultId:String(a.id),edits:a.deltas});case 12:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}(),Id=function(){function e(t,n,r){zi(this,e),this._proxy=t,this._handle=n,this._legend=r}var t;return Ji(e,[{key:"getLegend",value:function(){return this._legend}},{key:"provideDocumentRangeSemanticTokens",value:(t=Oi(Ti().mark((function e(t,n,r){var i,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._proxy.$provideDocumentRangeSemanticTokens(this._handle,t.uri,n,r);case 2:if(i=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:if(!r.isCancellationRequested){e.next=7;break}return e.abrupt("return",null);case 7:if("full"!==(o=Nf(i)).type){e.next=10;break}return e.abrupt("return",{resultId:String(o.id),data:o.data});case 10:throw new Error("Unexpected");case 11:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}();function Ld(e,t){if(t){for(var n=t.split("."),r=e,i=0;r&&i<n.length;i++)r=r[n[i]];return r}}function jd(e){return e instanceof R.o?{resource:e}:function(e){return e&&e.uri instanceof R.o&&e.languageId&&"string"==typeof e.languageId}(e)?{resource:e.uri,overrideIdentifier:e.languageId}:function(e){return e&&!e.uri&&e.languageId&&"string"==typeof e.languageId}(e)?{overrideIdentifier:e.languageId}:function(e){return e&&e.uri instanceof R.o&&(!e.name||"string"==typeof e.name)&&(!e.index||"number"==typeof e.index)}(e)?{resource:e.uri}:null===e?{resource:null}:void 0}var Ad=function(){function e(t,n,r,i){zi(this,e),this._onDidChangeConfiguration=new k.E,this._proxy=t,this._logService=i,this._extHostWorkspace=n,this._configuration=P.VK.parse(r),this._configurationScopes=this._toMap(r.configurationScopes)}return Ji(e,[{key:"onDidChangeConfiguration",get:function(){return this._onDidChangeConfiguration&&this._onDidChangeConfiguration.event}},{key:"$acceptConfigurationChanged",value:function(e,t){var n={data:this._configuration.toData(),workspace:this._extHostWorkspace.workspace};this._configuration=P.VK.parse(e),this._configurationScopes=this._toMap(e.configurationScopes),this._onDidChangeConfiguration.fire(this._toConfigurationChangeEvent(t,n))}},{key:"getConfiguration",value:function(e,t,n){var r=this,i=jd(t)||{},o=this._toReadonlyValue(e?Ld(this._configuration.getValue(void 0,i,this._extHostWorkspace.workspace),e):this._configuration.getValue(void 0,i,this._extHostWorkspace.workspace));e&&this._validateConfigurationAccess(e,i,null==n?void 0:n.identifier);var a={has:function(e){return void 0!==Ld(o,e)},get:function(t,a){r._validateConfigurationAccess(e?"".concat(e,".").concat(t):t,i,null==n?void 0:n.identifier);var s=Ld(o,t);if(void 0===s)s=a;else{var u=void 0;s=function e(t,n){var r=void 0,i=function(){u=u||(0,y.I8)(o),r=r||Ld(u,n)};return(0,b.Kn)(t)?new Proxy(t,{get:function(t,o){if("string"==typeof o&&"tojson"===o.toLowerCase())return i(),function(){return r};if(u)return(r=r||Ld(u,n))[o];var a=t[o];return"string"==typeof o?e(a,"".concat(n,".").concat(o)):a},set:function(e,t,n){return i(),r&&(r[t]=n),!0},deleteProperty:function(e,t){return i(),r&&delete r[t],!0},defineProperty:function(e,t,n){return i(),r&&Object.defineProperty(r,t,n),!0}}):t}(s,t)}return s},update:function(t,n,o,a){t=e?"".concat(e,".").concat(t):t;var s=function(e){if(null==e)return null;if("boolean"==typeof e)return e?2:5;switch(e){case vs.Global:return 2;case vs.Workspace:return 5;case vs.WorkspaceFolder:return 6}}(o);return void 0!==n?r._proxy.$updateConfigurationOption(s,t,n,i,a):r._proxy.$removeConfigurationOption(s,t,i,a)},inspect:function(t){t=e?"".concat(e,".").concat(t):t;var n,o,a,s,u,c,l,f,d,h,p,v,g,m,b=(0,y.I8)(r._configuration.inspect(t,i,r._extHostWorkspace.workspace));if(b)return{key:t,defaultValue:null!==(n=null===(o=b.policy)||void 0===o?void 0:o.value)&&void 0!==n?n:null===(a=b.default)||void 0===a?void 0:a.value,globalValue:null!==(s=null===(u=b.user)||void 0===u?void 0:u.value)&&void 0!==s?s:null===(c=b.application)||void 0===c?void 0:c.value,workspaceValue:null===(l=b.workspace)||void 0===l?void 0:l.value,workspaceFolderValue:null===(f=b.workspaceFolder)||void 0===f?void 0:f.value,defaultLanguageValue:null===(d=b.default)||void 0===d?void 0:d.override,globalLanguageValue:null!==(h=null===(p=b.user)||void 0===p?void 0:p.override)&&void 0!==h?h:null===(v=b.application)||void 0===v?void 0:v.override,workspaceLanguageValue:null===(g=b.workspace)||void 0===g?void 0:g.override,workspaceFolderLanguageValue:null===(m=b.workspaceFolder)||void 0===m?void 0:m.override,languageIds:b.overrideIdentifiers}}};return"object"===Vi(o)&&(0,y.jB)(a,o,!1),Object.freeze(a)}},{key:"_toReadonlyValue",value:function(e){return function e(t){return(0,b.Kn)(t)?new Proxy(t,{get:function(t,n){return e(t[n])},set:function(e,t,n){throw new Error("TypeError: Cannot assign to read only property '".concat(String(t),"' of object"))},deleteProperty:function(e,t){throw new Error("TypeError: Cannot delete read only property '".concat(String(t),"' of object"))},defineProperty:function(e,t){throw new Error("TypeError: Cannot define property '".concat(String(t),"' for a readonly object"))},setPrototypeOf:function(e){throw new Error("TypeError: Cannot set prototype for a readonly object")},isExtensible:function(){return!1},preventExtensions:function(){return!0}}):t}(e)}},{key:"_validateConfigurationAccess",value:function(e,t,n){var r=j.eU.test(e)?4:this._configurationScopes.get(e),i=n?"[".concat(n.value,"] "):"";4!==r?3!==r||null!=t&&t.resource&&this._logService.warn("".concat(i,"Accessing a window scoped configuration for a resource is not expected. To associate '").concat(e,"' to a resource, define its scope to 'resource' in configuration contributions in 'package.json'.")):void 0===(null==t?void 0:t.resource)&&this._logService.warn("".concat(i,"Accessing a resource scoped configuration without providing a resource is not expected. To get the effective value for '").concat(e,"', provide the URI of a resource or 'null' for any resource."))}},{key:"_toConfigurationChangeEvent",value:function(e,t){var n=new P.YX(e,t,this._configuration,this._extHostWorkspace.workspace);return Object.freeze({affectsConfiguration:function(e,t){return n.affectsConfiguration(e,jd(t))}})}},{key:"_toMap",value:function(e){return e.reduce((function(e,t){return e.set(t[0],t[1]),e}),new Map)}}]),e}(),Nd=function(){function e(t,n,r,i){var o=this;zi(this,e),this._workspaceContextService=n,this.configurationService=r,this._environmentService=i;var a=t.getProxy(Uc.ExtHostConfiguration);a.$initializeConfiguration(this._getConfigurationData()),this._configurationListener=r.onDidChangeConfiguration((function(e){a.$acceptConfigurationChanged(o._getConfigurationData(),e.change)}))}return Ji(e,[{key:"_getConfigurationData",value:function(){var e=Hi(Hi({},this.configurationService.getConfigurationData()),{},{configurationScopes:[]});return this._environmentService.isBuilt&&!this._environmentService.isExtensionDevelopment||(e.configurationScopes=function(){for(var e=[],t=vo.getConfigurationProperties(),n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];e.push([i,t[i].scope])}return e.push(["launch",4]),e.push(["task",4]),e}()),e}},{key:"dispose",value:function(){this._configurationListener.dispose()}},{key:"$updateConfigurationOption",value:function(e,t,n,r,i){var o,a;return r={resource:null!==(o=r)&&void 0!==o&&o.resource?R.o.revive(r.resource):void 0,overrideIdentifier:null===(a=r)||void 0===a?void 0:a.overrideIdentifier},this.writeConfiguration(e,t,n,r,i)}},{key:"$removeConfigurationOption",value:function(e,t,n,r){var i,o;return n={resource:null!==(i=n)&&void 0!==i&&i.resource?R.o.revive(n.resource):void 0,overrideIdentifier:null===(o=n)||void 0===o?void 0:o.overrideIdentifier},this.writeConfiguration(e,t,void 0,n,r)}},{key:"writeConfiguration",value:function(e,t,n,r,i){var o,a,s,u,c;e=null!=e?e:this.deriveConfigurationTarget(t,r);var l=this.configurationService.inspect(t,r);switch(e){case 8:return this._updateValue(t,n,e,null==l||null===(o=l.memory)||void 0===o?void 0:o.override,r,i);case 6:return this._updateValue(t,n,e,null==l||null===(a=l.workspaceFolder)||void 0===a?void 0:a.override,r,i);case 5:return this._updateValue(t,n,e,null==l||null===(s=l.workspace)||void 0===s?void 0:s.override,r,i);case 4:return this._updateValue(t,n,e,null==l||null===(u=l.userRemote)||void 0===u?void 0:u.override,r,i);default:return this._updateValue(t,n,e,null==l||null===(c=l.userLocal)||void 0===c?void 0:c.override,r,i)}}},{key:"_updateValue",value:function(e,t,n,r,i,o){return i=!0===o?i:!1===o?{resource:i.resource}:i.overrideIdentifier&&void 0!==r?i:{resource:i.resource},this.configurationService.updateValue(e,t,i,n,!0)}},{key:"deriveConfigurationTarget",value:function(e,t){if(t.resource&&3===this._workspaceContextService.getWorkbenchState()){var n=F.B.as(j.IP.Configuration).getConfigurationProperties();if(n[e]&&(4===n[e].scope||5===n[e].scope))return 6}return 5}}]),e}();Nd=(0,k._)([zc(Wc.MainThreadConfiguration),(0,k.a)(1,H.ec),(0,k.a)(2,A.Ui),(0,k.a)(3,jn.Y)],Nd);var Fd,Md={identifier:new Tn.k("monaco"),isBuiltin:!0,isUserBuiltin:!0,isUnderDevelopment:!1,extensionLocation:R.o.from({scheme:"extension",path:"/"}),name:"monaco",publisher:"microsoft",version:"1.0.0",engines:{vscode:"1.69.0"},targetPlatform:"web"},qd=function(){function e(){zi(this,e),this._onMessage=new Cl,this.onMessage=this._onMessage.event}return Ji(e,[{key:"send",value:function(e){this._onMessage.fire(e)}}]),e}(),Hd=function(e){Ri(n,e);var t=Li(n);function n(){var e,r;return zi(this,n),(r=t.apply(this,arguments)).$showMessage=function(t,i,o,a){var s=Hi(Hi({},o),{},{source:void 0});return xi((e=Ai(r),Fi(n.prototype)),"$showMessage",e).call(e,t,i,s,a)},r}return Ji(n)}(Bl),Wd=function(){function e(t,n,r){zi(this,e),this._proxy=t.getProxy(Wc.MainThreadConfiguration),this._extHostWorkspace=n,this._logService=r,this._actual=null}return Ji(e,[{key:"getConfigProvider",value:function(){return this._actual}},{key:"$initializeConfiguration",value:function(e){this._actual=new Ad(this._proxy,this._extHostWorkspace,e,this._logService)}},{key:"$acceptConfigurationChanged",value:function(e,t){this.getConfigProvider().$acceptConfigurationChanged(e,t)}}]),e}();function Ud(){return null==Fd&&(Fd=function(){var e,t,n=T.IO.get(zr.Hy),r=T.IO.get(D.lT),i=T.IO.get(Xr.S),o=T.IO.get(ni.S),a=T.IO.get(ii.q),s=T.IO.get(ri.O),u=T.IO.get(oi.p),c=T.IO.get(Zr.eJ),l=T.IO.get(Un.$),f=T.IO.get(Sn.lT),d=T.IO.get(pi.p),h=T.IO.get(vn.I),p=T.IO.get(vn.f),v=T.IO.get(vn.g),y=T.IO.get(vn.h),g=T.IO.get(vn.i),m=T.IO.get(vn.b),b=T.IO.get(vn.j),w=T.IO.get(vn.k),_=T.IO.get(vn.l),k=T.IO.get($n.R9),S=T.IO.get(yi.b),x=T.IO.get(vn.c),C=T.IO.get(gi.vu),E=T.IO.get(vn.n),P=T.IO.get(mi.v4),O=T.IO.get(vn.o),R=T.IO.get(_i.c_),I=T.IO.get(ki.p),L=T.IO.get(A.Ui),j=T.IO.get(H.ec),N=T.IO.get(hr),F=T.IO.get(En.TG),M=new qd,q=new wl(M),W=new tl,U={_serviceBrand:void 0,remoteAuthority:null,extensionHostKind:1,getProxy:function(e){return q.getProxy(e)},set:function(e,t){return q.set(e,t)},assertRegistered:function(e){q.assertRegistered(e)},drain:function(){return q.drain()},dispose:function(){q.dispose()}},K={_serviceBrand:void 0,version:"1.0.0",parentPid:0,get environment(){return Fr()},allExtensions:[null!==(e=vn.S.get().extension)&&void 0!==e?e:Md],myExtensions:[(null!==(t=vn.S.get().extension)&&void 0!==t?t:Md).identifier],consoleForward:{includeStack:!1,logNative:!1},get telemetryInfo(){return Fr()},logLevel:Z.in.Trace,get logsLocation(){return Fr()},get logFile(){return Fr()},autoStart:!1,remote:{isRemote:!1,authority:void 0,connectionData:null},uiKind:hu.Web},$=new Z.$V(new bt),B=new Qc(U,$),V=new $l(U,$),z=new Of(null);q.set(Wc.MainThreadWindow,new If(U,O,P)),q.set(Wc.MainThreadCommands,new Jc(U,n,N));var G=q.set(Uc.ExtHostCommands,new $c(U,$)),J=q.set(Uc.ExtHostDocumentsAndEditors,new rf(U,$)),Y=q.set(Uc.ExtHostDocuments,new Pl(U,J)),Q=q.set(Uc.ExtHostLanguages,new Tf(U,Y,G.converter,z)),X=q.set(Uc.ExtHostWindow,new Rf(U)),ee=q.set(Uc.ExtHostQuickOpen,Ol(U,null,G)),te=q.set(Uc.ExtHostDiagnostics,new il(U,$,W)),ne=q.set(Uc.ExtHostProgress,new Vl(q.getProxy(Wc.MainThreadProgress))),re=q.set(Uc.ExtHostDocumentContentProviders,new Ql(U,J,$)),ie=q.set(Uc.ExtHostEditors,new of(U,J)),oe=new jf(U),ae=q.set(Uc.ExtHostLanguageFeatures,new kd(q,z,Y,G,te,$,B)),se=q.set(Uc.ExtHostWorkspace,new ql(U,K,W,$)),ue=q.set(Uc.ExtHostConfiguration,new Wd(U,se,$));return q.set(Uc.ExtHostTelemetry,new Af),q.set(Wc.MainThreadMessageService,new Hd(U,r,n,i)),q.set(Wc.MainThreadDiagnostics,new kf(U,f,p)),q.set(Wc.MainThreadQuickOpen,new Kl(U,c)),q.set(Wc.MainThreadTelemetry,new xf(U,S,b,x)),q.set(Wc.MainThreadProgress,new Jl(U,k,n)),q.set(Wc.MainThreadDocumentContentProviders,new Yl(U,o,s,a,u)),q.set(Wc.MainThreadBulkEdits,new Df(U,C,$)),q.set(Wc.MainThreadLanguages,new Pf(U,s,a,o,E)),q.set(Wc.MainThreadClipboard,new Lf(U,d)),q.set(Wc.MainThreadLanguageFeatures,new Td(U,s,R,I)),q.set(Wc.MainThreadConfiguration,new Nd(U,j,L,b)),new wf(U,a,y,h,l,g,o,m,v,b,w,p,d,_,F),{extHostLogService:$,extHostApiDeprecationService:B,extHostMessageService:V,extHostDocumentsAndEditors:J,extHostBulkEdits:new Cf(U,J),extHostDocuments:Y,extHostDocumentContentProviders:re,extHostQuickOpen:ee,extHostProgress:ne,extHostDiagnostics:te,extHostEditors:ie,extHostCommands:G,extHostLanguages:Q,extHostWindow:X,extHostClipboard:oe,extHostLanguageFeatures:ae,extHostWorkspace:se,extHostConfiguration:ue}}()),Fd}Wd=(0,k._)([(0,k.a)(0,Kc),(0,k.a)(1,Hl),(0,k.a)(2,Z.VZ)],Wd);var Kd,$d,Bd=n(80384),Vd=n(76379);function zd(){zd=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),s=new C(i||[]);return r(a,"_invoke",{value:_(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(E([])));g&&g!==t&&n.call(g,o)&&(v=g);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,a,s){var u=l(e[r],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==Xd(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return D()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:D}}function D(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Gd(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function Jd(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Gd(o,r,i,a,s,"next",e)}function s(e){Gd(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Yd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Xd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Xd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Xd(o)?o:String(o)),r)}var i,o}function Zd(e,t,n){return t&&Qd(e.prototype,t),n&&Qd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xd(e){return Xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(e)}!function(e){e[e.Initial=1]="Initial",e[e.Dynamic=2]="Dynamic"}($d||($d={}));var eh,th={createDiagnosticCollection:function(e){var t,n=Ud().extHostDiagnostics,r=null!==(t=vn.S.get().extension)&&void 0!==t?t:Md;return n.createDiagnosticCollection(r.identifier,e)},get onDidChangeDiagnostics(){return Ud().extHostDiagnostics.onDidChangeDiagnostics},getDiagnostics:function(e){return Ud().extHostDiagnostics.getDiagnostics(e)},getLanguages:function(){return Ud().extHostLanguages.getLanguages()},setTextDocumentLanguage:function(e,t){return Ud().extHostLanguages.changeLanguage(e.uri,t)},match:function(e,t){return(0,Bd.G)(dc.from(e),t.uri,t.languageId,!0,void 0,void 0)},registerCodeActionsProvider:function(e,t,n){var r,i=Ud().extHostLanguageFeatures,o=null!==(r=vn.S.get().extension)&&void 0!==r?r:Md;return i.registerCodeActionProvider(o,e,t,n)},registerCodeLensProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerCodeLensProvider(i,e,t)},registerDefinitionProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerDefinitionProvider(i,e,t)},registerDeclarationProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerDeclarationProvider(i,e,t)},registerImplementationProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerImplementationProvider(i,e,t)},registerTypeDefinitionProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerTypeDefinitionProvider(i,e,t)},registerHoverProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerHoverProvider(i,e,t,i.identifier)},registerEvaluatableExpressionProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerEvaluatableExpressionProvider(i,e,t,i.identifier)},registerInlineValuesProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerInlineValuesProvider(i,e,t,i.identifier)},registerDocumentHighlightProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerDocumentHighlightProvider(i,e,t)},registerLinkedEditingRangeProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerLinkedEditingRangeProvider(i,e,t)},registerReferenceProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerReferenceProvider(i,e,t)},registerRenameProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerRenameProvider(i,e,t)},registerDocumentSymbolProvider:function(e,t,n){var r,i=Ud().extHostLanguageFeatures,o=null!==(r=vn.S.get().extension)&&void 0!==r?r:Md;return i.registerDocumentSymbolProvider(o,e,t,n)},registerWorkspaceSymbolProvider:function(e){var t,n=Ud().extHostLanguageFeatures,r=null!==(t=vn.S.get().extension)&&void 0!==t?t:Md;return n.registerWorkspaceSymbolProvider(r,e)},registerDocumentFormattingEditProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerDocumentFormattingEditProvider(i,e,t)},registerDocumentRangeFormattingEditProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerDocumentRangeFormattingEditProvider(i,e,t)},registerOnTypeFormattingEditProvider:function(e,t,n){for(var r,i=Ud(),o=i.extHostLanguageFeatures,a=null!==(r=vn.S.get().extension)&&void 0!==r?r:Md,s=arguments.length,u=new Array(s>3?s-3:0),c=3;c<s;c++)u[c-3]=arguments[c];return o.registerOnTypeFormattingEditProvider(a,e,t,[n].concat(u))},registerDocumentSemanticTokensProvider:function(e,t,n){var r,i=Ud().extHostLanguageFeatures,o=null!==(r=vn.S.get().extension)&&void 0!==r?r:Md;return i.registerDocumentSemanticTokensProvider(o,e,t,n)},registerDocumentRangeSemanticTokensProvider:function(e,t,n){var r,i=Ud().extHostLanguageFeatures,o=null!==(r=vn.S.get().extension)&&void 0!==r?r:Md;return i.registerDocumentRangeSemanticTokensProvider(o,e,t,n)},registerSignatureHelpProvider:function(e,t,n){var r,i=Ud(),o=i.extHostLanguageFeatures,a=null!==(r=vn.S.get().extension)&&void 0!==r?r:Md;if("object"===Xd(n))return o.registerSignatureHelpProvider(a,e,t,n);for(var s=arguments.length,u=new Array(s>3?s-3:0),c=3;c<s;c++)u[c-3]=arguments[c];return o.registerSignatureHelpProvider(a,e,t,void 0===n?[]:[n].concat(u))},registerCompletionItemProvider:function(e,t){for(var n,r=Ud(),i=r.extHostLanguageFeatures,o=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md,a=arguments.length,s=new Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];return i.registerCompletionItemProvider(o,e,t,s)},registerDocumentLinkProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerDocumentLinkProvider(i,e,t)},registerColorProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerColorProvider(i,e,t)},registerFoldingRangeProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerFoldingRangeProvider(i,e,t)},registerSelectionRangeProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerSelectionRangeProvider(i,e,t)},registerCallHierarchyProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerCallHierarchyProvider(i,e,t)},registerTypeHierarchyProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerTypeHierarchyProvider(i,e,t)},setLanguageConfiguration:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.setLanguageConfiguration(i,e,t)},registerInlayHintsProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerInlayHintsProvider(i,e,t)},createLanguageStatusItem:function(e,t){var n,r=Ud().extHostLanguages,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.createLanguageStatusItem(i,e,t)},registerInlineCompletionItemProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerInlineCompletionsProvider(i,e,t)},registerDocumentDropEditProvider:function(e,t){var n,r=Ud().extHostLanguageFeatures,i=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md;return r.registerDocumentOnDropEditProvider(i,e,t)}},nh={registerCommand:function(e,t,n){var r;return Ud().extHostCommands.registerCommand(!0,e,t,n,void 0,null!==(r=vn.S.get().extension)&&void 0!==r?r:Md)},registerTextEditorCommand:function(e,t,n){var r,i=Ud(),o=i.extHostCommands,a=i.extHostEditors,s=i.extHostLogService;return o.registerCommand(!0,e,(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var u=a.getActiveTextEditor();if(null!=u)return u.edit((function(e){t.apply(n,[u,e].concat(i))})).then((function(t){t||s.warn("Edits from command "+e+" were not applied.")}),(function(t){s.warn("An error occurred while running command "+e,t)}));s.warn("Cannot execute "+e+" because there is no active text editor.")}),void 0,void 0,null!==(r=vn.S.get().extension)&&void 0!==r?r:Md)},executeCommand:function(e){for(var t=Ud(),n=t.extHostCommands,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return n.executeCommand.apply(n,[e].concat(i))},getCommands:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Ud(),n=t.extHostCommands;return n.getCommands(e)}},rh={fs:new(function(){function e(){Yd(this,e),this.stat=Fr}return Zd(e,[{key:"isWritableFileSystem",value:function(){return!1}},{key:"readDirectory",value:function(){return Promise.resolve([])}},{key:"createDirectory",value:function(){return Promise.resolve()}},{key:"readFile",value:function(){return Promise.resolve(new Uint8Array(0))}},{key:"writeFile",value:function(){return Promise.resolve()}},{key:"delete",value:function(){return Promise.resolve()}},{key:"rename",value:function(){return Promise.resolve()}},{key:"copy",value:function(){return Promise.resolve()}}]),e}()),workspaceFile:void 0,createFileSystemWatcher:function(e,t,n,r){var i=vn.S.get().workspace;return null!=(null==i?void 0:i.createFileSystemWatcher)?i.createFileSystemWatcher(e,t,n,r):{ignoreCreateEvents:null!=t&&t,ignoreChangeEvents:null!=n&&n,ignoreDeleteEvents:null!=r&&r,onDidCreate:N.ju.None,onDidChange:N.ju.None,onDidDelete:N.ju.None,dispose:function(){}}},applyEdit:(eh=Jd(zd().mark((function e(t){var n,r,i,o;return zd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ud(),i=r.extHostBulkEdits,o=null!==(n=vn.S.get().extension)&&void 0!==n?n:Md,e.abrupt("return",i.applyWorkspaceEdit(t,o));case 3:case"end":return e.stop()}}),e)}))),function(e){return eh.apply(this,arguments)}),getConfiguration:function(e,t){var n;return Ud().extHostConfiguration.getConfigProvider().getConfiguration(e,t,null!==(n=vn.S.get().extension)&&void 0!==n?n:Md)},onDidChangeConfiguration:function(e,t,n){return Ud().extHostConfiguration.getConfigProvider().onDidChangeConfiguration(e,t,n)},get rootPath(){var e=vn.S.get().workspace;return null==e?void 0:e.rootPath},get workspaceFolders(){var e=vn.S.get().workspace;if(null!=e){if("workspaceFolders"in e)return e.workspaceFolders;var t=e.rootPath;if(null!=t){var n=R.o.file(t);return[{uri:n,index:0,name:n.toString()}]}}},getWorkspaceFolder:function(e){var t;return null===(t=this.workspaceFolders)||void 0===t?void 0:t.find((function(t){return e.path.startsWith(t.uri.path)}))},get onDidChangeWorkspaceFolders(){var e,t=vn.S.get().workspace;return null!==(e=null==t?void 0:t.onDidChangeWorkspaceFolders)&&void 0!==e?e:N.ju.None},get textDocuments(){var e=Ud().extHostDocuments;return Array.from(e.getAllDocumentData().map((function(e){return e.document})))},get onDidOpenTextDocument(){return Ud().extHostDocuments.onDidAddDocument},get onDidCloseTextDocument(){return Ud().extHostDocuments.onDidRemoveDocument},get onDidChangeTextDocument(){return Ud().extHostDocuments.onDidChangeDocument},get onWillSaveTextDocument(){var e,t=vn.S.get().workspace;return null!==(e=null==t?void 0:t.onWillSaveTextDocument)&&void 0!==e?e:N.ju.None},get onDidSaveTextDocument(){var e,t=vn.S.get().workspace;return null!==(e=null==t?void 0:t.onDidSaveTextDocument)&&void 0!==e?e:N.ju.None},get onWillCreateFiles(){return N.ju.None},get onDidCreateFiles(){return N.ju.None},get onWillDeleteFiles(){return N.ju.None},get onDidDeleteFiles(){return N.ju.None},get onWillRenameFiles(){return N.ju.None},get onDidRenameFiles(){return N.ju.None},get onDidGrantWorkspaceTrust(){return N.ju.None},asRelativePath:Fr,updateWorkspaceFolders:function(e,t){var n=vn.S.get(),r=n.workspace;if(null!=(null==r?void 0:r.updateWorkspaceFolders)){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return r.updateWorkspaceFolders.apply(r,[e,t].concat(o))}return!1},findFiles:Fr,saveAll:Fr,openTextDocument:function(e){var t,n=Ud().extHostDocuments,r=e;if("string"==typeof e)t=Promise.resolve(R.o.file(e));else if(R.o.isUri(e))t=Promise.resolve(e);else{if(null!=r&&"object"!==Xd(r))throw new Error("illegal argument - uriOrFileNameOrOptions");t=n.createDocumentData(r)}return t.then((function(e){return n.ensureDocumentData(e).then((function(e){return e.document}))}))},registerTextDocumentContentProvider:function(e,t){return Ud().extHostDocumentContentProviders.registerTextDocumentContentProvider(e,t)},registerTaskProvider:Fr,registerFileSystemProvider:Fr,openNotebookDocument:Fr,registerNotebookSerializer:Fr,notebookDocuments:[],onDidOpenNotebookDocument:Fr,onDidCloseNotebookDocument:Fr,isTrusted:!0,name:void 0,onDidChangeNotebookDocument:Fr,onDidSaveNotebookDocument:Fr},ih=Zd((function e(t){Yd(this,e),this.uri=t}));function oh(e,t){return{label:e.uri.fsPath,group:t,get isActive(){return e.isAttachedToEditor()},isDirty:!1,isPinned:!1,isPreview:!1,input:new ih(e.uri)}}var ah,sh,uh={isActive:!0,activeTab:void 0,viewColumn:Na.One,get tabs(){return T.IO.get(ii.q).getModels().map((function(e){return oh(e,uh)}))}},ch={showInformationMessage:function(e){for(var t,n=Ud(),r=n.extHostMessageService,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return r.showMessage(null!==(t=vn.S.get().extension)&&void 0!==t?t:Md,Fn.Z.Info,e,o[0],o.slice(1))},showWarningMessage:function(e){for(var t,n=Ud(),r=n.extHostMessageService,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return r.showMessage(null!==(t=vn.S.get().extension)&&void 0!==t?t:Md,Fn.Z.Warning,e,o[0],o.slice(1))},showErrorMessage:function(e){for(var t,n=Ud(),r=n.extHostMessageService,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return r.showMessage(null!==(t=vn.S.get().extension)&&void 0!==t?t:Md,Fn.Z.Error,e,o[0],o.slice(1))},createOutputChannel:function(e){var t=vn.S.get().window,n=null==t?void 0:t.createOutputChannel,r=null==n?void 0:n.call(t,e);return null!=r?r:{name:e,append:function(){},appendLine:function(){},clear:Fr,show:function(){},hide:Fr,replace:Fr,dispose:function(){}}},withScmProgress:function(e){var t;return Ud().extHostProgress.withProgress(null!==(t=vn.S.get().extension)&&void 0!==t?t:Md,{location:as.SourceControl},(function(){return e({report:function(){}})}))},withProgress:function(e,t){var n;return Ud().extHostProgress.withProgress(null!==(n=vn.S.get().extension)&&void 0!==n?n:Md,e,t)},showTextDocument:(ah=Jd(zd().mark((function e(t,n,r){var i,o,a;return zd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ud(),o=i.extHostEditors,e.next=3,R.o.isUri(t)?Promise.resolve(rh.openTextDocument(t)):Promise.resolve(t);case 3:return a=e.sent,e.abrupt("return",o.showTextDocument(a,n,r));case 5:case"end":return e.stop()}}),e)}))),function(e,t,n){return ah.apply(this,arguments)}),createQuickPick:function(){var e;return Ud().extHostQuickOpen.createQuickPick(null!==(e=vn.S.get().extension)&&void 0!==e?e:Md)},showQuickPick:function(e,t,n){return Ud().extHostQuickOpen.showQuickPick(e,t,n)},createInputBox:function(){var e,t=Ud().extHostQuickOpen,n=null!==(e=vn.S.get().extension)&&void 0!==e?e:Md;return t.createInputBox(n)},showInputBox:function(e,t){return Ud().extHostQuickOpen.showInput(e,t)},createTextEditorDecorationType:Fr,showWorkspaceFolderPick:Fr,showOpenDialog:Fr,showSaveDialog:Fr,createWebviewPanel:Fr,setStatusBarMessage:Fr,createStatusBarItem:Fr,createTerminal:Fr,registerTreeDataProvider:Fr,createTreeView:Fr,registerWebviewPanelSerializer:Fr,get activeTextEditor(){return Ud().extHostEditors.getActiveTextEditor()},get visibleTextEditors(){return Ud().extHostEditors.getVisibleTextEditors()},onDidChangeActiveTextEditor:function(e,t,n){return Ud().extHostEditors.onDidChangeActiveTextEditor(e,t,n)},onDidChangeVisibleTextEditors:function(e,t,n){return Ud().extHostEditors.onDidChangeVisibleTextEditors(e,t,n)},onDidChangeTextEditorSelection:function(e,t,n){return Ud().extHostEditors.onDidChangeTextEditorSelection(e,t,n)},onDidChangeTextEditorVisibleRanges:function(e,t,n){return Ud().extHostEditors.onDidChangeTextEditorVisibleRanges(e,t,n)},onDidChangeTextEditorOptions:function(e,t,n){return Ud().extHostEditors.onDidChangeTextEditorOptions(e,t,n)},onDidChangeTextEditorViewColumn:function(e,t,n){return Ud().extHostEditors.onDidChangeTextEditorViewColumn(e,t,n)},get terminals(){return Fr()},get activeTerminal(){return Fr()},onDidChangeActiveTerminal:N.ju.None,onDidOpenTerminal:N.ju.None,onDidCloseTerminal:N.ju.None,get state(){return Fr()},onDidChangeWindowState:N.ju.None,registerUriHandler:Fr,registerWebviewViewProvider:Fr,registerCustomEditorProvider:Fr,registerTerminalLinkProvider:Fr,get activeColorTheme(){return Fr()},onDidChangeActiveColorTheme:N.ju.None,registerFileDecorationProvider:Fr,registerTerminalProfileProvider:Fr,onDidChangeTerminalState:N.ju.None,tabGroups:{get all(){return[uh]},activeTabGroup:uh,onDidChangeTabGroups:N.ju.None,onDidChangeTabs:function(e){var t=T.IO.get(ii.q),n=new d.SL;return n.add(t.onModelAdded((function(t){e({opened:[oh(t,uh)],closed:[],changed:[]})}))),n.add(t.onModelRemoved((function(t){e({opened:[],closed:[oh(t,uh)],changed:[]})}))),n},close:Fr},showNotebookDocument:Fr,visibleNotebookEditors:[],onDidChangeVisibleNotebookEditors:N.ju.None,activeNotebookEditor:void 0,onDidChangeActiveNotebookEditor:N.ju.None,onDidChangeNotebookEditorSelection:N.ju.None,onDidChangeNotebookEditorVisibleRanges:N.ju.None},lh=void 0,fh={version:"1.69.0",tasks:lh,notebooks:lh,scm:lh,debug:lh,extensions:lh,comments:lh,authentication:lh,tests:lh,env:{appName:"Monaco",appRoot:"",language:null!==(Kd=window.navigator.language)&&void 0!==Kd?Kd:"en-US",get uriScheme(){return Fr()},get clipboard(){return Ud().extHostClipboard.value},get machineId(){return Fr()},get sessionId(){return Fr()},remoteName:void 0,shell:"",uiKind:hu.Web,asExternalUri:function(e){return Jd(zd().mark((function t(){var n,r;return zd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Ud(),r=n.extHostWindow,t.prev=1,t.next=4,r.asExternalUri(e,{allowTunneling:!1});case 4:return t.abrupt("return",t.sent);case 7:if(t.prev=7,t.t0=t.catch(1),!(0,mi.xn)(e,Kn.lg.http)&&!(0,mi.xn)(e,Kn.lg.https)){t.next=11;break}return t.abrupt("return",e);case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,null,[[1,7]])})))()},openExternal:(sh=Jd(zd().mark((function e(t,n){var r,i;return zd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ud(),i=r.extHostWindow,e.abrupt("return",i.openUri(t,{allowTunneling:!1,allowContributedOpeners:null==n?void 0:n.allowContributedOpeners}));case 2:case"end":return e.stop()}}),e)}))),function(e,t){return sh.apply(this,arguments)}),appHost:"web",isNewAppInstall:!1,isTelemetryEnabled:!1,onDidChangeTelemetryEnabled:N.ju.None},commands:nh,window:ch,workspace:rh,languages:th,Breakpoint:ms,CallHierarchyIncomingCall:ba,CallHierarchyItem:ma,CallHierarchyOutgoingCall:wa,CancellationError:h.FU,CancellationTokenSource:vn.C,CodeAction:pa,CodeActionKind:va,CodeActionTriggerKind:da,CodeLens:_a,Color:Va,ColorInformation:za,ColorPresentation:Ga,ColorThemeKind:lh,CommentMode:Ns,CommentThreadCollapsibleState:As,CompletionItem:La,CompletionItemKind:Oa,CompletionItemTag:Ra,CompletionList:ja,CompletionTriggerKind:Pa,ConfigurationTarget:vs,CustomExecution:ss,DebugAdapterExecutable:_s,DebugAdapterInlineImplementation:xs,DebugAdapterNamedPipeServer:Ss,DebugAdapterServer:ks,DebugConfigurationProviderTriggerKind:$d,DebugConsoleMode:Hs,DecorationRangeBehavior:Ka,Diagnostic:oa,DiagnosticRelatedInformation:ia,DiagnosticSeverity:ta,DiagnosticTag:ea,Disposable:Bo,DocumentHighlight:la,DocumentHighlightKind:aa,DocumentLink:Ba,DocumentSymbol:ha,EndOfLine:Go,EnvironmentVariableMutatorType:Jo,EvaluatableExpression:Ds,InlineValueText:Ts,InlineValueVariableLookup:Ps,InlineValueEvaluatableExpression:Os,EventEmitter:k.E,ExtensionKind:zs,ExtensionMode:ou,FileChangeType:Rs,FileDecoration:Js,FileSystemError:Ls,FileType:vn.F,FilePermission:vn.a,FoldingRange:Fs,FoldingRangeKind:js,FunctionBreakpoint:ws,Hover:sa,IndentAction:Vd.wU,Location:ra,MarkdownString:ka,OverviewRulerLane:li.sh,ParameterInformation:Sa,Position:Vo,ProcessExecution:ns,ProgressLocation:as,QuickInputButtons:Gs,Range:zo,RelativePattern:gs,Selection:Yo,SelectionRange:ya,SemanticTokens:Us,SemanticTokensBuilder:Ws,SemanticTokensEdit:Ks,SemanticTokensEdits:$s,SemanticTokensLegend:Ms,ShellExecution:os,ShellQuoting:rs,SignatureHelp:Da,SignatureHelpTriggerKind:Ca,SignatureInformation:xa,SnippetString:na,SourceBreakpoint:bs,StatusBarAlignment:Fa,SymbolInformation:fa,SymbolKind:ua,SymbolTag:ca,Task:us,TaskGroup:es,TaskPanelKind:Za,TaskRevealKind:Qa,TaskScope:is,TerminalLink:Ya,TerminalLocation:Ja,TerminalProfile:Xa,TextDocumentSaveReason:qa,TextEdit:Qo,TextEditorCursorStyle:hi.d2,TextEditorLineNumbersStyle:Ma,TextEditorRevealType:Ha,TextEditorSelectionChangeKind:Wa,TextDocumentChangeReason:Ua,ThemeColor:ys,ThemeIcon:ps,TreeItem:ls,TreeItemCollapsibleState:cs,TypeHierarchyItem:Sc,UIKind:hu,Uri:R.o,ViewColumn:Na,WorkspaceEdit:Xo,InlayHint:Ia,InlayHintLabelPart:Ta,InlayHintKind:Ea,NotebookRange:Ys,NotebookCellKind:eu,NotebookCellData:Qs,NotebookData:Zs,NotebookCellStatusBarAlignment:tu,NotebookCellOutput:ru,NotebookCellOutputItem:Xs,NotebookCellStatusBarItem:su,NotebookControllerAffinity:iu,LinkedEditingRanges:cu,TestRunRequest:lu,TestMessage:fu,TestTag:du,TestRunProfileKind:uu,DataTransfer:lh,DataTransferItem:lh,LanguageStatusSeverity:ga,QuickPickItemKind:Bs,TabInputText:ih,TabInputTextDiff:xc,TabInputCustom:Cc,TabInputNotebook:Dc,TabInputNotebookDiff:Tc,TabInputWebview:Ec,TabInputTerminal:Pc,InputBoxValidationSeverity:Vs,InlineCompletionList:$a,InlineCompletionTriggerKind:Cs,InlineCompletionItem:Aa,DocumentDropEdit:hs,NotebookEditorRevealType:nu},dh=fh.version,hh=fh.tasks,ph=fh.notebooks,vh=fh.scm,yh=fh.debug,gh=fh.extensions,mh=fh.comments,bh=fh.authentication,wh=fh.tests,_h=fh.env,kh=fh.commands,Sh=fh.window,xh=fh.workspace,Ch=fh.languages,Eh=fh.Breakpoint,Dh=fh.CallHierarchyIncomingCall,Th=fh.CallHierarchyItem,Ph=fh.CallHierarchyOutgoingCall,Oh=fh.CancellationError,Rh=fh.CancellationTokenSource,Ih=fh.CodeAction,Lh=fh.CodeActionKind,jh=fh.CodeActionTriggerKind,Ah=fh.CodeLens,Nh=fh.Color,Fh=fh.ColorInformation,Mh=fh.ColorPresentation,qh=fh.ColorThemeKind,Hh=fh.CommentMode,Wh=fh.CommentThreadCollapsibleState,Uh=fh.CompletionItem,Kh=fh.CompletionItemKind,$h=fh.CompletionItemTag,Bh=fh.CompletionList,Vh=fh.CompletionTriggerKind,zh=fh.ConfigurationTarget,Gh=fh.CustomExecution,Jh=fh.DebugAdapterExecutable,Yh=fh.DebugAdapterInlineImplementation,Qh=fh.DebugAdapterNamedPipeServer,Zh=fh.DebugAdapterServer,Xh=fh.DebugConfigurationProviderTriggerKind,ep=fh.DebugConsoleMode,tp=fh.DecorationRangeBehavior,np=fh.Diagnostic,rp=fh.DiagnosticRelatedInformation,ip=fh.DiagnosticSeverity,op=fh.DiagnosticTag,ap=fh.Disposable,sp=fh.DocumentHighlight,up=fh.DocumentHighlightKind,cp=fh.DocumentLink,lp=fh.DocumentSymbol,fp=fh.EndOfLine,dp=fh.EnvironmentVariableMutatorType,hp=fh.EvaluatableExpression,pp=fh.InlineValueText,vp=fh.InlineValueVariableLookup,yp=fh.InlineValueEvaluatableExpression,gp=fh.EventEmitter,mp=fh.ExtensionKind,bp=fh.ExtensionMode,wp=fh.FileChangeType,_p=fh.FileDecoration,kp=fh.FileSystemError,Sp=fh.FileType,xp=fh.FilePermission,Cp=fh.FoldingRange,Ep=fh.FoldingRangeKind,Dp=fh.FunctionBreakpoint,Tp=fh.Hover,Pp=fh.IndentAction,Op=fh.Location,Rp=fh.MarkdownString,Ip=fh.OverviewRulerLane,Lp=fh.ParameterInformation,jp=fh.Position,Ap=fh.ProcessExecution,Np=fh.ProgressLocation,Fp=fh.QuickInputButtons,Mp=fh.Range,qp=fh.RelativePattern,Hp=fh.Selection,Wp=fh.SelectionRange,Up=fh.SemanticTokens,Kp=fh.SemanticTokensBuilder,$p=fh.SemanticTokensEdit,Bp=fh.SemanticTokensEdits,Vp=fh.SemanticTokensLegend,zp=fh.ShellExecution,Gp=fh.ShellQuoting,Jp=fh.SignatureHelp,Yp=fh.SignatureHelpTriggerKind,Qp=fh.SignatureInformation,Zp=fh.SnippetString,Xp=fh.SourceBreakpoint,ev=fh.StatusBarAlignment,tv=fh.SymbolInformation,nv=fh.SymbolKind,rv=fh.SymbolTag,iv=fh.Task,ov=fh.TaskGroup,av=fh.TaskPanelKind,sv=fh.TaskRevealKind,uv=fh.TaskScope,cv=fh.TerminalLink,lv=fh.TerminalLocation,fv=fh.TerminalProfile,dv=fh.TextDocumentSaveReason,hv=fh.TextEdit,pv=fh.TextEditorCursorStyle,vv=fh.TextEditorLineNumbersStyle,yv=fh.TextEditorRevealType,gv=fh.TextEditorSelectionChangeKind,mv=fh.TextDocumentChangeReason,bv=fh.ThemeColor,wv=fh.ThemeIcon,_v=fh.TreeItem,kv=fh.TreeItemCollapsibleState,Sv=fh.TypeHierarchyItem,xv=fh.UIKind,Cv=fh.Uri,Ev=fh.ViewColumn,Dv=fh.WorkspaceEdit,Tv=fh.InlayHint,Pv=fh.InlayHintLabelPart,Ov=fh.InlayHintKind,Rv=fh.NotebookRange,Iv=fh.NotebookCellKind,Lv=fh.NotebookCellData,jv=fh.NotebookData,Av=fh.NotebookCellStatusBarAlignment,Nv=fh.NotebookCellOutput,Fv=fh.NotebookCellOutputItem,Mv=fh.NotebookCellStatusBarItem,qv=fh.NotebookControllerAffinity,Hv=fh.LinkedEditingRanges,Wv=fh.TestRunRequest,Uv=fh.TestMessage,Kv=fh.TestTag,$v=fh.TestRunProfileKind,Bv=fh.DataTransfer,Vv=fh.DataTransferItem,zv=fh.LanguageStatusSeverity,Gv=fh.QuickPickItemKind,Jv=fh.TabInputText,Yv=fh.TabInputTextDiff,Qv=fh.TabInputCustom,Zv=fh.TabInputNotebook,Xv=fh.TabInputNotebookDiff,ey=fh.TabInputWebview,ty=fh.TabInputTerminal,ny=fh.InputBoxValidationSeverity,ry=fh.InlineCompletionList,iy=fh.InlineCompletionTriggerKind,oy=fh.InlineCompletionItem,ay=fh.DocumentDropEdit,sy=fh.NotebookEditorRevealType},50911:(e,t,n)=>{n.d(t,{K9:()=>r.S,_m:()=>i.Z});var r=n(39176),i=(n(80413),n(47129),n(69349),n(32931),n(94717),n(37845),n(71919),n(77846),n(71509),n(31213),n(76758),n(5491),n(79126),n(1519),n(63304),n(96185),n(53920),n(39425),n(48552),n(4537),n(38656),n(44056),n(41146),n(63698))},39176:(e,t,n)=>{n.d(t,{A:()=>le,C:()=>z,F:()=>$,I:()=>ce,P:()=>Q,S:()=>he,a:()=>B,b:()=>ue,c:()=>be,d:()=>V,e:()=>fe,f:()=>Y,g:()=>me,h:()=>pe,i:()=>G,j:()=>ve,k:()=>ye,l:()=>ge,m:()=>J,n:()=>_e,o:()=>ke,p:()=>we,q:()=>Z,r:()=>Se,s:()=>K});var r=n(63304),i=n(24864),o=n(80413),a=n(44056),s=n(81993),u=n(83916),c=n(38709),l=n(50985),f=n(49680),d=n(18063),h=n(95295),p=n(85006),v=n(42800),y=n(76064),g=n(8401),m=n(82459);function b(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(){w=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),s=new D(i||[]);return r(a,"_invoke",{value:k(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,o)&&(v=g);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(r,o,a,s){var u=l(e[r],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==E(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function _(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){_(o,r,i,a,s,"next",e)}function s(e){_(o,r,i,a,s,"throw",e)}a(void 0)}))}}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return(t=L(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=P(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function P(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function I(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function L(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}function N(e){var t=H();return function(){var n,r=U(e);if(t){var i=U(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function M(e){var t="function"==typeof Map?new Map:void 0;return M=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return q(e,arguments,U(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),W(r,e)},M(e)}function q(e,t,n){return q=H()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&W(i,n.prototype),i},q.apply(null,arguments)}function H(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}function K(e){return e}var $,B,V,z=f.CancellationTokenSource,G=(0,r.yh)("fileService");!function(e){e[e.Unknown=0]="Unknown",e[e.File=1]="File",e[e.Directory=2]="Directory",e[e.SymbolicLink=64]="SymbolicLink"}($||($={})),function(e){e[e.Readonly=1]="Readonly"}(B||(B={})),function(e){e.FileExists="EntryExists",e.FileNotFound="EntryNotFound",e.FileNotADirectory="EntryNotADirectory",e.FileIsADirectory="EntryIsADirectory",e.FileExceedsMemoryLimit="EntryExceedsMemoryLimit",e.FileTooLarge="EntryTooLarge",e.FileWriteLocked="EntryWriteLocked",e.NoPermissions="NoPermissions",e.Unavailable="Unavailable",e.Unknown="Unknown"}(V||(V={}));Error;function J(e,t){return e.name=t?"".concat(t," (FileSystemError)"):"FileSystemError",e}Error;var Y=(0,r.yh)("IUriIdentityService");var Q="workbench.experimental.settingsProfiles.enabled",Z=(0,r.yh)("IUserDataProfilesService");function X(e,t,n){return{id:(0,v.vp)(t.path).toString(16),name:e,location:t,isDefault:!1,globalStorageHome:(0,s.Vo)(t,"globalStorage"),settingsResource:(0,s.Vo)(t,"settings.json"),keybindingsResource:(0,s.Vo)(t,"keybindings.json"),tasksResource:(0,s.Vo)(t,"tasks.json"),snippetsHome:(0,s.Vo)(t,"snippets"),extensionsResource:(0,s.Vo)(t,"extensions.json"),useDefaultFlags:n}}var ee=function(e){A(f,e);var t,n,r,i,c,l=N(f);function f(e,t,n,r){var i;return j(this,f),(i=l.call(this)).environmentService=e,i.fileService=t,i.uriIdentityService=n,i.logService=r,i.enabled=!1,i.defaultProfileShouldIncludeExtensionsResourceAlways=!1,i._onDidChangeProfiles=i._register(new o.E),i.onDidChangeProfiles=i._onDidChangeProfiles.event,i._onWillCreateProfile=i._register(new o.E),i.onWillCreateProfile=i._onWillCreateProfile.event,i._onWillRemoveProfile=i._register(new o.E),i.onWillRemoveProfile=i._onWillRemoveProfile.event,i.profilesHome=(0,s.Vo)(i.environmentService.userRoamingDataHome,"profiles"),i}return I(f,[{key:"defaultProfile",get:function(){return this.profiles[0]}},{key:"profiles",get:function(){return this.profilesObject.profiles}},{key:"setEnablement",value:function(e){this.enabled!==e&&(this._profilesObject=void 0,this.enabled=e)}},{key:"profilesObject",get:function(){var e=this;if(!this._profilesObject){var t,n=this.enabled?this.getStoredProfiles().map((function(e){return X(e.name,e.location,e.useDefaultFlags)})):[],r=new p.Y9;if(n.length){var i=this.getStoredProfileAssociations();if(i.workspaces)for(var o=function(){var t=D(s[a],2),i=t[0],o=t[1],c=u.o.parse(i),l=u.o.parse(o),f=n.find((function(t){return e.uriIdentityService.extUri.isEqual(t.location,l)}));f&&r.set(c,f)},a=0,s=Object.entries(i.workspaces);a<s.length;a++)o();if(i.emptyWindow){var c=u.o.parse(i.emptyWindow);t=n.find((function(t){return e.uriIdentityService.extUri.isEqual(t.location,c)}))}}var l=X((0,d.NC)("defaultProfile","Default"),this.environmentService.userRoamingDataHome);n.unshift(x(x({},l),{},{isDefault:!0,extensionsResource:this.defaultProfileShouldIncludeExtensionsResourceAlways||n.length>0?l.extensionsResource:void 0})),this._profilesObject={profiles:n,workspaces:r,emptyWindow:t}}return this._profilesObject}},{key:"getProfile",value:function(e){var t=this.getWorkspace(e),n=u.o.isUri(t)?this.profilesObject.workspaces.get(t):this.profilesObject.emptyWindow;return null!=n?n:this.defaultProfile}},{key:"getWorkspace",value:function(e){return(0,a.eb)(e)?e.uri:(0,o.i)(e)?e.configPath:"empty-window"}},{key:"createProfile",value:(c=k(w().mark((function e(t,n,r){var i,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}throw new Error("Settings Profiles are disabled. Enable them via the '".concat(Q,"' setting."));case 2:if(!this.getStoredProfiles().some((function(e){return e.name===t}))){e.next=4;break}throw new Error("Profile with name ".concat(t," already exists"));case 4:return i=X(t,(0,s.Vo)(this.profilesHome,(0,v.vp)((0,y.R)()).toString(16)),n),e.next=7,this.fileService.createFolder(i.location);case 7:return o=[],this._onWillCreateProfile.fire({profile:i,join:function(e){o.push(e)}}),e.next=11,h.jT.settled(o);case 11:if(this.updateProfiles([i],[],[]),!r){e.next=15;break}return e.next=15,this.setProfileForWorkspace(i,r);case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return c.apply(this,arguments)})},{key:"updateProfile",value:(i=k(w().mark((function e(t,n,r){var i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}throw new Error("Settings Profiles are disabled. Enable them via the '".concat(Q,"' setting."));case 2:if(i=this.profiles.find((function(e){return e.id===t.id}))){e.next=5;break}throw new Error("Profile '".concat(t.name,"' does not exist"));case 5:return i=X(n,i.location,r),this.updateProfiles([],[],[i]),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return i.apply(this,arguments)})},{key:"setProfileForWorkspace",value:(r=k(w().mark((function e(t,n){var r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}throw new Error("Settings Profiles are disabled. Enable them via the '".concat(Q,"' setting."));case 2:if(r=this.profiles.find((function(e){return e.id===t.id}))){e.next=5;break}throw new Error("Profile '".concat(t.name,"' does not exist"));case 5:this.updateWorkspaceAssociation(n,r);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"unsetWorkspace",value:(n=k(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}throw new Error("Settings Profiles are disabled. Enable them via the '".concat(Q,"' setting."));case 2:this.updateWorkspaceAssociation(t);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"removeProfile",value:(t=k(w().mark((function e(t){var n,r,i,o,a,s,u;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}throw new Error("Settings Profiles are disabled. Enable them via the '".concat(Q,"' setting."));case 2:if(!t.isDefault){e.next=4;break}throw new Error("Cannot remove default profile");case 4:if(r=this.profiles.find((function(e){return e.id===t.id}))){e.next=7;break}throw new Error("Profile '".concat(t.name,"' does not exist"));case 7:return i=[],this._onWillRemoveProfile.fire({profile:r,join:function(e){i.push(e)}}),e.next=11,h.jT.settled(i);case 11:for(r.id===(null===(n=this.profilesObject.emptyWindow)||void 0===n?void 0:n.id)&&(this.profilesObject.emptyWindow=void 0),o=0,a=b(this.profilesObject.workspaces.keys());o<a.length;o++)u=a[o],r.id===(null===(s=this.profilesObject.workspaces.get(u))||void 0===s?void 0:s.id)&&this.profilesObject.workspaces.delete(u);if(this.updateStoredProfileAssociations(),this.updateProfiles([],[r],[]),e.prev=15,1!==this.profiles.length){e.next=21;break}return e.next=19,this.fileService.del(this.profilesHome,{recursive:!0});case 19:e.next=23;break;case 21:return e.next=23,this.fileService.del(r.location,{recursive:!0});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(15),this.logService.error(e.t0);case 28:case"end":return e.stop()}}),e,this,[[15,25]])}))),function(e){return t.apply(this,arguments)})},{key:"updateProfiles",value:function(e,t,n){for(var r=[],i=function(){var e,i=a[o];return i.isDefault||t.some((function(e){return i.id===e.id}))?"continue":(i=null!==(e=n.find((function(e){return i.id===e.id})))&&void 0!==e?e:i,void r.push({location:i.location,name:i.name,useDefaultFlags:i.useDefaultFlags}))},o=0,a=[].concat(b(this.profilesObject.profiles),b(e));o<a.length;o++)i();this.saveStoredProfiles(r),this._profilesObject=void 0,this.triggerProfilesChanges(e,t,n)}},{key:"triggerProfilesChanges",value:function(e,t,n){this._onDidChangeProfiles.fire({added:e,removed:t,updated:n,all:this.profiles})}},{key:"updateWorkspaceAssociation",value:function(e,t){var n=this.getWorkspace(e);u.o.isUri(n)?(this.profilesObject.workspaces.delete(n),t&&!t.isDefault&&this.profilesObject.workspaces.set(n,t)):this.profilesObject.emptyWindow=null!=t&&t.isDefault?void 0:t,this.updateStoredProfileAssociations()}},{key:"updateStoredProfileAssociations",value:function(){var e,t,n={},r=T(this.profilesObject.workspaces.entries());try{for(r.s();!(t=r.n()).done;){var i=D(t.value,2),o=i[0],a=i[1];n[o.toString()]=a.location.toString()}}catch(e){r.e(e)}finally{r.f()}var s=null===(e=this.profilesObject.emptyWindow)||void 0===e?void 0:e.location.toString();this.saveStoredProfileAssociations({workspaces:n,emptyWindow:s}),this._profilesObject=void 0}},{key:"getStoredProfiles",value:function(){return[]}},{key:"saveStoredProfiles",value:function(e){throw new Error("not implemented")}},{key:"getStoredProfileAssociations",value:function(){return{}}},{key:"saveStoredProfileAssociations",value:function(e){throw new Error("not implemented")}}]),f}(c.JT);ee.PROFILES_KEY="userDataProfiles",ee.PROFILE_ASSOCIATIONS_KEY="profileAssociations",ee=(0,o._)([(0,o.a)(0,i.Y),(0,o.a)(1,G),(0,o.a)(2,Y),(0,o.a)(3,l.VZ)],ee);var te,ne,re,ie="__$__targetStorageMarker";function oe(e){var t;return e.isDefault||!(null===(t=e.useDefaultFlags)||void 0===t||!t.uiState)}function ae(e,t,n,r,i,o){return se.apply(this,arguments)}function se(){return(se=k(w().mark((function e(t,n,r,i,o,a){var s,u,c,l,f,d,h,p,v,y;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=function(e){try{return JSON.parse(e)}catch(t){return e}},u=new Map,c=new Map,t.forEach((function(e,t){u.set(t,e),c.set(t,s(e))})),l=new Map,f=new Map,n.forEach((function(e,t){l.set(t,e),f.set(t,s(e))})),d=new Map,h=new Map,r.forEach((function(e,t){d.set(t,e),h.set(t,s(e))})),i!==o?console.group("Storage: Application (path: ".concat(i,")")):console.group("Storage: Application & Profile (path: ".concat(i,", default profile)")),p=[],u.forEach((function(e,t){p.push({key:t,value:e})})),console.table(p),console.groupEnd(),console.log(c),i!==o&&(console.group("Storage: Profile (path: ".concat(o,", profile specific)")),v=[],l.forEach((function(e,t){v.push({key:t,value:e})})),console.table(v),console.groupEnd(),console.log(f)),console.group("Storage: Workspace (path: ".concat(a,")")),y=[],d.forEach((function(e,t){y.push({key:t,value:e})})),console.table(y),console.groupEnd(),console.log(h);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e[e.NONE=0]="NONE",e[e.SHUTDOWN=1]="SHUTDOWN"}(te||(te={})),function(e){e[e.APPLICATION=-1]="APPLICATION",e[e.PROFILE=0]="PROFILE",e[e.WORKSPACE=1]="WORKSPACE"}(ne||(ne={})),function(e){e[e.USER=0]="USER",e[e.MACHINE=1]="MACHINE"}(re||(re={})),(function(e){A(a,e);var t,n,r,i=N(a);function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{flushInterval:a.DEFAULT_FLUSH_INTERVAL};return j(this,a),(e=i.call(this)).options=t,e._onDidChangeValue=e._register(new m.K3),e.onDidChangeValue=e._onDidChangeValue.event,e._onDidChangeTarget=e._register(new m.K3),e.onDidChangeTarget=e._onDidChangeTarget.event,e._onWillSaveState=e._register(new o.E),e.onWillSaveState=e._onWillSaveState.event,e.flushWhenIdleScheduler=e._register(new h.pY((function(){return e.doFlushWhenIdle()}),e.options.flushInterval)),e.runFlushWhenIdle=e._register(new c.XK),e._workspaceKeyTargets=void 0,e._profileKeyTargets=void 0,e._applicationKeyTargets=void 0,e}return I(a,[{key:"doFlushWhenIdle",value:function(){var e=this;this.runFlushWhenIdle.value=(0,h.To)((function(){e.shouldFlushWhenIdle()&&e.flush(),e.flushWhenIdleScheduler.schedule()}))}},{key:"shouldFlushWhenIdle",value:function(){return!0}},{key:"stopFlushWhenIdle",value:function(){(0,c.B9)([this.runFlushWhenIdle,this.flushWhenIdleScheduler])}},{key:"initialize",value:function(){var e=this;return this.initializationPromise||(this.initializationPromise=k(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.doInitialize();case 3:return t.prev=3,t.finish(3);case 5:e.flushWhenIdleScheduler.schedule();case 6:case"end":return t.stop()}}),t,null,[[0,,3,5]])})))()),this.initializationPromise}},{key:"emitDidChangeValue",value:function(e,t){if(t===ie){switch(e){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0}this._onDidChangeTarget.fire({scope:e})}else this._onDidChangeValue.fire({scope:e,key:t,target:this.getKeyTargets(e)[t]})}},{key:"emitWillSaveState",value:function(e){this._onWillSaveState.fire({reason:e})}},{key:"get",value:function(e,t,n){var r;return null===(r=this.getStorage(t))||void 0===r?void 0:r.get(e,n)}},{key:"getBoolean",value:function(e,t,n){var r;return null===(r=this.getStorage(t))||void 0===r?void 0:r.getBoolean(e,n)}},{key:"getNumber",value:function(e,t,n){var r;return null===(r=this.getStorage(t))||void 0===r?void 0:r.getNumber(e,n)}},{key:"store",value:function(e,t,n,r){var i=this;(0,g.Jp)(t)?this.remove(e,n):this.withPausedEmitters((function(){var o;i.updateKeyTarget(e,n,r),null===(o=i.getStorage(n))||void 0===o||o.set(e,t)}))}},{key:"remove",value:function(e,t){var n=this;this.withPausedEmitters((function(){var r;n.updateKeyTarget(e,t,void 0),null===(r=n.getStorage(t))||void 0===r||r.delete(e)}))}},{key:"withPausedEmitters",value:function(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}},{key:"keys",value:function(e,t){for(var n=[],r=this.getKeyTargets(e),i=0,o=Object.keys(r);i<o.length;i++){var a=o[i];r[a]===t&&n.push(a)}return n}},{key:"updateKeyTarget",value:function(e,t,n){var r,i,o=this.getKeyTargets(t);"number"==typeof n?o[e]!==n&&(o[e]=n,null===(r=this.getStorage(t))||void 0===r||r.set(ie,JSON.stringify(o))):"number"==typeof o[e]&&(delete o[e],null===(i=this.getStorage(t))||void 0===i||i.set(ie,JSON.stringify(o)))}},{key:"workspaceKeyTargets",get:function(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}},{key:"profileKeyTargets",get:function(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}},{key:"applicationKeyTargets",get:function(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}},{key:"getKeyTargets",value:function(e){switch(e){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}},{key:"loadKeyTargets",value:function(e){var t=this.get(ie,e);if(t)try{return JSON.parse(t)}catch(e){}return Object.create(null)}},{key:"isNew",value:function(e){return!0===this.getBoolean("__$__isNewStorageMarker",e)}},{key:"flush",value:(r=k(w().mark((function e(){var t,n,r,i,o,a,s,u,c,l,f=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=f.length>0&&void 0!==f[0]?f[0]:te.NONE,this._onWillSaveState.fire({reason:s}),u=this.getStorage(-1),c=this.getStorage(0),l=this.getStorage(1),e.t0=s,e.next=e.t0===te.NONE?8:e.t0===te.SHUTDOWN?11:14;break;case 8:return e.next=10,h.jT.settled([null!==(t=null==u?void 0:u.whenFlushed())&&void 0!==t?t:Promise.resolve(),null!==(n=null==c?void 0:c.whenFlushed())&&void 0!==n?n:Promise.resolve(),null!==(r=null==l?void 0:l.whenFlushed())&&void 0!==r?r:Promise.resolve()]);case 10:case 13:return e.abrupt("break",14);case 11:return e.next=13,h.jT.settled([null!==(i=null==u?void 0:u.flush(0))&&void 0!==i?i:Promise.resolve(),null!==(o=null==c?void 0:c.flush(0))&&void 0!==o?o:Promise.resolve(),null!==(a=null==l?void 0:l.flush(0))&&void 0!==a?a:Promise.resolve()]);case 14:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"log",value:(n=k(w().mark((function e(){var t,n,r,i,o,a,s,u,c,l,f,d;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=null!==(t=null===(n=this.getStorage(-1))||void 0===n?void 0:n.items)&&void 0!==t?t:new Map,f=null!==(r=null===(i=this.getStorage(0))||void 0===i?void 0:i.items)&&void 0!==r?r:new Map,d=null!==(o=null===(a=this.getStorage(1))||void 0===a?void 0:a.items)&&void 0!==o?o:new Map,e.abrupt("return",ae(l,f,d,null!==(s=this.getLogDetails(-1))&&void 0!==s?s:"",null!==(u=this.getLogDetails(0))&&void 0!==u?u:"",null!==(c=this.getLogDetails(1))&&void 0!==c?c:""));case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"switch",value:(t=k(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.emitWillSaveState(te.NONE),r=void 0,!((r=t)&&"object"===E(r)&&"string"==typeof r.id&&"boolean"==typeof r.isDefault&&"string"==typeof r.name&&u.o.isUri(r.location)&&u.o.isUri(r.globalStorageHome)&&u.o.isUri(r.settingsResource)&&u.o.isUri(r.keybindingsResource)&&u.o.isUri(r.tasksResource)&&u.o.isUri(r.snippetsHome)&&((0,g.o8)(r.extensionsResource)||u.o.isUri(r.extensionsResource)))){e.next=3;break}return e.abrupt("return",this.switchToProfile(t,n));case 3:return e.abrupt("return",this.switchToWorkspace(t,n));case 4:case"end":return e.stop()}var r}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"canSwitchProfile",value:function(e,t){return e.id!==t.id&&(!oe(t)||!oe(e))}},{key:"switchData",value:function(e,t,n,r){var i=this;this.withPausedEmitters((function(){if(r){var o,a=T(e);try{for(a.s();!(o=a.n()).done;){var s=D(o.value,2),u=s[0],c=s[1];t.set(u,c)}}catch(e){a.e(e)}finally{a.f()}}else{var l,f=new Set,d=T(e);try{for(d.s();!(l=d.n()).done;){var h=D(l.value,2),p=h[0],v=h[1];f.add(p),t.get(p)!==v&&i.emitDidChangeValue(n,p)}}catch(e){d.e(e)}finally{d.f()}var y,g=T(t.items);try{for(g.s();!(y=g.n()).done;){var m=D(y.value,1)[0];f.has(m)||i.emitDidChangeValue(n,m)}}catch(e){g.e(e)}finally{g.f()}}}))}}]),a}(c.JT)).DEFAULT_FLUSH_INTERVAL=6e4;var ue=(0,r.yh)("editorGroupsService");var ce=(0,r.yh)("editorService"),le=-1,fe=-2;var de,he,pe=(0,r.yh)("textFileService"),ve=i.Y,ye=(0,r.yh)("workingCopyFileService"),ge=(0,r.yh)("pathService"),me=(0,r.yh)("paneCompositePartService"),be=(0,r.yh)("productService"),we="vscode://schemas/vscode-product",_e=(0,r.yh)("ILanguageStatusService"),ke=(0,r.yh)("hostService"),Se=(0,r.yh)("snippetService");!function(e){e.get=function(){var e;return null!==(e=de)&&void 0!==e?e:{}},e.install=function(e){return null!=de&&console.warn("Services have been overridden"),de=e,{dispose:function(){de===e&&(de=void 0)}}}}(he||(he={}))},80413:(e,t,n)=>{n.d(t,{E:()=>C,N:()=>O,R:()=>$,W:()=>G,_:()=>I,a:()=>L,b:()=>A,c:()=>j,d:()=>D,e:()=>E,i:()=>z,m:()=>P,s:()=>T});var r=n(49680),i=n(82459),o=n(71386),a=n(81993),s=n(83916);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function m(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}function w(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S,x,C=r.Emitter;function E(e,t,n){var r,i=function(e,t,n){var r=[];function i(e,t,n){if(0!==t||0!==n.length){var i,o=r[r.length-1];o&&o.start+o.deleteCount===e?(o.deleteCount+=t,(i=o.toInsert).push.apply(i,w(n))):r.push({start:e,deleteCount:t,toInsert:n})}}for(var o=0,a=0;;){if(o===e.length){i(o,0,t.slice(a));break}if(a===t.length){i(o,e.length-o,[]);break}var s=e[o],u=t[a],c=n(s,u);0===c?(o+=1,a+=1):c<0?(i(o,1,[]),o+=1):c>0&&(i(o,0,[u]),a+=1)}return r}(e,t,n),o=[],a=[],s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(i);try{for(s.s();!(r=s.n()).done;){var u=r.value;o.push.apply(o,w(e.slice(u.start,u.start+u.deleteCount))),a.push.apply(a,w(u.toInsert))}}catch(e){s.e(e)}finally{s.f()}return{removed:o,added:a}}function D(e){for(var t=0,n=0;n<e.length;n++)e[n]&&(e[t]=e[n],t+=1);e.length=t}function T(e,t){var n;if("number"==typeof t){var r=t;n=function(){var e=179426549*Math.sin(r++);return e-Math.floor(e)}}else n=Math.random;for(var i=e.length-1;i>0;i-=1){var o=Math.floor(n()*(i+1)),a=e[i];e[i]=e[o],e[o]=a}}function P(e,t){return Array.isArray(e)?e.map(t):t(e)}!function(e){e[e.WORKSPACE=0]="WORKSPACE",e[e.PROFILE=1]="PROFILE",e[e.APPLICATION=2]="APPLICATION"}(S||(S={})),function(e){e[e.OFF=0]="OFF",e[e.SILENT=1]="SILENT",e[e.ERROR=2]="ERROR"}(x||(x={}));var O=function(){function e(){y(this,e),this.progress=new R,this.onDidClose=i.ju.None,this.onDidChangeVisibility=i.ju.None}return m(e,[{key:"updateSeverity",value:function(e){}},{key:"updateMessage",value:function(e){}},{key:"updateActions",value:function(e){}},{key:"close",value:function(){}}]),e}(),R=function(){function e(){y(this,e)}return m(e,[{key:"infinite",value:function(){}},{key:"done",value:function(){}},{key:"total",value:function(e){}},{key:"worked",value:function(e){}}]),e}();function I(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":v(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function L(e,t){return function(n,r){t(n,r,e)}}function j(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function A(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}var N,F=new Map;F.set("false",!1),F.set("true",!0),F.set("isMac",o.dz),F.set("isLinux",o.IJ),F.set("isWindows",o.ED),F.set("isWeb",o.$L),F.set("isMacNative",o.dz&&!o.$L),F.set("isEdge",o.un),F.set("isFirefox",o.vU),F.set("isChrome",o.i7),F.set("isSafari",o.G6),function(e){e[e.False=0]="False",e[e.True=1]="True",e[e.Defined=2]="Defined",e[e.Not=3]="Not",e[e.Equals=4]="Equals",e[e.NotEquals=5]="NotEquals",e[e.And=6]="And",e[e.Regex=7]="Regex",e[e.NotRegex=8]="NotRegex",e[e.Or=9]="Or",e[e.In=10]="In",e[e.NotIn=11]="NotIn",e[e.Greater=12]="Greater",e[e.GreaterEquals=13]="GreaterEquals",e[e.Smaller=14]="Smaller",e[e.SmallerEquals=15]="SmallerEquals"}(N||(N={}));var M=function(){function e(){y(this,e),this.type=0}return m(e,[{key:"cmp",value:function(e){return this.type-e.type}},{key:"equals",value:function(e){return e.type===this.type}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(e){return!1}},{key:"serialize",value:function(){return"false"}},{key:"keys",value:function(){return[]}},{key:"map",value:function(e){return this}},{key:"negate",value:function(){return q.INSTANCE}}]),e}();M.INSTANCE=new M;var q=function(){function e(){y(this,e),this.type=1}return m(e,[{key:"cmp",value:function(e){return this.type-e.type}},{key:"equals",value:function(e){return e.type===this.type}},{key:"substituteConstants",value:function(){return this}},{key:"evaluate",value:function(e){return!0}},{key:"serialize",value:function(){return"true"}},{key:"keys",value:function(){return[]}},{key:"map",value:function(e){return this}},{key:"negate",value:function(){return M.INSTANCE}}]),e}();q.INSTANCE=new q;var H=function(){function e(t,n){y(this,e),this.key=t,this.negated=n,this.type=2}return m(e,[{key:"cmp",value:function(e){return e.type!==this.type?this.type-e.type:B(this.key,e.key)}},{key:"equals",value:function(e){return e.type===this.type&&this.key===e.key}},{key:"substituteConstants",value:function(){var e=F.get(this.key);return"boolean"==typeof e?e?q.INSTANCE:M.INSTANCE:this}},{key:"evaluate",value:function(e){return!!e.getValue(this.key)}},{key:"serialize",value:function(){return this.key}},{key:"keys",value:function(){return[this.key]}},{key:"map",value:function(e){return e.mapDefined(this.key)}},{key:"negate",value:function(){return this.negated||(this.negated=K.create(this.key,this)),this.negated}}],[{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=F.get(t);return"boolean"==typeof r?r?q.INSTANCE:M.INSTANCE:new e(t,n)}}]),e}(),W=function(){function e(t,n,r){y(this,e),this.key=t,this.value=n,this.negated=r,this.type=4}return m(e,[{key:"cmp",value:function(e){return e.type!==this.type?this.type-e.type:V(this.key,this.value,e.key,e.value)}},{key:"equals",value:function(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}},{key:"substituteConstants",value:function(){var e=F.get(this.key);if("boolean"==typeof e){var t=e?"true":"false";return this.value===t?q.INSTANCE:M.INSTANCE}return this}},{key:"evaluate",value:function(e){return e.getValue(this.key)==this.value}},{key:"serialize",value:function(){return"".concat(this.key," == '").concat(this.value,"'")}},{key:"keys",value:function(){return[this.key]}},{key:"map",value:function(e){return e.mapEquals(this.key,this.value)}},{key:"negate",value:function(){return this.negated||(this.negated=U.create(this.key,this.value,this)),this.negated}}],[{key:"create",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("boolean"==typeof n)return n?H.create(t,r):K.create(t,r);var i=F.get(t);if("boolean"==typeof i){var o=i?"true":"false";return n===o?q.INSTANCE:M.INSTANCE}return new e(t,n,r)}}]),e}(),U=function(){function e(t,n,r){y(this,e),this.key=t,this.value=n,this.negated=r,this.type=5}return m(e,[{key:"cmp",value:function(e){return e.type!==this.type?this.type-e.type:V(this.key,this.value,e.key,e.value)}},{key:"equals",value:function(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}},{key:"substituteConstants",value:function(){var e=F.get(this.key);if("boolean"==typeof e){var t=e?"true":"false";return this.value===t?M.INSTANCE:q.INSTANCE}return this}},{key:"evaluate",value:function(e){return e.getValue(this.key)!=this.value}},{key:"serialize",value:function(){return"".concat(this.key," != '").concat(this.value,"'")}},{key:"keys",value:function(){return[this.key]}},{key:"map",value:function(e){return e.mapNotEquals(this.key,this.value)}},{key:"negate",value:function(){return this.negated||(this.negated=W.create(this.key,this.value,this)),this.negated}}],[{key:"create",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("boolean"==typeof n)return n?K.create(t,r):H.create(t,r);var i=F.get(t);if("boolean"==typeof i){var o=i?"true":"false";return n===o?M.INSTANCE:q.INSTANCE}return new e(t,n,r)}}]),e}(),K=function(){function e(t,n){y(this,e),this.key=t,this.negated=n,this.type=3}return m(e,[{key:"cmp",value:function(e){return e.type!==this.type?this.type-e.type:B(this.key,e.key)}},{key:"equals",value:function(e){return e.type===this.type&&this.key===e.key}},{key:"substituteConstants",value:function(){var e=F.get(this.key);return"boolean"==typeof e?e?M.INSTANCE:q.INSTANCE:this}},{key:"evaluate",value:function(e){return!e.getValue(this.key)}},{key:"serialize",value:function(){return"!".concat(this.key)}},{key:"keys",value:function(){return[this.key]}},{key:"map",value:function(e){return e.mapNot(this.key)}},{key:"negate",value:function(){return this.negated||(this.negated=H.create(this.key,this)),this.negated}}],[{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=F.get(t);return"boolean"==typeof r?r?M.INSTANCE:q.INSTANCE:new e(t,n)}}]),e}(),$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(n,e);var t=d(n);function n(e,r,i){var o;return y(this,n),(o=t.call(this,e,null))._defaultValue=r,"object"===v(i)?n._info.push(c(c({},i),{},{key:e})):!0!==i&&n._info.push({key:e,description:i,type:null!=r?v(r):void 0}),o}return m(n,[{key:"bindTo",value:function(e){return e.createKey(this.key,this._defaultValue)}},{key:"getValue",value:function(e){return e.getContextKeyValue(this.key)}},{key:"toNegated",value:function(){return this.negate()}},{key:"isEqualTo",value:function(e){return W.create(this.key,e)}},{key:"notEqualsTo",value:function(e){return U.create(this.key,e)}}],[{key:"all",value:function(){return n._info.values()}}]),n}(H);function B(e,t){return e<t?-1:e>t?1:0}function V(e,t,n,r){return e<n?-1:e>n?1:t<r?-1:t>r?1:0}function z(e){var t=e;return"string"==typeof(null==t?void 0:t.id)&&s.o.isUri(t.configPath)}$._info=[];var G=function(){function e(t,n){y(this,e),this.raw=n,this.uri=t.uri,this.index=t.index,this.name=t.name}return m(e,[{key:"toResource",value:function(e){return(0,a.Vo)(this.uri,e)}},{key:"toJSON",value:function(){return{uri:this.uri,name:this.name,index:this.index}}}]),e}()}}]);